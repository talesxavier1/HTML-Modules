import { TDxInstanceType } from "Types/DxInstanceType";
import { TComponentName } from "Types/TComponentName";

interface IdxComponentValue {
    componentName: TComponentName,
    defaultValue: any,
    valueField: string | undefined | ((instance: any) => string)
}

const ListdxComponentValue: Array<IdxComponentValue> = [
    { componentName: "dxTextBox", defaultValue: "", valueField: "value" },
    { componentName: "dxSelectBox", defaultValue: null, valueField: "value" },
    { componentName: "dxCheckBox", defaultValue: false, valueField: "value" },
    { componentName: "dxNumberBox", defaultValue: 0, valueField: "value" },
    { componentName: "dxButton", defaultValue: undefined, valueField: undefined },
    { componentName: "dxContextMenu", defaultValue: undefined, valueField: undefined },
    { componentName: "dxDiagram", defaultValue: undefined, valueField: undefined },
    { componentName: "dxSplitter", defaultValue: undefined, valueField: undefined },
    { componentName: "dxList", defaultValue: [], valueField: "items" },
    { componentName: "dxTreeView", defaultValue: [], valueField: "items" },
    { componentName: "dxTabs", defaultValue: 0, valueField: "selectedItem" },
    { componentName: "dxTabPanel", defaultValue: 0, valueField: "selectedItem" },
    { componentName: "dxPopup", defaultValue: false, valueField: "visible" },
    { componentName: "dxLoadIndicator", defaultValue: true, valueField: "visible" },
    { componentName: "dxFileManager", defaultValue: undefined, valueField: (instance: DevExpress.ui.dxFileManager) => { return instance.getCurrentDirectory() } },
];

const TESTE_AAA = [{ "name": "docker-entrypoint.sh", "isDirectory": false, "__KEY__": "0bba0e3c-1365-6149-0426-df845aa85841", "size": 388, "dateModified": "2024-06-27T01:55:06.254Z", "content": "IyEvYmluL3NoCnNldCAtZQoKIyBSdW4gY29tbWFuZCB3aXRoIG5vZGUgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGNvbnRhaW5zIGEgIi0iIG9yIGlzIG5vdCBhIHN5c3RlbSBjb21tYW5kLiBUaGUgbGFzdAojIHBhcnQgaW5zaWRlIHRoZSAie30iIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIGZvbGxvd2luZyBidWcgaW4gYXNoL2Rhc2g6CiMgaHR0cHM6Ly9idWdzLmRlYmlhbi5vcmcvY2dpLWJpbi9idWdyZXBvcnQuY2dpP2J1Zz04NzQyNjQKaWYgWyAiJHsxIy19IiAhPSAiJHsxfSIgXSB8fCBbIC16ICIkKGNvbW1hbmQgLXYgIiR7MX0iKSIgXSB8fCB7IFsgLWYgIiR7MX0iIF0gJiYgISBbIC14ICIkezF9IiBdOyB9OyB0aGVuCiAgc2V0IC0tIG5vZGUgIiRAIgpmaQoKZXhlYyAiJEAiCg==" }, { "name": "Dockerfile", "isDirectory": false, "__KEY__": "db83a584-eb2b-2dcc-84e3-f36e9c3a8ea5", "size": 4845, "dateModified": "2024-06-27T02:11:55.924Z", "content": "RlJPTSBhbHBpbmU6My4xOQoKRU5WIE5PREVfVkVSU0lPTiAyMi4zLjAKCiNXT1JLRElSIC9GaW1BcHAKClJVTiBhZGRncm91cCAtZyAxMDAwIG5vZGUgXAogICAgJiYgYWRkdXNlciAtdSAxMDAwIC1HIG5vZGUgLXMgL2Jpbi9zaCAtRCBub2RlIFwKICAgICYmIGFwayBhZGQgLS1uby1jYWNoZSBcCiAgICBsaWJzdGRjKysgXAogICAgJiYgYXBrIGFkZCAtLW5vLWNhY2hlIC0tdmlydHVhbCAuYnVpbGQtZGVwcyBcCiAgICBjdXJsIFwKICAgICYmIEFSQ0g9IE9QRU5TU0xfQVJDSD0nbGludXgqJyAmJiBhbHBpbmVBcmNoPSIkKGFwayAtLXByaW50LWFyY2gpIiBcCiAgICAmJiBjYXNlICIke2FscGluZUFyY2gjIyotfSIgaW4gXAogICAgeDg2XzY0KSBBUkNIPSd4NjQnIENIRUNLU1VNPSJkZGIxNTQ4Y2U3NGM4ZmQ1NGM0N2ViZGEwZmE2NjkwMzIwODU0N2ZhZjRjZmJmODc0YjA4NmQ2ZGMzZDIyNDRkIiBPUEVOU1NMX0FSQ0g9bGludXgteDg2XzY0OzsgXAogICAgeDg2KSBPUEVOU1NMX0FSQ0g9bGludXgtZWxmOzsgXAogICAgYWFyY2g2NCkgT1BFTlNTTF9BUkNIPWxpbnV4LWFhcmNoNjQ7OyBcCiAgICBhcm0qKSBPUEVOU1NMX0FSQ0g9bGludXgtYXJtdjQ7OyBcCiAgICBwcGM2NGxlKSBPUEVOU1NMX0FSQ0g9bGludXgtcHBjNjRsZTs7IFwKICAgIHMzOTB4KSBPUEVOU1NMX0FSQ0g9bGludXgtczM5MHg7OyBcCiAgICAqKSA7OyBcCiAgICBlc2FjIFwKICAgICYmIGlmIFsgLW4gIiR7Q0hFQ0tTVU19IiBdOyB0aGVuIFwKICAgIHNldCAtZXU7IFwKICAgIGN1cmwgLWZzU0xPIC0tY29tcHJlc3NlZCAiaHR0cHM6Ly91bm9mZmljaWFsLWJ1aWxkcy5ub2RlanMub3JnL2Rvd25sb2FkL3JlbGVhc2UvdiROT0RFX1ZFUlNJT04vbm9kZS12JE5PREVfVkVSU0lPTi1saW51eC0kQVJDSC1tdXNsLnRhci54eiI7IFwKICAgIGVjaG8gIiRDSEVDS1NVTSAgbm9kZS12JE5PREVfVkVSU0lPTi1saW51eC0kQVJDSC1tdXNsLnRhci54eiIgfCBzaGEyNTZzdW0gLWMgLSBcCiAgICAmJiB0YXIgLXhKZiAibm9kZS12JE5PREVfVkVSU0lPTi1saW51eC0kQVJDSC1tdXNsLnRhci54eiIgLUMgL3Vzci9sb2NhbCAtLXN0cmlwLWNvbXBvbmVudHM9MSAtLW5vLXNhbWUtb3duZXIgXAogICAgJiYgbG4gLXMgL3Vzci9sb2NhbC9iaW4vbm9kZSAvdXNyL2xvY2FsL2Jpbi9ub2RlanM7IFwKICAgIGVsc2UgXAogICAgZWNobyAiQnVpbGRpbmcgZnJvbSBzb3VyY2UiIFwKICAgICMgYmFja3VwIGJ1aWxkCiAgICAmJiBhcGsgYWRkIC0tbm8tY2FjaGUgLS12aXJ0dWFsIC5idWlsZC1kZXBzLWZ1bGwgXAogICAgYmludXRpbHMtZ29sZCBcCiAgICBnKysgXAogICAgZ2NjIFwKICAgIGdudXBnIFwKICAgIGxpYmdjYyBcCiAgICBsaW51eC1oZWFkZXJzIFwKICAgIG1ha2UgXAogICAgcHl0aG9uMyBcCiAgICBweS1zZXR1cHRvb2xzIFwKICAgICMgdXNlIHByZS1leGlzdGluZyBncGcgZGlyZWN0b3J5LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9kb2NrZXItbm9kZS9wdWxsLzE4OTUjaXNzdWVjb21tZW50LTE1NTAzODkxNTAKICAgICYmIGV4cG9ydCBHTlVQR0hPTUU9IiQobWt0ZW1wIC1kKSIgXAogICAgIyBncGcga2V5cyBsaXN0ZWQgYXQgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlI3JlbGVhc2Uta2V5cwogICAgJiYgZm9yIGtleSBpbiBcCiAgICA0RUQ3NzhGNTM5RTM2MzRDNzc5Qzg3QzZENzA2Mjg0OEExQUIwMDVDIFwKICAgIDE0MUYwNzU5NUI3QjNGRkU3NDMwOUE5Mzc0MDU1MzNCRTU3QzdENTcgXAogICAgNzRGMTI2MDJCNkYxQzRFOTEzRkFBMzdBRDNBODk2MTM2NDNCNjIwMSBcCiAgICBERDc5MkY1OTczQzZERTUyQzQzMkNCREFDNzdBQkZBMDBEREJGMkI3IFwKICAgIDYxRkM2ODFERkI5MkEwNzlGMTY4NUU3Nzk3M0YyOTU1OTRFQzQ2ODkgXAogICAgOEZDQ0ExM0ZFRjFEMEMyRTkxMDA4RTA5NzcwRjdBOUE1QUUxNTYwMCBcCiAgICBDNEYwREZGRjRFOEMxQTgyMzY0MDlEMDhFNzNCQzY0MUNDMTFGNEM4IFwKICAgIDg5MEMwOERCODU3OTE2MkZFRTBERjlEQjhCRUFCNERGQ0Y1NTVFRjQgXAogICAgQzgyRkEzQUUxQ0JFREM2QkU0NkI5MzYwQzQzQ0VDNDVDMTdBQjkzQyBcCiAgICAxMDhGNTJCNDhEQjU3QkIwQ0M0MzlCMjk5N0IwMTQxOUJEOTJGODBBIFwKICAgIEEzNjNBNDk5MjkxQ0JCQzk0MERENjJFNDFGMTAwMjdBRjAwMkY4QjAgXAogICAgQ0M2OEY1QTMxMDZGRjQ0ODMyMkU0OEVEMjdGNUUzOEQ1QjBBMjE1RiBcCiAgICA7IGRvIFwKICAgIGdwZyAtLWJhdGNoIC0ta2V5c2VydmVyIGhrcHM6Ly9rZXlzLm9wZW5wZ3Aub3JnIC0tcmVjdi1rZXlzICIka2V5IiB8fCBcCiAgICBncGcgLS1iYXRjaCAtLWtleXNlcnZlciBrZXlzZXJ2ZXIudWJ1bnR1LmNvbSAtLXJlY3Yta2V5cyAiJGtleSIgOyBcCiAgICBkb25lIFwKICAgICYmIGN1cmwgLWZzU0xPIC0tY29tcHJlc3NlZCAiaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvdiROT0RFX1ZFUlNJT04vbm9kZS12JE5PREVfVkVSU0lPTi50YXIueHoiIFwKICAgICYmIGN1cmwgLWZzU0xPIC0tY29tcHJlc3NlZCAiaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvdiROT0RFX1ZFUlNJT04vU0hBU1VNUzI1Ni50eHQuYXNjIiBcCiAgICAmJiBncGcgLS1iYXRjaCAtLWRlY3J5cHQgLS1vdXRwdXQgU0hBU1VNUzI1Ni50eHQgU0hBU1VNUzI1Ni50eHQuYXNjIFwKICAgICYmIGdwZ2NvbmYgLS1raWxsIGFsbCBcCiAgICAmJiBybSAtcmYgIiRHTlVQR0hPTUUiIFwKICAgICYmIGdyZXAgIiBub2RlLXYkTk9ERV9WRVJTSU9OLnRhci54elwkIiBTSEFTVU1TMjU2LnR4dCB8IHNoYTI1NnN1bSAtYyAtIFwKICAgICYmIHRhciAteGYgIm5vZGUtdiROT0RFX1ZFUlNJT04udGFyLnh6IiBcCiAgICAmJiBjZCAibm9kZS12JE5PREVfVkVSU0lPTiIgXAogICAgJiYgLi9jb25maWd1cmUgXAogICAgJiYgbWFrZSAtaiQoZ2V0Y29uZiBfTlBST0NFU1NPUlNfT05MTikgVj0gXAogICAgJiYgbWFrZSBpbnN0YWxsIFwKICAgICYmIGFwayBkZWwgLmJ1aWxkLWRlcHMtZnVsbCBcCiAgICAmJiBjZCAuLiBcCiAgICAmJiBybSAtUmYgIm5vZGUtdiROT0RFX1ZFUlNJT04iIFwKICAgICYmIHJtICJub2RlLXYkTk9ERV9WRVJTSU9OLnRhci54eiIgU0hBU1VNUzI1Ni50eHQuYXNjIFNIQVNVTVMyNTYudHh0OyBcCiAgICBmaSBcCiAgICAmJiBybSAtZiAibm9kZS12JE5PREVfVkVSU0lPTi1saW51eC0kQVJDSC1tdXNsLnRhci54eiIgXAogICAgIyBSZW1vdmUgdW51c2VkIE9wZW5TU0wgaGVhZGVycyB0byBzYXZlIH4zNE1CLiBTZWUgdGhpcyBOb2RlSlMgaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvNDY0NTEKICAgICYmIGZpbmQgL3Vzci9sb2NhbC9pbmNsdWRlL25vZGUvb3BlbnNzbC9hcmNocyAtbWluZGVwdGggMSAtbWF4ZGVwdGggMSAhIC1uYW1lICIkT1BFTlNTTF9BUkNIIiAtZXhlYyBybSAtcmYge30gXDsgXAogICAgJiYgYXBrIGRlbCAuYnVpbGQtZGVwcyBcCiAgICAjIHNtb2tlIHRlc3RzCiAgICAmJiBub2RlIC0tdmVyc2lvbiBcCiAgICAmJiBucG0gLS12ZXJzaW9uCgpFTlYgWUFSTl9WRVJTSU9OIDEuMjIuMjIKClJVTiBhcGsgYWRkIC0tbm8tY2FjaGUgLS12aXJ0dWFsIC5idWlsZC1kZXBzLXlhcm4gY3VybCBnbnVwZyB0YXIgXAogICAgIyB1c2UgcHJlLWV4aXN0aW5nIGdwZyBkaXJlY3RvcnksIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL2RvY2tlci1ub2RlL3B1bGwvMTg5NSNpc3N1ZWNvbW1lbnQtMTU1MDM4OTE1MAogICAgJiYgZXhwb3J0IEdOVVBHSE9NRT0iJChta3RlbXAgLWQpIiBcCiAgICAmJiBmb3Iga2V5IGluIFwKICAgIDZBMDEwQzUxNjYwMDY1OTlBQTE3RjA4MTQ2QzIxMzBERkQyNDk3RjUgXAogICAgOyBkbyBcCiAgICBncGcgLS1iYXRjaCAtLWtleXNlcnZlciBoa3BzOi8va2V5cy5vcGVucGdwLm9yZyAtLXJlY3Yta2V5cyAiJGtleSIgfHwgXAogICAgZ3BnIC0tYmF0Y2ggLS1rZXlzZXJ2ZXIga2V5c2VydmVyLnVidW50dS5jb20gLS1yZWN2LWtleXMgIiRrZXkiIDsgXAogICAgZG9uZSBcCiAgICAmJiBjdXJsIC1mc1NMTyAtLWNvbXByZXNzZWQgImh0dHBzOi8veWFybnBrZy5jb20vZG93bmxvYWRzLyRZQVJOX1ZFUlNJT04veWFybi12JFlBUk5fVkVSU0lPTi50YXIuZ3oiIFwKICAgICYmIGN1cmwgLWZzU0xPIC0tY29tcHJlc3NlZCAiaHR0cHM6Ly95YXJucGtnLmNvbS9kb3dubG9hZHMvJFlBUk5fVkVSU0lPTi95YXJuLXYkWUFSTl9WRVJTSU9OLnRhci5nei5hc2MiIFwKICAgICYmIGdwZyAtLWJhdGNoIC0tdmVyaWZ5IHlhcm4tdiRZQVJOX1ZFUlNJT04udGFyLmd6LmFzYyB5YXJuLXYkWUFSTl9WRVJTSU9OLnRhci5neiBcCiAgICAmJiBncGdjb25mIC0ta2lsbCBhbGwgXAogICAgJiYgcm0gLXJmICIkR05VUEdIT01FIiBcCiAgICAmJiBta2RpciAtcCAvb3B0IFwKICAgICYmIHRhciAteHpmIHlhcm4tdiRZQVJOX1ZFUlNJT04udGFyLmd6IC1DIC9vcHQvIFwKICAgICYmIGxuIC1zIC9vcHQveWFybi12JFlBUk5fVkVSU0lPTi9iaW4veWFybiAvdXNyL2xvY2FsL2Jpbi95YXJuIFwKICAgICYmIGxuIC1zIC9vcHQveWFybi12JFlBUk5fVkVSU0lPTi9iaW4veWFybnBrZyAvdXNyL2xvY2FsL2Jpbi95YXJucGtnIFwKICAgICYmIHJtIHlhcm4tdiRZQVJOX1ZFUlNJT04udGFyLmd6LmFzYyB5YXJuLXYkWUFSTl9WRVJTSU9OLnRhci5neiBcCiAgICAmJiBhcGsgZGVsIC5idWlsZC1kZXBzLXlhcm4gXAogICAgIyBzbW9rZSB0ZXN0CiAgICAmJiB5YXJuIC0tdmVyc2lvbiBcCiAgICAmJiBybSAtcmYgL3RtcC8qCgoKQ09QWSAuIC4KRU5UUllQT0lOVCBbIi4vZG9ja2VyLWVudHJ5cG9pbnQuc2giXQoKQ01EIFsibm9kZSIsICJpbmRleC5qcyJd" }, { "name": "index.js", "isDirectory": false, "__KEY__": "cdd30066-522a-7a96-5ab0-ce2746f1b388", "size": 235649, "dateModified": "2024-06-27T01:45:44.072Z", "content": "KCgpPT57dmFyIGU9ezM0NjooZSxhLGkpPT57ZS5leHBvcnRzPXtwYXJhbGxlbDppKDY3KSxzZXJpYWw6aSg0NjYpLHNlcmlhbE9yZGVyZWQ6aSgzNTUpfX0sNDY5OmU9PntlLmV4cG9ydHM9YWJvcnQ7ZnVuY3Rpb24gYWJvcnQoZSl7T2JqZWN0LmtleXMoZS5qb2JzKS5mb3JFYWNoKGNsZWFuLmJpbmQoZSkpO2Uuam9icz17fX1mdW5jdGlvbiBjbGVhbihlKXtpZih0eXBlb2YgdGhpcy5qb2JzW2VdPT0iZnVuY3Rpb24iKXt0aGlzLmpvYnNbZV0oKX19fSw0OTooZSxhLGkpPT57dmFyIG49aSgxKTtlLmV4cG9ydHM9YXN5bmM7ZnVuY3Rpb24gYXN5bmMoZSl7dmFyIGE9ZmFsc2U7bigoZnVuY3Rpb24oKXthPXRydWV9KSk7cmV0dXJuIGZ1bmN0aW9uIGFzeW5jX2NhbGxiYWNrKGksbyl7aWYoYSl7ZShpLG8pfWVsc2V7bigoZnVuY3Rpb24gbmV4dFRpY2tfY2FsbGJhY2soKXtlKGksbyl9KSl9fX19LDE6ZT0+e2UuZXhwb3J0cz1kZWZlcjtmdW5jdGlvbiBkZWZlcihlKXt2YXIgYT10eXBlb2Ygc2V0SW1tZWRpYXRlPT0iZnVuY3Rpb24iP3NldEltbWVkaWF0ZTp0eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLm5leHRUaWNrPT0iZnVuY3Rpb24iP3Byb2Nlc3MubmV4dFRpY2s6bnVsbDtpZihhKXthKGUpfWVsc2V7c2V0VGltZW91dChlLDApfX19LDcxODooZSxhLGkpPT57dmFyIG49aSg0OSksbz1pKDQ2OSk7ZS5leHBvcnRzPWl0ZXJhdGU7ZnVuY3Rpb24gaXRlcmF0ZShlLGEsaSxuKXt2YXIgcz1pWyJrZXllZExpc3QiXT9pWyJrZXllZExpc3QiXVtpLmluZGV4XTppLmluZGV4O2kuam9ic1tzXT1ydW5Kb2IoYSxzLGVbc10sKGZ1bmN0aW9uKGUsYSl7aWYoIShzIGluIGkuam9icykpe3JldHVybn1kZWxldGUgaS5qb2JzW3NdO2lmKGUpe28oaSl9ZWxzZXtpLnJlc3VsdHNbc109YX1uKGUsaS5yZXN1bHRzKX0pKX1mdW5jdGlvbiBydW5Kb2IoZSxhLGksbyl7dmFyIHM7aWYoZS5sZW5ndGg9PTIpe3M9ZShpLG4obykpfWVsc2V7cz1lKGksYSxuKG8pKX1yZXR1cm4gc319LDg1MDplPT57ZS5leHBvcnRzPXN0YXRlO2Z1bmN0aW9uIHN0YXRlKGUsYSl7dmFyIGk9IUFycmF5LmlzQXJyYXkoZSksbj17aW5kZXg6MCxrZXllZExpc3Q6aXx8YT9PYmplY3Qua2V5cyhlKTpudWxsLGpvYnM6e30scmVzdWx0czppP3t9OltdLHNpemU6aT9PYmplY3Qua2V5cyhlKS5sZW5ndGg6ZS5sZW5ndGh9O2lmKGEpe24ua2V5ZWRMaXN0LnNvcnQoaT9hOmZ1bmN0aW9uKGksbil7cmV0dXJuIGEoZVtpXSxlW25dKX0pfXJldHVybiBufX0sNzkxOihlLGEsaSk9Pnt2YXIgbj1pKDQ2OSksbz1pKDQ5KTtlLmV4cG9ydHM9dGVybWluYXRvcjtmdW5jdGlvbiB0ZXJtaW5hdG9yKGUpe2lmKCFPYmplY3Qua2V5cyh0aGlzLmpvYnMpLmxlbmd0aCl7cmV0dXJufXRoaXMuaW5kZXg9dGhpcy5zaXplO24odGhpcyk7byhlKShudWxsLHRoaXMucmVzdWx0cyl9fSw2NzooZSxhLGkpPT57dmFyIG49aSg3MTgpLG89aSg4NTApLHM9aSg3OTEpO2UuZXhwb3J0cz1wYXJhbGxlbDtmdW5jdGlvbiBwYXJhbGxlbChlLGEsaSl7dmFyIHQ9byhlKTt3aGlsZSh0LmluZGV4PCh0WyJrZXllZExpc3QiXXx8ZSkubGVuZ3RoKXtuKGUsYSx0LChmdW5jdGlvbihlLGEpe2lmKGUpe2koZSxhKTtyZXR1cm59aWYoT2JqZWN0LmtleXModC5qb2JzKS5sZW5ndGg9PT0wKXtpKG51bGwsdC5yZXN1bHRzKTtyZXR1cm59fSkpO3QuaW5kZXgrK31yZXR1cm4gcy5iaW5kKHQsaSl9fSw0NjY6KGUsYSxpKT0+e3ZhciBuPWkoMzU1KTtlLmV4cG9ydHM9c2VyaWFsO2Z1bmN0aW9uIHNlcmlhbChlLGEsaSl7cmV0dXJuIG4oZSxhLG51bGwsaSl9fSwzNTU6KGUsYSxpKT0+e3ZhciBuPWkoNzE4KSxvPWkoODUwKSxzPWkoNzkxKTtlLmV4cG9ydHM9c2VyaWFsT3JkZXJlZDtlLmV4cG9ydHMuYXNjZW5kaW5nPWFzY2VuZGluZztlLmV4cG9ydHMuZGVzY2VuZGluZz1kZXNjZW5kaW5nO2Z1bmN0aW9uIHNlcmlhbE9yZGVyZWQoZSxhLGksdCl7dmFyIHI9byhlLGkpO24oZSxhLHIsKGZ1bmN0aW9uIGl0ZXJhdG9ySGFuZGxlcihpLG8pe2lmKGkpe3QoaSxvKTtyZXR1cm59ci5pbmRleCsrO2lmKHIuaW5kZXg8KHJbImtleWVkTGlzdCJdfHxlKS5sZW5ndGgpe24oZSxhLHIsaXRlcmF0b3JIYW5kbGVyKTtyZXR1cm59dChudWxsLHIucmVzdWx0cyl9KSk7cmV0dXJuIHMuYmluZChyLHQpfWZ1bmN0aW9uIGFzY2VuZGluZyhlLGEpe3JldHVybiBlPGE/LTE6ZT5hPzE6MH1mdW5jdGlvbiBkZXNjZW5kaW5nKGUsYSl7cmV0dXJuLTEqYXNjZW5kaW5nKGUsYSl9fSw5OTE6KGUsYSxpKT0+e3ZhciBuPWkoODM3KTt2YXIgbz1pKDc4MSkuU3RyZWFtO3ZhciBzPWkoMjE2KTtlLmV4cG9ydHM9Q29tYmluZWRTdHJlYW07ZnVuY3Rpb24gQ29tYmluZWRTdHJlYW0oKXt0aGlzLndyaXRhYmxlPWZhbHNlO3RoaXMucmVhZGFibGU9dHJ1ZTt0aGlzLmRhdGFTaXplPTA7dGhpcy5tYXhEYXRhU2l6ZT0yKjEwMjQqMTAyNDt0aGlzLnBhdXNlU3RyZWFtcz10cnVlO3RoaXMuX3JlbGVhc2VkPWZhbHNlO3RoaXMuX3N0cmVhbXM9W107dGhpcy5fY3VycmVudFN0cmVhbT1udWxsO3RoaXMuX2luc2lkZUxvb3A9ZmFsc2U7dGhpcy5fcGVuZGluZ05leHQ9ZmFsc2V9bi5pbmhlcml0cyhDb21iaW5lZFN0cmVhbSxvKTtDb21iaW5lZFN0cmVhbS5jcmVhdGU9ZnVuY3Rpb24oZSl7dmFyIGE9bmV3IHRoaXM7ZT1lfHx7fTtmb3IodmFyIGkgaW4gZSl7YVtpXT1lW2ldfXJldHVybiBhfTtDb21iaW5lZFN0cmVhbS5pc1N0cmVhbUxpa2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlIT09ImZ1bmN0aW9uIiYmdHlwZW9mIGUhPT0ic3RyaW5nIiYmdHlwZW9mIGUhPT0iYm9vbGVhbiImJnR5cGVvZiBlIT09Im51bWJlciImJiFCdWZmZXIuaXNCdWZmZXIoZSl9O0NvbWJpbmVkU3RyZWFtLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7dmFyIGE9Q29tYmluZWRTdHJlYW0uaXNTdHJlYW1MaWtlKGUpO2lmKGEpe2lmKCEoZSBpbnN0YW5jZW9mIHMpKXt2YXIgaT1zLmNyZWF0ZShlLHttYXhEYXRhU2l6ZTpJbmZpbml0eSxwYXVzZVN0cmVhbTp0aGlzLnBhdXNlU3RyZWFtc30pO2Uub24oImRhdGEiLHRoaXMuX2NoZWNrRGF0YVNpemUuYmluZCh0aGlzKSk7ZT1pfXRoaXMuX2hhbmRsZUVycm9ycyhlKTtpZih0aGlzLnBhdXNlU3RyZWFtcyl7ZS5wYXVzZSgpfX10aGlzLl9zdHJlYW1zLnB1c2goZSk7cmV0dXJuIHRoaXN9O0NvbWJpbmVkU3RyZWFtLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGUsYSl7by5wcm90b3R5cGUucGlwZS5jYWxsKHRoaXMsZSxhKTt0aGlzLnJlc3VtZSgpO3JldHVybiBlfTtDb21iaW5lZFN0cmVhbS5wcm90b3R5cGUuX2dldE5leHQ9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50U3RyZWFtPW51bGw7aWYodGhpcy5faW5zaWRlTG9vcCl7dGhpcy5fcGVuZGluZ05leHQ9dHJ1ZTtyZXR1cm59dGhpcy5faW5zaWRlTG9vcD10cnVlO3RyeXtkb3t0aGlzLl9wZW5kaW5nTmV4dD1mYWxzZTt0aGlzLl9yZWFsR2V0TmV4dCgpfXdoaWxlKHRoaXMuX3BlbmRpbmdOZXh0KX1maW5hbGx5e3RoaXMuX2luc2lkZUxvb3A9ZmFsc2V9fTtDb21iaW5lZFN0cmVhbS5wcm90b3R5cGUuX3JlYWxHZXROZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3RyZWFtcy5zaGlmdCgpO2lmKHR5cGVvZiBlPT0idW5kZWZpbmVkIil7dGhpcy5lbmQoKTtyZXR1cm59aWYodHlwZW9mIGUhPT0iZnVuY3Rpb24iKXt0aGlzLl9waXBlTmV4dChlKTtyZXR1cm59dmFyIGE9ZTthKGZ1bmN0aW9uKGUpe3ZhciBhPUNvbWJpbmVkU3RyZWFtLmlzU3RyZWFtTGlrZShlKTtpZihhKXtlLm9uKCJkYXRhIix0aGlzLl9jaGVja0RhdGFTaXplLmJpbmQodGhpcykpO3RoaXMuX2hhbmRsZUVycm9ycyhlKX10aGlzLl9waXBlTmV4dChlKX0uYmluZCh0aGlzKSl9O0NvbWJpbmVkU3RyZWFtLnByb3RvdHlwZS5fcGlwZU5leHQ9ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFN0cmVhbT1lO3ZhciBhPUNvbWJpbmVkU3RyZWFtLmlzU3RyZWFtTGlrZShlKTtpZihhKXtlLm9uKCJlbmQiLHRoaXMuX2dldE5leHQuYmluZCh0aGlzKSk7ZS5waXBlKHRoaXMse2VuZDpmYWxzZX0pO3JldHVybn12YXIgaT1lO3RoaXMud3JpdGUoaSk7dGhpcy5fZ2V0TmV4dCgpfTtDb21iaW5lZFN0cmVhbS5wcm90b3R5cGUuX2hhbmRsZUVycm9ycz1mdW5jdGlvbihlKXt2YXIgYT10aGlzO2Uub24oImVycm9yIiwoZnVuY3Rpb24oZSl7YS5fZW1pdEVycm9yKGUpfSkpfTtDb21iaW5lZFN0cmVhbS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KCJkYXRhIixlKX07Q29tYmluZWRTdHJlYW0ucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7aWYoIXRoaXMucGF1c2VTdHJlYW1zKXtyZXR1cm59aWYodGhpcy5wYXVzZVN0cmVhbXMmJnRoaXMuX2N1cnJlbnRTdHJlYW0mJnR5cGVvZiB0aGlzLl9jdXJyZW50U3RyZWFtLnBhdXNlPT0iZnVuY3Rpb24iKXRoaXMuX2N1cnJlbnRTdHJlYW0ucGF1c2UoKTt0aGlzLmVtaXQoInBhdXNlIil9O0NvbWJpbmVkU3RyZWFtLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtpZighdGhpcy5fcmVsZWFzZWQpe3RoaXMuX3JlbGVhc2VkPXRydWU7dGhpcy53cml0YWJsZT10cnVlO3RoaXMuX2dldE5leHQoKX1pZih0aGlzLnBhdXNlU3RyZWFtcyYmdGhpcy5fY3VycmVudFN0cmVhbSYmdHlwZW9mIHRoaXMuX2N1cnJlbnRTdHJlYW0ucmVzdW1lPT0iZnVuY3Rpb24iKXRoaXMuX2N1cnJlbnRTdHJlYW0ucmVzdW1lKCk7dGhpcy5lbWl0KCJyZXN1bWUiKX07Q29tYmluZWRTdHJlYW0ucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe3RoaXMuX3Jlc2V0KCk7dGhpcy5lbWl0KCJlbmQiKX07Q29tYmluZWRTdHJlYW0ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9yZXNldCgpO3RoaXMuZW1pdCgiY2xvc2UiKX07Q29tYmluZWRTdHJlYW0ucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3RoaXMud3JpdGFibGU9ZmFsc2U7dGhpcy5fc3RyZWFtcz1bXTt0aGlzLl9jdXJyZW50U3RyZWFtPW51bGx9O0NvbWJpbmVkU3RyZWFtLnByb3RvdHlwZS5fY2hlY2tEYXRhU2l6ZT1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURhdGFTaXplKCk7aWYodGhpcy5kYXRhU2l6ZTw9dGhpcy5tYXhEYXRhU2l6ZSl7cmV0dXJufXZhciBlPSJEZWxheWVkU3RyZWFtI21heERhdGFTaXplIG9mICIrdGhpcy5tYXhEYXRhU2l6ZSsiIGJ5dGVzIGV4Y2VlZGVkLiI7dGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihlKSl9O0NvbWJpbmVkU3RyZWFtLnByb3RvdHlwZS5fdXBkYXRlRGF0YVNpemU9ZnVuY3Rpb24oKXt0aGlzLmRhdGFTaXplPTA7dmFyIGU9dGhpczt0aGlzLl9zdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKGEpe2lmKCFhLmRhdGFTaXplKXtyZXR1cm59ZS5kYXRhU2l6ZSs9YS5kYXRhU2l6ZX0pKTtpZih0aGlzLl9jdXJyZW50U3RyZWFtJiZ0aGlzLl9jdXJyZW50U3RyZWFtLmRhdGFTaXplKXt0aGlzLmRhdGFTaXplKz10aGlzLl9jdXJyZW50U3RyZWFtLmRhdGFTaXplfX07Q29tYmluZWRTdHJlYW0ucHJvdG90eXBlLl9lbWl0RXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5fcmVzZXQoKTt0aGlzLmVtaXQoImVycm9yIixlKX19LDE5MTooZSxhLGkpPT57YT1lLmV4cG9ydHM9aSgxMyk7YS5sb2c9bG9nO2EuZm9ybWF0QXJncz1mb3JtYXRBcmdzO2Euc2F2ZT1zYXZlO2EubG9hZD1sb2FkO2EudXNlQ29sb3JzPXVzZUNvbG9yczthLnN0b3JhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBjaHJvbWUmJiJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2U/Y2hyb21lLnN0b3JhZ2UubG9jYWw6bG9jYWxzdG9yYWdlKCk7YS5jb2xvcnM9WyJsaWdodHNlYWdyZWVuIiwiZm9yZXN0Z3JlZW4iLCJnb2xkZW5yb2QiLCJkb2RnZXJibHVlIiwiZGFya29yY2hpZCIsImNyaW1zb24iXTtmdW5jdGlvbiB1c2VDb2xvcnMoKXtpZih0eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCImJndpbmRvdy5wcm9jZXNzJiZ3aW5kb3cucHJvY2Vzcy50eXBlPT09InJlbmRlcmVyIil7cmV0dXJuIHRydWV9cmV0dXJuIHR5cGVvZiBkb2N1bWVudCE9PSJ1bmRlZmluZWQiJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2V8fHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIiYmd2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS5maXJlYnVnfHx3aW5kb3cuY29uc29sZS5leGNlcHRpb24mJndpbmRvdy5jb25zb2xlLnRhYmxlKXx8dHlwZW9mIG5hdmlnYXRvciE9PSJ1bmRlZmluZWQiJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcLyhcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfHx0eXBlb2YgbmF2aWdhdG9yIT09InVuZGVmaW5lZCImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcLyhcZCspLyl9YS5mb3JtYXR0ZXJzLmo9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShlKX1jYXRjaChlKXtyZXR1cm4iW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICIrZS5tZXNzYWdlfX07ZnVuY3Rpb24gZm9ybWF0QXJncyhlKXt2YXIgaT10aGlzLnVzZUNvbG9ycztlWzBdPShpPyIlYyI6IiIpK3RoaXMubmFtZXNwYWNlKyhpPyIgJWMiOiIgIikrZVswXSsoaT8iJWMgIjoiICIpKyIrIithLmh1bWFuaXplKHRoaXMuZGlmZik7aWYoIWkpcmV0dXJuO3ZhciBuPSJjb2xvcjogIit0aGlzLmNvbG9yO2Uuc3BsaWNlKDEsMCxuLCJjb2xvcjogaW5oZXJpdCIpO3ZhciBvPTA7dmFyIHM9MDtlWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywoZnVuY3Rpb24oZSl7aWYoIiUlIj09PWUpcmV0dXJuO28rKztpZigiJWMiPT09ZSl7cz1vfX0pKTtlLnNwbGljZShzLDAsbil9ZnVuY3Rpb24gbG9nKCl7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2cmJkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLGNvbnNvbGUsYXJndW1lbnRzKX1mdW5jdGlvbiBzYXZlKGUpe3RyeXtpZihudWxsPT1lKXthLnN0b3JhZ2UucmVtb3ZlSXRlbSgiZGVidWciKX1lbHNle2Euc3RvcmFnZS5kZWJ1Zz1lfX1jYXRjaChlKXt9fWZ1bmN0aW9uIGxvYWQoKXt2YXIgZTt0cnl7ZT1hLnN0b3JhZ2UuZGVidWd9Y2F0Y2goZSl7fWlmKCFlJiZ0eXBlb2YgcHJvY2VzcyE9PSJ1bmRlZmluZWQiJiYiZW52ImluIHByb2Nlc3Mpe2U9cHJvY2Vzcy5lbnYuREVCVUd9cmV0dXJuIGV9YS5lbmFibGUobG9hZCgpKTtmdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKXt0cnl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7fX19LDEzOihlLGEsaSk9PnthPWUuZXhwb3J0cz1jcmVhdGVEZWJ1Zy5kZWJ1Zz1jcmVhdGVEZWJ1Z1siZGVmYXVsdCJdPWNyZWF0ZURlYnVnO2EuY29lcmNlPWNvZXJjZTthLmRpc2FibGU9ZGlzYWJsZTthLmVuYWJsZT1lbmFibGU7YS5lbmFibGVkPWVuYWJsZWQ7YS5odW1hbml6ZT1pKDY1OCk7YS5uYW1lcz1bXTthLnNraXBzPVtdO2EuZm9ybWF0dGVycz17fTt2YXIgbjtmdW5jdGlvbiBzZWxlY3RDb2xvcihlKXt2YXIgaT0wLG47Zm9yKG4gaW4gZSl7aT0oaTw8NSktaStlLmNoYXJDb2RlQXQobik7aXw9MH1yZXR1cm4gYS5jb2xvcnNbTWF0aC5hYnMoaSklYS5jb2xvcnMubGVuZ3RoXX1mdW5jdGlvbiBjcmVhdGVEZWJ1ZyhlKXtmdW5jdGlvbiBkZWJ1Zygpe2lmKCFkZWJ1Zy5lbmFibGVkKXJldHVybjt2YXIgZT1kZWJ1Zzt2YXIgaT0rbmV3IERhdGU7dmFyIG89aS0obnx8aSk7ZS5kaWZmPW87ZS5wcmV2PW47ZS5jdXJyPWk7bj1pO3ZhciBzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIHQ9MDt0PHMubGVuZ3RoO3QrKyl7c1t0XT1hcmd1bWVudHNbdF19c1swXT1hLmNvZXJjZShzWzBdKTtpZigic3RyaW5nIiE9PXR5cGVvZiBzWzBdKXtzLnVuc2hpZnQoIiVPIil9dmFyIHI9MDtzWzBdPXNbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csKGZ1bmN0aW9uKGksbil7aWYoaT09PSIlJSIpcmV0dXJuIGk7cisrO3ZhciBvPWEuZm9ybWF0dGVyc1tuXTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIG8pe3ZhciB0PXNbcl07aT1vLmNhbGwoZSx0KTtzLnNwbGljZShyLDEpO3ItLX1yZXR1cm4gaX0pKTthLmZvcm1hdEFyZ3MuY2FsbChlLHMpO3ZhciBjPWRlYnVnLmxvZ3x8YS5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7Yy5hcHBseShlLHMpfWRlYnVnLm5hbWVzcGFjZT1lO2RlYnVnLmVuYWJsZWQ9YS5lbmFibGVkKGUpO2RlYnVnLnVzZUNvbG9ycz1hLnVzZUNvbG9ycygpO2RlYnVnLmNvbG9yPXNlbGVjdENvbG9yKGUpO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYS5pbml0KXthLmluaXQoZGVidWcpfXJldHVybiBkZWJ1Z31mdW5jdGlvbiBlbmFibGUoZSl7YS5zYXZlKGUpO2EubmFtZXM9W107YS5za2lwcz1bXTt2YXIgaT0odHlwZW9mIGU9PT0ic3RyaW5nIj9lOiIiKS5zcGxpdCgvW1xzLF0rLyk7dmFyIG49aS5sZW5ndGg7Zm9yKHZhciBvPTA7bzxuO28rKyl7aWYoIWlbb10pY29udGludWU7ZT1pW29dLnJlcGxhY2UoL1wqL2csIi4qPyIpO2lmKGVbMF09PT0iLSIpe2Euc2tpcHMucHVzaChuZXcgUmVnRXhwKCJeIitlLnN1YnN0cigxKSsiJCIpKX1lbHNle2EubmFtZXMucHVzaChuZXcgUmVnRXhwKCJeIitlKyIkIikpfX19ZnVuY3Rpb24gZGlzYWJsZSgpe2EuZW5hYmxlKCIiKX1mdW5jdGlvbiBlbmFibGVkKGUpe3ZhciBpLG47Zm9yKGk9MCxuPWEuc2tpcHMubGVuZ3RoO2k8bjtpKyspe2lmKGEuc2tpcHNbaV0udGVzdChlKSl7cmV0dXJuIGZhbHNlfX1mb3IoaT0wLG49YS5uYW1lcy5sZW5ndGg7aTxuO2krKyl7aWYoYS5uYW1lc1tpXS50ZXN0KGUpKXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIGNvZXJjZShlKXtpZihlIGluc3RhbmNlb2YgRXJyb3IpcmV0dXJuIGUuc3RhY2t8fGUubWVzc2FnZTtyZXR1cm4gZX19LDM3NTooZSxhLGkpPT57aWYodHlwZW9mIHByb2Nlc3MhPT0idW5kZWZpbmVkIiYmcHJvY2Vzcy50eXBlPT09InJlbmRlcmVyIil7ZS5leHBvcnRzPWkoMTkxKX1lbHNle2UuZXhwb3J0cz1pKDcyMCl9fSw3MjA6KGUsYSxpKT0+e3ZhciBuPWkoMjI0KTt2YXIgbz1pKDgzNyk7YT1lLmV4cG9ydHM9aSgxMyk7YS5pbml0PWluaXQ7YS5sb2c9bG9nO2EuZm9ybWF0QXJncz1mb3JtYXRBcmdzO2Euc2F2ZT1zYXZlO2EubG9hZD1sb2FkO2EudXNlQ29sb3JzPXVzZUNvbG9yczthLmNvbG9ycz1bNiwyLDMsNCw1LDFdO2EuaW5zcGVjdE9wdHM9T2JqZWN0LmtleXMocHJvY2Vzcy5lbnYpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuL15kZWJ1Z18vaS50ZXN0KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxhKXt2YXIgaT1hLnN1YnN0cmluZyg2KS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18oW2Etel0pL2csKGZ1bmN0aW9uKGUsYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pKTt2YXIgbj1wcm9jZXNzLmVudlthXTtpZigvXih5ZXN8b258dHJ1ZXxlbmFibGVkKSQvaS50ZXN0KG4pKW49dHJ1ZTtlbHNlIGlmKC9eKG5vfG9mZnxmYWxzZXxkaXNhYmxlZCkkL2kudGVzdChuKSluPWZhbHNlO2Vsc2UgaWYobj09PSJudWxsIiluPW51bGw7ZWxzZSBuPU51bWJlcihuKTtlW2ldPW47cmV0dXJuIGV9KSx7fSk7dmFyIHM9cGFyc2VJbnQocHJvY2Vzcy5lbnYuREVCVUdfRkQsMTApfHwyO2lmKDEhPT1zJiYyIT09cyl7by5kZXByZWNhdGUoKGZ1bmN0aW9uKCl7fSksImV4Y2VwdCBmb3Igc3RkZXJyKDIpIGFuZCBzdGRvdXQoMSksIGFueSBvdGhlciB1c2FnZSBvZiBERUJVR19GRCBpcyBkZXByZWNhdGVkLiBPdmVycmlkZSBkZWJ1Zy5sb2cgaWYgeW91IHdhbnQgdG8gdXNlIGEgZGlmZmVyZW50IGxvZyBmdW5jdGlvbiAoaHR0cHM6Ly9naXQuaW8vZGVidWdfZmQpIikoKX12YXIgdD0xPT09cz9wcm9jZXNzLnN0ZG91dDoyPT09cz9wcm9jZXNzLnN0ZGVycjpjcmVhdGVXcml0YWJsZVN0ZGlvU3RyZWFtKHMpO2Z1bmN0aW9uIHVzZUNvbG9ycygpe3JldHVybiJjb2xvcnMiaW4gYS5pbnNwZWN0T3B0cz9Cb29sZWFuKGEuaW5zcGVjdE9wdHMuY29sb3JzKTpuLmlzYXR0eShzKX1hLmZvcm1hdHRlcnMubz1mdW5jdGlvbihlKXt0aGlzLmluc3BlY3RPcHRzLmNvbG9ycz10aGlzLnVzZUNvbG9ycztyZXR1cm4gby5pbnNwZWN0KGUsdGhpcy5pbnNwZWN0T3B0cykuc3BsaXQoIlxuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuam9pbigiICIpfTthLmZvcm1hdHRlcnMuTz1mdW5jdGlvbihlKXt0aGlzLmluc3BlY3RPcHRzLmNvbG9ycz10aGlzLnVzZUNvbG9ycztyZXR1cm4gby5pbnNwZWN0KGUsdGhpcy5pbnNwZWN0T3B0cyl9O2Z1bmN0aW9uIGZvcm1hdEFyZ3MoZSl7dmFyIGk9dGhpcy5uYW1lc3BhY2U7dmFyIG49dGhpcy51c2VDb2xvcnM7aWYobil7dmFyIG89dGhpcy5jb2xvcjt2YXIgcz0iICAbWzMiK28rIjsxbSIraSsiICIrIhtbMG0iO2VbMF09cytlWzBdLnNwbGl0KCJcbiIpLmpvaW4oIlxuIitzKTtlLnB1c2goIhtbMyIrbysibSsiK2EuaHVtYW5pemUodGhpcy5kaWZmKSsiG1swbSIpfWVsc2V7ZVswXT0obmV3IERhdGUpLnRvVVRDU3RyaW5nKCkrIiAiK2krIiAiK2VbMF19fWZ1bmN0aW9uIGxvZygpe3JldHVybiB0LndyaXRlKG8uZm9ybWF0LmFwcGx5KG8sYXJndW1lbnRzKSsiXG4iKX1mdW5jdGlvbiBzYXZlKGUpe2lmKG51bGw9PWUpe2RlbGV0ZSBwcm9jZXNzLmVudi5ERUJVR31lbHNle3Byb2Nlc3MuZW52LkRFQlVHPWV9fWZ1bmN0aW9uIGxvYWQoKXtyZXR1cm4gcHJvY2Vzcy5lbnYuREVCVUd9ZnVuY3Rpb24gY3JlYXRlV3JpdGFibGVTdGRpb1N0cmVhbShlKXt2YXIgYTt2YXIgbz1wcm9jZXNzLmJpbmRpbmcoInR0eV93cmFwIik7c3dpdGNoKG8uZ3Vlc3NIYW5kbGVUeXBlKGUpKXtjYXNlIlRUWSI6YT1uZXcgbi5Xcml0ZVN0cmVhbShlKTthLl90eXBlPSJ0dHkiO2lmKGEuX2hhbmRsZSYmYS5faGFuZGxlLnVucmVmKXthLl9oYW5kbGUudW5yZWYoKX1icmVhaztjYXNlIkZJTEUiOnZhciBzPWkoMTQ3KTthPW5ldyBzLlN5bmNXcml0ZVN0cmVhbShlLHthdXRvQ2xvc2U6ZmFsc2V9KTthLl90eXBlPSJmcyI7YnJlYWs7Y2FzZSJQSVBFIjpjYXNlIlRDUCI6dmFyIHQ9aSg4MDgpO2E9bmV3IHQuU29ja2V0KHtmZDplLHJlYWRhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWV9KTthLnJlYWRhYmxlPWZhbHNlO2EucmVhZD1udWxsO2EuX3R5cGU9InBpcGUiO2lmKGEuX2hhbmRsZSYmYS5faGFuZGxlLnVucmVmKXthLl9oYW5kbGUudW5yZWYoKX1icmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW1wbGVtZW50IG1lLiBVbmtub3duIHN0cmVhbSBmaWxlIHR5cGUhIil9YS5mZD1lO2EuX2lzU3RkaW89dHJ1ZTtyZXR1cm4gYX1mdW5jdGlvbiBpbml0KGUpe2UuaW5zcGVjdE9wdHM9e307dmFyIGk9T2JqZWN0LmtleXMoYS5pbnNwZWN0T3B0cyk7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe2UuaW5zcGVjdE9wdHNbaVtuXV09YS5pbnNwZWN0T3B0c1tpW25dXX19YS5lbmFibGUobG9hZCgpKX0sMjE2OihlLGEsaSk9Pnt2YXIgbj1pKDc4MSkuU3RyZWFtO3ZhciBvPWkoODM3KTtlLmV4cG9ydHM9RGVsYXllZFN0cmVhbTtmdW5jdGlvbiBEZWxheWVkU3RyZWFtKCl7dGhpcy5zb3VyY2U9bnVsbDt0aGlzLmRhdGFTaXplPTA7dGhpcy5tYXhEYXRhU2l6ZT0xMDI0KjEwMjQ7dGhpcy5wYXVzZVN0cmVhbT10cnVlO3RoaXMuX21heERhdGFTaXplRXhjZWVkZWQ9ZmFsc2U7dGhpcy5fcmVsZWFzZWQ9ZmFsc2U7dGhpcy5fYnVmZmVyZWRFdmVudHM9W119by5pbmhlcml0cyhEZWxheWVkU3RyZWFtLG4pO0RlbGF5ZWRTdHJlYW0uY3JlYXRlPWZ1bmN0aW9uKGUsYSl7dmFyIGk9bmV3IHRoaXM7YT1hfHx7fTtmb3IodmFyIG4gaW4gYSl7aVtuXT1hW25dfWkuc291cmNlPWU7dmFyIG89ZS5lbWl0O2UuZW1pdD1mdW5jdGlvbigpe2kuX2hhbmRsZUVtaXQoYXJndW1lbnRzKTtyZXR1cm4gby5hcHBseShlLGFyZ3VtZW50cyl9O2Uub24oImVycm9yIiwoZnVuY3Rpb24oKXt9KSk7aWYoaS5wYXVzZVN0cmVhbSl7ZS5wYXVzZSgpfXJldHVybiBpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsYXllZFN0cmVhbS5wcm90b3R5cGUsInJlYWRhYmxlIix7Y29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS5yZWFkYWJsZX19KTtEZWxheWVkU3RyZWFtLnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS5zZXRFbmNvZGluZy5hcHBseSh0aGlzLnNvdXJjZSxhcmd1bWVudHMpfTtEZWxheWVkU3RyZWFtLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtpZighdGhpcy5fcmVsZWFzZWQpe3RoaXMucmVsZWFzZSgpfXRoaXMuc291cmNlLnJlc3VtZSgpfTtEZWxheWVkU3RyZWFtLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuc291cmNlLnBhdXNlKCl9O0RlbGF5ZWRTdHJlYW0ucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXt0aGlzLl9yZWxlYXNlZD10cnVlO3RoaXMuX2J1ZmZlcmVkRXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5lbWl0LmFwcGx5KHRoaXMsZSl9LmJpbmQodGhpcykpO3RoaXMuX2J1ZmZlcmVkRXZlbnRzPVtdfTtEZWxheWVkU3RyZWFtLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7dmFyIGU9bi5wcm90b3R5cGUucGlwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZXN1bWUoKTtyZXR1cm4gZX07RGVsYXllZFN0cmVhbS5wcm90b3R5cGUuX2hhbmRsZUVtaXQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcmVsZWFzZWQpe3RoaXMuZW1pdC5hcHBseSh0aGlzLGUpO3JldHVybn1pZihlWzBdPT09ImRhdGEiKXt0aGlzLmRhdGFTaXplKz1lWzFdLmxlbmd0aDt0aGlzLl9jaGVja0lmTWF4RGF0YVNpemVFeGNlZWRlZCgpfXRoaXMuX2J1ZmZlcmVkRXZlbnRzLnB1c2goZSl9O0RlbGF5ZWRTdHJlYW0ucHJvdG90eXBlLl9jaGVja0lmTWF4RGF0YVNpemVFeGNlZWRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX21heERhdGFTaXplRXhjZWVkZWQpe3JldHVybn1pZih0aGlzLmRhdGFTaXplPD10aGlzLm1heERhdGFTaXplKXtyZXR1cm59dGhpcy5fbWF4RGF0YVNpemVFeGNlZWRlZD10cnVlO3ZhciBlPSJEZWxheWVkU3RyZWFtI21heERhdGFTaXplIG9mICIrdGhpcy5tYXhEYXRhU2l6ZSsiIGJ5dGVzIGV4Y2VlZGVkLiI7dGhpcy5lbWl0KCJlcnJvciIsbmV3IEVycm9yKGUpKX19LDkxOihlLGEsaSk9Pnt2YXIgbjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtpZighbil7dHJ5e249aSgzNzUpKCJmb2xsb3ctcmVkaXJlY3RzIil9Y2F0Y2goZSl7fWlmKHR5cGVvZiBuIT09ImZ1bmN0aW9uIil7bj1mdW5jdGlvbigpe319fW4uYXBwbHkobnVsbCxhcmd1bWVudHMpfX0sMTc3OihlLGEsaSk9Pnt2YXIgbj1pKDMxMCk7dmFyIG89bi5VUkw7dmFyIHM9aSg2ODUpO3ZhciB0PWkoNjg3KTt2YXIgcj1pKDc4MSkuV3JpdGFibGU7dmFyIGM9aSg0OTEpO3ZhciBwPWkoOTEpO3ZhciBsPWZhbHNlO3RyeXtjKG5ldyBvKX1jYXRjaChlKXtsPWUuY29kZT09PSJFUlJfSU5WQUxJRF9VUkwifXZhciB1PVsiYXV0aCIsImhvc3QiLCJob3N0bmFtZSIsImhyZWYiLCJwYXRoIiwicGF0aG5hbWUiLCJwb3J0IiwicHJvdG9jb2wiLCJxdWVyeSIsInNlYXJjaCIsImhhc2giXTt2YXIgZD1bImFib3J0IiwiYWJvcnRlZCIsImNvbm5lY3QiLCJlcnJvciIsInNvY2tldCIsInRpbWVvdXQiXTt2YXIgbT1PYmplY3QuY3JlYXRlKG51bGwpO2QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bVtlXT1mdW5jdGlvbihhLGksbil7dGhpcy5fcmVkaXJlY3RhYmxlLmVtaXQoZSxhLGksbil9fSkpO3ZhciBmPWNyZWF0ZUVycm9yVHlwZSgiRVJSX0lOVkFMSURfVVJMIiwiSW52YWxpZCBVUkwiLFR5cGVFcnJvcik7dmFyIHg9Y3JlYXRlRXJyb3JUeXBlKCJFUlJfRlJfUkVESVJFQ1RJT05fRkFJTFVSRSIsIlJlZGlyZWN0ZWQgcmVxdWVzdCBmYWlsZWQiKTt2YXIgdj1jcmVhdGVFcnJvclR5cGUoIkVSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMiLCJNYXhpbXVtIG51bWJlciBvZiByZWRpcmVjdHMgZXhjZWVkZWQiLHgpO3ZhciBoPWNyZWF0ZUVycm9yVHlwZSgiRVJSX0ZSX01BWF9CT0RZX0xFTkdUSF9FWENFRURFRCIsIlJlcXVlc3QgYm9keSBsYXJnZXIgdGhhbiBtYXhCb2R5TGVuZ3RoIGxpbWl0Iik7dmFyIGI9Y3JlYXRlRXJyb3JUeXBlKCJFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCIsIndyaXRlIGFmdGVyIGVuZCIpO3ZhciBnPXIucHJvdG90eXBlLmRlc3Ryb3l8fG5vb3A7ZnVuY3Rpb24gUmVkaXJlY3RhYmxlUmVxdWVzdChlLGEpe3IuY2FsbCh0aGlzKTt0aGlzLl9zYW5pdGl6ZU9wdGlvbnMoZSk7dGhpcy5fb3B0aW9ucz1lO3RoaXMuX2VuZGVkPWZhbHNlO3RoaXMuX2VuZGluZz1mYWxzZTt0aGlzLl9yZWRpcmVjdENvdW50PTA7dGhpcy5fcmVkaXJlY3RzPVtdO3RoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoPTA7dGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzPVtdO2lmKGEpe3RoaXMub24oInJlc3BvbnNlIixhKX12YXIgaT10aGlzO3RoaXMuX29uTmF0aXZlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dHJ5e2kuX3Byb2Nlc3NSZXNwb25zZShlKX1jYXRjaChlKXtpLmVtaXQoImVycm9yIixlIGluc3RhbmNlb2YgeD9lOm5ldyB4KHtjYXVzZTplfSkpfX07dGhpcy5fcGVyZm9ybVJlcXVlc3QoKX1SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKTtSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2Rlc3Ryb3lSZXF1ZXN0KHRoaXMuX2N1cnJlbnRSZXF1ZXN0KTt0aGlzLl9jdXJyZW50UmVxdWVzdC5hYm9ydCgpO3RoaXMuZW1pdCgiYWJvcnQiKX07UmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXtkZXN0cm95UmVxdWVzdCh0aGlzLl9jdXJyZW50UmVxdWVzdCxlKTtnLmNhbGwodGhpcyxlKTtyZXR1cm4gdGhpc307UmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSxhLGkpe2lmKHRoaXMuX2VuZGluZyl7dGhyb3cgbmV3IGJ9aWYoIWlzU3RyaW5nKGUpJiYhaXNCdWZmZXIoZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoImRhdGEgc2hvdWxkIGJlIGEgc3RyaW5nLCBCdWZmZXIgb3IgVWludDhBcnJheSIpfWlmKGlzRnVuY3Rpb24oYSkpe2k9YTthPW51bGx9aWYoZS5sZW5ndGg9PT0wKXtpZihpKXtpKCl9cmV0dXJufWlmKHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoK2UubGVuZ3RoPD10aGlzLl9vcHRpb25zLm1heEJvZHlMZW5ndGgpe3RoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoKz1lLmxlbmd0aDt0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMucHVzaCh7ZGF0YTplLGVuY29kaW5nOmF9KTt0aGlzLl9jdXJyZW50UmVxdWVzdC53cml0ZShlLGEsaSl9ZWxzZXt0aGlzLmVtaXQoImVycm9yIixuZXcgaCk7dGhpcy5hYm9ydCgpfX07UmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUsYSxpKXtpZihpc0Z1bmN0aW9uKGUpKXtpPWU7ZT1hPW51bGx9ZWxzZSBpZihpc0Z1bmN0aW9uKGEpKXtpPWE7YT1udWxsfWlmKCFlKXt0aGlzLl9lbmRlZD10aGlzLl9lbmRpbmc9dHJ1ZTt0aGlzLl9jdXJyZW50UmVxdWVzdC5lbmQobnVsbCxudWxsLGkpfWVsc2V7dmFyIG49dGhpczt2YXIgbz10aGlzLl9jdXJyZW50UmVxdWVzdDt0aGlzLndyaXRlKGUsYSwoZnVuY3Rpb24oKXtuLl9lbmRlZD10cnVlO28uZW5kKG51bGwsbnVsbCxpKX0pKTt0aGlzLl9lbmRpbmc9dHJ1ZX19O1JlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlcj1mdW5jdGlvbihlLGEpe3RoaXMuX29wdGlvbnMuaGVhZGVyc1tlXT1hO3RoaXMuX2N1cnJlbnRSZXF1ZXN0LnNldEhlYWRlcihlLGEpfTtSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVIZWFkZXI9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29wdGlvbnMuaGVhZGVyc1tlXTt0aGlzLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVIZWFkZXIoZSl9O1JlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oZSxhKXt2YXIgaT10aGlzO2Z1bmN0aW9uIGRlc3Ryb3lPblRpbWVvdXQoYSl7YS5zZXRUaW1lb3V0KGUpO2EucmVtb3ZlTGlzdGVuZXIoInRpbWVvdXQiLGEuZGVzdHJveSk7YS5hZGRMaXN0ZW5lcigidGltZW91dCIsYS5kZXN0cm95KX1mdW5jdGlvbiBzdGFydFRpbWVyKGEpe2lmKGkuX3RpbWVvdXQpe2NsZWFyVGltZW91dChpLl90aW1lb3V0KX1pLl90aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5lbWl0KCJ0aW1lb3V0Iik7Y2xlYXJUaW1lcigpfSksZSk7ZGVzdHJveU9uVGltZW91dChhKX1mdW5jdGlvbiBjbGVhclRpbWVyKCl7aWYoaS5fdGltZW91dCl7Y2xlYXJUaW1lb3V0KGkuX3RpbWVvdXQpO2kuX3RpbWVvdXQ9bnVsbH1pLnJlbW92ZUxpc3RlbmVyKCJhYm9ydCIsY2xlYXJUaW1lcik7aS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGNsZWFyVGltZXIpO2kucmVtb3ZlTGlzdGVuZXIoInJlc3BvbnNlIixjbGVhclRpbWVyKTtpLnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsY2xlYXJUaW1lcik7aWYoYSl7aS5yZW1vdmVMaXN0ZW5lcigidGltZW91dCIsYSl9aWYoIWkuc29ja2V0KXtpLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVMaXN0ZW5lcigic29ja2V0IixzdGFydFRpbWVyKX19aWYoYSl7dGhpcy5vbigidGltZW91dCIsYSl9aWYodGhpcy5zb2NrZXQpe3N0YXJ0VGltZXIodGhpcy5zb2NrZXQpfWVsc2V7dGhpcy5fY3VycmVudFJlcXVlc3Qub25jZSgic29ja2V0IixzdGFydFRpbWVyKX10aGlzLm9uKCJzb2NrZXQiLGRlc3Ryb3lPblRpbWVvdXQpO3RoaXMub24oImFib3J0IixjbGVhclRpbWVyKTt0aGlzLm9uKCJlcnJvciIsY2xlYXJUaW1lcik7dGhpcy5vbigicmVzcG9uc2UiLGNsZWFyVGltZXIpO3RoaXMub24oImNsb3NlIixjbGVhclRpbWVyKTtyZXR1cm4gdGhpc307WyJmbHVzaEhlYWRlcnMiLCJnZXRIZWFkZXIiLCJzZXROb0RlbGF5Iiwic2V0U29ja2V0S2VlcEFsaXZlIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7UmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGVbZV09ZnVuY3Rpb24oYSxpKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlcXVlc3RbZV0oYSxpKX19KSk7WyJhYm9ydGVkIiwiY29ubmVjdGlvbiIsInNvY2tldCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZSxlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlcXVlc3RbZV19fSl9KSk7UmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuX3Nhbml0aXplT3B0aW9ucz1mdW5jdGlvbihlKXtpZighZS5oZWFkZXJzKXtlLmhlYWRlcnM9e319aWYoZS5ob3N0KXtpZighZS5ob3N0bmFtZSl7ZS5ob3N0bmFtZT1lLmhvc3R9ZGVsZXRlIGUuaG9zdH1pZighZS5wYXRobmFtZSYmZS5wYXRoKXt2YXIgYT1lLnBhdGguaW5kZXhPZigiPyIpO2lmKGE8MCl7ZS5wYXRobmFtZT1lLnBhdGh9ZWxzZXtlLnBhdGhuYW1lPWUucGF0aC5zdWJzdHJpbmcoMCxhKTtlLnNlYXJjaD1lLnBhdGguc3Vic3RyaW5nKGEpfX19O1JlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLl9wZXJmb3JtUmVxdWVzdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX29wdGlvbnMucHJvdG9jb2w7dmFyIGE9dGhpcy5fb3B0aW9ucy5uYXRpdmVQcm90b2NvbHNbZV07aWYoIWEpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlVuc3VwcG9ydGVkIHByb3RvY29sICIrZSl9aWYodGhpcy5fb3B0aW9ucy5hZ2VudHMpe3ZhciBpPWUuc2xpY2UoMCwtMSk7dGhpcy5fb3B0aW9ucy5hZ2VudD10aGlzLl9vcHRpb25zLmFnZW50c1tpXX12YXIgbz10aGlzLl9jdXJyZW50UmVxdWVzdD1hLnJlcXVlc3QodGhpcy5fb3B0aW9ucyx0aGlzLl9vbk5hdGl2ZVJlc3BvbnNlKTtvLl9yZWRpcmVjdGFibGU9dGhpcztmb3IodmFyIHMgb2YgZCl7by5vbihzLG1bc10pfXRoaXMuX2N1cnJlbnRVcmw9L15cLy8udGVzdCh0aGlzLl9vcHRpb25zLnBhdGgpP24uZm9ybWF0KHRoaXMuX29wdGlvbnMpOnRoaXMuX29wdGlvbnMucGF0aDtpZih0aGlzLl9pc1JlZGlyZWN0KXt2YXIgdD0wO3ZhciByPXRoaXM7dmFyIGM9dGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzOyhmdW5jdGlvbiB3cml0ZU5leHQoZSl7aWYobz09PXIuX2N1cnJlbnRSZXF1ZXN0KXtpZihlKXtyLmVtaXQoImVycm9yIixlKX1lbHNlIGlmKHQ8Yy5sZW5ndGgpe3ZhciBhPWNbdCsrXTtpZighby5maW5pc2hlZCl7by53cml0ZShhLmRhdGEsYS5lbmNvZGluZyx3cml0ZU5leHQpfX1lbHNlIGlmKHIuX2VuZGVkKXtvLmVuZCgpfX19KSgpfX07UmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuX3Byb2Nlc3NSZXNwb25zZT1mdW5jdGlvbihlKXt2YXIgYT1lLnN0YXR1c0NvZGU7aWYodGhpcy5fb3B0aW9ucy50cmFja1JlZGlyZWN0cyl7dGhpcy5fcmVkaXJlY3RzLnB1c2goe3VybDp0aGlzLl9jdXJyZW50VXJsLGhlYWRlcnM6ZS5oZWFkZXJzLHN0YXR1c0NvZGU6YX0pfXZhciBpPWUuaGVhZGVycy5sb2NhdGlvbjtpZighaXx8dGhpcy5fb3B0aW9ucy5mb2xsb3dSZWRpcmVjdHM9PT1mYWxzZXx8YTwzMDB8fGE+PTQwMCl7ZS5yZXNwb25zZVVybD10aGlzLl9jdXJyZW50VXJsO2UucmVkaXJlY3RzPXRoaXMuX3JlZGlyZWN0czt0aGlzLmVtaXQoInJlc3BvbnNlIixlKTt0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnM9W107cmV0dXJufWRlc3Ryb3lSZXF1ZXN0KHRoaXMuX2N1cnJlbnRSZXF1ZXN0KTtlLmRlc3Ryb3koKTtpZigrK3RoaXMuX3JlZGlyZWN0Q291bnQ+dGhpcy5fb3B0aW9ucy5tYXhSZWRpcmVjdHMpe3Rocm93IG5ldyB2fXZhciBvO3ZhciBzPXRoaXMuX29wdGlvbnMuYmVmb3JlUmVkaXJlY3Q7aWYocyl7bz1PYmplY3QuYXNzaWduKHtIb3N0OmUucmVxLmdldEhlYWRlcigiaG9zdCIpfSx0aGlzLl9vcHRpb25zLmhlYWRlcnMpfXZhciB0PXRoaXMuX29wdGlvbnMubWV0aG9kO2lmKChhPT09MzAxfHxhPT09MzAyKSYmdGhpcy5fb3B0aW9ucy5tZXRob2Q9PT0iUE9TVCJ8fGE9PT0zMDMmJiEvXig/OkdFVHxIRUFEKSQvLnRlc3QodGhpcy5fb3B0aW9ucy5tZXRob2QpKXt0aGlzLl9vcHRpb25zLm1ldGhvZD0iR0VUIjt0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnM9W107cmVtb3ZlTWF0Y2hpbmdIZWFkZXJzKC9eY29udGVudC0vaSx0aGlzLl9vcHRpb25zLmhlYWRlcnMpfXZhciByPXJlbW92ZU1hdGNoaW5nSGVhZGVycygvXmhvc3QkL2ksdGhpcy5fb3B0aW9ucy5oZWFkZXJzKTt2YXIgYz1wYXJzZVVybCh0aGlzLl9jdXJyZW50VXJsKTt2YXIgbD1yfHxjLmhvc3Q7dmFyIHU9L15cdys6Ly50ZXN0KGkpP3RoaXMuX2N1cnJlbnRVcmw6bi5mb3JtYXQoT2JqZWN0LmFzc2lnbihjLHtob3N0Omx9KSk7dmFyIGQ9cmVzb2x2ZVVybChpLHUpO3AoInJlZGlyZWN0aW5nIHRvIixkLmhyZWYpO3RoaXMuX2lzUmVkaXJlY3Q9dHJ1ZTtzcHJlYWRVcmxPYmplY3QoZCx0aGlzLl9vcHRpb25zKTtpZihkLnByb3RvY29sIT09Yy5wcm90b2NvbCYmZC5wcm90b2NvbCE9PSJodHRwczoifHxkLmhvc3QhPT1sJiYhaXNTdWJkb21haW4oZC5ob3N0LGwpKXtyZW1vdmVNYXRjaGluZ0hlYWRlcnMoL14oPzooPzpwcm94eS0pP2F1dGhvcml6YXRpb258Y29va2llKSQvaSx0aGlzLl9vcHRpb25zLmhlYWRlcnMpfWlmKGlzRnVuY3Rpb24ocykpe3ZhciBtPXtoZWFkZXJzOmUuaGVhZGVycyxzdGF0dXNDb2RlOmF9O3ZhciBmPXt1cmw6dSxtZXRob2Q6dCxoZWFkZXJzOm99O3ModGhpcy5fb3B0aW9ucyxtLGYpO3RoaXMuX3Nhbml0aXplT3B0aW9ucyh0aGlzLl9vcHRpb25zKX10aGlzLl9wZXJmb3JtUmVxdWVzdCgpfTtmdW5jdGlvbiB3cmFwKGUpe3ZhciBhPXttYXhSZWRpcmVjdHM6MjEsbWF4Qm9keUxlbmd0aDoxMCoxMDI0KjEwMjR9O3ZhciBpPXt9O09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBvPW4rIjoiO3ZhciBzPWlbb109ZVtuXTt2YXIgdD1hW25dPU9iamVjdC5jcmVhdGUocyk7ZnVuY3Rpb24gcmVxdWVzdChlLG4scyl7aWYoaXNVUkwoZSkpe2U9c3ByZWFkVXJsT2JqZWN0KGUpfWVsc2UgaWYoaXNTdHJpbmcoZSkpe2U9c3ByZWFkVXJsT2JqZWN0KHBhcnNlVXJsKGUpKX1lbHNle3M9bjtuPXZhbGlkYXRlVXJsKGUpO2U9e3Byb3RvY29sOm99fWlmKGlzRnVuY3Rpb24obikpe3M9bjtuPW51bGx9bj1PYmplY3QuYXNzaWduKHttYXhSZWRpcmVjdHM6YS5tYXhSZWRpcmVjdHMsbWF4Qm9keUxlbmd0aDphLm1heEJvZHlMZW5ndGh9LGUsbik7bi5uYXRpdmVQcm90b2NvbHM9aTtpZighaXNTdHJpbmcobi5ob3N0KSYmIWlzU3RyaW5nKG4uaG9zdG5hbWUpKXtuLmhvc3RuYW1lPSI6OjEifWMuZXF1YWwobi5wcm90b2NvbCxvLCJwcm90b2NvbCBtaXNtYXRjaCIpO3AoIm9wdGlvbnMiLG4pO3JldHVybiBuZXcgUmVkaXJlY3RhYmxlUmVxdWVzdChuLHMpfWZ1bmN0aW9uIGdldChlLGEsaSl7dmFyIG49dC5yZXF1ZXN0KGUsYSxpKTtuLmVuZCgpO3JldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse3JlcXVlc3Q6e3ZhbHVlOnJlcXVlc3QsY29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTp0cnVlLHdyaXRhYmxlOnRydWV9LGdldDp7dmFsdWU6Z2V0LGNvbmZpZ3VyYWJsZTp0cnVlLGVudW1lcmFibGU6dHJ1ZSx3cml0YWJsZTp0cnVlfX0pfSkpO3JldHVybiBhfWZ1bmN0aW9uIG5vb3AoKXt9ZnVuY3Rpb24gcGFyc2VVcmwoZSl7dmFyIGE7aWYobCl7YT1uZXcgbyhlKX1lbHNle2E9dmFsaWRhdGVVcmwobi5wYXJzZShlKSk7aWYoIWlzU3RyaW5nKGEucHJvdG9jb2wpKXt0aHJvdyBuZXcgZih7aW5wdXQ6ZX0pfX1yZXR1cm4gYX1mdW5jdGlvbiByZXNvbHZlVXJsKGUsYSl7cmV0dXJuIGw/bmV3IG8oZSxhKTpwYXJzZVVybChuLnJlc29sdmUoYSxlKSl9ZnVuY3Rpb24gdmFsaWRhdGVVcmwoZSl7aWYoL15cWy8udGVzdChlLmhvc3RuYW1lKSYmIS9eXFtbOjAtOWEtZl0rXF0kL2kudGVzdChlLmhvc3RuYW1lKSl7dGhyb3cgbmV3IGYoe2lucHV0OmUuaHJlZnx8ZX0pfWlmKC9eXFsvLnRlc3QoZS5ob3N0KSYmIS9eXFtbOjAtOWEtZl0rXF0oOlxkKyk/JC9pLnRlc3QoZS5ob3N0KSl7dGhyb3cgbmV3IGYoe2lucHV0OmUuaHJlZnx8ZX0pfXJldHVybiBlfWZ1bmN0aW9uIHNwcmVhZFVybE9iamVjdChlLGEpe3ZhciBpPWF8fHt9O2Zvcih2YXIgbiBvZiB1KXtpW25dPWVbbl19aWYoaS5ob3N0bmFtZS5zdGFydHNXaXRoKCJbIikpe2kuaG9zdG5hbWU9aS5ob3N0bmFtZS5zbGljZSgxLC0xKX1pZihpLnBvcnQhPT0iIil7aS5wb3J0PU51bWJlcihpLnBvcnQpfWkucGF0aD1pLnNlYXJjaD9pLnBhdGhuYW1lK2kuc2VhcmNoOmkucGF0aG5hbWU7cmV0dXJuIGl9ZnVuY3Rpb24gcmVtb3ZlTWF0Y2hpbmdIZWFkZXJzKGUsYSl7dmFyIGk7Zm9yKHZhciBuIGluIGEpe2lmKGUudGVzdChuKSl7aT1hW25dO2RlbGV0ZSBhW25dfX1yZXR1cm4gaT09PW51bGx8fHR5cGVvZiBpPT09InVuZGVmaW5lZCI/dW5kZWZpbmVkOlN0cmluZyhpKS50cmltKCl9ZnVuY3Rpb24gY3JlYXRlRXJyb3JUeXBlKGUsYSxpKXtmdW5jdGlvbiBDdXN0b21FcnJvcihpKXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpO09iamVjdC5hc3NpZ24odGhpcyxpfHx7fSk7dGhpcy5jb2RlPWU7dGhpcy5tZXNzYWdlPXRoaXMuY2F1c2U/YSsiOiAiK3RoaXMuY2F1c2UubWVzc2FnZTphfUN1c3RvbUVycm9yLnByb3RvdHlwZT1uZXcoaXx8RXJyb3IpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEN1c3RvbUVycm9yLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOkN1c3RvbUVycm9yLGVudW1lcmFibGU6ZmFsc2V9LG5hbWU6e3ZhbHVlOiJFcnJvciBbIitlKyJdIixlbnVtZXJhYmxlOmZhbHNlfX0pO3JldHVybiBDdXN0b21FcnJvcn1mdW5jdGlvbiBkZXN0cm95UmVxdWVzdChlLGEpe2Zvcih2YXIgaSBvZiBkKXtlLnJlbW92ZUxpc3RlbmVyKGksbVtpXSl9ZS5vbigiZXJyb3IiLG5vb3ApO2UuZGVzdHJveShhKX1mdW5jdGlvbiBpc1N1YmRvbWFpbihlLGEpe2MoaXNTdHJpbmcoZSkmJmlzU3RyaW5nKGEpKTt2YXIgaT1lLmxlbmd0aC1hLmxlbmd0aC0xO3JldHVybiBpPjAmJmVbaV09PT0iLiImJmUuZW5kc1dpdGgoYSl9ZnVuY3Rpb24gaXNTdHJpbmcoZSl7cmV0dXJuIHR5cGVvZiBlPT09InN0cmluZyJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd9ZnVuY3Rpb24gaXNGdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGU9PT0iZnVuY3Rpb24ifWZ1bmN0aW9uIGlzQnVmZmVyKGUpe3JldHVybiB0eXBlb2YgZT09PSJvYmplY3QiJiYibGVuZ3RoImluIGV9ZnVuY3Rpb24gaXNVUkwoZSl7cmV0dXJuIG8mJmUgaW5zdGFuY2VvZiBvfWUuZXhwb3J0cz13cmFwKHtodHRwOnMsaHR0cHM6dH0pO2UuZXhwb3J0cy53cmFwPXdyYXB9LDQ0NjooZSxhLGkpPT57dmFyIG49aSg5OTEpO3ZhciBvPWkoODM3KTt2YXIgcz1pKDE3KTt2YXIgdD1pKDY4NSk7dmFyIHI9aSg2ODcpO3ZhciBjPWkoMzEwKS5wYXJzZTt2YXIgcD1pKDE0Nyk7dmFyIGw9aSg3ODEpLlN0cmVhbTt2YXIgdT1pKDIwOSk7dmFyIGQ9aSgzNDYpO3ZhciBtPWkoOTI3KTtlLmV4cG9ydHM9Rm9ybURhdGE7by5pbmhlcml0cyhGb3JtRGF0YSxuKTtmdW5jdGlvbiBGb3JtRGF0YShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBGb3JtRGF0YSkpe3JldHVybiBuZXcgRm9ybURhdGEoZSl9dGhpcy5fb3ZlcmhlYWRMZW5ndGg9MDt0aGlzLl92YWx1ZUxlbmd0aD0wO3RoaXMuX3ZhbHVlc1RvTWVhc3VyZT1bXTtuLmNhbGwodGhpcyk7ZT1lfHx7fTtmb3IodmFyIGEgaW4gZSl7dGhpc1thXT1lW2FdfX1Gb3JtRGF0YS5MSU5FX0JSRUFLPSJcclxuIjtGb3JtRGF0YS5ERUZBVUxUX0NPTlRFTlRfVFlQRT0iYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIjtGb3JtRGF0YS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUsYSxpKXtpPWl8fHt9O2lmKHR5cGVvZiBpPT0ic3RyaW5nIil7aT17ZmlsZW5hbWU6aX19dmFyIHM9bi5wcm90b3R5cGUuYXBwZW5kLmJpbmQodGhpcyk7aWYodHlwZW9mIGE9PSJudW1iZXIiKXthPSIiK2F9aWYoby5pc0FycmF5KGEpKXt0aGlzLl9lcnJvcihuZXcgRXJyb3IoIkFycmF5cyBhcmUgbm90IHN1cHBvcnRlZC4iKSk7cmV0dXJufXZhciB0PXRoaXMuX211bHRpUGFydEhlYWRlcihlLGEsaSk7dmFyIHI9dGhpcy5fbXVsdGlQYXJ0Rm9vdGVyKCk7cyh0KTtzKGEpO3Mocik7dGhpcy5fdHJhY2tMZW5ndGgodCxhLGkpfTtGb3JtRGF0YS5wcm90b3R5cGUuX3RyYWNrTGVuZ3RoPWZ1bmN0aW9uKGUsYSxpKXt2YXIgbj0wO2lmKGkua25vd25MZW5ndGghPW51bGwpe24rPStpLmtub3duTGVuZ3RofWVsc2UgaWYoQnVmZmVyLmlzQnVmZmVyKGEpKXtuPWEubGVuZ3RofWVsc2UgaWYodHlwZW9mIGE9PT0ic3RyaW5nIil7bj1CdWZmZXIuYnl0ZUxlbmd0aChhKX10aGlzLl92YWx1ZUxlbmd0aCs9bjt0aGlzLl9vdmVyaGVhZExlbmd0aCs9QnVmZmVyLmJ5dGVMZW5ndGgoZSkrRm9ybURhdGEuTElORV9CUkVBSy5sZW5ndGg7aWYoIWF8fCFhLnBhdGgmJiEoYS5yZWFkYWJsZSYmYS5oYXNPd25Qcm9wZXJ0eSgiaHR0cFZlcnNpb24iKSkmJiEoYSBpbnN0YW5jZW9mIGwpKXtyZXR1cm59aWYoIWkua25vd25MZW5ndGgpe3RoaXMuX3ZhbHVlc1RvTWVhc3VyZS5wdXNoKGEpfX07Rm9ybURhdGEucHJvdG90eXBlLl9sZW5ndGhSZXRyaWV2ZXI9ZnVuY3Rpb24oZSxhKXtpZihlLmhhc093blByb3BlcnR5KCJmZCIpKXtpZihlLmVuZCE9dW5kZWZpbmVkJiZlLmVuZCE9SW5maW5pdHkmJmUuc3RhcnQhPXVuZGVmaW5lZCl7YShudWxsLGUuZW5kKzEtKGUuc3RhcnQ/ZS5zdGFydDowKSl9ZWxzZXtwLnN0YXQoZS5wYXRoLChmdW5jdGlvbihpLG4pe3ZhciBvO2lmKGkpe2EoaSk7cmV0dXJufW89bi5zaXplLShlLnN0YXJ0P2Uuc3RhcnQ6MCk7YShudWxsLG8pfSkpfX1lbHNlIGlmKGUuaGFzT3duUHJvcGVydHkoImh0dHBWZXJzaW9uIikpe2EobnVsbCwrZS5oZWFkZXJzWyJjb250ZW50LWxlbmd0aCJdKX1lbHNlIGlmKGUuaGFzT3duUHJvcGVydHkoImh0dHBNb2R1bGUiKSl7ZS5vbigicmVzcG9uc2UiLChmdW5jdGlvbihpKXtlLnBhdXNlKCk7YShudWxsLCtpLmhlYWRlcnNbImNvbnRlbnQtbGVuZ3RoIl0pfSkpO2UucmVzdW1lKCl9ZWxzZXthKCJVbmtub3duIHN0cmVhbSIpfX07Rm9ybURhdGEucHJvdG90eXBlLl9tdWx0aVBhcnRIZWFkZXI9ZnVuY3Rpb24oZSxhLGkpe2lmKHR5cGVvZiBpLmhlYWRlcj09InN0cmluZyIpe3JldHVybiBpLmhlYWRlcn12YXIgbj10aGlzLl9nZXRDb250ZW50RGlzcG9zaXRpb24oYSxpKTt2YXIgbz10aGlzLl9nZXRDb250ZW50VHlwZShhLGkpO3ZhciBzPSIiO3ZhciB0PXsiQ29udGVudC1EaXNwb3NpdGlvbiI6WyJmb3JtLWRhdGEiLCduYW1lPSInK2UrJyInXS5jb25jYXQobnx8W10pLCJDb250ZW50LVR5cGUiOltdLmNvbmNhdChvfHxbXSl9O2lmKHR5cGVvZiBpLmhlYWRlcj09Im9iamVjdCIpe20odCxpLmhlYWRlcil9dmFyIHI7Zm9yKHZhciBjIGluIHQpe2lmKCF0Lmhhc093blByb3BlcnR5KGMpKWNvbnRpbnVlO3I9dFtjXTtpZihyPT1udWxsKXtjb250aW51ZX1pZighQXJyYXkuaXNBcnJheShyKSl7cj1bcl19aWYoci5sZW5ndGgpe3MrPWMrIjogIityLmpvaW4oIjsgIikrRm9ybURhdGEuTElORV9CUkVBS319cmV0dXJuIi0tIit0aGlzLmdldEJvdW5kYXJ5KCkrRm9ybURhdGEuTElORV9CUkVBSytzK0Zvcm1EYXRhLkxJTkVfQlJFQUt9O0Zvcm1EYXRhLnByb3RvdHlwZS5fZ2V0Q29udGVudERpc3Bvc2l0aW9uPWZ1bmN0aW9uKGUsYSl7dmFyIGksbjtpZih0eXBlb2YgYS5maWxlcGF0aD09PSJzdHJpbmciKXtpPXMubm9ybWFsaXplKGEuZmlsZXBhdGgpLnJlcGxhY2UoL1xcL2csIi8iKX1lbHNlIGlmKGEuZmlsZW5hbWV8fGUubmFtZXx8ZS5wYXRoKXtpPXMuYmFzZW5hbWUoYS5maWxlbmFtZXx8ZS5uYW1lfHxlLnBhdGgpfWVsc2UgaWYoZS5yZWFkYWJsZSYmZS5oYXNPd25Qcm9wZXJ0eSgiaHR0cFZlcnNpb24iKSl7aT1zLmJhc2VuYW1lKGUuY2xpZW50Ll9odHRwTWVzc2FnZS5wYXRofHwiIil9aWYoaSl7bj0nZmlsZW5hbWU9IicraSsnIid9cmV0dXJuIG59O0Zvcm1EYXRhLnByb3RvdHlwZS5fZ2V0Q29udGVudFR5cGU9ZnVuY3Rpb24oZSxhKXt2YXIgaT1hLmNvbnRlbnRUeXBlO2lmKCFpJiZlLm5hbWUpe2k9dS5sb29rdXAoZS5uYW1lKX1pZighaSYmZS5wYXRoKXtpPXUubG9va3VwKGUucGF0aCl9aWYoIWkmJmUucmVhZGFibGUmJmUuaGFzT3duUHJvcGVydHkoImh0dHBWZXJzaW9uIikpe2k9ZS5oZWFkZXJzWyJjb250ZW50LXR5cGUiXX1pZighaSYmKGEuZmlsZXBhdGh8fGEuZmlsZW5hbWUpKXtpPXUubG9va3VwKGEuZmlsZXBhdGh8fGEuZmlsZW5hbWUpfWlmKCFpJiZ0eXBlb2YgZT09Im9iamVjdCIpe2k9Rm9ybURhdGEuREVGQVVMVF9DT05URU5UX1RZUEV9cmV0dXJuIGl9O0Zvcm1EYXRhLnByb3RvdHlwZS5fbXVsdGlQYXJ0Rm9vdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBhPUZvcm1EYXRhLkxJTkVfQlJFQUs7dmFyIGk9dGhpcy5fc3RyZWFtcy5sZW5ndGg9PT0wO2lmKGkpe2ErPXRoaXMuX2xhc3RCb3VuZGFyeSgpfWUoYSl9LmJpbmQodGhpcyl9O0Zvcm1EYXRhLnByb3RvdHlwZS5fbGFzdEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIi0tIit0aGlzLmdldEJvdW5kYXJ5KCkrIi0tIitGb3JtRGF0YS5MSU5FX0JSRUFLfTtGb3JtRGF0YS5wcm90b3R5cGUuZ2V0SGVhZGVycz1mdW5jdGlvbihlKXt2YXIgYTt2YXIgaT17ImNvbnRlbnQtdHlwZSI6Im11bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PSIrdGhpcy5nZXRCb3VuZGFyeSgpfTtmb3IoYSBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KGEpKXtpW2EudG9Mb3dlckNhc2UoKV09ZVthXX19cmV0dXJuIGl9O0Zvcm1EYXRhLnByb3RvdHlwZS5zZXRCb3VuZGFyeT1mdW5jdGlvbihlKXt0aGlzLl9ib3VuZGFyeT1lfTtGb3JtRGF0YS5wcm90b3R5cGUuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtpZighdGhpcy5fYm91bmRhcnkpe3RoaXMuX2dlbmVyYXRlQm91bmRhcnkoKX1yZXR1cm4gdGhpcy5fYm91bmRhcnl9O0Zvcm1EYXRhLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgQnVmZmVyLmFsbG9jKDApO3ZhciBhPXRoaXMuZ2V0Qm91bmRhcnkoKTtmb3IodmFyIGk9MCxuPXRoaXMuX3N0cmVhbXMubGVuZ3RoO2k8bjtpKyspe2lmKHR5cGVvZiB0aGlzLl9zdHJlYW1zW2ldIT09ImZ1bmN0aW9uIil7aWYoQnVmZmVyLmlzQnVmZmVyKHRoaXMuX3N0cmVhbXNbaV0pKXtlPUJ1ZmZlci5jb25jYXQoW2UsdGhpcy5fc3RyZWFtc1tpXV0pfWVsc2V7ZT1CdWZmZXIuY29uY2F0KFtlLEJ1ZmZlci5mcm9tKHRoaXMuX3N0cmVhbXNbaV0pXSl9aWYodHlwZW9mIHRoaXMuX3N0cmVhbXNbaV0hPT0ic3RyaW5nInx8dGhpcy5fc3RyZWFtc1tpXS5zdWJzdHJpbmcoMixhLmxlbmd0aCsyKSE9PWEpe2U9QnVmZmVyLmNvbmNhdChbZSxCdWZmZXIuZnJvbShGb3JtRGF0YS5MSU5FX0JSRUFLKV0pfX19cmV0dXJuIEJ1ZmZlci5jb25jYXQoW2UsQnVmZmVyLmZyb20odGhpcy5fbGFzdEJvdW5kYXJ5KCkpXSl9O0Zvcm1EYXRhLnByb3RvdHlwZS5fZ2VuZXJhdGVCb3VuZGFyeT1mdW5jdGlvbigpe3ZhciBlPSItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSI7Zm9yKHZhciBhPTA7YTwyNDthKyspe2UrPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkudG9TdHJpbmcoMTYpfXRoaXMuX2JvdW5kYXJ5PWV9O0Zvcm1EYXRhLnByb3RvdHlwZS5nZXRMZW5ndGhTeW5jPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fb3ZlcmhlYWRMZW5ndGgrdGhpcy5fdmFsdWVMZW5ndGg7aWYodGhpcy5fc3RyZWFtcy5sZW5ndGgpe2UrPXRoaXMuX2xhc3RCb3VuZGFyeSgpLmxlbmd0aH1pZighdGhpcy5oYXNLbm93bkxlbmd0aCgpKXt0aGlzLl9lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBjYWxjdWxhdGUgcHJvcGVyIGxlbmd0aCBpbiBzeW5jaHJvbm91cyB3YXkuIikpfXJldHVybiBlfTtGb3JtRGF0YS5wcm90b3R5cGUuaGFzS25vd25MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10cnVlO2lmKHRoaXMuX3ZhbHVlc1RvTWVhc3VyZS5sZW5ndGgpe2U9ZmFsc2V9cmV0dXJuIGV9O0Zvcm1EYXRhLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIGE9dGhpcy5fb3ZlcmhlYWRMZW5ndGgrdGhpcy5fdmFsdWVMZW5ndGg7aWYodGhpcy5fc3RyZWFtcy5sZW5ndGgpe2ErPXRoaXMuX2xhc3RCb3VuZGFyeSgpLmxlbmd0aH1pZighdGhpcy5fdmFsdWVzVG9NZWFzdXJlLmxlbmd0aCl7cHJvY2Vzcy5uZXh0VGljayhlLmJpbmQodGhpcyxudWxsLGEpKTtyZXR1cm59ZC5wYXJhbGxlbCh0aGlzLl92YWx1ZXNUb01lYXN1cmUsdGhpcy5fbGVuZ3RoUmV0cmlldmVyLChmdW5jdGlvbihpLG4pe2lmKGkpe2UoaSk7cmV0dXJufW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7YSs9ZX0pKTtlKG51bGwsYSl9KSl9O0Zvcm1EYXRhLnByb3RvdHlwZS5zdWJtaXQ9ZnVuY3Rpb24oZSxhKXt2YXIgaSxuLG89e21ldGhvZDoicG9zdCJ9O2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7ZT1jKGUpO249bSh7cG9ydDplLnBvcnQscGF0aDplLnBhdGhuYW1lLGhvc3Q6ZS5ob3N0bmFtZSxwcm90b2NvbDplLnByb3RvY29sfSxvKX1lbHNle249bShlLG8pO2lmKCFuLnBvcnQpe24ucG9ydD1uLnByb3RvY29sPT0iaHR0cHM6Ij80NDM6ODB9fW4uaGVhZGVycz10aGlzLmdldEhlYWRlcnMoZS5oZWFkZXJzKTtpZihuLnByb3RvY29sPT0iaHR0cHM6Iil7aT1yLnJlcXVlc3Qobil9ZWxzZXtpPXQucmVxdWVzdChuKX10aGlzLmdldExlbmd0aChmdW5jdGlvbihlLG4pe2lmKGUmJmUhPT0iVW5rbm93biBzdHJlYW0iKXt0aGlzLl9lcnJvcihlKTtyZXR1cm59aWYobil7aS5zZXRIZWFkZXIoIkNvbnRlbnQtTGVuZ3RoIixuKX10aGlzLnBpcGUoaSk7aWYoYSl7dmFyIG87dmFyIGNhbGxiYWNrPWZ1bmN0aW9uKGUsbil7aS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGNhbGxiYWNrKTtpLnJlbW92ZUxpc3RlbmVyKCJyZXNwb25zZSIsbyk7cmV0dXJuIGEuY2FsbCh0aGlzLGUsbil9O289Y2FsbGJhY2suYmluZCh0aGlzLG51bGwpO2kub24oImVycm9yIixjYWxsYmFjayk7aS5vbigicmVzcG9uc2UiLG8pfX0uYmluZCh0aGlzKSk7cmV0dXJuIGl9O0Zvcm1EYXRhLnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZXJyb3Ipe3RoaXMuZXJyb3I9ZTt0aGlzLnBhdXNlKCk7dGhpcy5lbWl0KCJlcnJvciIsZSl9fTtGb3JtRGF0YS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBGb3JtRGF0YV0ifX0sOTI3OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSxhKXtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihpKXtlW2ldPWVbaV18fGFbaV19KSk7cmV0dXJuIGV9fSwxMzI6KGUsYSxpKT0+ewovKiEKICogbWltZS1kYgogKiBDb3B5cmlnaHQoYykgMjAxNCBKb25hdGhhbiBPbmcKICogQ29weXJpZ2h0KGMpIDIwMTUtMjAyMiBEb3VnbGFzIENocmlzdG9waGVyIFdpbHNvbgogKiBNSVQgTGljZW5zZWQKICovCmUuZXhwb3J0cz1pKDc2NSl9LDIwOTooZSxhLGkpPT57InVzZSBzdHJpY3QiOwovKiEKICogbWltZS10eXBlcwogKiBDb3B5cmlnaHQoYykgMjAxNCBKb25hdGhhbiBPbmcKICogQ29weXJpZ2h0KGMpIDIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb24KICogTUlUIExpY2Vuc2VkCiAqL3ZhciBuPWkoMTMyKTt2YXIgbz1pKDE3KS5leHRuYW1lO3ZhciBzPS9eXHMqKFteO1xzXSopKD86O3xcc3wkKS87dmFyIHQ9L150ZXh0XC8vaTthLmNoYXJzZXQ9Y2hhcnNldDthLmNoYXJzZXRzPXtsb29rdXA6Y2hhcnNldH07YS5jb250ZW50VHlwZT1jb250ZW50VHlwZTthLmV4dGVuc2lvbj1leHRlbnNpb247YS5leHRlbnNpb25zPU9iamVjdC5jcmVhdGUobnVsbCk7YS5sb29rdXA9bG9va3VwO2EudHlwZXM9T2JqZWN0LmNyZWF0ZShudWxsKTtwb3B1bGF0ZU1hcHMoYS5leHRlbnNpb25zLGEudHlwZXMpO2Z1bmN0aW9uIGNoYXJzZXQoZSl7aWYoIWV8fHR5cGVvZiBlIT09InN0cmluZyIpe3JldHVybiBmYWxzZX12YXIgYT1zLmV4ZWMoZSk7dmFyIGk9YSYmblthWzFdLnRvTG93ZXJDYXNlKCldO2lmKGkmJmkuY2hhcnNldCl7cmV0dXJuIGkuY2hhcnNldH1pZihhJiZ0LnRlc3QoYVsxXSkpe3JldHVybiJVVEYtOCJ9cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIGNvbnRlbnRUeXBlKGUpe2lmKCFlfHx0eXBlb2YgZSE9PSJzdHJpbmciKXtyZXR1cm4gZmFsc2V9dmFyIGk9ZS5pbmRleE9mKCIvIik9PT0tMT9hLmxvb2t1cChlKTplO2lmKCFpKXtyZXR1cm4gZmFsc2V9aWYoaS5pbmRleE9mKCJjaGFyc2V0Iik9PT0tMSl7dmFyIG49YS5jaGFyc2V0KGkpO2lmKG4paSs9IjsgY2hhcnNldD0iK24udG9Mb3dlckNhc2UoKX1yZXR1cm4gaX1mdW5jdGlvbiBleHRlbnNpb24oZSl7aWYoIWV8fHR5cGVvZiBlIT09InN0cmluZyIpe3JldHVybiBmYWxzZX12YXIgaT1zLmV4ZWMoZSk7dmFyIG49aSYmYS5leHRlbnNpb25zW2lbMV0udG9Mb3dlckNhc2UoKV07aWYoIW58fCFuLmxlbmd0aCl7cmV0dXJuIGZhbHNlfXJldHVybiBuWzBdfWZ1bmN0aW9uIGxvb2t1cChlKXtpZighZXx8dHlwZW9mIGUhPT0ic3RyaW5nIil7cmV0dXJuIGZhbHNlfXZhciBpPW8oInguIitlKS50b0xvd2VyQ2FzZSgpLnN1YnN0cigxKTtpZighaSl7cmV0dXJuIGZhbHNlfXJldHVybiBhLnR5cGVzW2ldfHxmYWxzZX1mdW5jdGlvbiBwb3B1bGF0ZU1hcHMoZSxhKXt2YXIgaT1bIm5naW54IiwiYXBhY2hlIix1bmRlZmluZWQsImlhbmEiXTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbiBmb3JFYWNoTWltZVR5cGUobyl7dmFyIHM9bltvXTt2YXIgdD1zLmV4dGVuc2lvbnM7aWYoIXR8fCF0Lmxlbmd0aCl7cmV0dXJufWVbb109dDtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGM9dFtyXTtpZihhW2NdKXt2YXIgcD1pLmluZGV4T2YoblthW2NdXS5zb3VyY2UpO3ZhciBsPWkuaW5kZXhPZihzLnNvdXJjZSk7aWYoYVtjXSE9PSJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iJiYocD5sfHxwPT09bCYmYVtjXS5zdWJzdHIoMCwxMik9PT0iYXBwbGljYXRpb24vIikpe2NvbnRpbnVlfX1hW2NdPW99fSkpfX0sNjU4OmU9Pnt2YXIgYT0xZTM7dmFyIGk9YSo2MDt2YXIgbj1pKjYwO3ZhciBvPW4qMjQ7dmFyIHM9byozNjUuMjU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsYSl7YT1hfHx7fTt2YXIgaT10eXBlb2YgZTtpZihpPT09InN0cmluZyImJmUubGVuZ3RoPjApe3JldHVybiBwYXJzZShlKX1lbHNlIGlmKGk9PT0ibnVtYmVyIiYmaXNOYU4oZSk9PT1mYWxzZSl7cmV0dXJuIGEubG9uZz9mbXRMb25nKGUpOmZtdFNob3J0KGUpfXRocm93IG5ldyBFcnJvcigidmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0iK0pTT04uc3RyaW5naWZ5KGUpKX07ZnVuY3Rpb24gcGFyc2UoZSl7ZT1TdHJpbmcoZSk7aWYoZS5sZW5ndGg+MTAwKXtyZXR1cm59dmFyIHQ9L14oKD86XGQrKT9cLj9cZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhlKTtpZighdCl7cmV0dXJufXZhciByPXBhcnNlRmxvYXQodFsxXSk7dmFyIGM9KHRbMl18fCJtcyIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGMpe2Nhc2UieWVhcnMiOmNhc2UieWVhciI6Y2FzZSJ5cnMiOmNhc2UieXIiOmNhc2UieSI6cmV0dXJuIHIqcztjYXNlImRheXMiOmNhc2UiZGF5IjpjYXNlImQiOnJldHVybiByKm87Y2FzZSJob3VycyI6Y2FzZSJob3VyIjpjYXNlImhycyI6Y2FzZSJociI6Y2FzZSJoIjpyZXR1cm4gcipuO2Nhc2UibWludXRlcyI6Y2FzZSJtaW51dGUiOmNhc2UibWlucyI6Y2FzZSJtaW4iOmNhc2UibSI6cmV0dXJuIHIqaTtjYXNlInNlY29uZHMiOmNhc2Uic2Vjb25kIjpjYXNlInNlY3MiOmNhc2Uic2VjIjpjYXNlInMiOnJldHVybiByKmE7Y2FzZSJtaWxsaXNlY29uZHMiOmNhc2UibWlsbGlzZWNvbmQiOmNhc2UibXNlY3MiOmNhc2UibXNlYyI6Y2FzZSJtcyI6cmV0dXJuIHI7ZGVmYXVsdDpyZXR1cm4gdW5kZWZpbmVkfX1mdW5jdGlvbiBmbXRTaG9ydChlKXtpZihlPj1vKXtyZXR1cm4gTWF0aC5yb3VuZChlL28pKyJkIn1pZihlPj1uKXtyZXR1cm4gTWF0aC5yb3VuZChlL24pKyJoIn1pZihlPj1pKXtyZXR1cm4gTWF0aC5yb3VuZChlL2kpKyJtIn1pZihlPj1hKXtyZXR1cm4gTWF0aC5yb3VuZChlL2EpKyJzIn1yZXR1cm4gZSsibXMifWZ1bmN0aW9uIGZtdExvbmcoZSl7cmV0dXJuIHBsdXJhbChlLG8sImRheSIpfHxwbHVyYWwoZSxuLCJob3VyIil8fHBsdXJhbChlLGksIm1pbnV0ZSIpfHxwbHVyYWwoZSxhLCJzZWNvbmQiKXx8ZSsiIG1zIn1mdW5jdGlvbiBwbHVyYWwoZSxhLGkpe2lmKGU8YSl7cmV0dXJufWlmKGU8YSoxLjUpe3JldHVybiBNYXRoLmZsb29yKGUvYSkrIiAiK2l9cmV0dXJuIE1hdGguY2VpbChlL2EpKyIgIitpKyJzIn19LDEwNzooZSxhLGkpPT57InVzZSBzdHJpY3QiO3ZhciBuPWkoMzEwKS5wYXJzZTt2YXIgbz17ZnRwOjIxLGdvcGhlcjo3MCxodHRwOjgwLGh0dHBzOjQ0Myx3czo4MCx3c3M6NDQzfTt2YXIgcz1TdHJpbmcucHJvdG90eXBlLmVuZHNXaXRofHxmdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGg8PXRoaXMubGVuZ3RoJiZ0aGlzLmluZGV4T2YoZSx0aGlzLmxlbmd0aC1lLmxlbmd0aCkhPT0tMX07ZnVuY3Rpb24gZ2V0UHJveHlGb3JVcmwoZSl7dmFyIGE9dHlwZW9mIGU9PT0ic3RyaW5nIj9uKGUpOmV8fHt9O3ZhciBpPWEucHJvdG9jb2w7dmFyIHM9YS5ob3N0O3ZhciB0PWEucG9ydDtpZih0eXBlb2YgcyE9PSJzdHJpbmcifHwhc3x8dHlwZW9mIGkhPT0ic3RyaW5nIil7cmV0dXJuIiJ9aT1pLnNwbGl0KCI6IiwxKVswXTtzPXMucmVwbGFjZSgvOlxkKiQvLCIiKTt0PXBhcnNlSW50KHQpfHxvW2ldfHwwO2lmKCFzaG91bGRQcm94eShzLHQpKXtyZXR1cm4iIn12YXIgcj1nZXRFbnYoIm5wbV9jb25maWdfIitpKyJfcHJveHkiKXx8Z2V0RW52KGkrIl9wcm94eSIpfHxnZXRFbnYoIm5wbV9jb25maWdfcHJveHkiKXx8Z2V0RW52KCJhbGxfcHJveHkiKTtpZihyJiZyLmluZGV4T2YoIjovLyIpPT09LTEpe3I9aSsiOi8vIityfXJldHVybiByfWZ1bmN0aW9uIHNob3VsZFByb3h5KGUsYSl7dmFyIGk9KGdldEVudigibnBtX2NvbmZpZ19ub19wcm94eSIpfHxnZXRFbnYoIm5vX3Byb3h5IikpLnRvTG93ZXJDYXNlKCk7aWYoIWkpe3JldHVybiB0cnVlfWlmKGk9PT0iKiIpe3JldHVybiBmYWxzZX1yZXR1cm4gaS5zcGxpdCgvWyxcc10vKS5ldmVyeSgoZnVuY3Rpb24oaSl7aWYoIWkpe3JldHVybiB0cnVlfXZhciBuPWkubWF0Y2goL14oLispOihcZCspJC8pO3ZhciBvPW4/blsxXTppO3ZhciB0PW4/cGFyc2VJbnQoblsyXSk6MDtpZih0JiZ0IT09YSl7cmV0dXJuIHRydWV9aWYoIS9eWy4qXS8udGVzdChvKSl7cmV0dXJuIGUhPT1vfWlmKG8uY2hhckF0KDApPT09IioiKXtvPW8uc2xpY2UoMSl9cmV0dXJuIXMuY2FsbChlLG8pfSkpfWZ1bmN0aW9uIGdldEVudihlKXtyZXR1cm4gcHJvY2Vzcy5lbnZbZS50b0xvd2VyQ2FzZSgpXXx8cHJvY2Vzcy5lbnZbZS50b1VwcGVyQ2FzZSgpXXx8IiJ9YS5nZXRQcm94eUZvclVybD1nZXRQcm94eUZvclVybH0sNDkxOmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoImFzc2VydCIpfSwzNjE6ZT0+eyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cmVxdWlyZSgiZXZlbnRzIil9LDE0NzplPT57InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yZXF1aXJlKCJmcyIpfSw2ODU6ZT0+eyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cmVxdWlyZSgiaHR0cCIpfSw2ODc6ZT0+eyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cmVxdWlyZSgiaHR0cHMiKX0sODA4OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoIm5ldCIpfSwxNzplPT57InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yZXF1aXJlKCJwYXRoIil9LDc4MTplPT57InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yZXF1aXJlKCJzdHJlYW0iKX0sMjI0OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoInR0eSIpfSwzMTA6ZT0+eyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cmVxdWlyZSgidXJsIil9LDgzNzplPT57InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yZXF1aXJlKCJ1dGlsIil9LDc5NjplPT57InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yZXF1aXJlKCJ6bGliIil9LDg5OTooZSxhLGkpPT57InVzZSBzdHJpY3QiO2NvbnN0IG49aSg0NDYpO2NvbnN0IG89aSgzMTApO2NvbnN0IHM9aSgxMDcpO2NvbnN0IHQ9aSg2ODUpO2NvbnN0IHI9aSg2ODcpO2NvbnN0IGM9aSg4MzcpO2NvbnN0IHA9aSgxNzcpO2NvbnN0IGw9aSg3OTYpO2NvbnN0IHU9aSg3ODEpO2NvbnN0IGQ9aSgzNjEpO2Z1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdExlZ2FjeShlKXtyZXR1cm4gZSYmdHlwZW9mIGU9PT0ib2JqZWN0IiYmImRlZmF1bHQiaW4gZT9lOntkZWZhdWx0OmV9fWNvbnN0IG09X2ludGVyb3BEZWZhdWx0TGVnYWN5KG4pO2NvbnN0IGY9X2ludGVyb3BEZWZhdWx0TGVnYWN5KG8pO2NvbnN0IHg9X2ludGVyb3BEZWZhdWx0TGVnYWN5KHQpO2NvbnN0IHY9X2ludGVyb3BEZWZhdWx0TGVnYWN5KHIpO2NvbnN0IGg9X2ludGVyb3BEZWZhdWx0TGVnYWN5KGMpO2NvbnN0IGI9X2ludGVyb3BEZWZhdWx0TGVnYWN5KHApO2NvbnN0IGc9X2ludGVyb3BEZWZhdWx0TGVnYWN5KGwpO2NvbnN0IHk9X2ludGVyb3BEZWZhdWx0TGVnYWN5KHUpO2Z1bmN0aW9uIGJpbmQoZSxhKXtyZXR1cm4gZnVuY3Rpb24gd3JhcCgpe3JldHVybiBlLmFwcGx5KGEsYXJndW1lbnRzKX19Y29uc3R7dG9TdHJpbmc6d309T2JqZWN0LnByb3RvdHlwZTtjb25zdHtnZXRQcm90b3R5cGVPZjprfT1PYmplY3Q7Y29uc3QgRT0oZT0+YT0+e2NvbnN0IGk9dy5jYWxsKGEpO3JldHVybiBlW2ldfHwoZVtpXT1pLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkpfSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7Y29uc3Qga2luZE9mVGVzdD1lPT57ZT1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGE9PkUoYSk9PT1lfTtjb25zdCB0eXBlT2ZUZXN0PWU9PmE9PnR5cGVvZiBhPT09ZTtjb25zdHtpc0FycmF5Ol99PUFycmF5O2NvbnN0IGo9dHlwZU9mVGVzdCgidW5kZWZpbmVkIik7ZnVuY3Rpb24gaXNCdWZmZXIoZSl7cmV0dXJuIGUhPT1udWxsJiYhaihlKSYmZS5jb25zdHJ1Y3RvciE9PW51bGwmJiFqKGUuY29uc3RydWN0b3IpJiZUKGUuY29uc3RydWN0b3IuaXNCdWZmZXIpJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfWNvbnN0IFI9a2luZE9mVGVzdCgiQXJyYXlCdWZmZXIiKTtmdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyhlKXtsZXQgYTtpZih0eXBlb2YgQXJyYXlCdWZmZXIhPT0idW5kZWZpbmVkIiYmQXJyYXlCdWZmZXIuaXNWaWV3KXthPUFycmF5QnVmZmVyLmlzVmlldyhlKX1lbHNle2E9ZSYmZS5idWZmZXImJlIoZS5idWZmZXIpfXJldHVybiBhfWNvbnN0IFM9dHlwZU9mVGVzdCgic3RyaW5nIik7Y29uc3QgVD10eXBlT2ZUZXN0KCJmdW5jdGlvbiIpO2NvbnN0IEE9dHlwZU9mVGVzdCgibnVtYmVyIik7Y29uc3QgaXNPYmplY3Q9ZT0+ZSE9PW51bGwmJnR5cGVvZiBlPT09Im9iamVjdCI7Y29uc3QgaXNCb29sZWFuPWU9PmU9PT10cnVlfHxlPT09ZmFsc2U7Y29uc3QgaXNQbGFpbk9iamVjdD1lPT57aWYoRShlKSE9PSJvYmplY3QiKXtyZXR1cm4gZmFsc2V9Y29uc3QgYT1rKGUpO3JldHVybihhPT09bnVsbHx8YT09PU9iamVjdC5wcm90b3R5cGV8fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKT09PW51bGwpJiYhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiBlKSYmIShTeW1ib2wuaXRlcmF0b3IgaW4gZSl9O2NvbnN0IEM9a2luZE9mVGVzdCgiRGF0ZSIpO2NvbnN0IE89a2luZE9mVGVzdCgiRmlsZSIpO2NvbnN0IHo9a2luZE9mVGVzdCgiQmxvYiIpO2NvbnN0IEw9a2luZE9mVGVzdCgiRmlsZUxpc3QiKTtjb25zdCBpc1N0cmVhbT1lPT5pc09iamVjdChlKSYmVChlLnBpcGUpO2NvbnN0IGlzRm9ybURhdGE9ZT0+e2xldCBhO3JldHVybiBlJiYodHlwZW9mIEZvcm1EYXRhPT09ImZ1bmN0aW9uIiYmZSBpbnN0YW5jZW9mIEZvcm1EYXRhfHxUKGUuYXBwZW5kKSYmKChhPUUoZSkpPT09ImZvcm1kYXRhInx8YT09PSJvYmplY3QiJiZUKGUudG9TdHJpbmcpJiZlLnRvU3RyaW5nKCk9PT0iW29iamVjdCBGb3JtRGF0YV0iKSl9O2NvbnN0IHE9a2luZE9mVGVzdCgiVVJMU2VhcmNoUGFyYW1zIik7Y29uc3RbRCxGLFUsQl09WyJSZWFkYWJsZVN0cmVhbSIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIkhlYWRlcnMiXS5tYXAoa2luZE9mVGVzdCk7Y29uc3QgdHJpbT1lPT5lLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywiIik7ZnVuY3Rpb24gZm9yRWFjaChlLGEse2FsbE93bktleXM6aT1mYWxzZX09e30pe2lmKGU9PT1udWxsfHx0eXBlb2YgZT09PSJ1bmRlZmluZWQiKXtyZXR1cm59bGV0IG47bGV0IG87aWYodHlwZW9mIGUhPT0ib2JqZWN0Iil7ZT1bZV19aWYoXyhlKSl7Zm9yKG49MCxvPWUubGVuZ3RoO248bztuKyspe2EuY2FsbChudWxsLGVbbl0sbixlKX19ZWxzZXtjb25zdCBvPWk/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSk6T2JqZWN0LmtleXMoZSk7Y29uc3Qgcz1vLmxlbmd0aDtsZXQgdDtmb3Iobj0wO248cztuKyspe3Q9b1tuXTthLmNhbGwobnVsbCxlW3RdLHQsZSl9fX1mdW5jdGlvbiBmaW5kS2V5KGUsYSl7YT1hLnRvTG93ZXJDYXNlKCk7Y29uc3QgaT1PYmplY3Qua2V5cyhlKTtsZXQgbj1pLmxlbmd0aDtsZXQgbzt3aGlsZShuLS0gPjApe289aVtuXTtpZihhPT09by50b0xvd2VyQ2FzZSgpKXtyZXR1cm4gb319cmV0dXJuIG51bGx9Y29uc3QgUD0oKCk9PntpZih0eXBlb2YgZ2xvYmFsVGhpcyE9PSJ1bmRlZmluZWQiKXJldHVybiBnbG9iYWxUaGlzO3JldHVybiB0eXBlb2Ygc2VsZiE9PSJ1bmRlZmluZWQiP3NlbGY6dHlwZW9mIHdpbmRvdyE9PSJ1bmRlZmluZWQiP3dpbmRvdzpnbG9iYWx9KSgpO2NvbnN0IGlzQ29udGV4dERlZmluZWQ9ZT0+IWooZSkmJmUhPT1QO2Z1bmN0aW9uIG1lcmdlKCl7Y29uc3R7Y2FzZWxlc3M6ZX09aXNDb250ZXh0RGVmaW5lZCh0aGlzKSYmdGhpc3x8e307Y29uc3QgYT17fTtjb25zdCBhc3NpZ25WYWx1ZT0oaSxuKT0+e2NvbnN0IG89ZSYmZmluZEtleShhLG4pfHxuO2lmKGlzUGxhaW5PYmplY3QoYVtvXSkmJmlzUGxhaW5PYmplY3QoaSkpe2Fbb109bWVyZ2UoYVtvXSxpKX1lbHNlIGlmKGlzUGxhaW5PYmplY3QoaSkpe2Fbb109bWVyZ2Uoe30saSl9ZWxzZSBpZihfKGkpKXthW29dPWkuc2xpY2UoKX1lbHNle2Fbb109aX19O2ZvcihsZXQgZT0wLGE9YXJndW1lbnRzLmxlbmd0aDtlPGE7ZSsrKXthcmd1bWVudHNbZV0mJmZvckVhY2goYXJndW1lbnRzW2VdLGFzc2lnblZhbHVlKX1yZXR1cm4gYX1jb25zdCBleHRlbmQ9KGUsYSxpLHthbGxPd25LZXlzOm59PXt9KT0+e2ZvckVhY2goYSwoKGEsbik9PntpZihpJiZUKGEpKXtlW25dPWJpbmQoYSxpKX1lbHNle2Vbbl09YX19KSx7YWxsT3duS2V5czpufSk7cmV0dXJuIGV9O2NvbnN0IHN0cmlwQk9NPWU9PntpZihlLmNoYXJDb2RlQXQoMCk9PT02NTI3OSl7ZT1lLnNsaWNlKDEpfXJldHVybiBlfTtjb25zdCBpbmhlcml0cz0oZSxhLGksbik9PntlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlLG4pO2UucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInN1cGVyIix7dmFsdWU6YS5wcm90b3R5cGV9KTtpJiZPYmplY3QuYXNzaWduKGUucHJvdG90eXBlLGkpfTtjb25zdCB0b0ZsYXRPYmplY3Q9KGUsYSxpLG4pPT57bGV0IG87bGV0IHM7bGV0IHQ7Y29uc3Qgcj17fTthPWF8fHt9O2lmKGU9PW51bGwpcmV0dXJuIGE7ZG97bz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKTtzPW8ubGVuZ3RoO3doaWxlKHMtLSA+MCl7dD1vW3NdO2lmKCghbnx8bih0LGUsYSkpJiYhclt0XSl7YVt0XT1lW3RdO3JbdF09dHJ1ZX19ZT1pIT09ZmFsc2UmJmsoZSl9d2hpbGUoZSYmKCFpfHxpKGUsYSkpJiZlIT09T2JqZWN0LnByb3RvdHlwZSk7cmV0dXJuIGF9O2NvbnN0IGVuZHNXaXRoPShlLGEsaSk9PntlPVN0cmluZyhlKTtpZihpPT09dW5kZWZpbmVkfHxpPmUubGVuZ3RoKXtpPWUubGVuZ3RofWktPWEubGVuZ3RoO2NvbnN0IG49ZS5pbmRleE9mKGEsaSk7cmV0dXJuIG4hPT0tMSYmbj09PWl9O2NvbnN0IHRvQXJyYXk9ZT0+e2lmKCFlKXJldHVybiBudWxsO2lmKF8oZSkpcmV0dXJuIGU7bGV0IGE9ZS5sZW5ndGg7aWYoIUEoYSkpcmV0dXJuIG51bGw7Y29uc3QgaT1uZXcgQXJyYXkoYSk7d2hpbGUoYS0tID4wKXtpW2FdPWVbYV19cmV0dXJuIGl9O2NvbnN0IE49KGU9PmE9PmUmJmEgaW5zdGFuY2VvZiBlKSh0eXBlb2YgVWludDhBcnJheSE9PSJ1bmRlZmluZWQiJiZrKFVpbnQ4QXJyYXkpKTtjb25zdCBmb3JFYWNoRW50cnk9KGUsYSk9Pntjb25zdCBpPWUmJmVbU3ltYm9sLml0ZXJhdG9yXTtjb25zdCBuPWkuY2FsbChlKTtsZXQgbzt3aGlsZSgobz1uLm5leHQoKSkmJiFvLmRvbmUpe2NvbnN0IGk9by52YWx1ZTthLmNhbGwoZSxpWzBdLGlbMV0pfX07Y29uc3QgbWF0Y2hBbGw9KGUsYSk9PntsZXQgaTtjb25zdCBuPVtdO3doaWxlKChpPWUuZXhlYyhhKSkhPT1udWxsKXtuLnB1c2goaSl9cmV0dXJuIG59O2NvbnN0IEk9a2luZE9mVGVzdCgiSFRNTEZvcm1FbGVtZW50Iik7Y29uc3QgdG9DYW1lbENhc2U9ZT0+ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xzXShbYS16XGRdKShcdyopL2csKGZ1bmN0aW9uIHJlcGxhY2VyKGUsYSxpKXtyZXR1cm4gYS50b1VwcGVyQ2FzZSgpK2l9KSk7Y29uc3QgSD0oKHtoYXNPd25Qcm9wZXJ0eTplfSk9PihhLGkpPT5lLmNhbGwoYSxpKSkoT2JqZWN0LnByb3RvdHlwZSk7Y29uc3QgTT1raW5kT2ZUZXN0KCJSZWdFeHAiKTtjb25zdCByZWR1Y2VEZXNjcmlwdG9ycz0oZSxhKT0+e2NvbnN0IGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZSk7Y29uc3Qgbj17fTtmb3JFYWNoKGksKChpLG8pPT57bGV0IHM7aWYoKHM9YShpLG8sZSkpIT09ZmFsc2Upe25bb109c3x8aX19KSk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKX07Y29uc3QgZnJlZXplTWV0aG9kcz1lPT57cmVkdWNlRGVzY3JpcHRvcnMoZSwoKGEsaSk9PntpZihUKGUpJiZbImFyZ3VtZW50cyIsImNhbGxlciIsImNhbGxlZSJdLmluZGV4T2YoaSkhPT0tMSl7cmV0dXJuIGZhbHNlfWNvbnN0IG49ZVtpXTtpZighVChuKSlyZXR1cm47YS5lbnVtZXJhYmxlPWZhbHNlO2lmKCJ3cml0YWJsZSJpbiBhKXthLndyaXRhYmxlPWZhbHNlO3JldHVybn1pZighYS5zZXQpe2Euc2V0PSgpPT57dGhyb3cgRXJyb3IoIkNhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kICciK2krIiciKX19fSkpfTtjb25zdCB0b09iamVjdFNldD0oZSxhKT0+e2NvbnN0IGk9e307Y29uc3QgZGVmaW5lPWU9PntlLmZvckVhY2goKGU9PntpW2VdPXRydWV9KSl9O18oZSk/ZGVmaW5lKGUpOmRlZmluZShTdHJpbmcoZSkuc3BsaXQoYSkpO3JldHVybiBpfTtjb25zdCBub29wPSgpPT57fTtjb25zdCB0b0Zpbml0ZU51bWJlcj0oZSxhKT0+ZSE9bnVsbCYmTnVtYmVyLmlzRmluaXRlKGU9K2UpP2U6YTtjb25zdCBWPSJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7Y29uc3QgJD0iMDEyMzQ1Njc4OSI7Y29uc3QgSz17RElHSVQ6JCxBTFBIQTpWLEFMUEhBX0RJR0lUOlYrVi50b1VwcGVyQ2FzZSgpKyR9O2NvbnN0IGdlbmVyYXRlU3RyaW5nPShlPTE2LGE9Sy5BTFBIQV9ESUdJVCk9PntsZXQgaT0iIjtjb25zdHtsZW5ndGg6bn09YTt3aGlsZShlLS0pe2krPWFbTWF0aC5yYW5kb20oKSpufDBdfXJldHVybiBpfTtmdW5jdGlvbiBpc1NwZWNDb21wbGlhbnRGb3JtKGUpe3JldHVybiEhKGUmJlQoZS5hcHBlbmQpJiZlW1N5bWJvbC50b1N0cmluZ1RhZ109PT0iRm9ybURhdGEiJiZlW1N5bWJvbC5pdGVyYXRvcl0pfWNvbnN0IHRvSlNPTk9iamVjdD1lPT57Y29uc3QgYT1uZXcgQXJyYXkoMTApO2NvbnN0IHZpc2l0PShlLGkpPT57aWYoaXNPYmplY3QoZSkpe2lmKGEuaW5kZXhPZihlKT49MCl7cmV0dXJufWlmKCEoInRvSlNPTiJpbiBlKSl7YVtpXT1lO2NvbnN0IG49XyhlKT9bXTp7fTtmb3JFYWNoKGUsKChlLGEpPT57Y29uc3Qgbz12aXNpdChlLGkrMSk7IWoobykmJihuW2FdPW8pfSkpO2FbaV09dW5kZWZpbmVkO3JldHVybiBufX1yZXR1cm4gZX07cmV0dXJuIHZpc2l0KGUsMCl9O2NvbnN0IFc9a2luZE9mVGVzdCgiQXN5bmNGdW5jdGlvbiIpO2NvbnN0IGlzVGhlbmFibGU9ZT0+ZSYmKGlzT2JqZWN0KGUpfHxUKGUpKSYmVChlLnRoZW4pJiZUKGUuY2F0Y2gpO2NvbnN0IEo9e2lzQXJyYXk6Xyxpc0FycmF5QnVmZmVyOlIsaXNCdWZmZXI6aXNCdWZmZXIsaXNGb3JtRGF0YTppc0Zvcm1EYXRhLGlzQXJyYXlCdWZmZXJWaWV3OmlzQXJyYXlCdWZmZXJWaWV3LGlzU3RyaW5nOlMsaXNOdW1iZXI6QSxpc0Jvb2xlYW46aXNCb29sZWFuLGlzT2JqZWN0OmlzT2JqZWN0LGlzUGxhaW5PYmplY3Q6aXNQbGFpbk9iamVjdCxpc1JlYWRhYmxlU3RyZWFtOkQsaXNSZXF1ZXN0OkYsaXNSZXNwb25zZTpVLGlzSGVhZGVyczpCLGlzVW5kZWZpbmVkOmosaXNEYXRlOkMsaXNGaWxlOk8saXNCbG9iOnosaXNSZWdFeHA6TSxpc0Z1bmN0aW9uOlQsaXNTdHJlYW06aXNTdHJlYW0saXNVUkxTZWFyY2hQYXJhbXM6cSxpc1R5cGVkQXJyYXk6Tixpc0ZpbGVMaXN0OkwsZm9yRWFjaDpmb3JFYWNoLG1lcmdlOm1lcmdlLGV4dGVuZDpleHRlbmQsdHJpbTp0cmltLHN0cmlwQk9NOnN0cmlwQk9NLGluaGVyaXRzOmluaGVyaXRzLHRvRmxhdE9iamVjdDp0b0ZsYXRPYmplY3Qsa2luZE9mOkUsa2luZE9mVGVzdDpraW5kT2ZUZXN0LGVuZHNXaXRoOmVuZHNXaXRoLHRvQXJyYXk6dG9BcnJheSxmb3JFYWNoRW50cnk6Zm9yRWFjaEVudHJ5LG1hdGNoQWxsOm1hdGNoQWxsLGlzSFRNTEZvcm06SSxoYXNPd25Qcm9wZXJ0eTpILGhhc093blByb3A6SCxyZWR1Y2VEZXNjcmlwdG9yczpyZWR1Y2VEZXNjcmlwdG9ycyxmcmVlemVNZXRob2RzOmZyZWV6ZU1ldGhvZHMsdG9PYmplY3RTZXQ6dG9PYmplY3RTZXQsdG9DYW1lbENhc2U6dG9DYW1lbENhc2Usbm9vcDpub29wLHRvRmluaXRlTnVtYmVyOnRvRmluaXRlTnVtYmVyLGZpbmRLZXk6ZmluZEtleSxnbG9iYWw6UCxpc0NvbnRleHREZWZpbmVkOmlzQ29udGV4dERlZmluZWQsQUxQSEFCRVQ6SyxnZW5lcmF0ZVN0cmluZzpnZW5lcmF0ZVN0cmluZyxpc1NwZWNDb21wbGlhbnRGb3JtOmlzU3BlY0NvbXBsaWFudEZvcm0sdG9KU09OT2JqZWN0OnRvSlNPTk9iamVjdCxpc0FzeW5jRm46Vyxpc1RoZW5hYmxlOmlzVGhlbmFibGV9O2Z1bmN0aW9uIEF4aW9zRXJyb3IoZSxhLGksbixvKXtFcnJvci5jYWxsKHRoaXMpO2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpfWVsc2V7dGhpcy5zdGFjaz0obmV3IEVycm9yKS5zdGFja310aGlzLm1lc3NhZ2U9ZTt0aGlzLm5hbWU9IkF4aW9zRXJyb3IiO2EmJih0aGlzLmNvZGU9YSk7aSYmKHRoaXMuY29uZmlnPWkpO24mJih0aGlzLnJlcXVlc3Q9bik7byYmKHRoaXMucmVzcG9uc2U9byl9Si5pbmhlcml0cyhBeGlvc0Vycm9yLEVycm9yLHt0b0pTT046ZnVuY3Rpb24gdG9KU09OKCl7cmV0dXJue21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOkoudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19fSk7Y29uc3QgRz1BeGlvc0Vycm9yLnByb3RvdHlwZTtjb25zdCBYPXt9O1siRVJSX0JBRF9PUFRJT05fVkFMVUUiLCJFUlJfQkFEX09QVElPTiIsIkVDT05OQUJPUlRFRCIsIkVUSU1FRE9VVCIsIkVSUl9ORVRXT1JLIiwiRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUyIsIkVSUl9ERVBSRUNBVEVEIiwiRVJSX0JBRF9SRVNQT05TRSIsIkVSUl9CQURfUkVRVUVTVCIsIkVSUl9DQU5DRUxFRCIsIkVSUl9OT1RfU1VQUE9SVCIsIkVSUl9JTlZBTElEX1VSTCJdLmZvckVhY2goKGU9PntYW2VdPXt2YWx1ZTplfX0pKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhBeGlvc0Vycm9yLFgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShHLCJpc0F4aW9zRXJyb3IiLHt2YWx1ZTp0cnVlfSk7QXhpb3NFcnJvci5mcm9tPShlLGEsaSxuLG8scyk9Pntjb25zdCB0PU9iamVjdC5jcmVhdGUoRyk7Si50b0ZsYXRPYmplY3QoZSx0LChmdW5jdGlvbiBmaWx0ZXIoZSl7cmV0dXJuIGUhPT1FcnJvci5wcm90b3R5cGV9KSwoZT0+ZSE9PSJpc0F4aW9zRXJyb3IiKSk7QXhpb3NFcnJvci5jYWxsKHQsZS5tZXNzYWdlLGEsaSxuLG8pO3QuY2F1c2U9ZTt0Lm5hbWU9ZS5uYW1lO3MmJk9iamVjdC5hc3NpZ24odCxzKTtyZXR1cm4gdH07ZnVuY3Rpb24gaXNWaXNpdGFibGUoZSl7cmV0dXJuIEouaXNQbGFpbk9iamVjdChlKXx8Si5pc0FycmF5KGUpfWZ1bmN0aW9uIHJlbW92ZUJyYWNrZXRzKGUpe3JldHVybiBKLmVuZHNXaXRoKGUsIltdIik/ZS5zbGljZSgwLC0yKTplfWZ1bmN0aW9uIHJlbmRlcktleShlLGEsaSl7aWYoIWUpcmV0dXJuIGE7cmV0dXJuIGUuY29uY2F0KGEpLm1hcCgoZnVuY3Rpb24gZWFjaChlLGEpe2U9cmVtb3ZlQnJhY2tldHMoZSk7cmV0dXJuIWkmJmE/IlsiK2UrIl0iOmV9KSkuam9pbihpPyIuIjoiIil9ZnVuY3Rpb24gaXNGbGF0QXJyYXkoZSl7cmV0dXJuIEouaXNBcnJheShlKSYmIWUuc29tZShpc1Zpc2l0YWJsZSl9Y29uc3QgWT1KLnRvRmxhdE9iamVjdChKLHt9LG51bGwsKGZ1bmN0aW9uIGZpbHRlcihlKXtyZXR1cm4vXmlzW0EtWl0vLnRlc3QoZSl9KSk7ZnVuY3Rpb24gdG9Gb3JtRGF0YShlLGEsaSl7aWYoIUouaXNPYmplY3QoZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoInRhcmdldCBtdXN0IGJlIGFuIG9iamVjdCIpfWE9YXx8bmV3KG1bImRlZmF1bHQiXXx8Rm9ybURhdGEpO2k9Si50b0ZsYXRPYmplY3QoaSx7bWV0YVRva2Vuczp0cnVlLGRvdHM6ZmFsc2UsaW5kZXhlczpmYWxzZX0sZmFsc2UsKGZ1bmN0aW9uIGRlZmluZWQoZSxhKXtyZXR1cm4hSi5pc1VuZGVmaW5lZChhW2VdKX0pKTtjb25zdCBuPWkubWV0YVRva2Vucztjb25zdCBvPWkudmlzaXRvcnx8ZGVmYXVsdFZpc2l0b3I7Y29uc3Qgcz1pLmRvdHM7Y29uc3QgdD1pLmluZGV4ZXM7Y29uc3Qgcj1pLkJsb2J8fHR5cGVvZiBCbG9iIT09InVuZGVmaW5lZCImJkJsb2I7Y29uc3QgYz1yJiZKLmlzU3BlY0NvbXBsaWFudEZvcm0oYSk7aWYoIUouaXNGdW5jdGlvbihvKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigidmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBjb252ZXJ0VmFsdWUoZSl7aWYoZT09PW51bGwpcmV0dXJuIiI7aWYoSi5pc0RhdGUoZSkpe3JldHVybiBlLnRvSVNPU3RyaW5nKCl9aWYoIWMmJkouaXNCbG9iKGUpKXt0aHJvdyBuZXcgQXhpb3NFcnJvcigiQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC4iKX1pZihKLmlzQXJyYXlCdWZmZXIoZSl8fEouaXNUeXBlZEFycmF5KGUpKXtyZXR1cm4gYyYmdHlwZW9mIEJsb2I9PT0iZnVuY3Rpb24iP25ldyBCbG9iKFtlXSk6QnVmZmVyLmZyb20oZSl9cmV0dXJuIGV9ZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IoZSxpLG8pe2xldCByPWU7aWYoZSYmIW8mJnR5cGVvZiBlPT09Im9iamVjdCIpe2lmKEouZW5kc1dpdGgoaSwie30iKSl7aT1uP2k6aS5zbGljZSgwLC0yKTtlPUpTT04uc3RyaW5naWZ5KGUpfWVsc2UgaWYoSi5pc0FycmF5KGUpJiZpc0ZsYXRBcnJheShlKXx8KEouaXNGaWxlTGlzdChlKXx8Si5lbmRzV2l0aChpLCJbXSIpKSYmKHI9Si50b0FycmF5KGUpKSl7aT1yZW1vdmVCcmFja2V0cyhpKTtyLmZvckVhY2goKGZ1bmN0aW9uIGVhY2goZSxuKXshKEouaXNVbmRlZmluZWQoZSl8fGU9PT1udWxsKSYmYS5hcHBlbmQodD09PXRydWU/cmVuZGVyS2V5KFtpXSxuLHMpOnQ9PT1udWxsP2k6aSsiW10iLGNvbnZlcnRWYWx1ZShlKSl9KSk7cmV0dXJuIGZhbHNlfX1pZihpc1Zpc2l0YWJsZShlKSl7cmV0dXJuIHRydWV9YS5hcHBlbmQocmVuZGVyS2V5KG8saSxzKSxjb252ZXJ0VmFsdWUoZSkpO3JldHVybiBmYWxzZX1jb25zdCBwPVtdO2NvbnN0IGw9T2JqZWN0LmFzc2lnbihZLHtkZWZhdWx0VmlzaXRvcjpkZWZhdWx0VmlzaXRvcixjb252ZXJ0VmFsdWU6Y29udmVydFZhbHVlLGlzVmlzaXRhYmxlOmlzVmlzaXRhYmxlfSk7ZnVuY3Rpb24gYnVpbGQoZSxpKXtpZihKLmlzVW5kZWZpbmVkKGUpKXJldHVybjtpZihwLmluZGV4T2YoZSkhPT0tMSl7dGhyb3cgRXJyb3IoIkNpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAiK2kuam9pbigiLiIpKX1wLnB1c2goZSk7Si5mb3JFYWNoKGUsKGZ1bmN0aW9uIGVhY2goZSxuKXtjb25zdCBzPSEoSi5pc1VuZGVmaW5lZChlKXx8ZT09PW51bGwpJiZvLmNhbGwoYSxlLEouaXNTdHJpbmcobik/bi50cmltKCk6bixpLGwpO2lmKHM9PT10cnVlKXtidWlsZChlLGk/aS5jb25jYXQobik6W25dKX19KSk7cC5wb3AoKX1pZighSi5pc09iamVjdChlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiZGF0YSBtdXN0IGJlIGFuIG9iamVjdCIpfWJ1aWxkKGUpO3JldHVybiBhfWZ1bmN0aW9uIGVuY29kZSQxKGUpe2NvbnN0IGE9eyIhIjoiJTIxIiwiJyI6IiUyNyIsIigiOiIlMjgiLCIpIjoiJTI5IiwifiI6IiU3RSIsIiUyMCI6IisiLCIlMDAiOiJcMCJ9O3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvWyEnKCl+XXwlMjB8JTAwL2csKGZ1bmN0aW9uIHJlcGxhY2VyKGUpe3JldHVybiBhW2VdfSkpfWZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKGUsYSl7dGhpcy5fcGFpcnM9W107ZSYmdG9Gb3JtRGF0YShlLHRoaXMsYSl9Y29uc3QgWj1BeGlvc1VSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGU7Wi5hcHBlbmQ9ZnVuY3Rpb24gYXBwZW5kKGUsYSl7dGhpcy5fcGFpcnMucHVzaChbZSxhXSl9O1oudG9TdHJpbmc9ZnVuY3Rpb24gdG9TdHJpbmcoZSl7Y29uc3QgYT1lP2Z1bmN0aW9uKGEpe3JldHVybiBlLmNhbGwodGhpcyxhLGVuY29kZSQxKX06ZW5jb2RlJDE7cmV0dXJuIHRoaXMuX3BhaXJzLm1hcCgoZnVuY3Rpb24gZWFjaChlKXtyZXR1cm4gYShlWzBdKSsiPSIrYShlWzFdKX0pLCIiKS5qb2luKCImIil9O2Z1bmN0aW9uIGVuY29kZShlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTIwL2csIisiKS5yZXBsYWNlKC8lNUIvZ2ksIlsiKS5yZXBsYWNlKC8lNUQvZ2ksIl0iKX1mdW5jdGlvbiBidWlsZFVSTChlLGEsaSl7aWYoIWEpe3JldHVybiBlfWNvbnN0IG49aSYmaS5lbmNvZGV8fGVuY29kZTtjb25zdCBvPWkmJmkuc2VyaWFsaXplO2xldCBzO2lmKG8pe3M9byhhLGkpfWVsc2V7cz1KLmlzVVJMU2VhcmNoUGFyYW1zKGEpP2EudG9TdHJpbmcoKTpuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMoYSxpKS50b1N0cmluZyhuKX1pZihzKXtjb25zdCBhPWUuaW5kZXhPZigiIyIpO2lmKGEhPT0tMSl7ZT1lLnNsaWNlKDAsYSl9ZSs9KGUuaW5kZXhPZigiPyIpPT09LTE/Ij8iOiImIikrc31yZXR1cm4gZX1jbGFzcyBJbnRlcmNlcHRvck1hbmFnZXJ7Y29uc3RydWN0b3IoKXt0aGlzLmhhbmRsZXJzPVtdfXVzZShlLGEsaSl7dGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6ZSxyZWplY3RlZDphLHN5bmNocm9ub3VzOmk/aS5zeW5jaHJvbm91czpmYWxzZSxydW5XaGVuOmk/aS5ydW5XaGVuOm51bGx9KTtyZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGgtMX1lamVjdChlKXtpZih0aGlzLmhhbmRsZXJzW2VdKXt0aGlzLmhhbmRsZXJzW2VdPW51bGx9fWNsZWFyKCl7aWYodGhpcy5oYW5kbGVycyl7dGhpcy5oYW5kbGVycz1bXX19Zm9yRWFjaChlKXtKLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoYSl7aWYoYSE9PW51bGwpe2UoYSl9fSkpfX1jb25zdCBRPUludGVyY2VwdG9yTWFuYWdlcjtjb25zdCBlZT17c2lsZW50SlNPTlBhcnNpbmc6dHJ1ZSxmb3JjZWRKU09OUGFyc2luZzp0cnVlLGNsYXJpZnlUaW1lb3V0RXJyb3I6ZmFsc2V9O2NvbnN0IGFlPWZbImRlZmF1bHQiXS5VUkxTZWFyY2hQYXJhbXM7Y29uc3QgaWU9e2lzTm9kZTp0cnVlLGNsYXNzZXM6e1VSTFNlYXJjaFBhcmFtczphZSxGb3JtRGF0YTptWyJkZWZhdWx0Il0sQmxvYjp0eXBlb2YgQmxvYiE9PSJ1bmRlZmluZWQiJiZCbG9ifHxudWxsfSxwcm90b2NvbHM6WyJodHRwIiwiaHR0cHMiLCJmaWxlIiwiZGF0YSJdfTtjb25zdCBuZT10eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCImJnR5cGVvZiBkb2N1bWVudCE9PSJ1bmRlZmluZWQiO2NvbnN0IG9lPShlPT5uZSYmWyJSZWFjdE5hdGl2ZSIsIk5hdGl2ZVNjcmlwdCIsIk5TIl0uaW5kZXhPZihlKTwwKSh0eXBlb2YgbmF2aWdhdG9yIT09InVuZGVmaW5lZCImJm5hdmlnYXRvci5wcm9kdWN0KTtjb25zdCBzZT0oKCk9PnR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSE9PSJ1bmRlZmluZWQiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHM9PT0iZnVuY3Rpb24iKSgpO2NvbnN0IHRlPW5lJiZ3aW5kb3cubG9jYXRpb24uaHJlZnx8Imh0dHA6Ly9sb2NhbGhvc3QiO2NvbnN0IHJlPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGhhc0Jyb3dzZXJFbnY6bmUsaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52OnNlLGhhc1N0YW5kYXJkQnJvd3NlckVudjpvZSxvcmlnaW46dGV9KTtjb25zdCBjZT17Li4ucmUsLi4uaWV9O2Z1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZSxhKXtyZXR1cm4gdG9Gb3JtRGF0YShlLG5ldyBjZS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcyxPYmplY3QuYXNzaWduKHt2aXNpdG9yOmZ1bmN0aW9uKGUsYSxpLG4pe2lmKGNlLmlzTm9kZSYmSi5pc0J1ZmZlcihlKSl7dGhpcy5hcHBlbmQoYSxlLnRvU3RyaW5nKCJiYXNlNjQiKSk7cmV0dXJuIGZhbHNlfXJldHVybiBuLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGEpKX1mdW5jdGlvbiBwYXJzZVByb3BQYXRoKGUpe3JldHVybiBKLm1hdGNoQWxsKC9cdyt8XFsoXHcqKV0vZyxlKS5tYXAoKGU9PmVbMF09PT0iW10iPyIiOmVbMV18fGVbMF0pKX1mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGUpe2NvbnN0IGE9e307Y29uc3QgaT1PYmplY3Qua2V5cyhlKTtsZXQgbjtjb25zdCBvPWkubGVuZ3RoO2xldCBzO2ZvcihuPTA7bjxvO24rKyl7cz1pW25dO2Fbc109ZVtzXX1yZXR1cm4gYX1mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihlKXtmdW5jdGlvbiBidWlsZFBhdGgoZSxhLGksbil7bGV0IG89ZVtuKytdO2lmKG89PT0iX19wcm90b19fIilyZXR1cm4gdHJ1ZTtjb25zdCBzPU51bWJlci5pc0Zpbml0ZSgrbyk7Y29uc3QgdD1uPj1lLmxlbmd0aDtvPSFvJiZKLmlzQXJyYXkoaSk/aS5sZW5ndGg6bztpZih0KXtpZihKLmhhc093blByb3AoaSxvKSl7aVtvXT1baVtvXSxhXX1lbHNle2lbb109YX1yZXR1cm4hc31pZighaVtvXXx8IUouaXNPYmplY3QoaVtvXSkpe2lbb109W119Y29uc3Qgcj1idWlsZFBhdGgoZSxhLGlbb10sbik7aWYociYmSi5pc0FycmF5KGlbb10pKXtpW29dPWFycmF5VG9PYmplY3QoaVtvXSl9cmV0dXJuIXN9aWYoSi5pc0Zvcm1EYXRhKGUpJiZKLmlzRnVuY3Rpb24oZS5lbnRyaWVzKSl7Y29uc3QgYT17fTtKLmZvckVhY2hFbnRyeShlLCgoZSxpKT0+e2J1aWxkUGF0aChwYXJzZVByb3BQYXRoKGUpLGksYSwwKX0pKTtyZXR1cm4gYX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkoZSxhLGkpe2lmKEouaXNTdHJpbmcoZSkpe3RyeXsoYXx8SlNPTi5wYXJzZSkoZSk7cmV0dXJuIEoudHJpbShlKX1jYXRjaChlKXtpZihlLm5hbWUhPT0iU3ludGF4RXJyb3IiKXt0aHJvdyBlfX19cmV0dXJuKGl8fEpTT04uc3RyaW5naWZ5KShlKX1jb25zdCBwZT17dHJhbnNpdGlvbmFsOmVlLGFkYXB0ZXI6WyJ4aHIiLCJodHRwIiwiZmV0Y2giXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGUsYSl7Y29uc3QgaT1hLmdldENvbnRlbnRUeXBlKCl8fCIiO2NvbnN0IG49aS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIik+LTE7Y29uc3Qgbz1KLmlzT2JqZWN0KGUpO2lmKG8mJkouaXNIVE1MRm9ybShlKSl7ZT1uZXcgRm9ybURhdGEoZSl9Y29uc3Qgcz1KLmlzRm9ybURhdGEoZSk7aWYocyl7cmV0dXJuIG4/SlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZSkpOmV9aWYoSi5pc0FycmF5QnVmZmVyKGUpfHxKLmlzQnVmZmVyKGUpfHxKLmlzU3RyZWFtKGUpfHxKLmlzRmlsZShlKXx8Si5pc0Jsb2IoZSl8fEouaXNSZWFkYWJsZVN0cmVhbShlKSl7cmV0dXJuIGV9aWYoSi5pc0FycmF5QnVmZmVyVmlldyhlKSl7cmV0dXJuIGUuYnVmZmVyfWlmKEouaXNVUkxTZWFyY2hQYXJhbXMoZSkpe2Euc2V0Q29udGVudFR5cGUoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04IixmYWxzZSk7cmV0dXJuIGUudG9TdHJpbmcoKX1sZXQgdDtpZihvKXtpZihpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpPi0xKXtyZXR1cm4gdG9VUkxFbmNvZGVkRm9ybShlLHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCl9aWYoKHQ9Si5pc0ZpbGVMaXN0KGUpKXx8aS5pbmRleE9mKCJtdWx0aXBhcnQvZm9ybS1kYXRhIik+LTEpe2NvbnN0IGE9dGhpcy5lbnYmJnRoaXMuZW52LkZvcm1EYXRhO3JldHVybiB0b0Zvcm1EYXRhKHQ/eyJmaWxlc1tdIjplfTplLGEmJm5ldyBhLHRoaXMuZm9ybVNlcmlhbGl6ZXIpfX1pZihvfHxuKXthLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi9qc29uIixmYWxzZSk7cmV0dXJuIHN0cmluZ2lmeVNhZmVseShlKX1yZXR1cm4gZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShlKXtjb25zdCBhPXRoaXMudHJhbnNpdGlvbmFsfHxwZS50cmFuc2l0aW9uYWw7Y29uc3QgaT1hJiZhLmZvcmNlZEpTT05QYXJzaW5nO2NvbnN0IG49dGhpcy5yZXNwb25zZVR5cGU9PT0ianNvbiI7aWYoSi5pc1Jlc3BvbnNlKGUpfHxKLmlzUmVhZGFibGVTdHJlYW0oZSkpe3JldHVybiBlfWlmKGUmJkouaXNTdHJpbmcoZSkmJihpJiYhdGhpcy5yZXNwb25zZVR5cGV8fG4pKXtjb25zdCBpPWEmJmEuc2lsZW50SlNPTlBhcnNpbmc7Y29uc3Qgbz0haSYmbjt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7aWYobyl7aWYoZS5uYW1lPT09IlN5bnRheEVycm9yIil7dGhyb3cgQXhpb3NFcnJvci5mcm9tKGUsQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLHRoaXMsbnVsbCx0aGlzLnJlc3BvbnNlKX10aHJvdyBlfX19cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6IlhTUkYtVE9LRU4iLHhzcmZIZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4iLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSxlbnY6e0Zvcm1EYXRhOmNlLmNsYXNzZXMuRm9ybURhdGEsQmxvYjpjZS5jbGFzc2VzLkJsb2J9LHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKGUpe3JldHVybiBlPj0yMDAmJmU8MzAwfSxoZWFkZXJzOntjb21tb246e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiwiQ29udGVudC1UeXBlIjp1bmRlZmluZWR9fX07Si5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsInBvc3QiLCJwdXQiLCJwYXRjaCJdLChlPT57cGUuaGVhZGVyc1tlXT17fX0pKTtjb25zdCBsZT1wZTtjb25zdCB1ZT1KLnRvT2JqZWN0U2V0KFsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il0pO2NvbnN0IHBhcnNlSGVhZGVycz1lPT57Y29uc3QgYT17fTtsZXQgaTtsZXQgbjtsZXQgbztlJiZlLnNwbGl0KCJcbiIpLmZvckVhY2goKGZ1bmN0aW9uIHBhcnNlcihlKXtvPWUuaW5kZXhPZigiOiIpO2k9ZS5zdWJzdHJpbmcoMCxvKS50cmltKCkudG9Mb3dlckNhc2UoKTtuPWUuc3Vic3RyaW5nKG8rMSkudHJpbSgpO2lmKCFpfHxhW2ldJiZ1ZVtpXSl7cmV0dXJufWlmKGk9PT0ic2V0LWNvb2tpZSIpe2lmKGFbaV0pe2FbaV0ucHVzaChuKX1lbHNle2FbaV09W25dfX1lbHNle2FbaV09YVtpXT9hW2ldKyIsICIrbjpufX0pKTtyZXR1cm4gYX07Y29uc3QgZGU9U3ltYm9sKCJpbnRlcm5hbHMiKTtmdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoZSl7cmV0dXJuIGUmJlN0cmluZyhlKS50cmltKCkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBub3JtYWxpemVWYWx1ZShlKXtpZihlPT09ZmFsc2V8fGU9PW51bGwpe3JldHVybiBlfXJldHVybiBKLmlzQXJyYXkoZSk/ZS5tYXAobm9ybWFsaXplVmFsdWUpOlN0cmluZyhlKX1mdW5jdGlvbiBwYXJzZVRva2VucyhlKXtjb25zdCBhPU9iamVjdC5jcmVhdGUobnVsbCk7Y29uc3QgaT0vKFteXHMsOz1dKylccyooPzo9XHMqKFteLDtdKykpPy9nO2xldCBuO3doaWxlKG49aS5leGVjKGUpKXthW25bMV1dPW5bMl19cmV0dXJuIGF9Y29uc3QgaXNWYWxpZEhlYWRlck5hbWU9ZT0+L15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChlLnRyaW0oKSk7ZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShlLGEsaSxuLG8pe2lmKEouaXNGdW5jdGlvbihuKSl7cmV0dXJuIG4uY2FsbCh0aGlzLGEsaSl9aWYobyl7YT1pfWlmKCFKLmlzU3RyaW5nKGEpKXJldHVybjtpZihKLmlzU3RyaW5nKG4pKXtyZXR1cm4gYS5pbmRleE9mKG4pIT09LTF9aWYoSi5pc1JlZ0V4cChuKSl7cmV0dXJuIG4udGVzdChhKX19ZnVuY3Rpb24gZm9ybWF0SGVhZGVyKGUpe3JldHVybiBlLnRyaW0oKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XGRdKShcdyopL2csKChlLGEsaSk9PmEudG9VcHBlckNhc2UoKStpKSl9ZnVuY3Rpb24gYnVpbGRBY2Nlc3NvcnMoZSxhKXtjb25zdCBpPUoudG9DYW1lbENhc2UoIiAiK2EpO1siZ2V0Iiwic2V0IiwiaGFzIl0uZm9yRWFjaCgobj0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4raSx7dmFsdWU6ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0aGlzW25dLmNhbGwodGhpcyxhLGUsaSxvKX0sY29uZmlndXJhYmxlOnRydWV9KX0pKX1jbGFzcyBBeGlvc0hlYWRlcnN7Y29uc3RydWN0b3IoZSl7ZSYmdGhpcy5zZXQoZSl9c2V0KGUsYSxpKXtjb25zdCBuPXRoaXM7ZnVuY3Rpb24gc2V0SGVhZGVyKGUsYSxpKXtjb25zdCBvPW5vcm1hbGl6ZUhlYWRlcihhKTtpZighbyl7dGhyb3cgbmV3IEVycm9yKCJoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpfWNvbnN0IHM9Si5maW5kS2V5KG4sbyk7aWYoIXN8fG5bc109PT11bmRlZmluZWR8fGk9PT10cnVlfHxpPT09dW5kZWZpbmVkJiZuW3NdIT09ZmFsc2Upe25bc3x8YV09bm9ybWFsaXplVmFsdWUoZSl9fWNvbnN0IHNldEhlYWRlcnM9KGUsYSk9PkouZm9yRWFjaChlLCgoZSxpKT0+c2V0SGVhZGVyKGUsaSxhKSkpO2lmKEouaXNQbGFpbk9iamVjdChlKXx8ZSBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3Ipe3NldEhlYWRlcnMoZSxhKX1lbHNlIGlmKEouaXNTdHJpbmcoZSkmJihlPWUudHJpbSgpKSYmIWlzVmFsaWRIZWFkZXJOYW1lKGUpKXtzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhlKSxhKX1lbHNlIGlmKEouaXNIZWFkZXJzKGUpKXtmb3IoY29uc3RbYSxuXW9mIGUuZW50cmllcygpKXtzZXRIZWFkZXIobixhLGkpfX1lbHNle2UhPW51bGwmJnNldEhlYWRlcihhLGUsaSl9cmV0dXJuIHRoaXN9Z2V0KGUsYSl7ZT1ub3JtYWxpemVIZWFkZXIoZSk7aWYoZSl7Y29uc3QgaT1KLmZpbmRLZXkodGhpcyxlKTtpZihpKXtjb25zdCBlPXRoaXNbaV07aWYoIWEpe3JldHVybiBlfWlmKGE9PT10cnVlKXtyZXR1cm4gcGFyc2VUb2tlbnMoZSl9aWYoSi5pc0Z1bmN0aW9uKGEpKXtyZXR1cm4gYS5jYWxsKHRoaXMsZSxpKX1pZihKLmlzUmVnRXhwKGEpKXtyZXR1cm4gYS5leGVjKGUpfXRocm93IG5ldyBUeXBlRXJyb3IoInBhcnNlciBtdXN0IGJlIGJvb2xlYW58cmVnZXhwfGZ1bmN0aW9uIil9fX1oYXMoZSxhKXtlPW5vcm1hbGl6ZUhlYWRlcihlKTtpZihlKXtjb25zdCBpPUouZmluZEtleSh0aGlzLGUpO3JldHVybiEhKGkmJnRoaXNbaV0hPT11bmRlZmluZWQmJighYXx8bWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLHRoaXNbaV0saSxhKSkpfXJldHVybiBmYWxzZX1kZWxldGUoZSxhKXtjb25zdCBpPXRoaXM7bGV0IG49ZmFsc2U7ZnVuY3Rpb24gZGVsZXRlSGVhZGVyKGUpe2U9bm9ybWFsaXplSGVhZGVyKGUpO2lmKGUpe2NvbnN0IG89Si5maW5kS2V5KGksZSk7aWYobyYmKCFhfHxtYXRjaEhlYWRlclZhbHVlKGksaVtvXSxvLGEpKSl7ZGVsZXRlIGlbb107bj10cnVlfX19aWYoSi5pc0FycmF5KGUpKXtlLmZvckVhY2goZGVsZXRlSGVhZGVyKX1lbHNle2RlbGV0ZUhlYWRlcihlKX1yZXR1cm4gbn1jbGVhcihlKXtjb25zdCBhPU9iamVjdC5rZXlzKHRoaXMpO2xldCBpPWEubGVuZ3RoO2xldCBuPWZhbHNlO3doaWxlKGktLSl7Y29uc3Qgbz1hW2ldO2lmKCFlfHxtYXRjaEhlYWRlclZhbHVlKHRoaXMsdGhpc1tvXSxvLGUsdHJ1ZSkpe2RlbGV0ZSB0aGlzW29dO249dHJ1ZX19cmV0dXJuIG59bm9ybWFsaXplKGUpe2NvbnN0IGE9dGhpcztjb25zdCBpPXt9O0ouZm9yRWFjaCh0aGlzLCgobixvKT0+e2NvbnN0IHM9Si5maW5kS2V5KGksbyk7aWYocyl7YVtzXT1ub3JtYWxpemVWYWx1ZShuKTtkZWxldGUgYVtvXTtyZXR1cm59Y29uc3QgdD1lP2Zvcm1hdEhlYWRlcihvKTpTdHJpbmcobykudHJpbSgpO2lmKHQhPT1vKXtkZWxldGUgYVtvXX1hW3RdPW5vcm1hbGl6ZVZhbHVlKG4pO2lbdF09dHJ1ZX0pKTtyZXR1cm4gdGhpc31jb25jYXQoLi4uZSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsLi4uZSl9dG9KU09OKGUpe2NvbnN0IGE9T2JqZWN0LmNyZWF0ZShudWxsKTtKLmZvckVhY2godGhpcywoKGksbik9PntpIT1udWxsJiZpIT09ZmFsc2UmJihhW25dPWUmJkouaXNBcnJheShpKT9pLmpvaW4oIiwgIik6aSl9KSk7cmV0dXJuIGF9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpfXRvU3RyaW5nKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoKFtlLGFdKT0+ZSsiOiAiK2EpKS5qb2luKCJcbiIpfWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIkF4aW9zSGVhZGVycyJ9c3RhdGljIGZyb20oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0aGlzP2U6bmV3IHRoaXMoZSl9c3RhdGljIGNvbmNhdChlLC4uLmEpe2NvbnN0IGk9bmV3IHRoaXMoZSk7YS5mb3JFYWNoKChlPT5pLnNldChlKSkpO3JldHVybiBpfXN0YXRpYyBhY2Nlc3NvcihlKXtjb25zdCBhPXRoaXNbZGVdPXRoaXNbZGVdPXthY2Nlc3NvcnM6e319O2NvbnN0IGk9YS5hY2Nlc3NvcnM7Y29uc3Qgbj10aGlzLnByb3RvdHlwZTtmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihlKXtjb25zdCBhPW5vcm1hbGl6ZUhlYWRlcihlKTtpZighaVthXSl7YnVpbGRBY2Nlc3NvcnMobixlKTtpW2FdPXRydWV9fUouaXNBcnJheShlKT9lLmZvckVhY2goZGVmaW5lQWNjZXNzb3IpOmRlZmluZUFjY2Vzc29yKGUpO3JldHVybiB0aGlzfX1BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWyJDb250ZW50LVR5cGUiLCJDb250ZW50LUxlbmd0aCIsIkFjY2VwdCIsIkFjY2VwdC1FbmNvZGluZyIsIlVzZXItQWdlbnQiLCJBdXRob3JpemF0aW9uIl0pO0oucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwoKHt2YWx1ZTplfSxhKT0+e2xldCBpPWFbMF0udG9VcHBlckNhc2UoKSthLnNsaWNlKDEpO3JldHVybntnZXQ6KCk9PmUsc2V0KGUpe3RoaXNbaV09ZX19fSkpO0ouZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO2NvbnN0IG1lPUF4aW9zSGVhZGVycztmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGUsYSl7Y29uc3QgaT10aGlzfHxsZTtjb25zdCBuPWF8fGk7Y29uc3Qgbz1tZS5mcm9tKG4uaGVhZGVycyk7bGV0IHM9bi5kYXRhO0ouZm9yRWFjaChlLChmdW5jdGlvbiB0cmFuc2Zvcm0oZSl7cz1lLmNhbGwoaSxzLG8ubm9ybWFsaXplKCksYT9hLnN0YXR1czp1bmRlZmluZWQpfSkpO28ubm9ybWFsaXplKCk7cmV0dXJuIHN9ZnVuY3Rpb24gaXNDYW5jZWwoZSl7cmV0dXJuISEoZSYmZS5fX0NBTkNFTF9fKX1mdW5jdGlvbiBDYW5jZWxlZEVycm9yKGUsYSxpKXtBeGlvc0Vycm9yLmNhbGwodGhpcyxlPT1udWxsPyJjYW5jZWxlZCI6ZSxBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCxhLGkpO3RoaXMubmFtZT0iQ2FuY2VsZWRFcnJvciJ9Si5pbmhlcml0cyhDYW5jZWxlZEVycm9yLEF4aW9zRXJyb3Ise19fQ0FOQ0VMX186dHJ1ZX0pO2Z1bmN0aW9uIHNldHRsZShlLGEsaSl7Y29uc3Qgbj1pLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztpZighaS5zdGF0dXN8fCFufHxuKGkuc3RhdHVzKSl7ZShpKX1lbHNle2EobmV3IEF4aW9zRXJyb3IoIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgIitpLnN0YXR1cyxbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKGkuc3RhdHVzLzEwMCktNF0saS5jb25maWcsaS5yZXF1ZXN0LGkpKX19ZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTChlKXtyZXR1cm4vXihbYS16XVthLXpcZCtcLS5dKjopP1wvXC8vaS50ZXN0KGUpfWZ1bmN0aW9uIGNvbWJpbmVVUkxzKGUsYSl7cmV0dXJuIGE/ZS5yZXBsYWNlKC9cLz9cLyQvLCIiKSsiLyIrYS5yZXBsYWNlKC9eXC8rLywiIik6ZX1mdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGUsYSl7aWYoZSYmIWlzQWJzb2x1dGVVUkwoYSkpe3JldHVybiBjb21iaW5lVVJMcyhlLGEpfXJldHVybiBhfWNvbnN0IGZlPSIxLjcuMiI7ZnVuY3Rpb24gcGFyc2VQcm90b2NvbChlKXtjb25zdCBhPS9eKFstK1x3XXsxLDI1fSkoOj9cL1wvfDopLy5leGVjKGUpO3JldHVybiBhJiZhWzFdfHwiIn1jb25zdCB4ZT0vXig/OihbXjtdKyk7KT8oPzpbXjtdKzspPyhiYXNlNjR8KSwoW1xzXFNdKikkLztmdW5jdGlvbiBmcm9tRGF0YVVSSShlLGEsaSl7Y29uc3Qgbj1pJiZpLkJsb2J8fGNlLmNsYXNzZXMuQmxvYjtjb25zdCBvPXBhcnNlUHJvdG9jb2woZSk7aWYoYT09PXVuZGVmaW5lZCYmbil7YT10cnVlfWlmKG89PT0iZGF0YSIpe2U9by5sZW5ndGg/ZS5zbGljZShvLmxlbmd0aCsxKTplO2NvbnN0IGk9eGUuZXhlYyhlKTtpZighaSl7dGhyb3cgbmV3IEF4aW9zRXJyb3IoIkludmFsaWQgVVJMIixBeGlvc0Vycm9yLkVSUl9JTlZBTElEX1VSTCl9Y29uc3Qgcz1pWzFdO2NvbnN0IHQ9aVsyXTtjb25zdCByPWlbM107Y29uc3QgYz1CdWZmZXIuZnJvbShkZWNvZGVVUklDb21wb25lbnQociksdD8iYmFzZTY0IjoidXRmOCIpO2lmKGEpe2lmKCFuKXt0aHJvdyBuZXcgQXhpb3NFcnJvcigiQmxvYiBpcyBub3Qgc3VwcG9ydGVkIixBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCl9cmV0dXJuIG5ldyBuKFtjXSx7dHlwZTpzfSl9cmV0dXJuIGN9dGhyb3cgbmV3IEF4aW9zRXJyb3IoIlVuc3VwcG9ydGVkIHByb3RvY29sICIrbyxBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCl9ZnVuY3Rpb24gdGhyb3R0bGUoZSxhKXtsZXQgaT0wO2NvbnN0IG49MWUzL2E7bGV0IG89bnVsbDtyZXR1cm4gZnVuY3Rpb24gdGhyb3R0bGVkKCl7Y29uc3QgYT10aGlzPT09dHJ1ZTtjb25zdCBzPURhdGUubm93KCk7aWYoYXx8cy1pPm4pe2lmKG8pe2NsZWFyVGltZW91dChvKTtvPW51bGx9aT1zO3JldHVybiBlLmFwcGx5KG51bGwsYXJndW1lbnRzKX1pZighbyl7bz1zZXRUaW1lb3V0KCgoKT0+e289bnVsbDtpPURhdGUubm93KCk7cmV0dXJuIGUuYXBwbHkobnVsbCxhcmd1bWVudHMpfSksbi0ocy1pKSl9fX1mdW5jdGlvbiBzcGVlZG9tZXRlcihlLGEpe2U9ZXx8MTA7Y29uc3QgaT1uZXcgQXJyYXkoZSk7Y29uc3Qgbj1uZXcgQXJyYXkoZSk7bGV0IG89MDtsZXQgcz0wO2xldCB0O2E9YSE9PXVuZGVmaW5lZD9hOjFlMztyZXR1cm4gZnVuY3Rpb24gcHVzaChyKXtjb25zdCBjPURhdGUubm93KCk7Y29uc3QgcD1uW3NdO2lmKCF0KXt0PWN9aVtvXT1yO25bb109YztsZXQgbD1zO2xldCB1PTA7d2hpbGUobCE9PW8pe3UrPWlbbCsrXTtsPWwlZX1vPShvKzEpJWU7aWYobz09PXMpe3M9KHMrMSklZX1pZihjLXQ8YSl7cmV0dXJufWNvbnN0IGQ9cCYmYy1wO3JldHVybiBkP01hdGgucm91bmQodSoxZTMvZCk6dW5kZWZpbmVkfX1jb25zdCB2ZT1TeW1ib2woImludGVybmFscyIpO2NsYXNzIEF4aW9zVHJhbnNmb3JtU3RyZWFtIGV4dGVuZHMgeVsiZGVmYXVsdCJdLlRyYW5zZm9ybXtjb25zdHJ1Y3RvcihlKXtlPUoudG9GbGF0T2JqZWN0KGUse21heFJhdGU6MCxjaHVua1NpemU6NjQqMTAyNCxtaW5DaHVua1NpemU6MTAwLHRpbWVXaW5kb3c6NTAwLHRpY2tzUmF0ZToyLHNhbXBsZXNDb3VudDoxNX0sbnVsbCwoKGUsYSk9PiFKLmlzVW5kZWZpbmVkKGFbZV0pKSk7c3VwZXIoe3JlYWRhYmxlSGlnaFdhdGVyTWFyazplLmNodW5rU2l6ZX0pO2NvbnN0IGE9dGhpcztjb25zdCBpPXRoaXNbdmVdPXtsZW5ndGg6ZS5sZW5ndGgsdGltZVdpbmRvdzplLnRpbWVXaW5kb3csdGlja3NSYXRlOmUudGlja3NSYXRlLGNodW5rU2l6ZTplLmNodW5rU2l6ZSxtYXhSYXRlOmUubWF4UmF0ZSxtaW5DaHVua1NpemU6ZS5taW5DaHVua1NpemUsYnl0ZXNTZWVuOjAsaXNDYXB0dXJlZDpmYWxzZSxub3RpZmllZEJ5dGVzTG9hZGVkOjAsdHM6RGF0ZS5ub3coKSxieXRlczowLG9uUmVhZENhbGxiYWNrOm51bGx9O2NvbnN0IG49c3BlZWRvbWV0ZXIoaS50aWNrc1JhdGUqZS5zYW1wbGVzQ291bnQsaS50aW1lV2luZG93KTt0aGlzLm9uKCJuZXdMaXN0ZW5lciIsKGU9PntpZihlPT09InByb2dyZXNzIil7aWYoIWkuaXNDYXB0dXJlZCl7aS5pc0NhcHR1cmVkPXRydWV9fX0pKTtsZXQgbz0wO2kudXBkYXRlUHJvZ3Jlc3M9dGhyb3R0bGUoKGZ1bmN0aW9uIHRocm90dGxlZEhhbmRsZXIoKXtjb25zdCBlPWkubGVuZ3RoO2NvbnN0IHM9aS5ieXRlc1NlZW47Y29uc3QgdD1zLW87aWYoIXR8fGEuZGVzdHJveWVkKXJldHVybjtjb25zdCByPW4odCk7bz1zO3Byb2Nlc3MubmV4dFRpY2soKCgpPT57YS5lbWl0KCJwcm9ncmVzcyIse2xvYWRlZDpzLHRvdGFsOmUscHJvZ3Jlc3M6ZT9zL2U6dW5kZWZpbmVkLGJ5dGVzOnQscmF0ZTpyP3I6dW5kZWZpbmVkLGVzdGltYXRlZDpyJiZlJiZzPD1lPyhlLXMpL3I6dW5kZWZpbmVkLGxlbmd0aENvbXB1dGFibGU6ZSE9bnVsbH0pfSkpfSksaS50aWNrc1JhdGUpO2NvbnN0IG9uRmluaXNoPSgpPT57aS51cGRhdGVQcm9ncmVzcy5jYWxsKHRydWUpfTt0aGlzLm9uY2UoImVuZCIsb25GaW5pc2gpO3RoaXMub25jZSgiZXJyb3IiLG9uRmluaXNoKX1fcmVhZChlKXtjb25zdCBhPXRoaXNbdmVdO2lmKGEub25SZWFkQ2FsbGJhY2spe2Eub25SZWFkQ2FsbGJhY2soKX1yZXR1cm4gc3VwZXIuX3JlYWQoZSl9X3RyYW5zZm9ybShlLGEsaSl7Y29uc3Qgbj10aGlzO2NvbnN0IG89dGhpc1t2ZV07Y29uc3Qgcz1vLm1heFJhdGU7Y29uc3QgdD10aGlzLnJlYWRhYmxlSGlnaFdhdGVyTWFyaztjb25zdCByPW8udGltZVdpbmRvdztjb25zdCBjPTFlMy9yO2NvbnN0IHA9cy9jO2NvbnN0IGw9by5taW5DaHVua1NpemUhPT1mYWxzZT9NYXRoLm1heChvLm1pbkNodW5rU2l6ZSxwKi4wMSk6MDtmdW5jdGlvbiBwdXNoQ2h1bmsoZSxhKXtjb25zdCBpPUJ1ZmZlci5ieXRlTGVuZ3RoKGUpO28uYnl0ZXNTZWVuKz1pO28uYnl0ZXMrPWk7aWYoby5pc0NhcHR1cmVkKXtvLnVwZGF0ZVByb2dyZXNzKCl9aWYobi5wdXNoKGUpKXtwcm9jZXNzLm5leHRUaWNrKGEpfWVsc2V7by5vblJlYWRDYWxsYmFjaz0oKT0+e28ub25SZWFkQ2FsbGJhY2s9bnVsbDtwcm9jZXNzLm5leHRUaWNrKGEpfX19Y29uc3QgdHJhbnNmb3JtQ2h1bms9KGUsYSk9Pntjb25zdCBpPUJ1ZmZlci5ieXRlTGVuZ3RoKGUpO2xldCBuPW51bGw7bGV0IGM9dDtsZXQgdTtsZXQgZD0wO2lmKHMpe2NvbnN0IGU9RGF0ZS5ub3coKTtpZighby50c3x8KGQ9ZS1vLnRzKT49cil7by50cz1lO3U9cC1vLmJ5dGVzO28uYnl0ZXM9dTwwPy11OjA7ZD0wfXU9cC1vLmJ5dGVzfWlmKHMpe2lmKHU8PTApe3JldHVybiBzZXRUaW1lb3V0KCgoKT0+e2EobnVsbCxlKX0pLHItZCl9aWYodTxjKXtjPXV9fWlmKGMmJmk+YyYmaS1jPmwpe249ZS5zdWJhcnJheShjKTtlPWUuc3ViYXJyYXkoMCxjKX1wdXNoQ2h1bmsoZSxuPygpPT57cHJvY2Vzcy5uZXh0VGljayhhLG51bGwsbil9OmEpfTt0cmFuc2Zvcm1DaHVuayhlLChmdW5jdGlvbiB0cmFuc2Zvcm1OZXh0Q2h1bmsoZSxhKXtpZihlKXtyZXR1cm4gaShlKX1pZihhKXt0cmFuc2Zvcm1DaHVuayhhLHRyYW5zZm9ybU5leHRDaHVuayl9ZWxzZXtpKG51bGwpfX0pKX1zZXRMZW5ndGgoZSl7dGhpc1t2ZV0ubGVuZ3RoPStlO3JldHVybiB0aGlzfX1jb25zdCBoZT1BeGlvc1RyYW5zZm9ybVN0cmVhbTtjb25zdHthc3luY0l0ZXJhdG9yOmJlfT1TeW1ib2w7Y29uc3QgcmVhZEJsb2I9YXN5bmMgZnVuY3Rpb24qKGUpe2lmKGUuc3RyZWFtKXt5aWVsZCplLnN0cmVhbSgpfWVsc2UgaWYoZS5hcnJheUJ1ZmZlcil7eWllbGQgYXdhaXQgZS5hcnJheUJ1ZmZlcigpfWVsc2UgaWYoZVtiZV0pe3lpZWxkKmVbYmVdKCl9ZWxzZXt5aWVsZCBlfX07Y29uc3QgZ2U9cmVhZEJsb2I7Y29uc3QgeWU9Si5BTFBIQUJFVC5BTFBIQV9ESUdJVCsiLV8iO2NvbnN0IHdlPW5ldyBjLlRleHRFbmNvZGVyO2NvbnN0IGtlPSJcclxuIjtjb25zdCBFZT13ZS5lbmNvZGUoa2UpO2NvbnN0IF9lPTI7Y2xhc3MgRm9ybURhdGFQYXJ0e2NvbnN0cnVjdG9yKGUsYSl7Y29uc3R7ZXNjYXBlTmFtZTppfT10aGlzLmNvbnN0cnVjdG9yO2NvbnN0IG49Si5pc1N0cmluZyhhKTtsZXQgbz1gQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSIke2koZSl9IiR7IW4mJmEubmFtZT9gOyBmaWxlbmFtZT0iJHtpKGEubmFtZSl9ImA6IiJ9JHtrZX1gO2lmKG4pe2E9d2UuZW5jb2RlKFN0cmluZyhhKS5yZXBsYWNlKC9ccj9cbnxcclxuPy9nLGtlKSl9ZWxzZXtvKz1gQ29udGVudC1UeXBlOiAke2EudHlwZXx8ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJ9JHtrZX1gfXRoaXMuaGVhZGVycz13ZS5lbmNvZGUobytrZSk7dGhpcy5jb250ZW50TGVuZ3RoPW4/YS5ieXRlTGVuZ3RoOmEuc2l6ZTt0aGlzLnNpemU9dGhpcy5oZWFkZXJzLmJ5dGVMZW5ndGgrdGhpcy5jb250ZW50TGVuZ3RoK19lO3RoaXMubmFtZT1lO3RoaXMudmFsdWU9YX1hc3luYyplbmNvZGUoKXt5aWVsZCB0aGlzLmhlYWRlcnM7Y29uc3R7dmFsdWU6ZX09dGhpcztpZihKLmlzVHlwZWRBcnJheShlKSl7eWllbGQgZX1lbHNle3lpZWxkKmdlKGUpfXlpZWxkIEVlfXN0YXRpYyBlc2NhcGVOYW1lKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSgvW1xyXG4iXS9nLChlPT4oeyJcciI6IiUwRCIsIlxuIjoiJTBBIiwnIic6IiUyMiJ9W2VdKSkpfX1jb25zdCBmb3JtRGF0YVRvU3RyZWFtPShlLGEsaSk9Pntjb25zdHt0YWc6bj0iZm9ybS1kYXRhLWJvdW5kYXJ5IixzaXplOm89MjUsYm91bmRhcnk6cz1uKyItIitKLmdlbmVyYXRlU3RyaW5nKG8seWUpfT1pfHx7fTtpZighSi5pc0Zvcm1EYXRhKGUpKXt0aHJvdyBUeXBlRXJyb3IoIkZvcm1EYXRhIGluc3RhbmNlIHJlcXVpcmVkIil9aWYocy5sZW5ndGg8MXx8cy5sZW5ndGg+NzApe3Rocm93IEVycm9yKCJib3VuZGFyeSBtdXN0IGJlIDEwLTcwIGNoYXJhY3RlcnMgbG9uZyIpfWNvbnN0IHQ9d2UuZW5jb2RlKCItLSIrcytrZSk7Y29uc3Qgcj13ZS5lbmNvZGUoIi0tIitzKyItLSIra2Ura2UpO2xldCBjPXIuYnl0ZUxlbmd0aDtjb25zdCBwPUFycmF5LmZyb20oZS5lbnRyaWVzKCkpLm1hcCgoKFtlLGFdKT0+e2NvbnN0IGk9bmV3IEZvcm1EYXRhUGFydChlLGEpO2MrPWkuc2l6ZTtyZXR1cm4gaX0pKTtjKz10LmJ5dGVMZW5ndGgqcC5sZW5ndGg7Yz1KLnRvRmluaXRlTnVtYmVyKGMpO2NvbnN0IGw9eyJDb250ZW50LVR5cGUiOmBtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT0ke3N9YH07aWYoTnVtYmVyLmlzRmluaXRlKGMpKXtsWyJDb250ZW50LUxlbmd0aCJdPWN9YSYmYShsKTtyZXR1cm4gdS5SZWFkYWJsZS5mcm9tKGFzeW5jIGZ1bmN0aW9uKigpe2Zvcihjb25zdCBlIG9mIHApe3lpZWxkIHQ7eWllbGQqZS5lbmNvZGUoKX15aWVsZCByfSgpKX07Y29uc3QgamU9Zm9ybURhdGFUb1N0cmVhbTtjbGFzcyBabGliSGVhZGVyVHJhbnNmb3JtU3RyZWFtIGV4dGVuZHMgeVsiZGVmYXVsdCJdLlRyYW5zZm9ybXtfX3RyYW5zZm9ybShlLGEsaSl7dGhpcy5wdXNoKGUpO2koKX1fdHJhbnNmb3JtKGUsYSxpKXtpZihlLmxlbmd0aCE9PTApe3RoaXMuX3RyYW5zZm9ybT10aGlzLl9fdHJhbnNmb3JtO2lmKGVbMF0hPT0xMjApe2NvbnN0IGU9QnVmZmVyLmFsbG9jKDIpO2VbMF09MTIwO2VbMV09MTU2O3RoaXMucHVzaChlLGEpfX10aGlzLl9fdHJhbnNmb3JtKGUsYSxpKX19Y29uc3QgUmU9WmxpYkhlYWRlclRyYW5zZm9ybVN0cmVhbTtjb25zdCBjYWxsYmFja2lmeT0oZSxhKT0+Si5pc0FzeW5jRm4oZSk/ZnVuY3Rpb24oLi4uaSl7Y29uc3Qgbj1pLnBvcCgpO2UuYXBwbHkodGhpcyxpKS50aGVuKChlPT57dHJ5e2E/bihudWxsLC4uLmEoZSkpOm4obnVsbCxlKX1jYXRjaChlKXtuKGUpfX0pLG4pfTplO2NvbnN0IFNlPWNhbGxiYWNraWZ5O2NvbnN0IFRlPXtmbHVzaDpnWyJkZWZhdWx0Il0uY29uc3RhbnRzLlpfU1lOQ19GTFVTSCxmaW5pc2hGbHVzaDpnWyJkZWZhdWx0Il0uY29uc3RhbnRzLlpfU1lOQ19GTFVTSH07Y29uc3QgQWU9e2ZsdXNoOmdbImRlZmF1bHQiXS5jb25zdGFudHMuQlJPVExJX09QRVJBVElPTl9GTFVTSCxmaW5pc2hGbHVzaDpnWyJkZWZhdWx0Il0uY29uc3RhbnRzLkJST1RMSV9PUEVSQVRJT05fRkxVU0h9O2NvbnN0IENlPUouaXNGdW5jdGlvbihnWyJkZWZhdWx0Il0uY3JlYXRlQnJvdGxpRGVjb21wcmVzcyk7Y29uc3R7aHR0cDpPZSxodHRwczp6ZX09YlsiZGVmYXVsdCJdO2NvbnN0IExlPS9odHRwczo/Lztjb25zdCBxZT1jZS5wcm90b2NvbHMubWFwKChlPT5lKyI6IikpO2Z1bmN0aW9uIGRpc3BhdGNoQmVmb3JlUmVkaXJlY3QoZSxhKXtpZihlLmJlZm9yZVJlZGlyZWN0cy5wcm94eSl7ZS5iZWZvcmVSZWRpcmVjdHMucHJveHkoZSl9aWYoZS5iZWZvcmVSZWRpcmVjdHMuY29uZmlnKXtlLmJlZm9yZVJlZGlyZWN0cy5jb25maWcoZSxhKX19ZnVuY3Rpb24gc2V0UHJveHkoZSxhLGkpe2xldCBuPWE7aWYoIW4mJm4hPT1mYWxzZSl7Y29uc3QgZT1zLmdldFByb3h5Rm9yVXJsKGkpO2lmKGUpe249bmV3IFVSTChlKX19aWYobil7aWYobi51c2VybmFtZSl7bi5hdXRoPShuLnVzZXJuYW1lfHwiIikrIjoiKyhuLnBhc3N3b3JkfHwiIil9aWYobi5hdXRoKXtpZihuLmF1dGgudXNlcm5hbWV8fG4uYXV0aC5wYXNzd29yZCl7bi5hdXRoPShuLmF1dGgudXNlcm5hbWV8fCIiKSsiOiIrKG4uYXV0aC5wYXNzd29yZHx8IiIpfWNvbnN0IGE9QnVmZmVyLmZyb20obi5hdXRoLCJ1dGY4IikudG9TdHJpbmcoImJhc2U2NCIpO2UuaGVhZGVyc1siUHJveHktQXV0aG9yaXphdGlvbiJdPSJCYXNpYyAiK2F9ZS5oZWFkZXJzLmhvc3Q9ZS5ob3N0bmFtZSsoZS5wb3J0PyI6IitlLnBvcnQ6IiIpO2NvbnN0IGE9bi5ob3N0bmFtZXx8bi5ob3N0O2UuaG9zdG5hbWU9YTtlLmhvc3Q9YTtlLnBvcnQ9bi5wb3J0O2UucGF0aD1pO2lmKG4ucHJvdG9jb2wpe2UucHJvdG9jb2w9bi5wcm90b2NvbC5pbmNsdWRlcygiOiIpP24ucHJvdG9jb2w6YCR7bi5wcm90b2NvbH06YH19ZS5iZWZvcmVSZWRpcmVjdHMucHJveHk9ZnVuY3Rpb24gYmVmb3JlUmVkaXJlY3QoZSl7c2V0UHJveHkoZSxhLGUuaHJlZil9fWNvbnN0IERlPXR5cGVvZiBwcm9jZXNzIT09InVuZGVmaW5lZCImJkoua2luZE9mKHByb2Nlc3MpPT09InByb2Nlc3MiO2NvbnN0IHdyYXBBc3luYz1lPT5uZXcgUHJvbWlzZSgoKGEsaSk9PntsZXQgbjtsZXQgbztjb25zdCBkb25lPShlLGEpPT57aWYobylyZXR1cm47bz10cnVlO24mJm4oZSxhKX07Y29uc3QgX3Jlc29sdmU9ZT0+e2RvbmUoZSk7YShlKX07Y29uc3QgX3JlamVjdD1lPT57ZG9uZShlLHRydWUpO2koZSl9O2UoX3Jlc29sdmUsX3JlamVjdCwoZT0+bj1lKSkuY2F0Y2goX3JlamVjdCl9KSk7Y29uc3QgcmVzb2x2ZUZhbWlseT0oe2FkZHJlc3M6ZSxmYW1pbHk6YX0pPT57aWYoIUouaXNTdHJpbmcoZSkpe3Rocm93IFR5cGVFcnJvcigiYWRkcmVzcyBtdXN0IGJlIGEgc3RyaW5nIil9cmV0dXJue2FkZHJlc3M6ZSxmYW1pbHk6YXx8KGUuaW5kZXhPZigiLiIpPDA/Njo0KX19O2NvbnN0IGJ1aWxkQWRkcmVzc0VudHJ5PShlLGEpPT5yZXNvbHZlRmFtaWx5KEouaXNPYmplY3QoZSk/ZTp7YWRkcmVzczplLGZhbWlseTphfSk7Y29uc3QgRmU9RGUmJmZ1bmN0aW9uIGh0dHBBZGFwdGVyKGUpe3JldHVybiB3cmFwQXN5bmMoKGFzeW5jIGZ1bmN0aW9uIGRpc3BhdGNoSHR0cFJlcXVlc3QoYSxpLG4pe2xldHtkYXRhOm8sbG9va3VwOnMsZmFtaWx5OnR9PWU7Y29uc3R7cmVzcG9uc2VUeXBlOnIscmVzcG9uc2VFbmNvZGluZzpjfT1lO2NvbnN0IHA9ZS5tZXRob2QudG9VcHBlckNhc2UoKTtsZXQgbDtsZXQgdT1mYWxzZTtsZXQgbTtpZihzKXtjb25zdCBlPVNlKHMsKGU9PkouaXNBcnJheShlKT9lOltlXSkpO3M9KGEsaSxuKT0+e2UoYSxpLCgoZSxhLG8pPT57aWYoZSl7cmV0dXJuIG4oZSl9Y29uc3Qgcz1KLmlzQXJyYXkoYSk/YS5tYXAoKGU9PmJ1aWxkQWRkcmVzc0VudHJ5KGUpKSk6W2J1aWxkQWRkcmVzc0VudHJ5KGEsbyldO2kuYWxsP24oZSxzKTpuKGUsc1swXS5hZGRyZXNzLHNbMF0uZmFtaWx5KX0pKX19Y29uc3QgZj1uZXcgZC5FdmVudEVtaXR0ZXI7Y29uc3Qgb25GaW5pc2hlZD0oKT0+e2lmKGUuY2FuY2VsVG9rZW4pe2UuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUoYWJvcnQpfWlmKGUuc2lnbmFsKXtlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYWJvcnQpfWYucmVtb3ZlQWxsTGlzdGVuZXJzKCl9O24oKChlLGEpPT57bD10cnVlO2lmKGEpe3U9dHJ1ZTtvbkZpbmlzaGVkKCl9fSkpO2Z1bmN0aW9uIGFib3J0KGEpe2YuZW1pdCgiYWJvcnQiLCFhfHxhLnR5cGU/bmV3IENhbmNlbGVkRXJyb3IobnVsbCxlLG0pOmEpfWYub25jZSgiYWJvcnQiLGkpO2lmKGUuY2FuY2VsVG9rZW58fGUuc2lnbmFsKXtlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnN1YnNjcmliZShhYm9ydCk7aWYoZS5zaWduYWwpe2Uuc2lnbmFsLmFib3J0ZWQ/YWJvcnQoKTplLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsYWJvcnQpfX1jb25zdCBiPWJ1aWxkRnVsbFBhdGgoZS5iYXNlVVJMLGUudXJsKTtjb25zdCB3PW5ldyBVUkwoYiwiaHR0cDovL2xvY2FsaG9zdCIpO2NvbnN0IGs9dy5wcm90b2NvbHx8cWVbMF07aWYoaz09PSJkYXRhOiIpe2xldCBuO2lmKHAhPT0iR0VUIil7cmV0dXJuIHNldHRsZShhLGkse3N0YXR1czo0MDUsc3RhdHVzVGV4dDoibWV0aG9kIG5vdCBhbGxvd2VkIixoZWFkZXJzOnt9LGNvbmZpZzplfSl9dHJ5e249ZnJvbURhdGFVUkkoZS51cmwscj09PSJibG9iIix7QmxvYjplLmVudiYmZS5lbnYuQmxvYn0pfWNhdGNoKGEpe3Rocm93IEF4aW9zRXJyb3IuZnJvbShhLEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULGUpfWlmKHI9PT0idGV4dCIpe249bi50b1N0cmluZyhjKTtpZighY3x8Yz09PSJ1dGY4Iil7bj1KLnN0cmlwQk9NKG4pfX1lbHNlIGlmKHI9PT0ic3RyZWFtIil7bj15WyJkZWZhdWx0Il0uUmVhZGFibGUuZnJvbShuKX1yZXR1cm4gc2V0dGxlKGEsaSx7ZGF0YTpuLHN0YXR1czoyMDAsc3RhdHVzVGV4dDoiT0siLGhlYWRlcnM6bmV3IG1lLGNvbmZpZzplfSl9aWYocWUuaW5kZXhPZihrKT09PS0xKXtyZXR1cm4gaShuZXcgQXhpb3NFcnJvcigiVW5zdXBwb3J0ZWQgcHJvdG9jb2wgIitrLEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULGUpKX1jb25zdCBFPW1lLmZyb20oZS5oZWFkZXJzKS5ub3JtYWxpemUoKTtFLnNldCgiVXNlci1BZ2VudCIsImF4aW9zLyIrZmUsZmFsc2UpO2NvbnN0IF89ZS5vbkRvd25sb2FkUHJvZ3Jlc3M7Y29uc3Qgaj1lLm9uVXBsb2FkUHJvZ3Jlc3M7Y29uc3QgUj1lLm1heFJhdGU7bGV0IFM9dW5kZWZpbmVkO2xldCBUPXVuZGVmaW5lZDtpZihKLmlzU3BlY0NvbXBsaWFudEZvcm0obykpe2NvbnN0IGU9RS5nZXRDb250ZW50VHlwZSgvYm91bmRhcnk9KFstX1x3XGRdezEwLDcwfSkvaSk7bz1qZShvLChlPT57RS5zZXQoZSl9KSx7dGFnOmBheGlvcy0ke2ZlfS1ib3VuZGFyeWAsYm91bmRhcnk6ZSYmZVsxXXx8dW5kZWZpbmVkfSl9ZWxzZSBpZihKLmlzRm9ybURhdGEobykmJkouaXNGdW5jdGlvbihvLmdldEhlYWRlcnMpKXtFLnNldChvLmdldEhlYWRlcnMoKSk7aWYoIUUuaGFzQ29udGVudExlbmd0aCgpKXt0cnl7Y29uc3QgZT1hd2FpdCBoWyJkZWZhdWx0Il0ucHJvbWlzaWZ5KG8uZ2V0TGVuZ3RoKS5jYWxsKG8pO051bWJlci5pc0Zpbml0ZShlKSYmZT49MCYmRS5zZXRDb250ZW50TGVuZ3RoKGUpfWNhdGNoKGUpe319fWVsc2UgaWYoSi5pc0Jsb2Iobykpe28uc2l6ZSYmRS5zZXRDb250ZW50VHlwZShvLnR5cGV8fCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKTtFLnNldENvbnRlbnRMZW5ndGgoby5zaXplfHwwKTtvPXlbImRlZmF1bHQiXS5SZWFkYWJsZS5mcm9tKGdlKG8pKX1lbHNlIGlmKG8mJiFKLmlzU3RyZWFtKG8pKXtpZihCdWZmZXIuaXNCdWZmZXIobykpO2Vsc2UgaWYoSi5pc0FycmF5QnVmZmVyKG8pKXtvPUJ1ZmZlci5mcm9tKG5ldyBVaW50OEFycmF5KG8pKX1lbHNlIGlmKEouaXNTdHJpbmcobykpe289QnVmZmVyLmZyb20obywidXRmLTgiKX1lbHNle3JldHVybiBpKG5ldyBBeGlvc0Vycm9yKCJEYXRhIGFmdGVyIHRyYW5zZm9ybWF0aW9uIG11c3QgYmUgYSBzdHJpbmcsIGFuIEFycmF5QnVmZmVyLCBhIEJ1ZmZlciwgb3IgYSBTdHJlYW0iLEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULGUpKX1FLnNldENvbnRlbnRMZW5ndGgoby5sZW5ndGgsZmFsc2UpO2lmKGUubWF4Qm9keUxlbmd0aD4tMSYmby5sZW5ndGg+ZS5tYXhCb2R5TGVuZ3RoKXtyZXR1cm4gaShuZXcgQXhpb3NFcnJvcigiUmVxdWVzdCBib2R5IGxhcmdlciB0aGFuIG1heEJvZHlMZW5ndGggbGltaXQiLEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULGUpKX19Y29uc3QgQT1KLnRvRmluaXRlTnVtYmVyKEUuZ2V0Q29udGVudExlbmd0aCgpKTtpZihKLmlzQXJyYXkoUikpe1M9UlswXTtUPVJbMV19ZWxzZXtTPVQ9Un1pZihvJiYoanx8Uykpe2lmKCFKLmlzU3RyZWFtKG8pKXtvPXlbImRlZmF1bHQiXS5SZWFkYWJsZS5mcm9tKG8se29iamVjdE1vZGU6ZmFsc2V9KX1vPXlbImRlZmF1bHQiXS5waXBlbGluZShbbyxuZXcgaGUoe2xlbmd0aDpBLG1heFJhdGU6Si50b0Zpbml0ZU51bWJlcihTKX0pXSxKLm5vb3ApO2omJm8ub24oInByb2dyZXNzIiwoZT0+e2ooT2JqZWN0LmFzc2lnbihlLHt1cGxvYWQ6dHJ1ZX0pKX0pKX1sZXQgQz11bmRlZmluZWQ7aWYoZS5hdXRoKXtjb25zdCBhPWUuYXV0aC51c2VybmFtZXx8IiI7Y29uc3QgaT1lLmF1dGgucGFzc3dvcmR8fCIiO0M9YSsiOiIraX1pZighQyYmdy51c2VybmFtZSl7Y29uc3QgZT13LnVzZXJuYW1lO2NvbnN0IGE9dy5wYXNzd29yZDtDPWUrIjoiK2F9QyYmRS5kZWxldGUoImF1dGhvcml6YXRpb24iKTtsZXQgTzt0cnl7Tz1idWlsZFVSTCh3LnBhdGhuYW1lK3cuc2VhcmNoLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlw/LywiIil9Y2F0Y2goYSl7Y29uc3Qgbj1uZXcgRXJyb3IoYS5tZXNzYWdlKTtuLmNvbmZpZz1lO24udXJsPWUudXJsO24uZXhpc3RzPXRydWU7cmV0dXJuIGkobil9RS5zZXQoIkFjY2VwdC1FbmNvZGluZyIsImd6aXAsIGNvbXByZXNzLCBkZWZsYXRlIisoQ2U/IiwgYnIiOiIiKSxmYWxzZSk7Y29uc3Qgej17cGF0aDpPLG1ldGhvZDpwLGhlYWRlcnM6RS50b0pTT04oKSxhZ2VudHM6e2h0dHA6ZS5odHRwQWdlbnQsaHR0cHM6ZS5odHRwc0FnZW50fSxhdXRoOkMscHJvdG9jb2w6ayxmYW1pbHk6dCxiZWZvcmVSZWRpcmVjdDpkaXNwYXRjaEJlZm9yZVJlZGlyZWN0LGJlZm9yZVJlZGlyZWN0czp7fX07IUouaXNVbmRlZmluZWQocykmJih6Lmxvb2t1cD1zKTtpZihlLnNvY2tldFBhdGgpe3ouc29ja2V0UGF0aD1lLnNvY2tldFBhdGh9ZWxzZXt6Lmhvc3RuYW1lPXcuaG9zdG5hbWU7ei5wb3J0PXcucG9ydDtzZXRQcm94eSh6LGUucHJveHksaysiLy8iK3cuaG9zdG5hbWUrKHcucG9ydD8iOiIrdy5wb3J0OiIiKSt6LnBhdGgpfWxldCBMO2NvbnN0IHE9TGUudGVzdCh6LnByb3RvY29sKTt6LmFnZW50PXE/ZS5odHRwc0FnZW50OmUuaHR0cEFnZW50O2lmKGUudHJhbnNwb3J0KXtMPWUudHJhbnNwb3J0fWVsc2UgaWYoZS5tYXhSZWRpcmVjdHM9PT0wKXtMPXE/dlsiZGVmYXVsdCJdOnhbImRlZmF1bHQiXX1lbHNle2lmKGUubWF4UmVkaXJlY3RzKXt6Lm1heFJlZGlyZWN0cz1lLm1heFJlZGlyZWN0c31pZihlLmJlZm9yZVJlZGlyZWN0KXt6LmJlZm9yZVJlZGlyZWN0cy5jb25maWc9ZS5iZWZvcmVSZWRpcmVjdH1MPXE/emU6T2V9aWYoZS5tYXhCb2R5TGVuZ3RoPi0xKXt6Lm1heEJvZHlMZW5ndGg9ZS5tYXhCb2R5TGVuZ3RofWVsc2V7ei5tYXhCb2R5TGVuZ3RoPUluZmluaXR5fWlmKGUuaW5zZWN1cmVIVFRQUGFyc2VyKXt6Lmluc2VjdXJlSFRUUFBhcnNlcj1lLmluc2VjdXJlSFRUUFBhcnNlcn1tPUwucmVxdWVzdCh6LChmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShuKXtpZihtLmRlc3Ryb3llZClyZXR1cm47Y29uc3Qgbz1bbl07Y29uc3Qgcz0rbi5oZWFkZXJzWyJjb250ZW50LWxlbmd0aCJdO2lmKF8pe2NvbnN0IGU9bmV3IGhlKHtsZW5ndGg6Si50b0Zpbml0ZU51bWJlcihzKSxtYXhSYXRlOkoudG9GaW5pdGVOdW1iZXIoVCl9KTtfJiZlLm9uKCJwcm9ncmVzcyIsKGU9PntfKE9iamVjdC5hc3NpZ24oZSx7ZG93bmxvYWQ6dHJ1ZX0pKX0pKTtvLnB1c2goZSl9bGV0IHQ9bjtjb25zdCBsPW4ucmVxfHxtO2lmKGUuZGVjb21wcmVzcyE9PWZhbHNlJiZuLmhlYWRlcnNbImNvbnRlbnQtZW5jb2RpbmciXSl7aWYocD09PSJIRUFEInx8bi5zdGF0dXNDb2RlPT09MjA0KXtkZWxldGUgbi5oZWFkZXJzWyJjb250ZW50LWVuY29kaW5nIl19c3dpdGNoKChuLmhlYWRlcnNbImNvbnRlbnQtZW5jb2RpbmciXXx8IiIpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiZ3ppcCI6Y2FzZSJ4LWd6aXAiOmNhc2UiY29tcHJlc3MiOmNhc2UieC1jb21wcmVzcyI6by5wdXNoKGdbImRlZmF1bHQiXS5jcmVhdGVVbnppcChUZSkpO2RlbGV0ZSBuLmhlYWRlcnNbImNvbnRlbnQtZW5jb2RpbmciXTticmVhaztjYXNlImRlZmxhdGUiOm8ucHVzaChuZXcgUmUpO28ucHVzaChnWyJkZWZhdWx0Il0uY3JlYXRlVW56aXAoVGUpKTtkZWxldGUgbi5oZWFkZXJzWyJjb250ZW50LWVuY29kaW5nIl07YnJlYWs7Y2FzZSJiciI6aWYoQ2Upe28ucHVzaChnWyJkZWZhdWx0Il0uY3JlYXRlQnJvdGxpRGVjb21wcmVzcyhBZSkpO2RlbGV0ZSBuLmhlYWRlcnNbImNvbnRlbnQtZW5jb2RpbmciXX19fXQ9by5sZW5ndGg+MT95WyJkZWZhdWx0Il0ucGlwZWxpbmUobyxKLm5vb3ApOm9bMF07Y29uc3QgZD15WyJkZWZhdWx0Il0uZmluaXNoZWQodCwoKCk9PntkKCk7b25GaW5pc2hlZCgpfSkpO2NvbnN0IHg9e3N0YXR1czpuLnN0YXR1c0NvZGUsc3RhdHVzVGV4dDpuLnN0YXR1c01lc3NhZ2UsaGVhZGVyczpuZXcgbWUobi5oZWFkZXJzKSxjb25maWc6ZSxyZXF1ZXN0Omx9O2lmKHI9PT0ic3RyZWFtIil7eC5kYXRhPXQ7c2V0dGxlKGEsaSx4KX1lbHNle2NvbnN0IG49W107bGV0IG89MDt0Lm9uKCJkYXRhIiwoZnVuY3Rpb24gaGFuZGxlU3RyZWFtRGF0YShhKXtuLnB1c2goYSk7bys9YS5sZW5ndGg7aWYoZS5tYXhDb250ZW50TGVuZ3RoPi0xJiZvPmUubWF4Q29udGVudExlbmd0aCl7dT10cnVlO3QuZGVzdHJveSgpO2kobmV3IEF4aW9zRXJyb3IoIm1heENvbnRlbnRMZW5ndGggc2l6ZSBvZiAiK2UubWF4Q29udGVudExlbmd0aCsiIGV4Y2VlZGVkIixBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsZSxsKSl9fSkpO3Qub24oImFib3J0ZWQiLChmdW5jdGlvbiBoYW5kbGVyU3RyZWFtQWJvcnRlZCgpe2lmKHUpe3JldHVybn1jb25zdCBhPW5ldyBBeGlvc0Vycm9yKCJtYXhDb250ZW50TGVuZ3RoIHNpemUgb2YgIitlLm1heENvbnRlbnRMZW5ndGgrIiBleGNlZWRlZCIsQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLGUsbCk7dC5kZXN0cm95KGEpO2koYSl9KSk7dC5vbigiZXJyb3IiLChmdW5jdGlvbiBoYW5kbGVTdHJlYW1FcnJvcihhKXtpZihtLmRlc3Ryb3llZClyZXR1cm47aShBeGlvc0Vycm9yLmZyb20oYSxudWxsLGUsbCkpfSkpO3Qub24oImVuZCIsKGZ1bmN0aW9uIGhhbmRsZVN0cmVhbUVuZCgpe3RyeXtsZXQgZT1uLmxlbmd0aD09PTE/blswXTpCdWZmZXIuY29uY2F0KG4pO2lmKHIhPT0iYXJyYXlidWZmZXIiKXtlPWUudG9TdHJpbmcoYyk7aWYoIWN8fGM9PT0idXRmOCIpe2U9Si5zdHJpcEJPTShlKX19eC5kYXRhPWV9Y2F0Y2goYSl7cmV0dXJuIGkoQXhpb3NFcnJvci5mcm9tKGEsbnVsbCxlLHgucmVxdWVzdCx4KSl9c2V0dGxlKGEsaSx4KX0pKX1mLm9uY2UoImFib3J0IiwoZT0+e2lmKCF0LmRlc3Ryb3llZCl7dC5lbWl0KCJlcnJvciIsZSk7dC5kZXN0cm95KCl9fSkpfSkpO2Yub25jZSgiYWJvcnQiLChlPT57aShlKTttLmRlc3Ryb3koZSl9KSk7bS5vbigiZXJyb3IiLChmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0RXJyb3IoYSl7aShBeGlvc0Vycm9yLmZyb20oYSxudWxsLGUsbSkpfSkpO20ub24oInNvY2tldCIsKGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RTb2NrZXQoZSl7ZS5zZXRLZWVwQWxpdmUodHJ1ZSwxZTMqNjApfSkpO2lmKGUudGltZW91dCl7Y29uc3QgYT1wYXJzZUludChlLnRpbWVvdXQsMTApO2lmKE51bWJlci5pc05hTihhKSl7aShuZXcgQXhpb3NFcnJvcigiZXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGBjb25maWcudGltZW91dGAgdG8gaW50IixBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFLGUsbSkpO3JldHVybn1tLnNldFRpbWVvdXQoYSwoZnVuY3Rpb24gaGFuZGxlUmVxdWVzdFRpbWVvdXQoKXtpZihsKXJldHVybjtsZXQgYT1lLnRpbWVvdXQ/InRpbWVvdXQgb2YgIitlLnRpbWVvdXQrIm1zIGV4Y2VlZGVkIjoidGltZW91dCBleGNlZWRlZCI7Y29uc3Qgbj1lLnRyYW5zaXRpb25hbHx8ZWU7aWYoZS50aW1lb3V0RXJyb3JNZXNzYWdlKXthPWUudGltZW91dEVycm9yTWVzc2FnZX1pKG5ldyBBeGlvc0Vycm9yKGEsbi5jbGFyaWZ5VGltZW91dEVycm9yP0F4aW9zRXJyb3IuRVRJTUVET1VUOkF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELGUsbSkpO2Fib3J0KCl9KSl9aWYoSi5pc1N0cmVhbShvKSl7bGV0IGE9ZmFsc2U7bGV0IGk9ZmFsc2U7by5vbigiZW5kIiwoKCk9PnthPXRydWV9KSk7by5vbmNlKCJlcnJvciIsKGU9PntpPXRydWU7bS5kZXN0cm95KGUpfSkpO28ub24oImNsb3NlIiwoKCk9PntpZighYSYmIWkpe2Fib3J0KG5ldyBDYW5jZWxlZEVycm9yKCJSZXF1ZXN0IHN0cmVhbSBoYXMgYmVlbiBhYm9ydGVkIixlLG0pKX19KSk7by5waXBlKG0pfWVsc2V7bS5lbmQobyl9fSkpfTtjb25zdCBwcm9ncmVzc0V2ZW50UmVkdWNlcj0oZSxhLGk9Myk9PntsZXQgbj0wO2NvbnN0IG89c3BlZWRvbWV0ZXIoNTAsMjUwKTtyZXR1cm4gdGhyb3R0bGUoKGk9Pntjb25zdCBzPWkubG9hZGVkO2NvbnN0IHQ9aS5sZW5ndGhDb21wdXRhYmxlP2kudG90YWw6dW5kZWZpbmVkO2NvbnN0IHI9cy1uO2NvbnN0IGM9byhyKTtjb25zdCBwPXM8PXQ7bj1zO2NvbnN0IGw9e2xvYWRlZDpzLHRvdGFsOnQscHJvZ3Jlc3M6dD9zL3Q6dW5kZWZpbmVkLGJ5dGVzOnIscmF0ZTpjP2M6dW5kZWZpbmVkLGVzdGltYXRlZDpjJiZ0JiZwPyh0LXMpL2M6dW5kZWZpbmVkLGV2ZW50OmksbGVuZ3RoQ29tcHV0YWJsZTp0IT1udWxsfTtsW2E/ImRvd25sb2FkIjoidXBsb2FkIl09dHJ1ZTtlKGwpfSksaSl9O2NvbnN0IFVlPWNlLmhhc1N0YW5kYXJkQnJvd3NlckVudj9mdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKXtjb25zdCBlPS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7bGV0IGk7ZnVuY3Rpb24gcmVzb2x2ZVVSTChpKXtsZXQgbj1pO2lmKGUpe2Euc2V0QXR0cmlidXRlKCJocmVmIixuKTtuPWEuaHJlZn1hLnNldEF0dHJpYnV0ZSgiaHJlZiIsbik7cmV0dXJue2hyZWY6YS5ocmVmLHByb3RvY29sOmEucHJvdG9jb2w/YS5wcm90b2NvbC5yZXBsYWNlKC86JC8sIiIpOiIiLGhvc3Q6YS5ob3N0LHNlYXJjaDphLnNlYXJjaD9hLnNlYXJjaC5yZXBsYWNlKC9eXD8vLCIiKToiIixoYXNoOmEuaGFzaD9hLmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTphLmhvc3RuYW1lLHBvcnQ6YS5wb3J0LHBhdGhuYW1lOmEucGF0aG5hbWUuY2hhckF0KDApPT09Ii8iP2EucGF0aG5hbWU6Ii8iK2EucGF0aG5hbWV9fWk9cmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7cmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihlKXtjb25zdCBhPUouaXNTdHJpbmcoZSk/cmVzb2x2ZVVSTChlKTplO3JldHVybiBhLnByb3RvY29sPT09aS5wcm90b2NvbCYmYS5ob3N0PT09aS5ob3N0fX0oKTpmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKXtyZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCl7cmV0dXJuIHRydWV9fSgpO2NvbnN0IEJlPWNlLmhhc1N0YW5kYXJkQnJvd3NlckVudj97d3JpdGUoZSxhLGksbixvLHMpe2NvbnN0IHQ9W2UrIj0iK2VuY29kZVVSSUNvbXBvbmVudChhKV07Si5pc051bWJlcihpKSYmdC5wdXNoKCJleHBpcmVzPSIrbmV3IERhdGUoaSkudG9HTVRTdHJpbmcoKSk7Si5pc1N0cmluZyhuKSYmdC5wdXNoKCJwYXRoPSIrbik7Si5pc1N0cmluZyhvKSYmdC5wdXNoKCJkb21haW49IitvKTtzPT09dHJ1ZSYmdC5wdXNoKCJzZWN1cmUiKTtkb2N1bWVudC5jb29raWU9dC5qb2luKCI7ICIpfSxyZWFkKGUpe2NvbnN0IGE9ZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoIihefDtcXHMqKSgiK2UrIik9KFteO10qKSIpKTtyZXR1cm4gYT9kZWNvZGVVUklDb21wb25lbnQoYVszXSk6bnVsbH0scmVtb3ZlKGUpe3RoaXMud3JpdGUoZSwiIixEYXRlLm5vdygpLTg2NGU1KX19Ont3cml0ZSgpe30scmVhZCgpe3JldHVybiBudWxsfSxyZW1vdmUoKXt9fTtjb25zdCBoZWFkZXJzVG9PYmplY3Q9ZT0+ZSBpbnN0YW5jZW9mIG1lP3suLi5lfTplO2Z1bmN0aW9uIG1lcmdlQ29uZmlnKGUsYSl7YT1hfHx7fTtjb25zdCBpPXt9O2Z1bmN0aW9uIGdldE1lcmdlZFZhbHVlKGUsYSxpKXtpZihKLmlzUGxhaW5PYmplY3QoZSkmJkouaXNQbGFpbk9iamVjdChhKSl7cmV0dXJuIEoubWVyZ2UuY2FsbCh7Y2FzZWxlc3M6aX0sZSxhKX1lbHNlIGlmKEouaXNQbGFpbk9iamVjdChhKSl7cmV0dXJuIEoubWVyZ2Uoe30sYSl9ZWxzZSBpZihKLmlzQXJyYXkoYSkpe3JldHVybiBhLnNsaWNlKCl9cmV0dXJuIGF9ZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhlLGEsaSl7aWYoIUouaXNVbmRlZmluZWQoYSkpe3JldHVybiBnZXRNZXJnZWRWYWx1ZShlLGEsaSl9ZWxzZSBpZighSi5pc1VuZGVmaW5lZChlKSl7cmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCxlLGkpfX1mdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGUsYSl7aWYoIUouaXNVbmRlZmluZWQoYSkpe3JldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsYSl9fWZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoZSxhKXtpZighSi5pc1VuZGVmaW5lZChhKSl7cmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCxhKX1lbHNlIGlmKCFKLmlzVW5kZWZpbmVkKGUpKXtyZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLGUpfX1mdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoaSxuLG8pe2lmKG8gaW4gYSl7cmV0dXJuIGdldE1lcmdlZFZhbHVlKGksbil9ZWxzZSBpZihvIGluIGUpe3JldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsaSl9fWNvbnN0IG49e3VybDp2YWx1ZUZyb21Db25maWcyLG1ldGhvZDp2YWx1ZUZyb21Db25maWcyLGRhdGE6dmFsdWVGcm9tQ29uZmlnMixiYXNlVVJMOmRlZmF1bHRUb0NvbmZpZzIsdHJhbnNmb3JtUmVxdWVzdDpkZWZhdWx0VG9Db25maWcyLHRyYW5zZm9ybVJlc3BvbnNlOmRlZmF1bHRUb0NvbmZpZzIscGFyYW1zU2VyaWFsaXplcjpkZWZhdWx0VG9Db25maWcyLHRpbWVvdXQ6ZGVmYXVsdFRvQ29uZmlnMix0aW1lb3V0TWVzc2FnZTpkZWZhdWx0VG9Db25maWcyLHdpdGhDcmVkZW50aWFsczpkZWZhdWx0VG9Db25maWcyLHdpdGhYU1JGVG9rZW46ZGVmYXVsdFRvQ29uZmlnMixhZGFwdGVyOmRlZmF1bHRUb0NvbmZpZzIscmVzcG9uc2VUeXBlOmRlZmF1bHRUb0NvbmZpZzIseHNyZkNvb2tpZU5hbWU6ZGVmYXVsdFRvQ29uZmlnMix4c3JmSGVhZGVyTmFtZTpkZWZhdWx0VG9Db25maWcyLG9uVXBsb2FkUHJvZ3Jlc3M6ZGVmYXVsdFRvQ29uZmlnMixvbkRvd25sb2FkUHJvZ3Jlc3M6ZGVmYXVsdFRvQ29uZmlnMixkZWNvbXByZXNzOmRlZmF1bHRUb0NvbmZpZzIsbWF4Q29udGVudExlbmd0aDpkZWZhdWx0VG9Db25maWcyLG1heEJvZHlMZW5ndGg6ZGVmYXVsdFRvQ29uZmlnMixiZWZvcmVSZWRpcmVjdDpkZWZhdWx0VG9Db25maWcyLHRyYW5zcG9ydDpkZWZhdWx0VG9Db25maWcyLGh0dHBBZ2VudDpkZWZhdWx0VG9Db25maWcyLGh0dHBzQWdlbnQ6ZGVmYXVsdFRvQ29uZmlnMixjYW5jZWxUb2tlbjpkZWZhdWx0VG9Db25maWcyLHNvY2tldFBhdGg6ZGVmYXVsdFRvQ29uZmlnMixyZXNwb25zZUVuY29kaW5nOmRlZmF1bHRUb0NvbmZpZzIsdmFsaWRhdGVTdGF0dXM6bWVyZ2VEaXJlY3RLZXlzLGhlYWRlcnM6KGUsYSk9Pm1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGUpLGhlYWRlcnNUb09iamVjdChhKSx0cnVlKX07Si5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sZSxhKSksKGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShvKXtjb25zdCBzPW5bb118fG1lcmdlRGVlcFByb3BlcnRpZXM7Y29uc3QgdD1zKGVbb10sYVtvXSxvKTtKLmlzVW5kZWZpbmVkKHQpJiZzIT09bWVyZ2VEaXJlY3RLZXlzfHwoaVtvXT10KX0pKTtyZXR1cm4gaX1jb25zdCByZXNvbHZlQ29uZmlnPWU9Pntjb25zdCBhPW1lcmdlQ29uZmlnKHt9LGUpO2xldHtkYXRhOmksd2l0aFhTUkZUb2tlbjpuLHhzcmZIZWFkZXJOYW1lOm8seHNyZkNvb2tpZU5hbWU6cyxoZWFkZXJzOnQsYXV0aDpyfT1hO2EuaGVhZGVycz10PW1lLmZyb20odCk7YS51cmw9YnVpbGRVUkwoYnVpbGRGdWxsUGF0aChhLmJhc2VVUkwsYS51cmwpLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcik7aWYocil7dC5zZXQoIkF1dGhvcml6YXRpb24iLCJCYXNpYyAiK2J0b2EoKHIudXNlcm5hbWV8fCIiKSsiOiIrKHIucGFzc3dvcmQ/dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHIucGFzc3dvcmQpKToiIikpKX1sZXQgYztpZihKLmlzRm9ybURhdGEoaSkpe2lmKGNlLmhhc1N0YW5kYXJkQnJvd3NlckVudnx8Y2UuaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KXt0LnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCl9ZWxzZSBpZigoYz10LmdldENvbnRlbnRUeXBlKCkpIT09ZmFsc2Upe2NvbnN0W2UsLi4uYV09Yz9jLnNwbGl0KCI7IikubWFwKChlPT5lLnRyaW0oKSkpLmZpbHRlcihCb29sZWFuKTpbXTt0LnNldENvbnRlbnRUeXBlKFtlfHwibXVsdGlwYXJ0L2Zvcm0tZGF0YSIsLi4uYV0uam9pbigiOyAiKSl9fWlmKGNlLmhhc1N0YW5kYXJkQnJvd3NlckVudil7biYmSi5pc0Z1bmN0aW9uKG4pJiYobj1uKGEpKTtpZihufHxuIT09ZmFsc2UmJlVlKGEudXJsKSl7Y29uc3QgZT1vJiZzJiZCZS5yZWFkKHMpO2lmKGUpe3Quc2V0KG8sZSl9fX1yZXR1cm4gYX07Y29uc3QgUGU9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0IT09InVuZGVmaW5lZCI7Y29uc3QgTmU9UGUmJmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KGEsaSl7Y29uc3Qgbj1yZXNvbHZlQ29uZmlnKGUpO2xldCBvPW4uZGF0YTtjb25zdCBzPW1lLmZyb20obi5oZWFkZXJzKS5ub3JtYWxpemUoKTtsZXR7cmVzcG9uc2VUeXBlOnR9PW47bGV0IHI7ZnVuY3Rpb24gZG9uZSgpe2lmKG4uY2FuY2VsVG9rZW4pe24uY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUocil9aWYobi5zaWduYWwpe24uc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixyKX19bGV0IGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Mub3BlbihuLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG4udXJsLHRydWUpO2MudGltZW91dD1uLnRpbWVvdXQ7ZnVuY3Rpb24gb25sb2FkZW5kKCl7aWYoIWMpe3JldHVybn1jb25zdCBuPW1lLmZyb20oImdldEFsbFJlc3BvbnNlSGVhZGVycyJpbiBjJiZjLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtjb25zdCBvPSF0fHx0PT09InRleHQifHx0PT09Impzb24iP2MucmVzcG9uc2VUZXh0OmMucmVzcG9uc2U7Y29uc3Qgcz17ZGF0YTpvLHN0YXR1czpjLnN0YXR1cyxzdGF0dXNUZXh0OmMuc3RhdHVzVGV4dCxoZWFkZXJzOm4sY29uZmlnOmUscmVxdWVzdDpjfTtzZXR0bGUoKGZ1bmN0aW9uIF9yZXNvbHZlKGUpe2EoZSk7ZG9uZSgpfSksKGZ1bmN0aW9uIF9yZWplY3QoZSl7aShlKTtkb25lKCl9KSxzKTtjPW51bGx9aWYoIm9ubG9hZGVuZCJpbiBjKXtjLm9ubG9hZGVuZD1vbmxvYWRlbmR9ZWxzZXtjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbiBoYW5kbGVMb2FkKCl7aWYoIWN8fGMucmVhZHlTdGF0ZSE9PTQpe3JldHVybn1pZihjLnN0YXR1cz09PTAmJiEoYy5yZXNwb25zZVVSTCYmYy5yZXNwb25zZVVSTC5pbmRleE9mKCJmaWxlOiIpPT09MCkpe3JldHVybn1zZXRUaW1lb3V0KG9ubG9hZGVuZCl9fWMub25hYm9ydD1mdW5jdGlvbiBoYW5kbGVBYm9ydCgpe2lmKCFjKXtyZXR1cm59aShuZXcgQXhpb3NFcnJvcigiUmVxdWVzdCBhYm9ydGVkIixBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxuLGMpKTtjPW51bGx9O2Mub25lcnJvcj1mdW5jdGlvbiBoYW5kbGVFcnJvcigpe2kobmV3IEF4aW9zRXJyb3IoIk5ldHdvcmsgRXJyb3IiLEF4aW9zRXJyb3IuRVJSX05FVFdPUkssbixjKSk7Yz1udWxsfTtjLm9udGltZW91dD1mdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCl7bGV0IGU9bi50aW1lb3V0PyJ0aW1lb3V0IG9mICIrbi50aW1lb3V0KyJtcyBleGNlZWRlZCI6InRpbWVvdXQgZXhjZWVkZWQiO2NvbnN0IGE9bi50cmFuc2l0aW9uYWx8fGVlO2lmKG4udGltZW91dEVycm9yTWVzc2FnZSl7ZT1uLnRpbWVvdXRFcnJvck1lc3NhZ2V9aShuZXcgQXhpb3NFcnJvcihlLGEuY2xhcmlmeVRpbWVvdXRFcnJvcj9BeGlvc0Vycm9yLkVUSU1FRE9VVDpBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxuLGMpKTtjPW51bGx9O289PT11bmRlZmluZWQmJnMuc2V0Q29udGVudFR5cGUobnVsbCk7aWYoInNldFJlcXVlc3RIZWFkZXIiaW4gYyl7Si5mb3JFYWNoKHMudG9KU09OKCksKGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIoZSxhKXtjLnNldFJlcXVlc3RIZWFkZXIoYSxlKX0pKX1pZighSi5pc1VuZGVmaW5lZChuLndpdGhDcmVkZW50aWFscykpe2Mud2l0aENyZWRlbnRpYWxzPSEhbi53aXRoQ3JlZGVudGlhbHN9aWYodCYmdCE9PSJqc29uIil7Yy5yZXNwb25zZVR5cGU9bi5yZXNwb25zZVR5cGV9aWYodHlwZW9mIG4ub25Eb3dubG9hZFByb2dyZXNzPT09ImZ1bmN0aW9uIil7Yy5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIscHJvZ3Jlc3NFdmVudFJlZHVjZXIobi5vbkRvd25sb2FkUHJvZ3Jlc3MsdHJ1ZSkpfWlmKHR5cGVvZiBuLm9uVXBsb2FkUHJvZ3Jlc3M9PT0iZnVuY3Rpb24iJiZjLnVwbG9hZCl7Yy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHByb2dyZXNzRXZlbnRSZWR1Y2VyKG4ub25VcGxvYWRQcm9ncmVzcykpfWlmKG4uY2FuY2VsVG9rZW58fG4uc2lnbmFsKXtyPWE9PntpZighYyl7cmV0dXJufWkoIWF8fGEudHlwZT9uZXcgQ2FuY2VsZWRFcnJvcihudWxsLGUsYyk6YSk7Yy5hYm9ydCgpO2M9bnVsbH07bi5jYW5jZWxUb2tlbiYmbi5jYW5jZWxUb2tlbi5zdWJzY3JpYmUocik7aWYobi5zaWduYWwpe24uc2lnbmFsLmFib3J0ZWQ/cigpOm4uc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixyKX19Y29uc3QgcD1wYXJzZVByb3RvY29sKG4udXJsKTtpZihwJiZjZS5wcm90b2NvbHMuaW5kZXhPZihwKT09PS0xKXtpKG5ldyBBeGlvc0Vycm9yKCJVbnN1cHBvcnRlZCBwcm90b2NvbCAiK3ArIjoiLEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULGUpKTtyZXR1cm59Yy5zZW5kKG98fG51bGwpfSkpfTtjb25zdCBjb21wb3NlU2lnbmFscz0oZSxhKT0+e2xldCBpPW5ldyBBYm9ydENvbnRyb2xsZXI7bGV0IG47Y29uc3Qgb25hYm9ydD1mdW5jdGlvbihlKXtpZighbil7bj10cnVlO3Vuc3Vic2NyaWJlKCk7Y29uc3QgYT1lIGluc3RhbmNlb2YgRXJyb3I/ZTp0aGlzLnJlYXNvbjtpLmFib3J0KGEgaW5zdGFuY2VvZiBBeGlvc0Vycm9yP2E6bmV3IENhbmNlbGVkRXJyb3IoYSBpbnN0YW5jZW9mIEVycm9yP2EubWVzc2FnZTphKSl9fTtsZXQgbz1hJiZzZXRUaW1lb3V0KCgoKT0+e29uYWJvcnQobmV3IEF4aW9zRXJyb3IoYHRpbWVvdXQgJHthfSBvZiBtcyBleGNlZWRlZGAsQXhpb3NFcnJvci5FVElNRURPVVQpKX0pLGEpO2NvbnN0IHVuc3Vic2NyaWJlPSgpPT57aWYoZSl7byYmY2xlYXJUaW1lb3V0KG8pO289bnVsbDtlLmZvckVhY2goKGU9PntlJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLG9uYWJvcnQpOmUudW5zdWJzY3JpYmUob25hYm9ydCkpfSkpO2U9bnVsbH19O2UuZm9yRWFjaCgoZT0+ZSYmZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixvbmFib3J0KSkpO2NvbnN0e3NpZ25hbDpzfT1pO3MudW5zdWJzY3JpYmU9dW5zdWJzY3JpYmU7cmV0dXJuW3MsKCk9PntvJiZjbGVhclRpbWVvdXQobyk7bz1udWxsfV19O2NvbnN0IEllPWNvbXBvc2VTaWduYWxzO2NvbnN0IHN0cmVhbUNodW5rPWZ1bmN0aW9uKihlLGEpe2xldCBpPWUuYnl0ZUxlbmd0aDtpZighYXx8aTxhKXt5aWVsZCBlO3JldHVybn1sZXQgbj0wO2xldCBvO3doaWxlKG48aSl7bz1uK2E7eWllbGQgZS5zbGljZShuLG8pO249b319O2NvbnN0IHJlYWRCeXRlcz1hc3luYyBmdW5jdGlvbiooZSxhLGkpe2ZvciBhd2FpdChjb25zdCBuIG9mIGUpe3lpZWxkKnN0cmVhbUNodW5rKEFycmF5QnVmZmVyLmlzVmlldyhuKT9uOmF3YWl0IGkoU3RyaW5nKG4pKSxhKX19O2NvbnN0IHRyYWNrU3RyZWFtPShlLGEsaSxuLG8pPT57Y29uc3Qgcz1yZWFkQnl0ZXMoZSxhLG8pO2xldCB0PTA7cmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7dHlwZToiYnl0ZXMiLGFzeW5jIHB1bGwoZSl7Y29uc3R7ZG9uZTphLHZhbHVlOm99PWF3YWl0IHMubmV4dCgpO2lmKGEpe2UuY2xvc2UoKTtuKCk7cmV0dXJufWxldCByPW8uYnl0ZUxlbmd0aDtpJiZpKHQrPXIpO2UuZW5xdWV1ZShuZXcgVWludDhBcnJheShvKSl9LGNhbmNlbChlKXtuKGUpO3JldHVybiBzLnJldHVybigpfX0se2hpZ2hXYXRlck1hcms6Mn0pfTtjb25zdCBmZXRjaFByb2dyZXNzRGVjb3JhdG9yPShlLGEpPT57Y29uc3QgaT1lIT1udWxsO3JldHVybiBuPT5zZXRUaW1lb3V0KCgoKT0+YSh7bGVuZ3RoQ29tcHV0YWJsZTppLHRvdGFsOmUsbG9hZGVkOm59KSkpfTtjb25zdCBIZT10eXBlb2YgZmV0Y2g9PT0iZnVuY3Rpb24iJiZ0eXBlb2YgUmVxdWVzdD09PSJmdW5jdGlvbiImJnR5cGVvZiBSZXNwb25zZT09PSJmdW5jdGlvbiI7Y29uc3QgTWU9SGUmJnR5cGVvZiBSZWFkYWJsZVN0cmVhbT09PSJmdW5jdGlvbiI7Y29uc3QgVmU9SGUmJih0eXBlb2YgVGV4dEVuY29kZXI9PT0iZnVuY3Rpb24iPyhlPT5hPT5lLmVuY29kZShhKSkobmV3IFRleHRFbmNvZGVyKTphc3luYyBlPT5uZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2UoZSkuYXJyYXlCdWZmZXIoKSkpO2NvbnN0ICRlPU1lJiYoKCk9PntsZXQgZT1mYWxzZTtjb25zdCBhPW5ldyBSZXF1ZXN0KGNlLm9yaWdpbix7Ym9keTpuZXcgUmVhZGFibGVTdHJlYW0sbWV0aG9kOiJQT1NUIixnZXQgZHVwbGV4KCl7ZT10cnVlO3JldHVybiJoYWxmIn19KS5oZWFkZXJzLmhhcygiQ29udGVudC1UeXBlIik7cmV0dXJuIGUmJiFhfSkoKTtjb25zdCBLZT02NCoxMDI0O2NvbnN0IFdlPU1lJiYhISgoKT0+e3RyeXtyZXR1cm4gSi5pc1JlYWRhYmxlU3RyZWFtKG5ldyBSZXNwb25zZSgiIikuYm9keSl9Y2F0Y2goZSl7fX0pKCk7Y29uc3QgSmU9e3N0cmVhbTpXZSYmKGU9PmUuYm9keSl9O0hlJiYoZT0+e1sidGV4dCIsImFycmF5QnVmZmVyIiwiYmxvYiIsImZvcm1EYXRhIiwic3RyZWFtIl0uZm9yRWFjaCgoYT0+eyFKZVthXSYmKEplW2FdPUouaXNGdW5jdGlvbihlW2FdKT9lPT5lW2FdKCk6KGUsaSk9Pnt0aHJvdyBuZXcgQXhpb3NFcnJvcihgUmVzcG9uc2UgdHlwZSAnJHthfScgaXMgbm90IHN1cHBvcnRlZGAsQXhpb3NFcnJvci5FUlJfTk9UX1NVUFBPUlQsaSl9KX0pKX0pKG5ldyBSZXNwb25zZSk7Y29uc3QgZ2V0Qm9keUxlbmd0aD1hc3luYyBlPT57aWYoZT09bnVsbCl7cmV0dXJuIDB9aWYoSi5pc0Jsb2IoZSkpe3JldHVybiBlLnNpemV9aWYoSi5pc1NwZWNDb21wbGlhbnRGb3JtKGUpKXtyZXR1cm4oYXdhaXQgbmV3IFJlcXVlc3QoZSkuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aH1pZihKLmlzQXJyYXlCdWZmZXJWaWV3KGUpKXtyZXR1cm4gZS5ieXRlTGVuZ3RofWlmKEouaXNVUkxTZWFyY2hQYXJhbXMoZSkpe2U9ZSsiIn1pZihKLmlzU3RyaW5nKGUpKXtyZXR1cm4oYXdhaXQgVmUoZSkpLmJ5dGVMZW5ndGh9fTtjb25zdCByZXNvbHZlQm9keUxlbmd0aD1hc3luYyhlLGEpPT57Y29uc3QgaT1KLnRvRmluaXRlTnVtYmVyKGUuZ2V0Q29udGVudExlbmd0aCgpKTtyZXR1cm4gaT09bnVsbD9nZXRCb2R5TGVuZ3RoKGEpOml9O2NvbnN0IEdlPUhlJiYoYXN5bmMgZT0+e2xldHt1cmw6YSxtZXRob2Q6aSxkYXRhOm4sc2lnbmFsOm8sY2FuY2VsVG9rZW46cyx0aW1lb3V0OnQsb25Eb3dubG9hZFByb2dyZXNzOnIsb25VcGxvYWRQcm9ncmVzczpjLHJlc3BvbnNlVHlwZTpwLGhlYWRlcnM6bCx3aXRoQ3JlZGVudGlhbHM6dT0ic2FtZS1vcmlnaW4iLGZldGNoT3B0aW9uczpkfT1yZXNvbHZlQ29uZmlnKGUpO3A9cD8ocCsiIikudG9Mb3dlckNhc2UoKToidGV4dCI7bGV0W20sZl09b3x8c3x8dD9JZShbbyxzXSx0KTpbXTtsZXQgeCx2O2NvbnN0IG9uRmluaXNoPSgpPT57IXgmJnNldFRpbWVvdXQoKCgpPT57bSYmbS51bnN1YnNjcmliZSgpfSkpO3g9dHJ1ZX07bGV0IGg7dHJ5e2lmKGMmJiRlJiZpIT09ImdldCImJmkhPT0iaGVhZCImJihoPWF3YWl0IHJlc29sdmVCb2R5TGVuZ3RoKGwsbikpIT09MCl7bGV0IGU9bmV3IFJlcXVlc3QoYSx7bWV0aG9kOiJQT1NUIixib2R5Om4sZHVwbGV4OiJoYWxmIn0pO2xldCBpO2lmKEouaXNGb3JtRGF0YShuKSYmKGk9ZS5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIikpKXtsLnNldENvbnRlbnRUeXBlKGkpfWlmKGUuYm9keSl7bj10cmFja1N0cmVhbShlLmJvZHksS2UsZmV0Y2hQcm9ncmVzc0RlY29yYXRvcihoLHByb2dyZXNzRXZlbnRSZWR1Y2VyKGMpKSxudWxsLFZlKX19aWYoIUouaXNTdHJpbmcodSkpe3U9dT8iY29ycyI6Im9taXQifXY9bmV3IFJlcXVlc3QoYSx7Li4uZCxzaWduYWw6bSxtZXRob2Q6aS50b1VwcGVyQ2FzZSgpLGhlYWRlcnM6bC5ub3JtYWxpemUoKS50b0pTT04oKSxib2R5Om4sZHVwbGV4OiJoYWxmIix3aXRoQ3JlZGVudGlhbHM6dX0pO2xldCBvPWF3YWl0IGZldGNoKHYpO2NvbnN0IHM9V2UmJihwPT09InN0cmVhbSJ8fHA9PT0icmVzcG9uc2UiKTtpZihXZSYmKHJ8fHMpKXtjb25zdCBlPXt9O1sic3RhdHVzIiwic3RhdHVzVGV4dCIsImhlYWRlcnMiXS5mb3JFYWNoKChhPT57ZVthXT1vW2FdfSkpO2NvbnN0IGE9Si50b0Zpbml0ZU51bWJlcihvLmhlYWRlcnMuZ2V0KCJjb250ZW50LWxlbmd0aCIpKTtvPW5ldyBSZXNwb25zZSh0cmFja1N0cmVhbShvLmJvZHksS2UsciYmZmV0Y2hQcm9ncmVzc0RlY29yYXRvcihhLHByb2dyZXNzRXZlbnRSZWR1Y2VyKHIsdHJ1ZSkpLHMmJm9uRmluaXNoLFZlKSxlKX1wPXB8fCJ0ZXh0IjtsZXQgdD1hd2FpdCBKZVtKLmZpbmRLZXkoSmUscCl8fCJ0ZXh0Il0obyxlKTshcyYmb25GaW5pc2goKTtmJiZmKCk7cmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKCgoYSxpKT0+e3NldHRsZShhLGkse2RhdGE6dCxoZWFkZXJzOm1lLmZyb20oby5oZWFkZXJzKSxzdGF0dXM6by5zdGF0dXMsc3RhdHVzVGV4dDpvLnN0YXR1c1RleHQsY29uZmlnOmUscmVxdWVzdDp2fSl9KSl9Y2F0Y2goYSl7b25GaW5pc2goKTtpZihhJiZhLm5hbWU9PT0iVHlwZUVycm9yIiYmL2ZldGNoL2kudGVzdChhLm1lc3NhZ2UpKXt0aHJvdyBPYmplY3QuYXNzaWduKG5ldyBBeGlvc0Vycm9yKCJOZXR3b3JrIEVycm9yIixBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLGUsdikse2NhdXNlOmEuY2F1c2V8fGF9KX10aHJvdyBBeGlvc0Vycm9yLmZyb20oYSxhJiZhLmNvZGUsZSx2KX19KTtjb25zdCBYZT17aHR0cDpGZSx4aHI6TmUsZmV0Y2g6R2V9O0ouZm9yRWFjaChYZSwoKGUsYSk9PntpZihlKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm5hbWUiLHt2YWx1ZTphfSl9Y2F0Y2goZSl7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJhZGFwdGVyTmFtZSIse3ZhbHVlOmF9KX19KSk7Y29uc3QgcmVuZGVyUmVhc29uPWU9PmAtICR7ZX1gO2NvbnN0IGlzUmVzb2x2ZWRIYW5kbGU9ZT0+Si5pc0Z1bmN0aW9uKGUpfHxlPT09bnVsbHx8ZT09PWZhbHNlO2NvbnN0IFllPXtnZXRBZGFwdGVyOmU9PntlPUouaXNBcnJheShlKT9lOltlXTtjb25zdHtsZW5ndGg6YX09ZTtsZXQgaTtsZXQgbjtjb25zdCBvPXt9O2ZvcihsZXQgcz0wO3M8YTtzKyspe2k9ZVtzXTtsZXQgYTtuPWk7aWYoIWlzUmVzb2x2ZWRIYW5kbGUoaSkpe249WGVbKGE9U3RyaW5nKGkpKS50b0xvd2VyQ2FzZSgpXTtpZihuPT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgQXhpb3NFcnJvcihgVW5rbm93biBhZGFwdGVyICcke2F9J2ApfX1pZihuKXticmVha31vW2F8fCIjIitzXT1ufWlmKCFuKXtjb25zdCBlPU9iamVjdC5lbnRyaWVzKG8pLm1hcCgoKFtlLGFdKT0+YGFkYXB0ZXIgJHtlfSBgKyhhPT09ZmFsc2U/ImlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50IjoiaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQiKSkpO2xldCBpPWE/ZS5sZW5ndGg+MT8ic2luY2UgOlxuIitlLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oIlxuIik6IiAiK3JlbmRlclJlYXNvbihlWzBdKToiYXMgbm8gYWRhcHRlciBzcGVjaWZpZWQiO3Rocm93IG5ldyBBeGlvc0Vycm9yKGBUaGVyZSBpcyBubyBzdWl0YWJsZSBhZGFwdGVyIHRvIGRpc3BhdGNoIHRoZSByZXF1ZXN0IGAraSwiRVJSX05PVF9TVVBQT1JUIil9cmV0dXJuIG59LGFkYXB0ZXJzOlhlfTtmdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGUpe2lmKGUuY2FuY2VsVG9rZW4pe2UuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpfWlmKGUuc2lnbmFsJiZlLnNpZ25hbC5hYm9ydGVkKXt0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLGUpfX1mdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoZSl7dGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChlKTtlLmhlYWRlcnM9bWUuZnJvbShlLmhlYWRlcnMpO2UuZGF0YT10cmFuc2Zvcm1EYXRhLmNhbGwoZSxlLnRyYW5zZm9ybVJlcXVlc3QpO2lmKFsicG9zdCIsInB1dCIsInBhdGNoIl0uaW5kZXhPZihlLm1ldGhvZCkhPT0tMSl7ZS5oZWFkZXJzLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLGZhbHNlKX1jb25zdCBhPVllLmdldEFkYXB0ZXIoZS5hZGFwdGVyfHxsZS5hZGFwdGVyKTtyZXR1cm4gYShlKS50aGVuKChmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKGEpe3Rocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoZSk7YS5kYXRhPXRyYW5zZm9ybURhdGEuY2FsbChlLGUudHJhbnNmb3JtUmVzcG9uc2UsYSk7YS5oZWFkZXJzPW1lLmZyb20oYS5oZWFkZXJzKTtyZXR1cm4gYX0pLChmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24oYSl7aWYoIWlzQ2FuY2VsKGEpKXt0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGUpO2lmKGEmJmEucmVzcG9uc2Upe2EucmVzcG9uc2UuZGF0YT10cmFuc2Zvcm1EYXRhLmNhbGwoZSxlLnRyYW5zZm9ybVJlc3BvbnNlLGEucmVzcG9uc2UpO2EucmVzcG9uc2UuaGVhZGVycz1tZS5mcm9tKGEucmVzcG9uc2UuaGVhZGVycyl9fXJldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX1jb25zdCBaZT17fTtbIm9iamVjdCIsImJvb2xlYW4iLCJudW1iZXIiLCJmdW5jdGlvbiIsInN0cmluZyIsInN5bWJvbCJdLmZvckVhY2goKChlLGEpPT57WmVbZV09ZnVuY3Rpb24gdmFsaWRhdG9yKGkpe3JldHVybiB0eXBlb2YgaT09PWV8fCJhIisoYTwxPyJuICI6IiAiKStlfX0pKTtjb25zdCBRZT17fTtaZS50cmFuc2l0aW9uYWw9ZnVuY3Rpb24gdHJhbnNpdGlvbmFsKGUsYSxpKXtmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKGUsYSl7cmV0dXJuIltBeGlvcyB2IitmZSsiXSBUcmFuc2l0aW9uYWwgb3B0aW9uICciK2UrIiciK2ErKGk/Ii4gIitpOiIiKX1yZXR1cm4oaSxuLG8pPT57aWYoZT09PWZhbHNlKXt0aHJvdyBuZXcgQXhpb3NFcnJvcihmb3JtYXRNZXNzYWdlKG4sIiBoYXMgYmVlbiByZW1vdmVkIisoYT8iIGluICIrYToiIikpLEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURUQpfWlmKGEmJiFRZVtuXSl7UWVbbl09dHJ1ZTtjb25zb2xlLndhcm4oZm9ybWF0TWVzc2FnZShuLCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2IithKyIgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUiKSl9cmV0dXJuIGU/ZShpLG4sbyk6dHJ1ZX19O2Z1bmN0aW9uIGFzc2VydE9wdGlvbnMoZSxhLGkpe2lmKHR5cGVvZiBlIT09Im9iamVjdCIpe3Rocm93IG5ldyBBeGlvc0Vycm9yKCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IixBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKX1jb25zdCBuPU9iamVjdC5rZXlzKGUpO2xldCBvPW4ubGVuZ3RoO3doaWxlKG8tLSA+MCl7Y29uc3Qgcz1uW29dO2NvbnN0IHQ9YVtzXTtpZih0KXtjb25zdCBhPWVbc107Y29uc3QgaT1hPT09dW5kZWZpbmVkfHx0KGEscyxlKTtpZihpIT09dHJ1ZSl7dGhyb3cgbmV3IEF4aW9zRXJyb3IoIm9wdGlvbiAiK3MrIiBtdXN0IGJlICIraSxBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKX1jb250aW51ZX1pZihpIT09dHJ1ZSl7dGhyb3cgbmV3IEF4aW9zRXJyb3IoIlVua25vd24gb3B0aW9uICIrcyxBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OKX19fWNvbnN0IGVhPXthc3NlcnRPcHRpb25zOmFzc2VydE9wdGlvbnMsdmFsaWRhdG9yczpaZX07Y29uc3QgYWE9ZWEudmFsaWRhdG9ycztjbGFzcyBBeGlvc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmRlZmF1bHRzPWU7dGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IFEscmVzcG9uc2U6bmV3IFF9fWFzeW5jIHJlcXVlc3QoZSxhKXt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoZSxhKX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgRXJyb3Ipe2xldCBhO0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKGE9e30pOmE9bmV3IEVycm9yO2NvbnN0IGk9YS5zdGFjaz9hLnN0YWNrLnJlcGxhY2UoL14uK1xuLywiIik6IiI7dHJ5e2lmKCFlLnN0YWNrKXtlLnN0YWNrPWl9ZWxzZSBpZihpJiYhU3RyaW5nKGUuc3RhY2spLmVuZHNXaXRoKGkucmVwbGFjZSgvXi4rXG4uK1xuLywiIikpKXtlLnN0YWNrKz0iXG4iK2l9fWNhdGNoKGUpe319dGhyb3cgZX19X3JlcXVlc3QoZSxhKXtpZih0eXBlb2YgZT09PSJzdHJpbmciKXthPWF8fHt9O2EudXJsPWV9ZWxzZXthPWV8fHt9fWE9bWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cyxhKTtjb25zdHt0cmFuc2l0aW9uYWw6aSxwYXJhbXNTZXJpYWxpemVyOm4saGVhZGVyczpvfT1hO2lmKGkhPT11bmRlZmluZWQpe2VhLmFzc2VydE9wdGlvbnMoaSx7c2lsZW50SlNPTlBhcnNpbmc6YWEudHJhbnNpdGlvbmFsKGFhLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOmFhLnRyYW5zaXRpb25hbChhYS5ib29sZWFuKSxjbGFyaWZ5VGltZW91dEVycm9yOmFhLnRyYW5zaXRpb25hbChhYS5ib29sZWFuKX0sZmFsc2UpfWlmKG4hPW51bGwpe2lmKEouaXNGdW5jdGlvbihuKSl7YS5wYXJhbXNTZXJpYWxpemVyPXtzZXJpYWxpemU6bn19ZWxzZXtlYS5hc3NlcnRPcHRpb25zKG4se2VuY29kZTphYS5mdW5jdGlvbixzZXJpYWxpemU6YWEuZnVuY3Rpb259LHRydWUpfX1hLm1ldGhvZD0oYS5tZXRob2R8fHRoaXMuZGVmYXVsdHMubWV0aG9kfHwiZ2V0IikudG9Mb3dlckNhc2UoKTtsZXQgcz1vJiZKLm1lcmdlKG8uY29tbW9uLG9bYS5tZXRob2RdKTtvJiZKLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwicG9zdCIsInB1dCIsInBhdGNoIiwiY29tbW9uIl0sKGU9PntkZWxldGUgb1tlXX0pKTthLmhlYWRlcnM9bWUuY29uY2F0KHMsbyk7Y29uc3QgdD1bXTtsZXQgcj10cnVlO3RoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaCgoZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoZSl7aWYodHlwZW9mIGUucnVuV2hlbj09PSJmdW5jdGlvbiImJmUucnVuV2hlbihhKT09PWZhbHNlKXtyZXR1cm59cj1yJiZlLnN5bmNocm9ub3VzO3QudW5zaGlmdChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKTtjb25zdCBjPVtdO3RoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhlKXtjLnB1c2goZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSk7bGV0IHA7bGV0IGw9MDtsZXQgdTtpZighcil7Y29uc3QgZT1bZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksdW5kZWZpbmVkXTtlLnVuc2hpZnQuYXBwbHkoZSx0KTtlLnB1c2guYXBwbHkoZSxjKTt1PWUubGVuZ3RoO3A9UHJvbWlzZS5yZXNvbHZlKGEpO3doaWxlKGw8dSl7cD1wLnRoZW4oZVtsKytdLGVbbCsrXSl9cmV0dXJuIHB9dT10Lmxlbmd0aDtsZXQgZD1hO2w9MDt3aGlsZShsPHUpe2NvbnN0IGU9dFtsKytdO2NvbnN0IGE9dFtsKytdO3RyeXtkPWUoZCl9Y2F0Y2goZSl7YS5jYWxsKHRoaXMsZSk7YnJlYWt9fXRyeXtwPWRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsZCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWw9MDt1PWMubGVuZ3RoO3doaWxlKGw8dSl7cD1wLnRoZW4oY1tsKytdLGNbbCsrXSl9cmV0dXJuIHB9Z2V0VXJpKGUpe2U9bWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cyxlKTtjb25zdCBhPWJ1aWxkRnVsbFBhdGgoZS5iYXNlVVJMLGUudXJsKTtyZXR1cm4gYnVpbGRVUkwoYSxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpfX1KLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwib3B0aW9ucyJdLChmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKGUpe0F4aW9zLnByb3RvdHlwZVtlXT1mdW5jdGlvbihhLGkpe3JldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoaXx8e30se21ldGhvZDplLHVybDphLGRhdGE6KGl8fHt9KS5kYXRhfSkpfX0pKTtKLmZvckVhY2goWyJwb3N0IiwicHV0IiwicGF0Y2giXSwoZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKGUpe2Z1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChhKXtyZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZChpLG4sbyl7cmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhvfHx7fSx7bWV0aG9kOmUsaGVhZGVyczphP3siQ29udGVudC1UeXBlIjoibXVsdGlwYXJ0L2Zvcm0tZGF0YSJ9Ont9LHVybDppLGRhdGE6bn0pKX19QXhpb3MucHJvdG90eXBlW2VdPWdlbmVyYXRlSFRUUE1ldGhvZCgpO0F4aW9zLnByb3RvdHlwZVtlKyJGb3JtIl09Z2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpfSkpO2NvbnN0IGlhPUF4aW9zO2NsYXNzIENhbmNlbFRva2Vue2NvbnN0cnVjdG9yKGUpe2lmKHR5cGVvZiBlIT09ImZ1bmN0aW9uIil7dGhyb3cgbmV3IFR5cGVFcnJvcigiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLiIpfWxldCBhO3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKGUpe2E9ZX0pKTtjb25zdCBpPXRoaXM7dGhpcy5wcm9taXNlLnRoZW4oKGU9PntpZighaS5fbGlzdGVuZXJzKXJldHVybjtsZXQgYT1pLl9saXN0ZW5lcnMubGVuZ3RoO3doaWxlKGEtLSA+MCl7aS5fbGlzdGVuZXJzW2FdKGUpfWkuX2xpc3RlbmVycz1udWxsfSkpO3RoaXMucHJvbWlzZS50aGVuPWU9PntsZXQgYTtjb25zdCBuPW5ldyBQcm9taXNlKChlPT57aS5zdWJzY3JpYmUoZSk7YT1lfSkpLnRoZW4oZSk7bi5jYW5jZWw9ZnVuY3Rpb24gcmVqZWN0KCl7aS51bnN1YnNjcmliZShhKX07cmV0dXJuIG59O2UoKGZ1bmN0aW9uIGNhbmNlbChlLG4sbyl7aWYoaS5yZWFzb24pe3JldHVybn1pLnJlYXNvbj1uZXcgQ2FuY2VsZWRFcnJvcihlLG4sbyk7YShpLnJlYXNvbil9KSl9dGhyb3dJZlJlcXVlc3RlZCgpe2lmKHRoaXMucmVhc29uKXt0aHJvdyB0aGlzLnJlYXNvbn19c3Vic2NyaWJlKGUpe2lmKHRoaXMucmVhc29uKXtlKHRoaXMucmVhc29uKTtyZXR1cm59aWYodGhpcy5fbGlzdGVuZXJzKXt0aGlzLl9saXN0ZW5lcnMucHVzaChlKX1lbHNle3RoaXMuX2xpc3RlbmVycz1bZV19fXVuc3Vic2NyaWJlKGUpe2lmKCF0aGlzLl9saXN0ZW5lcnMpe3JldHVybn1jb25zdCBhPXRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGUpO2lmKGEhPT0tMSl7dGhpcy5fbGlzdGVuZXJzLnNwbGljZShhLDEpfX1zdGF0aWMgc291cmNlKCl7bGV0IGU7Y29uc3QgYT1uZXcgQ2FuY2VsVG9rZW4oKGZ1bmN0aW9uIGV4ZWN1dG9yKGEpe2U9YX0pKTtyZXR1cm57dG9rZW46YSxjYW5jZWw6ZX19fWNvbnN0IG5hPUNhbmNlbFRva2VuO2Z1bmN0aW9uIHNwcmVhZChlKXtyZXR1cm4gZnVuY3Rpb24gd3JhcChhKXtyZXR1cm4gZS5hcHBseShudWxsLGEpfX1mdW5jdGlvbiBpc0F4aW9zRXJyb3IoZSl7cmV0dXJuIEouaXNPYmplY3QoZSkmJmUuaXNBeGlvc0Vycm9yPT09dHJ1ZX1jb25zdCBvYT17Q29udGludWU6MTAwLFN3aXRjaGluZ1Byb3RvY29sczoxMDEsUHJvY2Vzc2luZzoxMDIsRWFybHlIaW50czoxMDMsT2s6MjAwLENyZWF0ZWQ6MjAxLEFjY2VwdGVkOjIwMixOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246MjAzLE5vQ29udGVudDoyMDQsUmVzZXRDb250ZW50OjIwNSxQYXJ0aWFsQ29udGVudDoyMDYsTXVsdGlTdGF0dXM6MjA3LEFscmVhZHlSZXBvcnRlZDoyMDgsSW1Vc2VkOjIyNixNdWx0aXBsZUNob2ljZXM6MzAwLE1vdmVkUGVybWFuZW50bHk6MzAxLEZvdW5kOjMwMixTZWVPdGhlcjozMDMsTm90TW9kaWZpZWQ6MzA0LFVzZVByb3h5OjMwNSxVbnVzZWQ6MzA2LFRlbXBvcmFyeVJlZGlyZWN0OjMwNyxQZXJtYW5lbnRSZWRpcmVjdDozMDgsQmFkUmVxdWVzdDo0MDAsVW5hdXRob3JpemVkOjQwMSxQYXltZW50UmVxdWlyZWQ6NDAyLEZvcmJpZGRlbjo0MDMsTm90Rm91bmQ6NDA0LE1ldGhvZE5vdEFsbG93ZWQ6NDA1LE5vdEFjY2VwdGFibGU6NDA2LFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDo0MDcsUmVxdWVzdFRpbWVvdXQ6NDA4LENvbmZsaWN0OjQwOSxHb25lOjQxMCxMZW5ndGhSZXF1aXJlZDo0MTEsUHJlY29uZGl0aW9uRmFpbGVkOjQxMixQYXlsb2FkVG9vTGFyZ2U6NDEzLFVyaVRvb0xvbmc6NDE0LFVuc3VwcG9ydGVkTWVkaWFUeXBlOjQxNSxSYW5nZU5vdFNhdGlzZmlhYmxlOjQxNixFeHBlY3RhdGlvbkZhaWxlZDo0MTcsSW1BVGVhcG90OjQxOCxNaXNkaXJlY3RlZFJlcXVlc3Q6NDIxLFVucHJvY2Vzc2FibGVFbnRpdHk6NDIyLExvY2tlZDo0MjMsRmFpbGVkRGVwZW5kZW5jeTo0MjQsVG9vRWFybHk6NDI1LFVwZ3JhZGVSZXF1aXJlZDo0MjYsUHJlY29uZGl0aW9uUmVxdWlyZWQ6NDI4LFRvb01hbnlSZXF1ZXN0czo0MjksUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOjQzMSxVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczo0NTEsSW50ZXJuYWxTZXJ2ZXJFcnJvcjo1MDAsTm90SW1wbGVtZW50ZWQ6NTAxLEJhZEdhdGV3YXk6NTAyLFNlcnZpY2VVbmF2YWlsYWJsZTo1MDMsR2F0ZXdheVRpbWVvdXQ6NTA0LEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOjUwNSxWYXJpYW50QWxzb05lZ290aWF0ZXM6NTA2LEluc3VmZmljaWVudFN0b3JhZ2U6NTA3LExvb3BEZXRlY3RlZDo1MDgsTm90RXh0ZW5kZWQ6NTEwLE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOjUxMX07T2JqZWN0LmVudHJpZXMob2EpLmZvckVhY2goKChbZSxhXSk9PntvYVthXT1lfSkpO2NvbnN0IHNhPW9hO2Z1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGUpe2NvbnN0IGE9bmV3IGlhKGUpO2NvbnN0IGk9YmluZChpYS5wcm90b3R5cGUucmVxdWVzdCxhKTtKLmV4dGVuZChpLGlhLnByb3RvdHlwZSxhLHthbGxPd25LZXlzOnRydWV9KTtKLmV4dGVuZChpLGEsbnVsbCx7YWxsT3duS2V5czp0cnVlfSk7aS5jcmVhdGU9ZnVuY3Rpb24gY3JlYXRlKGEpe3JldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhlLGEpKX07cmV0dXJuIGl9Y29uc3QgdGE9Y3JlYXRlSW5zdGFuY2UobGUpO3RhLkF4aW9zPWlhO3RhLkNhbmNlbGVkRXJyb3I9Q2FuY2VsZWRFcnJvcjt0YS5DYW5jZWxUb2tlbj1uYTt0YS5pc0NhbmNlbD1pc0NhbmNlbDt0YS5WRVJTSU9OPWZlO3RhLnRvRm9ybURhdGE9dG9Gb3JtRGF0YTt0YS5BeGlvc0Vycm9yPUF4aW9zRXJyb3I7dGEuQ2FuY2VsPXRhLkNhbmNlbGVkRXJyb3I7dGEuYWxsPWZ1bmN0aW9uIGFsbChlKXtyZXR1cm4gUHJvbWlzZS5hbGwoZSl9O3RhLnNwcmVhZD1zcHJlYWQ7dGEuaXNBeGlvc0Vycm9yPWlzQXhpb3NFcnJvcjt0YS5tZXJnZUNvbmZpZz1tZXJnZUNvbmZpZzt0YS5BeGlvc0hlYWRlcnM9bWU7dGEuZm9ybVRvSlNPTj1lPT5mb3JtRGF0YVRvSlNPTihKLmlzSFRNTEZvcm0oZSk/bmV3IEZvcm1EYXRhKGUpOmUpO3RhLmdldEFkYXB0ZXI9WWUuZ2V0QWRhcHRlcjt0YS5IdHRwU3RhdHVzQ29kZT1zYTt0YS5kZWZhdWx0PXRhO2UuZXhwb3J0cz10YX0sNzY1OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPUpTT04ucGFyc2UoJ3siYXBwbGljYXRpb24vMWQtaW50ZXJsZWF2ZWQtcGFyaXR5ZmVjIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vM2dwZGFzaC1xb2UtcmVwb3J0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vM2dwcC1pbXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi8zZ3BwaGFsK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uLzNncHBoYWxmb3Jtcytqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9hMmwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9hY2UrY2JvciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2FjdGl2ZW1lc3NhZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9hY3Rpdml0eStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9hbHRvLWNvc3RtYXAranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vYWx0by1jb3N0bWFwZmlsdGVyK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tZGlyZWN0b3J5K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tZW5kcG9pbnRjb3N0K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tZW5kcG9pbnRjb3N0cGFyYW1zK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tZW5kcG9pbnRwcm9wK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tZW5kcG9pbnRwcm9wcGFyYW1zK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tZXJyb3IranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vYWx0by1uZXR3b3JrbWFwK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2FsdG8tbmV0d29ya21hcGZpbHRlcitqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9hbHRvLXVwZGF0ZXN0cmVhbWNvbnRyb2wranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vYWx0by11cGRhdGVzdHJlYW1wYXJhbXMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vYW1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vYW5kcmV3LWluc2V0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImV6Il19LCJhcHBsaWNhdGlvbi9hcHBsZWZpbGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9hcHBsaXh3YXJlIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYXciXX0sImFwcGxpY2F0aW9uL2F0K2p3dCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2F0ZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2F0ZngiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9hdG9tK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImF0b20iXX0sImFwcGxpY2F0aW9uL2F0b21jYXQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYXRvbWNhdCJdfSwiYXBwbGljYXRpb24vYXRvbWRlbGV0ZWQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYXRvbWRlbGV0ZWQiXX0sImFwcGxpY2F0aW9uL2F0b21pY21haWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9hdG9tc3ZjK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImF0b21zdmMiXX0sImFwcGxpY2F0aW9uL2F0c2MtZHdkK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImR3ZCJdfSwiYXBwbGljYXRpb24vYXRzYy1keW5hbWljLWV2ZW50LW1lc3NhZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9hdHNjLWhlbGQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiaGVsZCJdfSwiYXBwbGljYXRpb24vYXRzYy1yZHQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vYXRzYy1yc2F0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJzYXQiXX0sImFwcGxpY2F0aW9uL2F0eG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vYXV0aC1wb2xpY3kreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9iYWNuZXQteGRkK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL2JhdGNoLXNtdHAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9iZG9jIjp7ImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYmRvYyJdfSwiYXBwbGljYXRpb24vYmVlcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NhbGVuZGFyK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NhbGVuZGFyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhjcyJdfSwiYXBwbGljYXRpb24vY2FsbC1jb21wbGV0aW9uIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vY2Fscy0xODQwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vY2FwdGl2ZStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9jYm9yIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vY2Jvci1zZXEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9jY2NleCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2NjbXAreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9jY3htbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJjY3htbCJdfSwiYXBwbGljYXRpb24vY2RmeCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJjZGZ4Il19LCJhcHBsaWNhdGlvbi9jZG1pLWNhcGFiaWxpdHkiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2RtaWEiXX0sImFwcGxpY2F0aW9uL2NkbWktY29udGFpbmVyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNkbWljIl19LCJhcHBsaWNhdGlvbi9jZG1pLWRvbWFpbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjZG1pZCJdfSwiYXBwbGljYXRpb24vY2RtaS1vYmplY3QiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2RtaW8iXX0sImFwcGxpY2F0aW9uL2NkbWktcXVldWUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2RtaXEiXX0sImFwcGxpY2F0aW9uL2NkbmkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9jZWEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9jZWEtMjAxOCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NlbGxtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NmdyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2NpdHkranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vY2xyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vY2x1ZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NsdWVfaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NtcyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2NucnAreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9jb2FwLWdyb3VwK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NvYXAtcGF5bG9hZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2NvbW1vbmdyb3VuZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2NvbmZlcmVuY2UtaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2Nvc2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9jb3NlLWtleSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2Nvc2Uta2V5LXNldCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2NwbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJjcGwiXX0sImFwcGxpY2F0aW9uL2NzcmF0dHJzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vY3N0YSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2NzdGFkYXRhK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vY3N2bStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9jdS1zZWVtZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImN1Il19LCJhcHBsaWNhdGlvbi9jd3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9jeWJlcmNhc2giOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kYXJ0Ijp7ImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2Rhc2greG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsibXBkIl19LCJhcHBsaWNhdGlvbi9kYXNoLXBhdGNoK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1wcCJdfSwiYXBwbGljYXRpb24vZGFzaGRlbHRhIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vZGF2bW91bnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZGF2bW91bnQiXX0sImFwcGxpY2F0aW9uL2RjYS1yZnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kY2QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kZWMtZHgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kaWFsb2ctaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2RpY29tIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vZGljb20ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZGljb20reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9kaWkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kaXQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kbnMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kbnMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZG5zLW1lc3NhZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kb2Nib29rK3htbCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZGJrIl19LCJhcHBsaWNhdGlvbi9kb3RzK2Nib3IiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9kc2twcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2Rzc2MrZGVyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImRzc2MiXX0sImFwcGxpY2F0aW9uL2Rzc2MreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieGRzc2MiXX0sImFwcGxpY2F0aW9uL2R2Y3MiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0Ijp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZXMiLCJlY21hIl19LCJhcHBsaWNhdGlvbi9lZGktY29uc2VudCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2VkaS14MTIiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi9lZGlmYWN0Ijp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vZWZpIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vZWxtK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2VsbSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2VtZXJnZW5jeWNhbGxkYXRhLmNhcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2VtZXJnZW5jeWNhbGxkYXRhLmNvbW1lbnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9lbWVyZ2VuY3ljYWxsZGF0YS5jb250cm9sK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZW1lcmdlbmN5Y2FsbGRhdGEuZGV2aWNlaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2VtZXJnZW5jeWNhbGxkYXRhLmVjYWxsLm1zZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2VtZXJnZW5jeWNhbGxkYXRhLnByb3ZpZGVyaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2VtZXJnZW5jeWNhbGxkYXRhLnNlcnZpY2VpbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZW1lcmdlbmN5Y2FsbGRhdGEuc3Vic2NyaWJlcmluZm8reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9lbWVyZ2VuY3ljYWxsZGF0YS52ZWRzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZW1tYSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJlbW1hIl19LCJhcHBsaWNhdGlvbi9lbW90aW9ubWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZW1vdGlvbm1sIl19LCJhcHBsaWNhdGlvbi9lbmNhcHJ0cCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2VwcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2VwdWIremlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImVwdWIiXX0sImFwcGxpY2F0aW9uL2VzaG9wIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vZXhpIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImV4aSJdfSwiYXBwbGljYXRpb24vZXhwZWN0LWN0LXJlcG9ydCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9leHByZXNzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImV4cCJdfSwiYXBwbGljYXRpb24vZmFzdGluZm9zZXQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9mYXN0c29hcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2ZkdCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJmZHQiXX0sImFwcGxpY2F0aW9uL2ZoaXIranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZmhpcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2ZpZG8udHJ1c3RlZC1hcHBzK2pzb24iOnsiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZml0cyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2ZsZXhmZWMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9mb250LXNmbnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9mb250LXRkcGZyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBmciJdfSwiYXBwbGljYXRpb24vZm9udC13b2ZmIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vZnJhbWV3b3JrLWF0dHJpYnV0ZXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9nZW8ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImdlb2pzb24iXX0sImFwcGxpY2F0aW9uL2dlbytqc29uLXNlcSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2dlb3BhY2thZ2Urc3FsaXRlMyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2dlb3hhY21sK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vZ2x0Zi1idWZmZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9nbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZ21sIl19LCJhcHBsaWNhdGlvbi9ncHgreG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJncHgiXX0sImFwcGxpY2F0aW9uL2d4ZiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImd4ZiJdfSwiYXBwbGljYXRpb24vZ3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJneiJdfSwiYXBwbGljYXRpb24vaDIyNCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2hlbGQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9oanNvbiI6eyJleHRlbnNpb25zIjpbImhqc29uIl19LCJhcHBsaWNhdGlvbi9odHRwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vaHlwZXJzdHVkaW8iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic3RrIl19LCJhcHBsaWNhdGlvbi9pYmUta2V5LXJlcXVlc3QreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9pYmUtcGtnLXJlcGx5K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vaWJlLXBwLWRhdGEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9pZ2VzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vaW0taXNjb21wb3NpbmcreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9pbmRleCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2luZGV4LmNtZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2luZGV4Lm9iaiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2luZGV4LnJlc3BvbnNlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vaW5kZXgudm5kIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vaW5rbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiaW5rIiwiaW5rbWwiXX0sImFwcGxpY2F0aW9uL2lvdHAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9pcGZpeCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJpcGZpeCJdfSwiYXBwbGljYXRpb24vaXBwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vaXN1cCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2l0cyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJpdHMiXX0sImFwcGxpY2F0aW9uL2phdmEtYXJjaGl2ZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImphciIsIndhciIsImVhciJdfSwiYXBwbGljYXRpb24vamF2YS1zZXJpYWxpemVkLW9iamVjdCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbInNlciJdfSwiYXBwbGljYXRpb24vamF2YS12bSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImNsYXNzIl19LCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Ijp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsianMiLCJtanMiXX0sImFwcGxpY2F0aW9uL2pmMmZlZWQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vam9zZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL2pvc2UranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vanJkK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL2pzY2FsZW5kYXIranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vanNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImpzb24iLCJtYXAiXX0sImFwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vanNvbi1zZXEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9qc29uNSI6eyJleHRlbnNpb25zIjpbImpzb241Il19LCJhcHBsaWNhdGlvbi9qc29ubWwranNvbiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsianNvbm1sIl19LCJhcHBsaWNhdGlvbi9qd2sranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vandrLXNldCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9qd3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9rcG1sLXJlcXVlc3QreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9rcG1sLXJlc3BvbnNlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbGQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImpzb25sZCJdfSwiYXBwbGljYXRpb24vbGdyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImxnciJdfSwiYXBwbGljYXRpb24vbGluay1mb3JtYXQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9sb2FkLWNvbnRyb2wreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9sb3N0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImxvc3R4bWwiXX0sImFwcGxpY2F0aW9uL2xvc3RzeW5jK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbHBmK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL2x4ZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL21hYy1iaW5oZXg0MCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJocXgiXX0sImFwcGxpY2F0aW9uL21hYy1jb21wYWN0cHJvIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY3B0Il19LCJhcHBsaWNhdGlvbi9tYWN3cml0ZWlpIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbWFkcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJtYWRzIl19LCJhcHBsaWNhdGlvbi9tYW5pZmVzdCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsid2VibWFuaWZlc3QiXX0sImFwcGxpY2F0aW9uL21hcmMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXJjIl19LCJhcHBsaWNhdGlvbi9tYXJjeG1sK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1yY3giXX0sImFwcGxpY2F0aW9uL21hdGhlbWF0aWNhIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1hIiwibmIiLCJtYiJdfSwiYXBwbGljYXRpb24vbWF0aG1sK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1hdGhtbCJdfSwiYXBwbGljYXRpb24vbWF0aG1sLWNvbnRlbnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9tYXRobWwtcHJlc2VudGF0aW9uK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbWJtcy1hc3NvY2lhdGVkLXByb2NlZHVyZS1kZXNjcmlwdGlvbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21ibXMtZGVyZWdpc3Rlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21ibXMtZW52ZWxvcGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9tYm1zLW1zayt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21ibXMtbXNrLXJlc3BvbnNlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbWJtcy1wcm90ZWN0aW9uLWRlc2NyaXB0aW9uK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbWJtcy1yZWNlcHRpb24tcmVwb3J0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbWJtcy1yZWdpc3Rlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21ibXMtcmVnaXN0ZXItcmVzcG9uc2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9tYm1zLXNjaGVkdWxlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbWJtcy11c2VyLXNlcnZpY2UtZGVzY3JpcHRpb24reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9tYm94Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1ib3giXX0sImFwcGxpY2F0aW9uL21lZGlhLXBvbGljeS1kYXRhc2V0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1wZiJdfSwiYXBwbGljYXRpb24vbWVkaWFfY29udHJvbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21lZGlhc2VydmVyY29udHJvbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJtc2NtbCJdfSwiYXBwbGljYXRpb24vbWVyZ2UtcGF0Y2granNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbWV0YWxpbmsreG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJtZXRhbGluayJdfSwiYXBwbGljYXRpb24vbWV0YWxpbms0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1ldGE0Il19LCJhcHBsaWNhdGlvbi9tZXRzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1ldHMiXX0sImFwcGxpY2F0aW9uL21mNCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL21pa2V5Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbWlwYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL21pc3NpbmctYmxvY2tzK2Nib3Itc2VxIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbW10LWFlaSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJtYWVpIl19LCJhcHBsaWNhdGlvbi9tbXQtdXNkK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm11c2QiXX0sImFwcGxpY2F0aW9uL21vZHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsibW9kcyJdfSwiYXBwbGljYXRpb24vbW9zcy1rZXlzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbW9zcy1zaWduYXR1cmUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9tb3Nza2V5LWRhdGEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9tb3Nza2V5LXJlcXVlc3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9tcDIxIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm0yMSIsIm1wMjEiXX0sImFwcGxpY2F0aW9uL21wNCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtcDRzIiwibTRwIl19LCJhcHBsaWNhdGlvbi9tcGVnNC1nZW5lcmljIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbXBlZzQtaW9kIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbXBlZzQtaW9kLXhtdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL21yYi1jb25zdW1lcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21yYi1wdWJsaXNoK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vbXNjLWl2cit4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21zYy1taXhlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL21zd29yZCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJkb2MiLCJkb3QiXX0sImFwcGxpY2F0aW9uL211ZCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9tdWx0aXBhcnQtY29yZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL214ZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJteGYiXX0sImFwcGxpY2F0aW9uL24tcXVhZHMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibnEiXX0sImFwcGxpY2F0aW9uL24tdHJpcGxlcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJudCJdfSwiYXBwbGljYXRpb24vbmFzZGF0YSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL25ld3MtY2hlY2tncm91cHMiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVUy1BU0NJSSJ9LCJhcHBsaWNhdGlvbi9uZXdzLWdyb3VwaW5mbyI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVTLUFTQ0lJIn0sImFwcGxpY2F0aW9uL25ld3MtdHJhbnNtaXNzaW9uIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vbmxzbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9ub2RlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNqcyJdfSwiYXBwbGljYXRpb24vbnNzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vb2F1dGgtYXV0aHotcmVxK2p3dCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL29ibGl2aW91cy1kbnMtbWVzc2FnZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL29jc3AtcmVxdWVzdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL29jc3AtcmVzcG9uc2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYmluIiwiZG1zIiwibHJmIiwibWFyIiwic28iLCJkaXN0IiwiZGlzdHoiLCJwa2ciLCJicGsiLCJkdW1wIiwiZWxjIiwiZGVwbG95IiwiZXhlIiwiZGxsIiwiZGViIiwiZG1nIiwiaXNvIiwiaW1nIiwibXNpIiwibXNwIiwibXNtIiwiYnVmZmVyIl19LCJhcHBsaWNhdGlvbi9vZGEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib2RhIl19LCJhcHBsaWNhdGlvbi9vZG0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9vZHgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm9wZiJdfSwiYXBwbGljYXRpb24vb2dnIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIm9neCJdfSwiYXBwbGljYXRpb24vb21kb2MreG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJvbWRvYyJdfSwiYXBwbGljYXRpb24vb25lbm90ZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm9uZXRvYyIsIm9uZXRvYzIiLCJvbmV0bXAiLCJvbmVwa2ciXX0sImFwcGxpY2F0aW9uL29wYy1ub2Rlc2V0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vb3Njb3JlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vb3hwcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJveHBzIl19LCJhcHBsaWNhdGlvbi9wMjEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9wMjEremlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vcDJwLW92ZXJsYXkreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicmVsbyJdfSwiYXBwbGljYXRpb24vcGFyaXR5ZmVjIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcGFzc3BvcnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9wYXRjaC1vcHMtZXJyb3IreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieGVyIl19LCJhcHBsaWNhdGlvbi9wZGYiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsicGRmIl19LCJhcHBsaWNhdGlvbi9wZHgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9wZW0tY2VydGlmaWNhdGUtY2hhaW4iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9wZ3AtZW5jcnlwdGVkIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbInBncCJdfSwiYXBwbGljYXRpb24vcGdwLWtleXMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYXNjIl19LCJhcHBsaWNhdGlvbi9wZ3Atc2lnbmF0dXJlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImFzYyIsInNpZyJdfSwiYXBwbGljYXRpb24vcGljcy1ydWxlcyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInByZiJdfSwiYXBwbGljYXRpb24vcGlkZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3BpZGYtZGlmZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3BrY3MxMCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwMTAiXX0sImFwcGxpY2F0aW9uL3BrY3MxMiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3BrY3M3LW1pbWUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicDdtIiwicDdjIl19LCJhcHBsaWNhdGlvbi9wa2NzNy1zaWduYXR1cmUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicDdzIl19LCJhcHBsaWNhdGlvbi9wa2NzOCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwOCJdfSwiYXBwbGljYXRpb24vcGtjczgtZW5jcnlwdGVkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcGtpeC1hdHRyLWNlcnQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYWMiXX0sImFwcGxpY2F0aW9uL3BraXgtY2VydCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjZXIiXX0sImFwcGxpY2F0aW9uL3BraXgtY3JsIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNybCJdfSwiYXBwbGljYXRpb24vcGtpeC1wa2lwYXRoIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBraXBhdGgiXX0sImFwcGxpY2F0aW9uL3BraXhjbXAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicGtpIl19LCJhcHBsaWNhdGlvbi9wbHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicGxzIl19LCJhcHBsaWNhdGlvbi9wb2Mtc2V0dGluZ3MreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9wb3N0c2NyaXB0Ijp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYWkiLCJlcHMiLCJwcyJdfSwiYXBwbGljYXRpb24vcHBzcC10cmFja2VyK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3Byb2JsZW0ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vcHJvYmxlbSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3Byb3ZlbmFuY2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicHJvdngiXX0sImFwcGxpY2F0aW9uL3Bycy5hbHZlc3RyYW5kLnRpdHJheC1zaGVldCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3Bycy5jd3ciOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY3d3Il19LCJhcHBsaWNhdGlvbi9wcnMuY3luIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiNy1CSVQifSwiYXBwbGljYXRpb24vcHJzLmhwdWIremlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vcHJzLm5wcmVuZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3Bycy5wbHVja2VyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcHJzLnJkZi14bWwtY3J5cHQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9wcnMueHNmK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vcHNrYyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJwc2tjeG1sIl19LCJhcHBsaWNhdGlvbi9wdmQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vcXNpZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3JhbWwreWFtbCI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicmFtbCJdfSwiYXBwbGljYXRpb24vcmFwdG9yZmVjIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcmRhcCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9yZGYreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicmRmIiwib3dsIl19LCJhcHBsaWNhdGlvbi9yZWdpbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJpZiJdfSwiYXBwbGljYXRpb24vcmVsYXgtbmctY29tcGFjdC1zeW50YXgiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicm5jIl19LCJhcHBsaWNhdGlvbi9yZW1vdGUtcHJpbnRpbmciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9yZXB1dG9uK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3Jlc291cmNlLWxpc3RzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJsIl19LCJhcHBsaWNhdGlvbi9yZXNvdXJjZS1saXN0cy1kaWZmK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJsZCJdfSwiYXBwbGljYXRpb24vcmZjK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vcmlzY29zIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcmxtaSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3Jscy1zZXJ2aWNlcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJycyJdfSwiYXBwbGljYXRpb24vcm91dGUtYXBkK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJhcGQiXX0sImFwcGxpY2F0aW9uL3JvdXRlLXMtdHNpZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzbHMiXX0sImFwcGxpY2F0aW9uL3JvdXRlLXVzZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJydXNkIl19LCJhcHBsaWNhdGlvbi9ycGtpLWdob3N0YnVzdGVycyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJnYnIiXX0sImFwcGxpY2F0aW9uL3Jwa2ktbWFuaWZlc3QiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibWZ0Il19LCJhcHBsaWNhdGlvbi9ycGtpLXB1YmxpY2F0aW9uIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcnBraS1yb2EiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicm9hIl19LCJhcHBsaWNhdGlvbi9ycGtpLXVwZG93biI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3JzZCt4bWwiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJzZCJdfSwiYXBwbGljYXRpb24vcnNzK3htbCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicnNzIl19LCJhcHBsaWNhdGlvbi9ydGYiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJydGYiXX0sImFwcGxpY2F0aW9uL3J0cGxvb3BiYWNrIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vcnR4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2FtbGFzc2VydGlvbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NhbWxtZXRhZGF0YSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NhcmlmK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NhcmlmLWV4dGVybmFsLXByb3BlcnRpZXMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vc2JlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2JtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzYm1sIl19LCJhcHBsaWNhdGlvbi9zY2FpcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NjaW0ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vc2N2cC1jdi1yZXF1ZXN0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNjcSJdfSwiYXBwbGljYXRpb24vc2N2cC1jdi1yZXNwb25zZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzY3MiXX0sImFwcGxpY2F0aW9uL3NjdnAtdnAtcmVxdWVzdCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzcHEiXX0sImFwcGxpY2F0aW9uL3NjdnAtdnAtcmVzcG9uc2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic3BwIl19LCJhcHBsaWNhdGlvbi9zZHAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic2RwIl19LCJhcHBsaWNhdGlvbi9zZWNldmVudCtqd3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zZW5tbCtjYm9yIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2VubWwranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vc2VubWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsic2VubWx4Il19LCJhcHBsaWNhdGlvbi9zZW5tbC1ldGNoK2Nib3IiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zZW5tbC1ldGNoK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3Nlbm1sLWV4aSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3NlbnNtbCtjYm9yIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2Vuc21sK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NlbnNtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzZW5zbWx4Il19LCJhcHBsaWNhdGlvbi9zZW5zbWwtZXhpIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2VwK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vc2VwLWV4aSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3Nlc3Npb24taW5mbyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3NldC1wYXltZW50Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2V0LXBheW1lbnQtaW5pdGlhdGlvbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzZXRwYXkiXX0sImFwcGxpY2F0aW9uL3NldC1yZWdpc3RyYXRpb24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zZXQtcmVnaXN0cmF0aW9uLWluaXRpYXRpb24iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic2V0cmVnIl19LCJhcHBsaWNhdGlvbi9zZ21sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2dtbC1vcGVuLWNhdGFsb2ciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zaGYreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsic2hmIl19LCJhcHBsaWNhdGlvbi9zaWV2ZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzaXYiLCJzaWV2ZSJdfSwiYXBwbGljYXRpb24vc2ltcGxlLWZpbHRlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NpbXBsZS1tZXNzYWdlLXN1bW1hcnkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zaW1wbGVzeW1ib2xjb250YWluZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zaXBjIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc2xhdGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zbWlsIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc21pbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzbWkiLCJzbWlsIl19LCJhcHBsaWNhdGlvbi9zbXB0ZTMzNm0iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zb2FwK2Zhc3RpbmZvc2V0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vc29hcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NwYXJxbC1xdWVyeSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJycSJdfSwiYXBwbGljYXRpb24vc3BhcnFsLXJlc3VsdHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsic3J4Il19LCJhcHBsaWNhdGlvbi9zcGR4K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3NwaXJpdHMtZXZlbnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi9zcWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi9zcmdzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImdyYW0iXX0sImFwcGxpY2F0aW9uL3NyZ3MreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZ3J4bWwiXX0sImFwcGxpY2F0aW9uL3NydSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzcnUiXX0sImFwcGxpY2F0aW9uL3NzZGwreG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzc2RsIl19LCJhcHBsaWNhdGlvbi9zc21sK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInNzbWwiXX0sImFwcGxpY2F0aW9uL3N0aXgranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vc3dpZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzd2lkdGFnIl19LCJhcHBsaWNhdGlvbi90YW1wLWFwZXgtdXBkYXRlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdGFtcC1hcGV4LXVwZGF0ZS1jb25maXJtIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdGFtcC1jb21tdW5pdHktdXBkYXRlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdGFtcC1jb21tdW5pdHktdXBkYXRlLWNvbmZpcm0iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90YW1wLWVycm9yIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdGFtcC1zZXF1ZW5jZS1hZGp1c3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90YW1wLXNlcXVlbmNlLWFkanVzdC1jb25maXJtIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdGFtcC1zdGF0dXMtcXVlcnkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90YW1wLXN0YXR1cy1yZXNwb25zZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3RhbXAtdXBkYXRlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdGFtcC11cGRhdGUtY29uZmlybSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3RhciI6eyJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi90YXhpaStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi90ZCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi90ZWkreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidGVpIiwidGVpY29ycHVzIl19LCJhcHBsaWNhdGlvbi90ZXRyYV9pc2kiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90aHJhdWQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidGZpIl19LCJhcHBsaWNhdGlvbi90aW1lc3RhbXAtcXVlcnkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90aW1lc3RhbXAtcmVwbHkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90aW1lc3RhbXBlZC1kYXRhIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInRzZCJdfSwiYXBwbGljYXRpb24vdGxzcnB0K2d6aXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90bHNycHQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdG5hdXRobGlzdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3Rva2VuLWludHJvc3BlY3Rpb24rand0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdG9tbCI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidG9tbCJdfSwiYXBwbGljYXRpb24vdHJpY2tsZS1pY2Utc2RwZnJhZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3RyaWciOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidHJpZyJdfSwiYXBwbGljYXRpb24vdHRtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ0dG1sIl19LCJhcHBsaWNhdGlvbi90dmUtdHJpZ2dlciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3R6aWYiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi90emlmLWxlYXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi91Ympzb24iOnsiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ1YmoiXX0sImFwcGxpY2F0aW9uL3VscGZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3VyYy1ncnBzaGVldCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3VyYy1yZXNzaGVldCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJyc2hlZXQiXX0sImFwcGxpY2F0aW9uL3VyYy10YXJnZXRkZXNjK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInRkIl19LCJhcHBsaWNhdGlvbi91cmMtdWlzb2NrZXRkZXNjK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdmNhcmQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdmNhcmQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92ZW1taSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZpdmlkZW5jZS5zY3JpcHRmaWxlIjp7InNvdXJjZSI6ImFwYWNoZSJ9LCJhcHBsaWNhdGlvbi92bmQuMTAwMG1pbmRzLmRlY2lzaW9uLW1vZGVsK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIjFrbSJdfSwiYXBwbGljYXRpb24vdm5kLjNncHAtcHJvc2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC1wcm9zZS1wYzNjaCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLXYyeC1sb2NhbC1zZXJ2aWNlLWluZm9ybWF0aW9uIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLjNncHAuNWduYXMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5hY2Nlc3MtdHJhbnNmZXItZXZlbnRzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAuYnNmK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAuZ21vcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLmd0cGMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5pbnRlcndvcmtpbmctZGF0YSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLmxwcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jLXNpZ25hbGxpbmctZWFyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLjNncHAubWNkYXRhLWFmZmlsaWF0aW9uLWNvbW1hbmQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5tY2RhdGEtaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jZGF0YS1wYXlsb2FkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLjNncHAubWNkYXRhLXNlcnZpY2UtY29uZmlnK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWNkYXRhLXNpZ25hbGxpbmciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5tY2RhdGEtdWUtY29uZmlnK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWNkYXRhLXVzZXItcHJvZmlsZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jcHR0LWFmZmlsaWF0aW9uLWNvbW1hbmQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5tY3B0dC1mbG9vci1yZXF1ZXN0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWNwdHQtaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jcHR0LWxvY2F0aW9uLWluZm8reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5tY3B0dC1tYm1zLXVzYWdlLWluZm8reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5tY3B0dC1zZXJ2aWNlLWNvbmZpZyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jcHR0LXNpZ25lZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jcHR0LXVlLWNvbmZpZyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jcHR0LXVlLWluaXQtY29uZmlnK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWNwdHQtdXNlci1wcm9maWxlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby1hZmZpbGlhdGlvbi1jb21tYW5kK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby1hZmZpbGlhdGlvbi1pbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby1pbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby1sb2NhdGlvbi1pbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby1tYm1zLXVzYWdlLWluZm8reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5tY3ZpZGVvLXNlcnZpY2UtY29uZmlnK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby10cmFuc21pc3Npb24tcmVxdWVzdCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm1jdmlkZW8tdWUtY29uZmlnK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAubWN2aWRlby11c2VyLXByb2ZpbGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5taWQtY2FsbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLm5nYXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5wZmNwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLjNncHAucGljLWJ3LWxhcmdlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBsYiJdfSwiYXBwbGljYXRpb24vdm5kLjNncHAucGljLWJ3LXNtYWxsIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBzYiJdfSwiYXBwbGljYXRpb24vdm5kLjNncHAucGljLWJ3LXZhciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwdmIiXX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwLnMxYXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5zbXMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5zbXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5zcnZjYy1leHQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC5zcnZjYy1pbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAuc3RhdGUtYW5kLWV2ZW50LWluZm8reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuM2dwcC51c3NkK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLjNncHAyLmJjbWNzaW5mbyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC4zZ3BwMi5zbXMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuM2dwcDIudGNhcCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0Y2FwIl19LCJhcHBsaWNhdGlvbi92bmQuM2xpZ2h0c3NvZnR3YXJlLmltYWdlc2NhbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC4zbS5wb3N0LWl0LW5vdGVzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInB3biJdfSwiYXBwbGljYXRpb24vdm5kLmFjY3BhYy5zaW1wbHkuYXNvIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImFzbyJdfSwiYXBwbGljYXRpb24vdm5kLmFjY3BhYy5zaW1wbHkuaW1wIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImltcCJdfSwiYXBwbGljYXRpb24vdm5kLmFjdWNvYm9sIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImFjdSJdfSwiYXBwbGljYXRpb24vdm5kLmFjdWNvcnAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYXRjIiwiYWN1dGMiXX0sImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5haXItYXBwbGljYXRpb24taW5zdGFsbGVyLXBhY2thZ2UremlwIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYWlyIl19LCJhcHBsaWNhdGlvbi92bmQuYWRvYmUuZmxhc2gubW92aWUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWRvYmUuZm9ybXNjZW50cmFsLmZjZHQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZmNkdCJdfSwiYXBwbGljYXRpb24vdm5kLmFkb2JlLmZ4cCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJmeHAiLCJmeHBsIl19LCJhcHBsaWNhdGlvbi92bmQuYWRvYmUucGFydGlhbC11cGxvYWQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWRvYmUueGRwK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhkcCJdfSwiYXBwbGljYXRpb24vdm5kLmFkb2JlLnhmZGYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieGZkZiJdfSwiYXBwbGljYXRpb24vdm5kLmFldGhlci5pbXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWZwYy5hZnBsaW5lZGF0YSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hZnBjLmFmcGxpbmVkYXRhLXBhZ2VkZWYiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWZwYy5jbW9jYS1jbXJlc291cmNlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFmcGMuZm9jYS1jaGFyc2V0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFmcGMuZm9jYS1jb2RlZGZvbnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWZwYy5mb2NhLWNvZGVwYWdlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFmcGMubW9kY2EiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWZwYy5tb2RjYS1jbXRhYmxlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFmcGMubW9kY2EtZm9ybWRlZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hZnBjLm1vZGNhLW1lZGl1bW1hcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hZnBjLm1vZGNhLW9iamVjdGNvbnRhaW5lciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hZnBjLm1vZGNhLW92ZXJsYXkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYWZwYy5tb2RjYS1wYWdlc2VnbWVudCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hZ2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYWdlIl19LCJhcHBsaWNhdGlvbi92bmQuYWgtYmFyY29kZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5haGVhZC5zcGFjZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJhaGVhZCJdfSwiYXBwbGljYXRpb24vdm5kLmFpcnppcC5maWxlc2VjdXJlLmF6ZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJhemYiXX0sImFwcGxpY2F0aW9uL3ZuZC5haXJ6aXAuZmlsZXNlY3VyZS5henMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYXpzIl19LCJhcHBsaWNhdGlvbi92bmQuYW1hZGV1cytqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuYW1hem9uLmVib29rIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYXp3Il19LCJhcHBsaWNhdGlvbi92bmQuYW1hem9uLm1vYmk4LWVib29rIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFtZXJpY2FuZHluYW1pY3MuYWNjIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImFjYyJdfSwiYXBwbGljYXRpb24vdm5kLmFtaWdhLmFtaSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJhbWkiXX0sImFwcGxpY2F0aW9uL3ZuZC5hbXVuZHNlbi5tYXplK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmFuZHJvaWQub3RhIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFuZHJvaWQucGFja2FnZS1hcmNoaXZlIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYXBrIl19LCJhcHBsaWNhdGlvbi92bmQuYW5raSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hbnNlci13ZWItY2VydGlmaWNhdGUtaXNzdWUtaW5pdGlhdGlvbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjaWkiXX0sImFwcGxpY2F0aW9uL3ZuZC5hbnNlci13ZWItZnVuZHMtdHJhbnNmZXItaW5pdGlhdGlvbiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImZ0aSJdfSwiYXBwbGljYXRpb24vdm5kLmFudGl4LmdhbWUtY29tcG9uZW50Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImF0eCJdfSwiYXBwbGljYXRpb24vdm5kLmFwYWNoZS5hcnJvdy5maWxlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFwYWNoZS5hcnJvdy5zdHJlYW0iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYXBhY2hlLnRocmlmdC5iaW5hcnkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYXBhY2hlLnRocmlmdC5jb21wYWN0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmFwYWNoZS50aHJpZnQuanNvbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hcGkranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmFwbGV4dG9yLndhcnJwK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5hcG90aGVrZW5kZS5yZXNlcnZhdGlvbitqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuYXBwbGUuaW5zdGFsbGVyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1wa2ciXX0sImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5rZXlub3RlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImtleSJdfSwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibTN1OCJdfSwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm51bWJlcnMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibnVtYmVycyJdfSwiYXBwbGljYXRpb24vdm5kLmFwcGxlLnBhZ2VzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBhZ2VzIl19LCJhcHBsaWNhdGlvbi92bmQuYXBwbGUucGtwYXNzIjp7ImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsicGtwYXNzIl19LCJhcHBsaWNhdGlvbi92bmQuYXJhc3RyYS5zd2kiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYXJpc3RhbmV0d29ya3Muc3dpIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInN3aSJdfSwiYXBwbGljYXRpb24vdm5kLmFydGlzYW4ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmFydHNxdWFyZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5hc3RyYWVhLXNvZnR3YXJlLmlvdGEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaW90YSJdfSwiYXBwbGljYXRpb24vdm5kLmF1ZGlvZ3JhcGgiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYWVwIl19LCJhcHBsaWNhdGlvbi92bmQuYXV0b3BhY2thZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYXZhbG9uK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5hdmlzdGFyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmJhbHNhbWlxLmJtbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYm1tbCJdfSwiYXBwbGljYXRpb24vdm5kLmJhbHNhbWlxLmJtcHIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYmFuYW5hLWFjY291bnRpbmciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYmJmLnVzcC5lcnJvciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5iYmYudXNwLm1zZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5iYmYudXNwLm1zZytqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuYmVraXR6dXItc3RlY2granNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmJpbnQubWVkLWNvbnRlbnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYmlvcGF4LnJkZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ibGluay1pZGItdmFsdWUtd3JhcHBlciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5ibHVlaWNlLm11bHRpcGFzcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtcG0iXX0sImFwcGxpY2F0aW9uL3ZuZC5ibHVldG9vdGguZXAub29iIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmJsdWV0b290aC5sZS5vb2IiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuYm1pIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImJtaSJdfSwiYXBwbGljYXRpb24vdm5kLmJwZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5icGYzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmJ1c2luZXNzb2JqZWN0cyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJyZXAiXX0sImFwcGxpY2F0aW9uL3ZuZC5ieXUudWFwaStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuY2FiLWpzY3JpcHQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuY2Fub24tY3BkbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jYW5vbi1saXBzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmNhcGFzeXN0ZW1zLXBnK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5jZW5kaW8udGhpbmxpbmMuY2xpZW50Y29uZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jZW50dXJ5LXN5c3RlbXMudGNwX3N0cmVhbSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jaGVtZHJhdyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJjZHhtbCJdfSwiYXBwbGljYXRpb24vdm5kLmNoZXNzLXBnbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jaGlwbnV0cy5rYXJhb2tlLW1tZCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtbWQiXX0sImFwcGxpY2F0aW9uL3ZuZC5jaWVkaSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jaW5kZXJlbGxhIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNkeSJdfSwiYXBwbGljYXRpb24vdm5kLmNpcnBhY2suaXNkbi1leHQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuY2l0YXRpb25zdHlsZXMuc3R5bGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiY3NsIl19LCJhcHBsaWNhdGlvbi92bmQuY2xheW1vcmUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2xhIl19LCJhcHBsaWNhdGlvbi92bmQuY2xvYW50by5ycDkiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicnA5Il19LCJhcHBsaWNhdGlvbi92bmQuY2xvbmsuYzRncm91cCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjNGciLCJjNGQiLCJjNGYiLCJjNHAiLCJjNHUiXX0sImFwcGxpY2F0aW9uL3ZuZC5jbHVldHJ1c3QuY2FydG9tb2JpbGUtY29uZmlnIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImMxMWFtYyJdfSwiYXBwbGljYXRpb24vdm5kLmNsdWV0cnVzdC5jYXJ0b21vYmlsZS1jb25maWctcGtnIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImMxMWFteiJdfSwiYXBwbGljYXRpb24vdm5kLmNvZmZlZXNjcmlwdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jb2xsYWJpby54b2RvY3VtZW50cy5kb2N1bWVudCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jb2xsYWJpby54b2RvY3VtZW50cy5kb2N1bWVudC10ZW1wbGF0ZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jb2xsYWJpby54b2RvY3VtZW50cy5wcmVzZW50YXRpb24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuY29sbGFiaW8ueG9kb2N1bWVudHMucHJlc2VudGF0aW9uLXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmNvbGxhYmlvLnhvZG9jdW1lbnRzLnNwcmVhZHNoZWV0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmNvbGxhYmlvLnhvZG9jdW1lbnRzLnNwcmVhZHNoZWV0LXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmNvbGxlY3Rpb24ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmNvbGxlY3Rpb24uZG9jK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5jb2xsZWN0aW9uLm5leHQranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmNvbWljYm9vayt6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi92bmQuY29taWNib29rLXJhciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jb21tZXJjZS1iYXR0ZWxsZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jb21tb25zcGFjZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjc3AiXX0sImFwcGxpY2F0aW9uL3ZuZC5jb250YWN0LmNtc2ciOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2RiY21zZyJdfSwiYXBwbGljYXRpb24vdm5kLmNvcmVvcy5pZ25pdGlvbitqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuY29zbW9jYWxsZXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY21jIl19LCJhcHBsaWNhdGlvbi92bmQuY3JpY2suY2xpY2tlciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjbGt4Il19LCJhcHBsaWNhdGlvbi92bmQuY3JpY2suY2xpY2tlci5rZXlib2FyZCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjbGtrIl19LCJhcHBsaWNhdGlvbi92bmQuY3JpY2suY2xpY2tlci5wYWxldHRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNsa3AiXX0sImFwcGxpY2F0aW9uL3ZuZC5jcmljay5jbGlja2VyLnRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNsa3QiXX0sImFwcGxpY2F0aW9uL3ZuZC5jcmljay5jbGlja2VyLndvcmRiYW5rIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNsa3ciXX0sImFwcGxpY2F0aW9uL3ZuZC5jcml0aWNhbHRvb2xzLndicyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ3YnMiXX0sImFwcGxpY2F0aW9uL3ZuZC5jcnlwdGlpLnBpcGUranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmNyeXB0by1zaGFkZS1maWxlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmNyeXB0b21hdG9yLmVuY3J5cHRlZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jcnlwdG9tYXRvci52YXVsdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jdGMtcG9zbWwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicG1sIl19LCJhcHBsaWNhdGlvbi92bmQuY3RjdC53cyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5jdXBzLXBkZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jdXBzLXBvc3RzY3JpcHQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuY3Vwcy1wcGQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicHBkIl19LCJhcHBsaWNhdGlvbi92bmQuY3Vwcy1yYXN0ZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuY3Vwcy1yYXciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuY3VybCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jdXJsLmNhciI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNhciJdfSwiYXBwbGljYXRpb24vdm5kLmN1cmwucGN1cmwiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwY3VybCJdfSwiYXBwbGljYXRpb24vdm5kLmN5YW4uZGVhbi5yb290K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmN5YmFuayI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5jeWNsb25lZHgranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmN5Y2xvbmVkeCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kMmwuY291cnNlcGFja2FnZTFwMCt6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi92bmQuZDNtLWRhdGFzZXQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZDNtLXByb2JsZW0iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZGFydCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImRhcnQiXX0sImFwcGxpY2F0aW9uL3ZuZC5kYXRhLXZpc2lvbi5yZHoiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicmR6Il19LCJhcHBsaWNhdGlvbi92bmQuZGF0YXBhY2thZ2UranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmRhdGFyZXNvdXJjZStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZGJmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImRiZiJdfSwiYXBwbGljYXRpb24vdm5kLmRlYmlhbi5iaW5hcnktcGFja2FnZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kZWNlLmRhdGEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidXZmIiwidXZ2ZiIsInV2ZCIsInV2dmQiXX0sImFwcGxpY2F0aW9uL3ZuZC5kZWNlLnR0bWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidXZ0IiwidXZ2dCJdfSwiYXBwbGljYXRpb24vdm5kLmRlY2UudW5zcGVjaWZpZWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidXZ4IiwidXZ2eCJdfSwiYXBwbGljYXRpb24vdm5kLmRlY2UuemlwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInV2eiIsInV2dnoiXX0sImFwcGxpY2F0aW9uL3ZuZC5kZW5vdm8uZmNzZWxheW91dC1saW5rIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZlX2xhdW5jaCJdfSwiYXBwbGljYXRpb24vdm5kLmRlc211bWUubW92aWUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZGlyLWJpLnBsYXRlLWRsLW5vc3VmZml4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmRtLmRlbGVnYXRpb24reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZG5hIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImRuYSJdfSwiYXBwbGljYXRpb24vdm5kLmRvY3VtZW50K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kb2xieS5tbHAiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJtbHAiXX0sImFwcGxpY2F0aW9uL3ZuZC5kb2xieS5tb2JpbGUuMSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kb2xieS5tb2JpbGUuMiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kb3JlbWlyLnNjb3JlY2xvdWQtYmluYXJ5LWRvY3VtZW50Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmRwZ3JhcGgiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZHBnIl19LCJhcHBsaWNhdGlvbi92bmQuZHJlYW1mYWN0b3J5Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImRmYWMiXX0sImFwcGxpY2F0aW9uL3ZuZC5kcml2ZStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZHMta2V5cG9pbnQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJrcHh4Il19LCJhcHBsaWNhdGlvbi92bmQuZHRnLmxvY2FsIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmR0Zy5sb2NhbC5mbGFzaCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdGcubG9jYWwuaHRtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdmIuYWl0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImFpdCJdfSwiYXBwbGljYXRpb24vdm5kLmR2Yi5kdmJpc2wreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZHZiLmR2YmoiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZHZiLmVzZ2NvbnRhaW5lciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdmIuaXBkY2RmdG5vdGlmYWNjZXNzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmR2Yi5pcGRjZXNnYWNjZXNzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmR2Yi5pcGRjZXNnYWNjZXNzMiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdmIuaXBkY2VzZ3BkZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdmIuaXBkY3JvYW1pbmciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZHZiLmlwdHYuYWxmZWMtYmFzZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdmIuaXB0di5hbGZlYy1lbmhhbmNlbWVudCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5kdmIubm90aWYtYWdncmVnYXRlLXJvb3QreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZHZiLm5vdGlmLWNvbnRhaW5lcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kdmIubm90aWYtZ2VuZXJpYyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kdmIubm90aWYtaWEtbXNnbGlzdCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kdmIubm90aWYtaWEtcmVnaXN0cmF0aW9uLXJlcXVlc3QreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZHZiLm5vdGlmLWlhLXJlZ2lzdHJhdGlvbi1yZXNwb25zZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kdmIubm90aWYtaW5pdCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5kdmIucGZyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmR2Yi5zZXJ2aWNlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInN2YyJdfSwiYXBwbGljYXRpb24vdm5kLmR4ciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5keW5hZ2VvIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImdlbyJdfSwiYXBwbGljYXRpb24vdm5kLmR6ciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5lYXN5a2FyYW9rZS5jZGdkb3dubG9hZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5lY2Rpcy11cGRhdGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZWNpcC5ybHAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZWNsaXBzZS5kaXR0bytqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZWNvd2luLmNoYXJ0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1hZyJdfSwiYXBwbGljYXRpb24vdm5kLmVjb3dpbi5maWxlcmVxdWVzdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5lY293aW4uZmlsZXVwZGF0ZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5lY293aW4uc2VyaWVzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmVjb3dpbi5zZXJpZXNyZXF1ZXN0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmVjb3dpbi5zZXJpZXN1cGRhdGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZWZpLmltZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5lZmkuaXNvIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmVtY2xpZW50LmFjY2Vzc3JlcXVlc3QreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZW5saXZlbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJubWwiXX0sImFwcGxpY2F0aW9uL3ZuZC5lbnBoYXNlLmVudm95Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmVwcmludHMuZGF0YSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5lcHNvbi5lc2YiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZXNmIl19LCJhcHBsaWNhdGlvbi92bmQuZXBzb24ubXNmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1zZiJdfSwiYXBwbGljYXRpb24vdm5kLmVwc29uLnF1aWNrYW5pbWUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicWFtIl19LCJhcHBsaWNhdGlvbi92bmQuZXBzb24uc2FsdCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzbHQiXX0sImFwcGxpY2F0aW9uL3ZuZC5lcHNvbi5zc2YiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic3NmIl19LCJhcHBsaWNhdGlvbi92bmQuZXJpY3Nzb24ucXVpY2tjYWxsIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmVzcGFzcy1lc3Bhc3MremlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vdm5kLmVzemlnbm8zK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImVzMyIsImV0MyJdfSwiYXBwbGljYXRpb24vdm5kLmV0c2kuYW9jK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmV0c2kuYXNpYy1lK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLmFzaWMtcyt6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5jdWcreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5pcHR2Y29tbWFuZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLmlwdHZkaXNjb3ZlcnkreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5pcHR2cHJvZmlsZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLmlwdHZzYWQtYmMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5pcHR2c2FkLWNvZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLmlwdHZzYWQtbnB2cit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLmlwdHZzZXJ2aWNlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmV0c2kuaXB0dnN5bmMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5pcHR2dWVwcm9maWxlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmV0c2kubWNpZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLm1oZWc1Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmV0c2kub3ZlcmxvYWQtY29udHJvbC1wb2xpY3ktZGF0YXNldCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLnBzdG4reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5zY2kreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXRzaS5zaW1zZXJ2cyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLnRpbWVzdGFtcC10b2tlbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLnRzbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ldHNpLnRzbC5kZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZXUua2FzcGFyaWFuLmNhcitqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZXVkb3JhLmRhdGEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZXZvbHYuZWNpZy5wcm9maWxlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmV2b2x2LmVjaWcuc2V0dGluZ3MiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZXZvbHYuZWNpZy50aGVtZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5leHN0cmVhbS1lbXBvd2VyK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL3ZuZC5leHN0cmVhbS1wYWNrYWdlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmV6cGl4LWFsYnVtIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImV6MiJdfSwiYXBwbGljYXRpb24vdm5kLmV6cGl4LXBhY2thZ2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZXozIl19LCJhcHBsaWNhdGlvbi92bmQuZi1zZWN1cmUubW9iaWxlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmZhbWlseXNlYXJjaC5nZWRjb20remlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vdm5kLmZhc3Rjb3B5LWRpc2staW1hZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZmRmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZkZiJdfSwiYXBwbGljYXRpb24vdm5kLmZkc24ubXNlZWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXNlZWQiXX0sImFwcGxpY2F0aW9uL3ZuZC5mZHNuLnNlZWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic2VlZCIsImRhdGFsZXNzIl19LCJhcHBsaWNhdGlvbi92bmQuZmZzbnMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZmljbGFiLmZsYit6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi92bmQuZmlsbWl0LnpmYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5maW50cyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5maXJlbW9ua2V5cy5jbG91ZGNlbGwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZmxvZ3JhcGhpdCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJncGgiXX0sImFwcGxpY2F0aW9uL3ZuZC5mbHV4dGltZS5jbGlwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZ0YyJdfSwiYXBwbGljYXRpb24vdm5kLmZvbnQtZm9udGZvcmdlLXNmZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5mcmFtZW1ha2VyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZtIiwiZnJhbWUiLCJtYWtlciIsImJvb2siXX0sImFwcGxpY2F0aW9uL3ZuZC5mcm9nYW5zLmZuYyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJmbmMiXX0sImFwcGxpY2F0aW9uL3ZuZC5mcm9nYW5zLmx0ZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJsdGYiXX0sImFwcGxpY2F0aW9uL3ZuZC5mc2Mud2VibGF1bmNoIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZzYyJdfSwiYXBwbGljYXRpb24vdm5kLmZ1amlmaWxtLmZiLmRvY3V3b3JrcyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5mdWppZmlsbS5mYi5kb2N1d29ya3MuYmluZGVyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmZ1amlmaWxtLmZiLmRvY3V3b3Jrcy5jb250YWluZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZnVqaWZpbG0uZmIuamZpK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmZ1aml0c3Uub2FzeXMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib2FzIl19LCJhcHBsaWNhdGlvbi92bmQuZnVqaXRzdS5vYXN5czIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib2EyIl19LCJhcHBsaWNhdGlvbi92bmQuZnVqaXRzdS5vYXN5czMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib2EzIl19LCJhcHBsaWNhdGlvbi92bmQuZnVqaXRzdS5vYXN5c2dwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZnNSJdfSwiYXBwbGljYXRpb24vdm5kLmZ1aml0c3Uub2FzeXNwcnMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYmgyIl19LCJhcHBsaWNhdGlvbi92bmQuZnVqaXhlcm94LmFydC1leCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5mdWppeGVyb3guYXJ0NCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5mdWppeGVyb3guZGRkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImRkZCJdfSwiYXBwbGljYXRpb24vdm5kLmZ1aml4ZXJveC5kb2N1d29ya3MiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieGR3Il19LCJhcHBsaWNhdGlvbi92bmQuZnVqaXhlcm94LmRvY3V3b3Jrcy5iaW5kZXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieGJkIl19LCJhcHBsaWNhdGlvbi92bmQuZnVqaXhlcm94LmRvY3V3b3Jrcy5jb250YWluZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZnVqaXhlcm94LmhicGwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZnV0LW1pc25ldCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5mdXRvaW4rY2JvciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5mdXRvaW4ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmZ1enp5c2hlZXQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZnpzIl19LCJhcHBsaWNhdGlvbi92bmQuZ2Vub21hdGl4LnR1eGVkbyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0eGQiXX0sImFwcGxpY2F0aW9uL3ZuZC5nZW50aWNzLmdyZCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuZ2VvK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5nZW9jdWJlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmdlb2dlYnJhLmZpbGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2diIl19LCJhcHBsaWNhdGlvbi92bmQuZ2VvZ2VicmEuc2xpZGVzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmdlb2dlYnJhLnRvb2wiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2d0Il19LCJhcHBsaWNhdGlvbi92bmQuZ2VvbWV0cnktZXhwbG9yZXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2V4IiwiZ3JlIl19LCJhcHBsaWNhdGlvbi92bmQuZ2VvbmV4dCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJneHQiXX0sImFwcGxpY2F0aW9uL3ZuZC5nZW9wbGFuIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImcydyJdfSwiYXBwbGljYXRpb24vdm5kLmdlb3NwYWNlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImczdyJdfSwiYXBwbGljYXRpb24vdm5kLmdlcmJlciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5nbG9iYWxwbGF0Zm9ybS5jYXJkLWNvbnRlbnQtbWd0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmdsb2JhbHBsYXRmb3JtLmNhcmQtY29udGVudC1tZ3QtcmVzcG9uc2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZ214Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImdteCJdfSwiYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmRvY3VtZW50Ijp7ImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiZ2RvYyJdfSwiYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLnByZXNlbnRhdGlvbiI6eyJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImdzbGlkZXMiXX0sImFwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5zcHJlYWRzaGVldCI6eyJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImdzaGVldCJdfSwiYXBwbGljYXRpb24vdm5kLmdvb2dsZS1lYXJ0aC5rbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsia21sIl19LCJhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLWVhcnRoLmtteiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJrbXoiXX0sImFwcGxpY2F0aW9uL3ZuZC5nb3Yuc2suZS1mb3JtK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmdvdi5zay5lLWZvcm0remlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vdm5kLmdvdi5zay54bWxkYXRhY29udGFpbmVyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmdyYWZlcSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJncWYiLCJncXMiXX0sImFwcGxpY2F0aW9uL3ZuZC5ncmlkbXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuZ3Jvb3ZlLWFjY291bnQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2FjIl19LCJhcHBsaWNhdGlvbi92bmQuZ3Jvb3ZlLWhlbHAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2hmIl19LCJhcHBsaWNhdGlvbi92bmQuZ3Jvb3ZlLWlkZW50aXR5LW1lc3NhZ2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2ltIl19LCJhcHBsaWNhdGlvbi92bmQuZ3Jvb3ZlLWluamVjdG9yIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImdydiJdfSwiYXBwbGljYXRpb24vdm5kLmdyb292ZS10b29sLW1lc3NhZ2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ3RtIl19LCJhcHBsaWNhdGlvbi92bmQuZ3Jvb3ZlLXRvb2wtdGVtcGxhdGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidHBsIl19LCJhcHBsaWNhdGlvbi92bmQuZ3Jvb3ZlLXZjYXJkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInZjZyJdfSwiYXBwbGljYXRpb24vdm5kLmhhbCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaGFsK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImhhbCJdfSwiYXBwbGljYXRpb24vdm5kLmhhbmRoZWxkLWVudGVydGFpbm1lbnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiem1tIl19LCJhcHBsaWNhdGlvbi92bmQuaGJjaSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJoYmNpIl19LCJhcHBsaWNhdGlvbi92bmQuaGMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmhjbC1iaXJlcG9ydHMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuaGR0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmhlcm9rdStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaGhlLmxlc3Nvbi1wbGF5ZXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibGVzIl19LCJhcHBsaWNhdGlvbi92bmQuaGw3Y2RhK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmhsN3YyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmhwLWhwZ2wiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaHBnbCJdfSwiYXBwbGljYXRpb24vdm5kLmhwLWhwaWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaHBpZCJdfSwiYXBwbGljYXRpb24vdm5kLmhwLWhwcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJocHMiXX0sImFwcGxpY2F0aW9uL3ZuZC5ocC1qbHl0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImpsdCJdfSwiYXBwbGljYXRpb24vdm5kLmhwLXBjbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwY2wiXX0sImFwcGxpY2F0aW9uL3ZuZC5ocC1wY2x4bCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwY2x4bCJdfSwiYXBwbGljYXRpb24vdm5kLmh0dHBob25lIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmh5ZHJvc3RhdGl4LnNvZi1kYXRhIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNmZC1oZHN0eCJdfSwiYXBwbGljYXRpb24vdm5kLmh5cGVyK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5oeXBlci1pdGVtK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5oeXBlcmRyaXZlK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5oem4tM2QtY3Jvc3N3b3JkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmlibS5hZnBsaW5lZGF0YSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5pYm0uZWxlY3Ryb25pYy1tZWRpYSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5pYm0ubWluaXBheSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtcHkiXX0sImFwcGxpY2F0aW9uL3ZuZC5pYm0ubW9kY2FwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImFmcCIsImxpc3RhZnAiLCJsaXN0MzgyMCJdfSwiYXBwbGljYXRpb24vdm5kLmlibS5yaWdodHMtbWFuYWdlbWVudCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJpcm0iXX0sImFwcGxpY2F0aW9uL3ZuZC5pYm0uc2VjdXJlLWNvbnRhaW5lciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzYyJdfSwiYXBwbGljYXRpb24vdm5kLmljY3Byb2ZpbGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaWNjIiwiaWNtIl19LCJhcHBsaWNhdGlvbi92bmQuaWVlZS4xOTA1Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmlnbG9hZGVyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImlnbCJdfSwiYXBwbGljYXRpb24vdm5kLmltYWdlbWV0ZXIuZm9sZGVyK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL3ZuZC5pbWFnZW1ldGVyLmltYWdlK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL3ZuZC5pbW1lcnZpc2lvbi1pdnAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaXZwIl19LCJhcHBsaWNhdGlvbi92bmQuaW1tZXJ2aXNpb24taXZ1Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIml2dSJdfSwiYXBwbGljYXRpb24vdm5kLmltcy5pbXNjY3YxcDEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuaW1zLmltc2NjdjFwMiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5pbXMuaW1zY2N2MXAzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmltcy5saXMudjIucmVzdWx0K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5pbXMubHRpLnYyLnRvb2xjb25zdW1lcnByb2ZpbGUranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmltcy5sdGkudjIudG9vbHByb3h5K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5pbXMubHRpLnYyLnRvb2xwcm94eS5pZCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaW1zLmx0aS52Mi50b29sc2V0dGluZ3MranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmltcy5sdGkudjIudG9vbHNldHRpbmdzLnNpbXBsZStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaW5mb3JtZWRjb250cm9sLnJtcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5pbmZvcm1peC12aXNpb25hcnkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuaW5mb3RlY2gucHJvamVjdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5pbmZvdGVjaC5wcm9qZWN0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmlubm9wYXRoLndhbXAubm90aWZpY2F0aW9uIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmluc29ycy5pZ20iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaWdtIl19LCJhcHBsaWNhdGlvbi92bmQuaW50ZXJjb24uZm9ybW5ldCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ4cHciLCJ4cHgiXX0sImFwcGxpY2F0aW9uL3ZuZC5pbnRlcmdlbyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJpMmciXX0sImFwcGxpY2F0aW9uL3ZuZC5pbnRlcnRydXN0LmRpZ2lib3giOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuaW50ZXJ0cnVzdC5ubmNwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmludHUucWJvIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInFibyJdfSwiYXBwbGljYXRpb24vdm5kLmludHUucWZ4Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInFmeCJdfSwiYXBwbGljYXRpb24vdm5kLmlwdGMuZzIuY2F0YWxvZ2l0ZW0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaXB0Yy5nMi5jb25jZXB0aXRlbSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5pcHRjLmcyLmtub3dsZWRnZWl0ZW0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaXB0Yy5nMi5uZXdzaXRlbSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5pcHRjLmcyLm5ld3NtZXNzYWdlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmlwdGMuZzIucGFja2FnZWl0ZW0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaXB0Yy5nMi5wbGFubmluZ2l0ZW0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuaXB1bnBsdWdnZWQucmNwcm9maWxlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInJjcHJvZmlsZSJdfSwiYXBwbGljYXRpb24vdm5kLmlyZXBvc2l0b3J5LnBhY2thZ2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiaXJwIl19LCJhcHBsaWNhdGlvbi92bmQuaXMteHByIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInhwciJdfSwiYXBwbGljYXRpb24vdm5kLmlzYWMuZmNzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZjcyJdfSwiYXBwbGljYXRpb24vdm5kLmlzbzExNzgzLTEwK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sImFwcGxpY2F0aW9uL3ZuZC5qYW0iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiamFtIl19LCJhcHBsaWNhdGlvbi92bmQuamFwYW5uZXQtZGlyZWN0b3J5LXNlcnZpY2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuamFwYW5uZXQtanBuc3RvcmUtd2FrZXVwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmphcGFubmV0LXBheW1lbnQtd2FrZXVwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmphcGFubmV0LXJlZ2lzdHJhdGlvbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5qYXBhbm5ldC1yZWdpc3RyYXRpb24td2FrZXVwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmphcGFubmV0LXNldHN0b3JlLXdha2V1cCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5qYXBhbm5ldC12ZXJpZmljYXRpb24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuamFwYW5uZXQtdmVyaWZpY2F0aW9uLXdha2V1cCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5qY3AuamF2YW1lLm1pZGxldC1ybXMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicm1zIl19LCJhcHBsaWNhdGlvbi92bmQuamlzcCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJqaXNwIl19LCJhcHBsaWNhdGlvbi92bmQuam9vc3Quam9kYS1hcmNoaXZlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImpvZGEiXX0sImFwcGxpY2F0aW9uL3ZuZC5qc2suaXNkbi1uZ24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQua2Fob290eiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJrdHoiLCJrdHIiXX0sImFwcGxpY2F0aW9uL3ZuZC5rZGUua2FyYm9uIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImthcmJvbiJdfSwiYXBwbGljYXRpb24vdm5kLmtkZS5rY2hhcnQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2hydCJdfSwiYXBwbGljYXRpb24vdm5kLmtkZS5rZm9ybXVsYSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJrZm8iXX0sImFwcGxpY2F0aW9uL3ZuZC5rZGUua2l2aW8iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZmx3Il19LCJhcHBsaWNhdGlvbi92bmQua2RlLmtvbnRvdXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsia29uIl19LCJhcHBsaWNhdGlvbi92bmQua2RlLmtwcmVzZW50ZXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsia3ByIiwia3B0Il19LCJhcHBsaWNhdGlvbi92bmQua2RlLmtzcHJlYWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsia3NwIl19LCJhcHBsaWNhdGlvbi92bmQua2RlLmt3b3JkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImt3ZCIsImt3dCJdfSwiYXBwbGljYXRpb24vdm5kLmtlbmFtZWFhcHAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaHRrZSJdfSwiYXBwbGljYXRpb24vdm5kLmtpZHNwaXJhdGlvbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJraWEiXX0sImFwcGxpY2F0aW9uL3ZuZC5raW5hciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJrbmUiLCJrbnAiXX0sImFwcGxpY2F0aW9uL3ZuZC5rb2FuIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNrcCIsInNrZCIsInNrdCIsInNrbSJdfSwiYXBwbGljYXRpb24vdm5kLmtvZGFrLWRlc2NyaXB0b3IiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic3NlIl19LCJhcHBsaWNhdGlvbi92bmQubGFzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmxhcy5sYXMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmxhcy5sYXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsibGFzeG1sIl19LCJhcHBsaWNhdGlvbi92bmQubGFzemlwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLmxlYXAranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLmxpYmVydHktcmVxdWVzdCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5sbGFtYWdyYXBoaWNzLmxpZmUtYmFsYW5jZS5kZXNrdG9wIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImxiZCJdfSwiYXBwbGljYXRpb24vdm5kLmxsYW1hZ3JhcGhpY3MubGlmZS1iYWxhbmNlLmV4Y2hhbmdlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImxiZSJdfSwiYXBwbGljYXRpb24vdm5kLmxvZ2lwaXBlLmNpcmN1aXQremlwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24vdm5kLmxvb20iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubG90dXMtMS0yLTMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiMTIzIl19LCJhcHBsaWNhdGlvbi92bmQubG90dXMtYXBwcm9hY2giOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYXByIl19LCJhcHBsaWNhdGlvbi92bmQubG90dXMtZnJlZWxhbmNlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInByZSJdfSwiYXBwbGljYXRpb24vdm5kLmxvdHVzLW5vdGVzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm5zZiJdfSwiYXBwbGljYXRpb24vdm5kLmxvdHVzLW9yZ2FuaXplciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJvcmciXX0sImFwcGxpY2F0aW9uL3ZuZC5sb3R1cy1zY3JlZW5jYW0iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic2NtIl19LCJhcHBsaWNhdGlvbi92bmQubG90dXMtd29yZHBybyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJsd3AiXX0sImFwcGxpY2F0aW9uL3ZuZC5tYWNwb3J0cy5wb3J0cGtnIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBvcnRwa2ciXX0sImFwcGxpY2F0aW9uL3ZuZC5tYXBib3gtdmVjdG9yLXRpbGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXZ0Il19LCJhcHBsaWNhdGlvbi92bmQubWFybGluLmRybS5hY3Rpb250b2tlbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5tYXJsaW4uZHJtLmNvbmZ0b2tlbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5tYXJsaW4uZHJtLmxpY2Vuc2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQubWFybGluLmRybS5tZGNmIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm1hc29uK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5tYXhhci5hcmNoaXZlLjN0eit6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi92bmQubWF4bWluZC5tYXhtaW5kLWRiIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm1jZCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtY2QiXX0sImFwcGxpY2F0aW9uL3ZuZC5tZWRjYWxjZGF0YSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtYzEiXX0sImFwcGxpY2F0aW9uL3ZuZC5tZWRpYXN0YXRpb24uY2RrZXkiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2RrZXkiXX0sImFwcGxpY2F0aW9uL3ZuZC5tZXJpZGlhbi1zbGluZ3Nob3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubWZlciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtd2YiXX0sImFwcGxpY2F0aW9uL3ZuZC5tZm1wIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1mbSJdfSwiYXBwbGljYXRpb24vdm5kLm1pY3JvK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5taWNyb2dyYWZ4LmZsbyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJmbG8iXX0sImFwcGxpY2F0aW9uL3ZuZC5taWNyb2dyYWZ4LmlneCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJpZ3giXX0sImFwcGxpY2F0aW9uL3ZuZC5taWNyb3NvZnQucG9ydGFibGUtZXhlY3V0YWJsZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5taWNyb3NvZnQud2luZG93cy50aHVtYm5haWwtY2FjaGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubWllbGUranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm1pZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtaWYiXX0sImFwcGxpY2F0aW9uL3ZuZC5taW5pc29mdC1ocDMwMDAtc2F2ZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5taXRzdWJpc2hpLm1pc3R5LWd1YXJkLnRydXN0d2ViIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm1vYml1cy5kYWYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZGFmIl19LCJhcHBsaWNhdGlvbi92bmQubW9iaXVzLmRpcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJkaXMiXX0sImFwcGxpY2F0aW9uL3ZuZC5tb2JpdXMubWJrIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1iayJdfSwiYXBwbGljYXRpb24vdm5kLm1vYml1cy5tcXkiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXF5Il19LCJhcHBsaWNhdGlvbi92bmQubW9iaXVzLm1zbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtc2wiXX0sImFwcGxpY2F0aW9uL3ZuZC5tb2JpdXMucGxjIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBsYyJdfSwiYXBwbGljYXRpb24vdm5kLm1vYml1cy50eGYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidHhmIl19LCJhcHBsaWNhdGlvbi92bmQubW9waHVuLmFwcGxpY2F0aW9uIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1wbiJdfSwiYXBwbGljYXRpb24vdm5kLm1vcGh1bi5jZXJ0aWZpY2F0ZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtcGMiXX0sImFwcGxpY2F0aW9uL3ZuZC5tb3Rvcm9sYS5mbGV4c3VpdGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubW90b3JvbGEuZmxleHN1aXRlLmFkc2kiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubW90b3JvbGEuZmxleHN1aXRlLmZpcyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tb3Rvcm9sYS5mbGV4c3VpdGUuZ290YXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubW90b3JvbGEuZmxleHN1aXRlLmttciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tb3Rvcm9sYS5mbGV4c3VpdGUudHRjIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm1vdG9yb2xhLmZsZXhzdWl0ZS53ZW0iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubW90b3JvbGEuaXBybSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tb3ppbGxhLnh1bCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4dWwiXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy0zbWZkb2N1bWVudCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tcy1hcnRnYWxyeSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjaWwiXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1hc2YiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubXMtY2FiLWNvbXByZXNzZWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2FiIl19LCJhcHBsaWNhdGlvbi92bmQubXMtY29sb3IuaWNjcHJvZmlsZSI6eyJzb3VyY2UiOiJhcGFjaGUifSwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbInhscyIsInhsbSIsInhsYSIsInhsYyIsInhsdCIsInhsdyJdfSwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLmFkZGluLm1hY3JvZW5hYmxlZC4xMiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ4bGFtIl19LCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQuYmluYXJ5Lm1hY3JvZW5hYmxlZC4xMiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ4bHNiIl19LCJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQubWFjcm9lbmFibGVkLjEyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInhsc20iXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieGx0bSJdfSwiYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJlb3QiXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1odG1saGVscCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJjaG0iXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1pbXMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaW1zIl19LCJhcHBsaWNhdGlvbi92bmQubXMtbHJtIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImxybSJdfSwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZS5hY3RpdmV4K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm1zLW9mZmljZXRoZW1lIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInRobXgiXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1vcGVudHlwZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQubXMtb3V0bG9vayI6eyJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIm1zZyJdfSwiYXBwbGljYXRpb24vdm5kLm1zLXBhY2thZ2Uub2JmdXNjYXRlZC1vcGVudHlwZSI6eyJzb3VyY2UiOiJhcGFjaGUifSwiYXBwbGljYXRpb24vdm5kLm1zLXBraS5zZWNjYXQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJjYXQiXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1wa2kuc3RsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3RsIl19LCJhcHBsaWNhdGlvbi92bmQubXMtcGxheXJlYWR5LmluaXRpYXRvcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50Ijp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbInBwdCIsInBwcyIsInBvdCJdfSwiYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQuYWRkaW4ubWFjcm9lbmFibGVkLjEyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBwYW0iXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LnByZXNlbnRhdGlvbi5tYWNyb2VuYWJsZWQuMTIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicHB0bSJdfSwiYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQuc2xpZGUubWFjcm9lbmFibGVkLjEyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNsZG0iXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LnNsaWRlc2hvdy5tYWNyb2VuYWJsZWQuMTIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicHBzbSJdfSwiYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQudGVtcGxhdGUubWFjcm9lbmFibGVkLjEyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBvdG0iXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1wcmludGRldmljZWNhcGFiaWxpdGllcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5tcy1wcmludGluZy5wcmludHRpY2tldCt4bWwiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm1zLXByaW50c2NoZW1hdGlja2V0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm1zLXByb2plY3QiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXBwIiwibXB0Il19LCJhcHBsaWNhdGlvbi92bmQubXMtdG5lZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tcy13aW5kb3dzLmRldmljZXBhaXJpbmciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubXMtd2luZG93cy5ud3ByaW50aW5nLm9vYiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tcy13aW5kb3dzLnByaW50ZXJwYWlyaW5nIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm1zLXdpbmRvd3Mud3NkLm9vYiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tcy13bWRybS5saWMtY2hsZy1yZXEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubXMtd21kcm0ubGljLXJlc3AiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubXMtd21kcm0ubWV0ZXItY2hsZy1yZXEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubXMtd21kcm0ubWV0ZXItcmVzcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tcy13b3JkLmRvY3VtZW50Lm1hY3JvZW5hYmxlZC4xMiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJkb2NtIl19LCJhcHBsaWNhdGlvbi92bmQubXMtd29yZC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZG90bSJdfSwiYXBwbGljYXRpb24vdm5kLm1zLXdvcmtzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIndwcyIsIndrcyIsIndjbSIsIndkYiJdfSwiYXBwbGljYXRpb24vdm5kLm1zLXdwbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ3cGwiXX0sImFwcGxpY2F0aW9uL3ZuZC5tcy14cHNkb2N1bWVudCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ4cHMiXX0sImFwcGxpY2F0aW9uL3ZuZC5tc2EtZGlzay1pbWFnZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tc2VxIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1zZXEiXX0sImFwcGxpY2F0aW9uL3ZuZC5tc2lnbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tdWx0aWFkLmNyZWF0b3IiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubXVsdGlhZC5jcmVhdG9yLmNpZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5tdXNpYy1uaWZmIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm11c2ljaWFuIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm11cyJdfSwiYXBwbGljYXRpb24vdm5kLm11dmVlLnN0eWxlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1zdHkiXX0sImFwcGxpY2F0aW9uL3ZuZC5teW5mYyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0YWdsZXQiXX0sImFwcGxpY2F0aW9uL3ZuZC5uYWNhbWFyLnlicmlkK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5uY2QuY29udHJvbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5uY2QucmVmZXJlbmNlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm5lYXJzdC5pbnYranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm5lYnVtaW5kLmxpbmUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubmVydmFuYSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5uZXRmcHgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubmV1cm9sYW5ndWFnZS5ubHUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibmx1Il19LCJhcHBsaWNhdGlvbi92bmQubmltbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5uaW50ZW5kby5uaXRyby5yb20iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubmludGVuZG8uc25lcy5yb20iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubml0ZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJudGYiLCJuaXRmIl19LCJhcHBsaWNhdGlvbi92bmQubm9ibGVuZXQtZGlyZWN0b3J5Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm5uZCJdfSwiYXBwbGljYXRpb24vdm5kLm5vYmxlbmV0LXNlYWxlciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJubnMiXX0sImFwcGxpY2F0aW9uL3ZuZC5ub2JsZW5ldC13ZWIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibm53Il19LCJhcHBsaWNhdGlvbi92bmQubm9raWEuY2F0YWxvZ3MiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubm9raWEuY29ubWwrd2J4bWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubm9raWEuY29ubWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQubm9raWEuaXB0di5jb25maWcreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQubm9raWEuaXNkcy1yYWRpby1wcmVzZXRzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm5va2lhLmxhbmRtYXJrK3dieG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm5va2lhLmxhbmRtYXJrK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm5va2lhLmxhbmRtYXJrY29sbGVjdGlvbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5ub2tpYS5uLWdhZ2UuYWMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYWMiXX0sImFwcGxpY2F0aW9uL3ZuZC5ub2tpYS5uLWdhZ2UuZGF0YSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJuZ2RhdCJdfSwiYXBwbGljYXRpb24vdm5kLm5va2lhLm4tZ2FnZS5zeW1iaWFuLmluc3RhbGwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibi1nYWdlIl19LCJhcHBsaWNhdGlvbi92bmQubm9raWEubmNkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm5va2lhLnBjZCt3YnhtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5ub2tpYS5wY2QreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQubm9raWEucmFkaW8tcHJlc2V0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInJwc3QiXX0sImFwcGxpY2F0aW9uL3ZuZC5ub2tpYS5yYWRpby1wcmVzZXRzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInJwc3MiXX0sImFwcGxpY2F0aW9uL3ZuZC5ub3ZhZGlnbS5lZG0iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZWRtIl19LCJhcHBsaWNhdGlvbi92bmQubm92YWRpZ20uZWR4Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImVkeCJdfSwiYXBwbGljYXRpb24vdm5kLm5vdmFkaWdtLmV4dCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJleHQiXX0sImFwcGxpY2F0aW9uL3ZuZC5udHQtbG9jYWwuY29udGVudC1zaGFyZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5udHQtbG9jYWwuZmlsZS10cmFuc2ZlciI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5udHQtbG9jYWwub2d3X3JlbW90ZS1hY2Nlc3MiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubnR0LWxvY2FsLnNpcC10YV9yZW1vdGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQubnR0LWxvY2FsLnNpcC10YV90Y3Bfc3RyZWFtIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5jaGFydCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJvZGMiXX0sImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuY2hhcnQtdGVtcGxhdGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib3RjIl19LCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LmRhdGFiYXNlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm9kYiJdfSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5mb3JtdWxhIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm9kZiJdfSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5mb3JtdWxhLXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm9kZnQiXX0sImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuZ3JhcGhpY3MiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsib2RnIl19LCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LmdyYXBoaWNzLXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm90ZyJdfSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5pbWFnZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJvZGkiXX0sImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuaW1hZ2UtdGVtcGxhdGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib3RpIl19LCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJvZHAiXX0sImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uLXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm90cCJdfSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5zcHJlYWRzaGVldCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJvZHMiXX0sImFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXQtdGVtcGxhdGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib3RzIl19LCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsib2R0Il19LCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHQtbWFzdGVyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm9kbSJdfSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0LXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm90dCJdfSwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0LXdlYiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJvdGgiXX0sImFwcGxpY2F0aW9uL3ZuZC5vYm4iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub2NmK2Nib3IiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub2NpLmltYWdlLm1hbmlmZXN0LnYxK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vZnRuLmwxMG4ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9pcGYuY29udGVudGFjY2Vzc2Rvd25sb2FkK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9pcGYuY29udGVudGFjY2Vzc3N0cmVhbWluZyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vaXBmLmNzcGctaGV4YmluYXJ5Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9pcGYuZGFlLnN2Zyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vaXBmLmRhZS54aHRtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vaXBmLm1pcHB2Y29udHJvbG1lc3NhZ2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub2lwZi5wYWUuZ2VtIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9pcGYuc3BkaXNjb3ZlcnkreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub2lwZi5zcGRsaXN0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9pcGYudWVwcm9maWxlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9pcGYudXNlcnByb2ZpbGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub2xwYy1zdWdhciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ4byJdfSwiYXBwbGljYXRpb24vdm5kLm9tYS1zY3dzLWNvbmZpZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEtc2N3cy1odHRwLXJlcXVlc3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub21hLXNjd3MtaHR0cC1yZXNwb25zZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuYmNhc3QuYXNzb2NpYXRlZC1wcm9jZWR1cmUtcGFyYW1ldGVyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5iY2FzdC5kcm0tdHJpZ2dlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuYmNhc3QuaW1kK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5iY2FzdC5sdGttIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9tYS5iY2FzdC5ub3RpZmljYXRpb24reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub21hLmJjYXN0LnByb3Zpc2lvbmluZ3RyaWdnZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub21hLmJjYXN0LnNnYm9vdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuYmNhc3Quc2dkZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuYmNhc3Quc2dkdSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuYmNhc3Quc2ltcGxlLXN5bWJvbC1jb250YWluZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub21hLmJjYXN0LnNtYXJ0Y2FyZC10cmlnZ2VyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5iY2FzdC5zcHJvdit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuYmNhc3Quc3RrbSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuY2FiLWFkZHJlc3MtYm9vayt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuY2FiLWZlYXR1cmUtaGFuZGxlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuY2FiLXBjYyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuY2FiLXN1YnMtaW52aXRlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5jYWItdXNlci1wcmVmcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuZGNkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9tYS5kY2RjIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9tYS5kZDIreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZGQyIl19LCJhcHBsaWNhdGlvbi92bmQub21hLmRybS5yaXNkK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5ncm91cC11c2FnZS1saXN0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5sd20ybStjYm9yIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9tYS5sd20ybStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub21hLmx3bTJtK3RsdiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEucGFsK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5wb2MuZGV0YWlsZWQtcHJvZ3Jlc3MtcmVwb3J0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5wb2MuZmluYWwtcmVwb3J0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5wb2MuZ3JvdXBzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5wb2MuaW52b2NhdGlvbi1kZXNjcmlwdG9yK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYS5wb2Mub3B0aW1pemVkLXByb2dyZXNzLXJlcG9ydCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vbWEucHVzaCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbWEuc2NpZG0ubWVzc2FnZXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub21hLnhjYXAtZGlyZWN0b3J5K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYWRzLWVtYWlsK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYWRzLWZpbGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub21hZHMtZm9sZGVyK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9tYWxvYy1zdXBsLWluaXQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub25lcGFnZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub25lcGFnZXJ0YW1wIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9uZXBhZ2VydGFteCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbmVwYWdlcnRhdCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vbmVwYWdlcnRhdHAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub25lcGFnZXJ0YXR4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9wZW5ibG94LmdhbWUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsib2JneCJdfSwiYXBwbGljYXRpb24vdm5kLm9wZW5ibG94LmdhbWUtYmluYXJ5Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9wZW5leWUub2ViIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9wZW5vZmZpY2VvcmcuZXh0ZW5zaW9uIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsib3h0Il19LCJhcHBsaWNhdGlvbi92bmQub3BlbnN0cmVldG1hcC5kYXRhK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm9zbSJdfSwiYXBwbGljYXRpb24vdm5kLm9wZW50aW1lc3RhbXBzLm90cyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5jdXN0b20tcHJvcGVydGllcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5jdXN0b214bWxwcm9wZXJ0aWVzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LmRyYXdpbmcreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuZHJhd2luZ21sLmNoYXJ0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LmRyYXdpbmdtbC5jaGFydHNoYXBlcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5kcmF3aW5nbWwuZGlhZ3JhbWNvbG9ycyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5kcmF3aW5nbWwuZGlhZ3JhbWRhdGEreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuZHJhd2luZ21sLmRpYWdyYW1sYXlvdXQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuZHJhd2luZ21sLmRpYWdyYW1zdHlsZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5leHRlbmRlZC1wcm9wZXJ0aWVzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLmNvbW1lbnRhdXRob3JzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLmNvbW1lbnRzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLmhhbmRvdXRtYXN0ZXIreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwubm90ZXNtYXN0ZXIreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwubm90ZXNzbGlkZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsicHB0eCJdfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbi5tYWluK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNwcm9wcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5zbGlkZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzbGR4Il19LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwuc2xpZGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwuc2xpZGVsYXlvdXQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwuc2xpZGVtYXN0ZXIreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwuc2xpZGVzaG93Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBwc3giXX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5zbGlkZXNob3cubWFpbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5zbGlkZXVwZGF0ZWluZm8reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwudGFibGVzdHlsZXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwudGFncyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC50ZW1wbGF0ZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwb3R4Il19LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwudGVtcGxhdGUubWFpbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC52aWV3cHJvcHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5jYWxjY2hhaW4reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5jaGFydHNoZWV0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuY29tbWVudHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5jb25uZWN0aW9ucyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLmRpYWxvZ3NoZWV0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuZXh0ZXJuYWxsaW5rK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwucGl2b3RjYWNoZWRlZmluaXRpb24reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5waXZvdGNhY2hlcmVjb3Jkcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnBpdm90dGFibGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5xdWVyeXRhYmxlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwucmV2aXNpb25oZWFkZXJzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwucmV2aXNpb25sb2creG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGFyZWRzdHJpbmdzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsieGxzeCJdfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQubWFpbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0bWV0YWRhdGEreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zdHlsZXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50YWJsZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnRhYmxlc2luZ2xlY2VsbHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50ZW1wbGF0ZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ4bHR4Il19LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50ZW1wbGF0ZS5tYWluK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwudXNlcm5hbWVzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwudm9sYXRpbGVkZXBlbmRlbmNpZXMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC53b3Jrc2hlZXQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQudGhlbWUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQudGhlbWVvdmVycmlkZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC52bWxkcmF3aW5nIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuY29tbWVudHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJkb2N4Il19LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudC5nbG9zc2FyeSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50Lm1haW4reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5lbmRub3Rlcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmZvbnR0YWJsZSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmZvb3Rlcit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmZvb3Rub3Rlcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLm51bWJlcmluZyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLnNldHRpbmdzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuc3R5bGVzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwudGVtcGxhdGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZG90eCJdfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwudGVtcGxhdGUubWFpbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLndlYnNldHRpbmdzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLXBhY2thZ2UuY29yZS1wcm9wZXJ0aWVzK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLXBhY2thZ2UuZGlnaXRhbC1zaWduYXR1cmUteG1sc2lnbmF0dXJlK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLXBhY2thZ2UucmVsYXRpb25zaGlwcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5vcmFjbGUucmVzb3VyY2UranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLm9yYW5nZS5pbmRhdGEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQub3NhLm5ldGRlcGxveSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5vc2dlby5tYXBndWlkZS5wYWNrYWdlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1ncCJdfSwiYXBwbGljYXRpb24vdm5kLm9zZ2kuYnVuZGxlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLm9zZ2kuZHAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZHAiXX0sImFwcGxpY2F0aW9uL3ZuZC5vc2dpLnN1YnN5c3RlbSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJlc2EiXX0sImFwcGxpY2F0aW9uL3ZuZC5vdHBzLmN0LWtpcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5veGxpLmNvdW50Z3JhcGgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucGFnZXJkdXR5K2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5wYWxtIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInBkYiIsInBxYSIsIm9wcmMiXX0sImFwcGxpY2F0aW9uL3ZuZC5wYW5vcGx5Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnBhb3MueG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnBhdGVudGRpdmUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucGF0aWVudGVjb21tc2RvYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5wYXdhYWZpbGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicGF3Il19LCJhcHBsaWNhdGlvbi92bmQucGNvcyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5wZy5mb3JtYXQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic3RyIl19LCJhcHBsaWNhdGlvbi92bmQucGcub3Nhc2xpIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImVpNiJdfSwiYXBwbGljYXRpb24vdm5kLnBpYWNjZXNzLmFwcGxpY2F0aW9uLWxpY2VuY2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucGljc2VsIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImVmaWYiXX0sImFwcGxpY2F0aW9uL3ZuZC5wbWkud2lkZ2V0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIndnIl19LCJhcHBsaWNhdGlvbi92bmQucG9jLmdyb3VwLWFkdmVydGlzZW1lbnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucG9ja2V0bGVhcm4iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicGxmIl19LCJhcHBsaWNhdGlvbi92bmQucG93ZXJidWlsZGVyNiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwYmQiXX0sImFwcGxpY2F0aW9uL3ZuZC5wb3dlcmJ1aWxkZXI2LXMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucG93ZXJidWlsZGVyNyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5wb3dlcmJ1aWxkZXI3LXMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucG93ZXJidWlsZGVyNzUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucG93ZXJidWlsZGVyNzUtcyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5wcmVtaW5ldCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5wcmV2aWV3c3lzdGVtcy5ib3giOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYm94Il19LCJhcHBsaWNhdGlvbi92bmQucHJvdGV1cy5tYWdhemluZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtZ3oiXX0sImFwcGxpY2F0aW9uL3ZuZC5wc2ZzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnB1Ymxpc2hhcmUtZGVsdGEtdHJlZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJxcHMiXX0sImFwcGxpY2F0aW9uL3ZuZC5wdmkucHRpZDEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicHRpZCJdfSwiYXBwbGljYXRpb24vdm5kLnB3Zy1tdWx0aXBsZXhlZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5wd2cteGh0bWwtcHJpbnQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucXVhbGNvbW0uYnJldy1hcHAtcmVzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnF1YXJhbnRhaW5lbmV0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnF1YXJrLnF1YXJreHByZXNzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInF4ZCIsInF4dCIsInF3ZCIsInF3dCIsInF4bCIsInF4YiJdfSwiYXBwbGljYXRpb24vdm5kLnF1b2JqZWN0LXF1b3hkb2N1bWVudCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5yYWRpc3lzLm1vbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFkaXN5cy5tc21sK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnJhZGlzeXMubXNtbC1hdWRpdCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5yYWRpc3lzLm1zbWwtYXVkaXQtY29uZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5yYWRpc3lzLm1zbWwtYXVkaXQtY29ubit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5yYWRpc3lzLm1zbWwtYXVkaXQtZGlhbG9nK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnJhZGlzeXMubXNtbC1hdWRpdC1zdHJlYW0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFkaXN5cy5tc21sLWNvbmYreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFkaXN5cy5tc21sLWRpYWxvZyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5yYWRpc3lzLm1zbWwtZGlhbG9nLWJhc2UreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFkaXN5cy5tc21sLWRpYWxvZy1mYXgtZGV0ZWN0K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnJhZGlzeXMubXNtbC1kaWFsb2ctZmF4LXNlbmRyZWN2K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnJhZGlzeXMubXNtbC1kaWFsb2ctZ3JvdXAreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFkaXN5cy5tc21sLWRpYWxvZy1zcGVlY2greG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFkaXN5cy5tc21sLWRpYWxvZy10cmFuc2Zvcm0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQucmFpbnN0b3IuZGF0YSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5yYXBpZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5yYXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicmFyIl19LCJhcHBsaWNhdGlvbi92bmQucmVhbHZuYy5iZWQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYmVkIl19LCJhcHBsaWNhdGlvbi92bmQucmVjb3JkYXJlLm11c2ljeG1sIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm14bCJdfSwiYXBwbGljYXRpb24vdm5kLnJlY29yZGFyZS5tdXNpY3htbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJtdXNpY3htbCJdfSwiYXBwbGljYXRpb24vdm5kLnJlbmxlYXJuLnJscHJpbnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucmVzaWxpZW50LmxvZ2ljIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnJlc3RmdWwranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnJpZy5jcnlwdG9ub3RlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNyeXB0b25vdGUiXX0sImFwcGxpY2F0aW9uL3ZuZC5yaW0uY29kIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY29kIl19LCJhcHBsaWNhdGlvbi92bmQucm4tcmVhbG1lZGlhIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicm0iXX0sImFwcGxpY2F0aW9uL3ZuZC5ybi1yZWFsbWVkaWEtdmJyIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicm12YiJdfSwiYXBwbGljYXRpb24vdm5kLnJvdXRlNjYubGluazY2K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImxpbms2NiJdfSwiYXBwbGljYXRpb24vdm5kLnJzLTI3NHgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQucnVja3VzLmRvd25sb2FkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnMzc21zIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNhaWxpbmd0cmFja2VyLnRyYWNrIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInN0Il19LCJhcHBsaWNhdGlvbi92bmQuc2FyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNibS5jaWQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2JtLm1pZDIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2NyaWJ1cyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zZWFsZWQuM2RmIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNlYWxlZC5jc2YiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2VhbGVkLmRvYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zZWFsZWQuZW1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNlYWxlZC5taHQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2VhbGVkLm5ldCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zZWFsZWQucHB0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNlYWxlZC50aWZmIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNlYWxlZC54bHMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2VhbGVkbWVkaWEuc29mdHNlYWwuaHRtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zZWFsZWRtZWRpYS5zb2Z0c2VhbC5wZGYiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2VlbWFpbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzZWUiXX0sImFwcGxpY2F0aW9uL3ZuZC5zZWlzK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC5zZW1hIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNlbWEiXX0sImFwcGxpY2F0aW9uL3ZuZC5zZW1kIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNlbWQiXX0sImFwcGxpY2F0aW9uL3ZuZC5zZW1mIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNlbWYiXX0sImFwcGxpY2F0aW9uL3ZuZC5zaGFkZS1zYXZlLWZpbGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2hhbmEuaW5mb3JtZWQuZm9ybWRhdGEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaWZtIl19LCJhcHBsaWNhdGlvbi92bmQuc2hhbmEuaW5mb3JtZWQuZm9ybXRlbXBsYXRlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIml0cCJdfSwiYXBwbGljYXRpb24vdm5kLnNoYW5hLmluZm9ybWVkLmludGVyY2hhbmdlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImlpZiJdfSwiYXBwbGljYXRpb24vdm5kLnNoYW5hLmluZm9ybWVkLnBhY2thZ2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaXBrIl19LCJhcHBsaWNhdGlvbi92bmQuc2hvb3Rwcm9vZitqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuc2hvcGtpY2sranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnNocCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zaHgiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2lncm9rLnNlc3Npb24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc2ltdGVjaC1taW5kbWFwcGVyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInR3ZCIsInR3ZHMiXX0sImFwcGxpY2F0aW9uL3ZuZC5zaXJlbitqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuc21hZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJtbWYiXX0sImFwcGxpY2F0aW9uL3ZuZC5zbWFydC5ub3RlYm9vayI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zbWFydC50ZWFjaGVyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInRlYWNoZXIiXX0sImFwcGxpY2F0aW9uL3ZuZC5zbmVzZGV2LXBhZ2UtdGFibGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc29mdHdhcmU2MDIuZmlsbGVyLmZvcm0reG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZm8iXX0sImFwcGxpY2F0aW9uL3ZuZC5zb2Z0d2FyZTYwMi5maWxsZXIuZm9ybS14bWwtemlwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNvbGVudC5zZGttK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInNka20iLCJzZGtkIl19LCJhcHBsaWNhdGlvbi92bmQuc3BvdGZpcmUuZHhwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImR4cCJdfSwiYXBwbGljYXRpb24vdm5kLnNwb3RmaXJlLnNmcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzZnMiXX0sImFwcGxpY2F0aW9uL3ZuZC5zcWxpdGUzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnNzcy1jb2QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc3NzLWR0ZiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zc3MtbnRmIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnN0YXJkaXZpc2lvbi5jYWxjIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic2RjIl19LCJhcHBsaWNhdGlvbi92bmQuc3RhcmRpdmlzaW9uLmRyYXciOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzZGEiXX0sImFwcGxpY2F0aW9uL3ZuZC5zdGFyZGl2aXNpb24uaW1wcmVzcyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNkZCJdfSwiYXBwbGljYXRpb24vdm5kLnN0YXJkaXZpc2lvbi5tYXRoIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic21mIl19LCJhcHBsaWNhdGlvbi92bmQuc3RhcmRpdmlzaW9uLndyaXRlciI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNkdyIsInZvciJdfSwiYXBwbGljYXRpb24vdm5kLnN0YXJkaXZpc2lvbi53cml0ZXItZ2xvYmFsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic2dsIl19LCJhcHBsaWNhdGlvbi92bmQuc3RlcG1hbmlhLnBhY2thZ2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsic216aXAiXX0sImFwcGxpY2F0aW9uL3ZuZC5zdGVwbWFuaWEuc3RlcGNoYXJ0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNtIl19LCJhcHBsaWNhdGlvbi92bmQuc3RyZWV0LXN0cmVhbSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC5zdW4ud2FkbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ3YWRsIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5jYWxjIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3hjIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5jYWxjLnRlbXBsYXRlIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3RjIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5kcmF3Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3hkIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5kcmF3LnRlbXBsYXRlIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3RkIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5pbXByZXNzIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3hpIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5pbXByZXNzLnRlbXBsYXRlIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3RpIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5tYXRoIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3htIl19LCJhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC53cml0ZXIiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzeHciXX0sImFwcGxpY2F0aW9uL3ZuZC5zdW4ueG1sLndyaXRlci5nbG9iYWwiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzeGciXX0sImFwcGxpY2F0aW9uL3ZuZC5zdW4ueG1sLndyaXRlci50ZW1wbGF0ZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInN0dyJdfSwiYXBwbGljYXRpb24vdm5kLnN1cy1jYWxlbmRhciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzdXMiLCJzdXNwIl19LCJhcHBsaWNhdGlvbi92bmQuc3ZkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInN2ZCJdfSwiYXBwbGljYXRpb24vdm5kLnN3aWZ0dmlldy1pY3MiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc3ljbGUreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuc3lmdCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuc3ltYmlhbi5pbnN0YWxsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic2lzIiwic2lzeCJdfSwiYXBwbGljYXRpb24vdm5kLnN5bmNtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4c20iXX0sImFwcGxpY2F0aW9uL3ZuZC5zeW5jbWwuZG0rd2J4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImV4dGVuc2lvbnMiOlsiYmRtIl19LCJhcHBsaWNhdGlvbi92bmQuc3luY21sLmRtK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04IiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhkbSJdfSwiYXBwbGljYXRpb24vdm5kLnN5bmNtbC5kbS5ub3RpZmljYXRpb24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuc3luY21sLmRtZGRmK3dieG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnN5bmNtbC5kbWRkZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJkZGYiXX0sImFwcGxpY2F0aW9uL3ZuZC5zeW5jbWwuZG10bmRzK3dieG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnN5bmNtbC5kbXRuZHMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQuc3luY21sLmRzLm5vdGlmaWNhdGlvbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC50YWJsZXNjaGVtYStqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQudGFvLmludGVudC1tb2R1bGUtYXJjaGl2ZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0YW8iXX0sImFwcGxpY2F0aW9uL3ZuZC50Y3BkdW1wLnBjYXAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsicGNhcCIsImNhcCIsImRtcCJdfSwiYXBwbGljYXRpb24vdm5kLnRoaW5rLWNlbGwucHB0dGMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnRtZC5tZWRpYWZsZXguYXBpK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnRtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC50bW9iaWxlLWxpdmV0diI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0bW8iXX0sImFwcGxpY2F0aW9uL3ZuZC50cmkub25lc291cmNlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnRyaWQudHB0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInRwdCJdfSwiYXBwbGljYXRpb24vdm5kLnRyaXNjYXBlLm14cyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJteHMiXX0sImFwcGxpY2F0aW9uL3ZuZC50cnVlYXBwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInRyYSJdfSwiYXBwbGljYXRpb24vdm5kLnRydWVkb2MiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudWJpc29mdC53ZWJwbGF5ZXIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudWZkbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ1ZmQiLCJ1ZmRsIl19LCJhcHBsaWNhdGlvbi92bmQudWlxLnRoZW1lIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInV0eiJdfSwiYXBwbGljYXRpb24vdm5kLnVtYWppbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ1bWoiXX0sImFwcGxpY2F0aW9uL3ZuZC51bml0eSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ1bml0eXdlYiJdfSwiYXBwbGljYXRpb24vdm5kLnVvbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidW9tbCJdfSwiYXBwbGljYXRpb24vdm5kLnVwbGFuZXQuYWxlcnQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudXBsYW5ldC5hbGVydC13YnhtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC51cGxhbmV0LmJlYXJlci1jaG9pY2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudXBsYW5ldC5iZWFyZXItY2hvaWNlLXdieG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnVwbGFuZXQuY2FjaGVvcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC51cGxhbmV0LmNhY2hlb3Atd2J4bWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudXBsYW5ldC5jaGFubmVsIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnVwbGFuZXQuY2hhbm5lbC13YnhtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC51cGxhbmV0Lmxpc3QiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudXBsYW5ldC5saXN0LXdieG1sIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnVwbGFuZXQubGlzdGNtZCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC51cGxhbmV0Lmxpc3RjbWQtd2J4bWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudXBsYW5ldC5zaWduYWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudXJpLW1hcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC52YWx2ZS5zb3VyY2UubWF0ZXJpYWwiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudmN4Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInZjeCJdfSwiYXBwbGljYXRpb24vdm5kLnZkLXN0dWR5Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnZlY3RvcndvcmtzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnZlbCtqc29uIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQudmVyaW1hdHJpeC52Y2FzIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnZlcml0b25lLmFpb24ranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnZlcnlhbnQudGhpbiI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC52ZXMuZW5jcnlwdGVkIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnZpZHNvZnQudmlkY29uZmVyZW5jZSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC52aXNpbyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ2c2QiLCJ2c3QiLCJ2c3MiLCJ2c3ciXX0sImFwcGxpY2F0aW9uL3ZuZC52aXNpb25hcnkiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidmlzIl19LCJhcHBsaWNhdGlvbi92bmQudml2aWRlbmNlLnNjcmlwdGZpbGUiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQudnNmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInZzZiJdfSwiYXBwbGljYXRpb24vdm5kLndhcC5zaWMiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQud2FwLnNsYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC53YXAud2J4bWwiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImV4dGVuc2lvbnMiOlsid2J4bWwiXX0sImFwcGxpY2F0aW9uL3ZuZC53YXAud21sYyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ3bWxjIl19LCJhcHBsaWNhdGlvbi92bmQud2FwLndtbHNjcmlwdGMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid21sc2MiXX0sImFwcGxpY2F0aW9uL3ZuZC53ZWJ0dXJibyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ3dGIiXX0sImFwcGxpY2F0aW9uL3ZuZC53ZmEuZHBwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLndmYS5wMnAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQud2ZhLndzYyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC53aW5kb3dzLmRldmljZXBhaXJpbmciOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQud21jIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLndtZi5ib290c3RyYXAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQud29sZnJhbS5tYXRoZW1hdGljYSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC53b2xmcmFtLm1hdGhlbWF0aWNhLnBhY2thZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQud29sZnJhbS5wbGF5ZXIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibmJwIl19LCJhcHBsaWNhdGlvbi92bmQud29yZHBlcmZlY3QiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid3BkIl19LCJhcHBsaWNhdGlvbi92bmQud3FkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIndxZCJdfSwiYXBwbGljYXRpb24vdm5kLndycS1ocDMwMDAtbGFiZWxsZWQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQud3Quc3RmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInN0ZiJdfSwiYXBwbGljYXRpb24vdm5kLnd2LmNzcCt3YnhtbCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC53di5jc3AreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQud3Yuc3NwK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdm5kLnhhY21sK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3ZuZC54YXJhIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInhhciJdfSwiYXBwbGljYXRpb24vdm5kLnhmZGwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieGZkbCJdfSwiYXBwbGljYXRpb24vdm5kLnhmZGwud2ViZm9ybSI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC54bWkreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi92bmQueG1waWUuY3BrZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC54bXBpZS5kcGtnIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnhtcGllLnBsYW4iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQueG1waWUucHBrZyI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC54bXBpZS54bGltIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnlhbWFoYS5odi1kaWMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaHZkIl19LCJhcHBsaWNhdGlvbi92bmQueWFtYWhhLmh2LXNjcmlwdCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJodnMiXX0sImFwcGxpY2F0aW9uL3ZuZC55YW1haGEuaHYtdm9pY2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaHZwIl19LCJhcHBsaWNhdGlvbi92bmQueWFtYWhhLm9wZW5zY29yZWZvcm1hdCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJvc2YiXX0sImFwcGxpY2F0aW9uL3ZuZC55YW1haGEub3BlbnNjb3JlZm9ybWF0Lm9zZnB2Zyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJvc2ZwdmciXX0sImFwcGxpY2F0aW9uL3ZuZC55YW1haGEucmVtb3RlLXNldHVwIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnlhbWFoYS5zbWFmLWF1ZGlvIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNhZiJdfSwiYXBwbGljYXRpb24vdm5kLnlhbWFoYS5zbWFmLXBocmFzZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzcGYiXX0sImFwcGxpY2F0aW9uL3ZuZC55YW1haGEudGhyb3VnaC1uZ24iOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQueWFtYWhhLnR1bm5lbC11ZHBlbmNhcCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3ZuZC55YW93ZW1lIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vdm5kLnllbGxvd3JpdmVyLWN1c3RvbS1tZW51Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImNtcCJdfSwiYXBwbGljYXRpb24vdm5kLnlvdXR1YmUueXQiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi92bmQuenVsIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInppciIsInppcnoiXX0sImFwcGxpY2F0aW9uL3ZuZC56emF6ei5kZWNrK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInpheiJdfSwiYXBwbGljYXRpb24vdm9pY2V4bWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidnhtbCJdfSwiYXBwbGljYXRpb24vdm91Y2hlci1jbXMranNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24vdnEtcnRjcHhyIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vd2FzbSI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIndhc20iXX0sImFwcGxpY2F0aW9uL3dhdGNoZXJpbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIndpZiJdfSwiYXBwbGljYXRpb24vd2VicHVzaC1vcHRpb25zK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3dob2lzcHAtcXVlcnkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi93aG9pc3BwLXJlc3BvbnNlIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vd2lkZ2V0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIndndCJdfSwiYXBwbGljYXRpb24vd2luaGxwIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiaGxwIl19LCJhcHBsaWNhdGlvbi93aXRhIjp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24vd29yZHBlcmZlY3Q1LjEiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi93c2RsK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIndzZGwiXX0sImFwcGxpY2F0aW9uL3dzcG9saWN5K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIndzcG9saWN5Il19LCJhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWQiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyI3eiJdfSwiYXBwbGljYXRpb24veC1hYml3b3JkIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYWJ3Il19LCJhcHBsaWNhdGlvbi94LWFjZS1jb21wcmVzc2VkIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYWNlIl19LCJhcHBsaWNhdGlvbi94LWFtZiI6eyJzb3VyY2UiOiJhcGFjaGUifSwiYXBwbGljYXRpb24veC1hcHBsZS1kaXNraW1hZ2UiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJkbWciXX0sImFwcGxpY2F0aW9uL3gtYXJqIjp7ImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYXJqIl19LCJhcHBsaWNhdGlvbi94LWF1dGhvcndhcmUtYmluIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYWFiIiwieDMyIiwidTMyIiwidm94Il19LCJhcHBsaWNhdGlvbi94LWF1dGhvcndhcmUtbWFwIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYWFtIl19LCJhcHBsaWNhdGlvbi94LWF1dGhvcndhcmUtc2VnIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYWFzIl19LCJhcHBsaWNhdGlvbi94LWJjcGlvIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYmNwaW8iXX0sImFwcGxpY2F0aW9uL3gtYmRvYyI6eyJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImJkb2MiXX0sImFwcGxpY2F0aW9uL3gtYml0dG9ycmVudCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInRvcnJlbnQiXX0sImFwcGxpY2F0aW9uL3gtYmxvcmIiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJibGIiLCJibG9yYiJdfSwiYXBwbGljYXRpb24veC1iemlwIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYnoiXX0sImFwcGxpY2F0aW9uL3gtYnppcDIiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJiejIiLCJib3oiXX0sImFwcGxpY2F0aW9uL3gtY2JyIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY2JyIiwiY2JhIiwiY2J0IiwiY2J6IiwiY2I3Il19LCJhcHBsaWNhdGlvbi94LWNkbGluayI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInZjZCJdfSwiYXBwbGljYXRpb24veC1jZnMtY29tcHJlc3NlZCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNmcyJdfSwiYXBwbGljYXRpb24veC1jaGF0Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY2hhdCJdfSwiYXBwbGljYXRpb24veC1jaGVzcy1wZ24iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwZ24iXX0sImFwcGxpY2F0aW9uL3gtY2hyb21lLWV4dGVuc2lvbiI6eyJleHRlbnNpb25zIjpbImNyeCJdfSwiYXBwbGljYXRpb24veC1jb2NvYSI6eyJzb3VyY2UiOiJuZ2lueCIsImV4dGVuc2lvbnMiOlsiY2NvIl19LCJhcHBsaWNhdGlvbi94LWNvbXByZXNzIjp7InNvdXJjZSI6ImFwYWNoZSJ9LCJhcHBsaWNhdGlvbi94LWNvbmZlcmVuY2UiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJuc2MiXX0sImFwcGxpY2F0aW9uL3gtY3BpbyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNwaW8iXX0sImFwcGxpY2F0aW9uL3gtY3NoIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY3NoIl19LCJhcHBsaWNhdGlvbi94LWRlYiI6eyJjb21wcmVzc2libGUiOmZhbHNlfSwiYXBwbGljYXRpb24veC1kZWJpYW4tcGFja2FnZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImRlYiIsInVkZWIiXX0sImFwcGxpY2F0aW9uL3gtZGdjLWNvbXByZXNzZWQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJkZ2MiXX0sImFwcGxpY2F0aW9uL3gtZGlyZWN0b3IiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJkaXIiLCJkY3IiLCJkeHIiLCJjc3QiLCJjY3QiLCJjeHQiLCJ3M2QiLCJmZ2QiLCJzd2EiXX0sImFwcGxpY2F0aW9uL3gtZG9vbSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIndhZCJdfSwiYXBwbGljYXRpb24veC1kdGJuY3greG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJuY3giXX0sImFwcGxpY2F0aW9uL3gtZHRib29rK3htbCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZHRiIl19LCJhcHBsaWNhdGlvbi94LWR0YnJlc291cmNlK3htbCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicmVzIl19LCJhcHBsaWNhdGlvbi94LWR2aSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImR2aSJdfSwiYXBwbGljYXRpb24veC1lbnZveSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImV2eSJdfSwiYXBwbGljYXRpb24veC1ldmEiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJldmEiXX0sImFwcGxpY2F0aW9uL3gtZm9udC1iZGYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJiZGYiXX0sImFwcGxpY2F0aW9uL3gtZm9udC1kb3MiOnsic291cmNlIjoiYXBhY2hlIn0sImFwcGxpY2F0aW9uL3gtZm9udC1mcmFtZW1ha2VyIjp7InNvdXJjZSI6ImFwYWNoZSJ9LCJhcHBsaWNhdGlvbi94LWZvbnQtZ2hvc3RzY3JpcHQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJnc2YiXX0sImFwcGxpY2F0aW9uL3gtZm9udC1saWJncngiOnsic291cmNlIjoiYXBhY2hlIn0sImFwcGxpY2F0aW9uL3gtZm9udC1saW51eC1wc2YiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwc2YiXX0sImFwcGxpY2F0aW9uL3gtZm9udC1wY2YiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwY2YiXX0sImFwcGxpY2F0aW9uL3gtZm9udC1zbmYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzbmYiXX0sImFwcGxpY2F0aW9uL3gtZm9udC1zcGVlZG8iOnsic291cmNlIjoiYXBhY2hlIn0sImFwcGxpY2F0aW9uL3gtZm9udC1zdW5vcy1uZXdzIjp7InNvdXJjZSI6ImFwYWNoZSJ9LCJhcHBsaWNhdGlvbi94LWZvbnQtdHlwZTEiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwZmEiLCJwZmIiLCJwZm0iLCJhZm0iXX0sImFwcGxpY2F0aW9uL3gtZm9udC12Zm9udCI6eyJzb3VyY2UiOiJhcGFjaGUifSwiYXBwbGljYXRpb24veC1mcmVlYXJjIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYXJjIl19LCJhcHBsaWNhdGlvbi94LWZ1dHVyZXNwbGFzaCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNwbCJdfSwiYXBwbGljYXRpb24veC1nY2EtY29tcHJlc3NlZCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImdjYSJdfSwiYXBwbGljYXRpb24veC1nbHVseCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInVseCJdfSwiYXBwbGljYXRpb24veC1nbnVtZXJpYyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImdudW1lcmljIl19LCJhcHBsaWNhdGlvbi94LWdyYW1wcy14bWwiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJncmFtcHMiXX0sImFwcGxpY2F0aW9uL3gtZ3RhciI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImd0YXIiXX0sImFwcGxpY2F0aW9uL3gtZ3ppcCI6eyJzb3VyY2UiOiJhcGFjaGUifSwiYXBwbGljYXRpb24veC1oZGYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJoZGYiXX0sImFwcGxpY2F0aW9uL3gtaHR0cGQtcGhwIjp7ImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJwaHAiXX0sImFwcGxpY2F0aW9uL3gtaW5zdGFsbC1pbnN0cnVjdGlvbnMiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJpbnN0YWxsIl19LCJhcHBsaWNhdGlvbi94LWlzbzk2NjAtaW1hZ2UiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJpc28iXX0sImFwcGxpY2F0aW9uL3gtaXdvcmsta2V5bm90ZS1zZmZrZXkiOnsiZXh0ZW5zaW9ucyI6WyJrZXkiXX0sImFwcGxpY2F0aW9uL3gtaXdvcmstbnVtYmVycy1zZmZudW1iZXJzIjp7ImV4dGVuc2lvbnMiOlsibnVtYmVycyJdfSwiYXBwbGljYXRpb24veC1pd29yay1wYWdlcy1zZmZwYWdlcyI6eyJleHRlbnNpb25zIjpbInBhZ2VzIl19LCJhcHBsaWNhdGlvbi94LWphdmEtYXJjaGl2ZS1kaWZmIjp7InNvdXJjZSI6Im5naW54IiwiZXh0ZW5zaW9ucyI6WyJqYXJkaWZmIl19LCJhcHBsaWNhdGlvbi94LWphdmEtam5scC1maWxlIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiam5scCJdfSwiYXBwbGljYXRpb24veC1qYXZhc2NyaXB0Ijp7ImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3gta2VlcGFzczIiOnsiZXh0ZW5zaW9ucyI6WyJrZGJ4Il19LCJhcHBsaWNhdGlvbi94LWxhdGV4Ijp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsibGF0ZXgiXX0sImFwcGxpY2F0aW9uL3gtbHVhLWJ5dGVjb2RlIjp7ImV4dGVuc2lvbnMiOlsibHVhYyJdfSwiYXBwbGljYXRpb24veC1semgtY29tcHJlc3NlZCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImx6aCIsImxoYSJdfSwiYXBwbGljYXRpb24veC1tYWtlc2VsZiI6eyJzb3VyY2UiOiJuZ2lueCIsImV4dGVuc2lvbnMiOlsicnVuIl19LCJhcHBsaWNhdGlvbi94LW1pZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm1pZSJdfSwiYXBwbGljYXRpb24veC1tb2JpcG9ja2V0LWVib29rIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicHJjIiwibW9iaSJdfSwiYXBwbGljYXRpb24veC1tcGVndXJsIjp7ImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhcHBsaWNhdGlvbi94LW1zLWFwcGxpY2F0aW9uIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYXBwbGljYXRpb24iXX0sImFwcGxpY2F0aW9uL3gtbXMtc2hvcnRjdXQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJsbmsiXX0sImFwcGxpY2F0aW9uL3gtbXMtd21kIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsid21kIl19LCJhcHBsaWNhdGlvbi94LW1zLXdteiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIndteiJdfSwiYXBwbGljYXRpb24veC1tcy14YmFwIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsieGJhcCJdfSwiYXBwbGljYXRpb24veC1tc2FjY2VzcyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm1kYiJdfSwiYXBwbGljYXRpb24veC1tc2JpbmRlciI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm9iZCJdfSwiYXBwbGljYXRpb24veC1tc2NhcmRmaWxlIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY3JkIl19LCJhcHBsaWNhdGlvbi94LW1zY2xpcCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNscCJdfSwiYXBwbGljYXRpb24veC1tc2Rvcy1wcm9ncmFtIjp7ImV4dGVuc2lvbnMiOlsiZXhlIl19LCJhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJleGUiLCJkbGwiLCJjb20iLCJiYXQiLCJtc2kiXX0sImFwcGxpY2F0aW9uL3gtbXNtZWRpYXZpZXciOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJtdmIiLCJtMTMiLCJtMTQiXX0sImFwcGxpY2F0aW9uL3gtbXNtZXRhZmlsZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIndtZiIsIndteiIsImVtZiIsImVteiJdfSwiYXBwbGljYXRpb24veC1tc21vbmV5Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsibW55Il19LCJhcHBsaWNhdGlvbi94LW1zcHVibGlzaGVyIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicHViIl19LCJhcHBsaWNhdGlvbi94LW1zc2NoZWR1bGUiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzY2QiXX0sImFwcGxpY2F0aW9uL3gtbXN0ZXJtaW5hbCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInRybSJdfSwiYXBwbGljYXRpb24veC1tc3dyaXRlIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsid3JpIl19LCJhcHBsaWNhdGlvbi94LW5ldGNkZiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm5jIiwiY2RmIl19LCJhcHBsaWNhdGlvbi94LW5zLXByb3h5LWF1dG9jb25maWciOnsiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInBhYyJdfSwiYXBwbGljYXRpb24veC1uemIiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJuemIiXX0sImFwcGxpY2F0aW9uL3gtcGVybCI6eyJzb3VyY2UiOiJuZ2lueCIsImV4dGVuc2lvbnMiOlsicGwiLCJwbSJdfSwiYXBwbGljYXRpb24veC1waWxvdCI6eyJzb3VyY2UiOiJuZ2lueCIsImV4dGVuc2lvbnMiOlsicHJjIiwicGRiIl19LCJhcHBsaWNhdGlvbi94LXBrY3MxMiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbInAxMiIsInBmeCJdfSwiYXBwbGljYXRpb24veC1wa2NzNy1jZXJ0aWZpY2F0ZXMiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwN2IiLCJzcGMiXX0sImFwcGxpY2F0aW9uL3gtcGtjczctY2VydHJlcXJlc3AiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwN3IiXX0sImFwcGxpY2F0aW9uL3gtcGtpLW1lc3NhZ2UiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsicmFyIl19LCJhcHBsaWNhdGlvbi94LXJlZGhhdC1wYWNrYWdlLW1hbmFnZXIiOnsic291cmNlIjoibmdpbngiLCJleHRlbnNpb25zIjpbInJwbSJdfSwiYXBwbGljYXRpb24veC1yZXNlYXJjaC1pbmZvLXN5c3RlbXMiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJyaXMiXX0sImFwcGxpY2F0aW9uL3gtc2VhIjp7InNvdXJjZSI6Im5naW54IiwiZXh0ZW5zaW9ucyI6WyJzZWEiXX0sImFwcGxpY2F0aW9uL3gtc2giOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInNoIl19LCJhcHBsaWNhdGlvbi94LXNoYXIiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzaGFyIl19LCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbInN3ZiJdfSwiYXBwbGljYXRpb24veC1zaWx2ZXJsaWdodC1hcHAiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ4YXAiXX0sImFwcGxpY2F0aW9uL3gtc3FsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3FsIl19LCJhcHBsaWNhdGlvbi94LXN0dWZmaXQiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJzaXQiXX0sImFwcGxpY2F0aW9uL3gtc3R1ZmZpdHgiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzaXR4Il19LCJhcHBsaWNhdGlvbi94LXN1YnJpcCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNydCJdfSwiYXBwbGljYXRpb24veC1zdjRjcGlvIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsic3Y0Y3BpbyJdfSwiYXBwbGljYXRpb24veC1zdjRjcmMiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzdjRjcmMiXX0sImFwcGxpY2F0aW9uL3gtdDN2bS1pbWFnZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInQzIl19LCJhcHBsaWNhdGlvbi94LXRhZHMiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJnYW0iXX0sImFwcGxpY2F0aW9uL3gtdGFyIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ0YXIiXX0sImFwcGxpY2F0aW9uL3gtdGNsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsidGNsIiwidGsiXX0sImFwcGxpY2F0aW9uL3gtdGV4Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsidGV4Il19LCJhcHBsaWNhdGlvbi94LXRleC10Zm0iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ0Zm0iXX0sImFwcGxpY2F0aW9uL3gtdGV4aW5mbyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInRleGluZm8iLCJ0ZXhpIl19LCJhcHBsaWNhdGlvbi94LXRnaWYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJvYmoiXX0sImFwcGxpY2F0aW9uL3gtdXN0YXIiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ1c3RhciJdfSwiYXBwbGljYXRpb24veC12aXJ0dWFsYm94LWhkZCI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiaGRkIl19LCJhcHBsaWNhdGlvbi94LXZpcnR1YWxib3gtb3ZhIjp7ImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJvdmEiXX0sImFwcGxpY2F0aW9uL3gtdmlydHVhbGJveC1vdmYiOnsiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm92ZiJdfSwiYXBwbGljYXRpb24veC12aXJ0dWFsYm94LXZib3giOnsiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInZib3giXX0sImFwcGxpY2F0aW9uL3gtdmlydHVhbGJveC12Ym94LWV4dHBhY2siOnsiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ2Ym94LWV4dHBhY2siXX0sImFwcGxpY2F0aW9uL3gtdmlydHVhbGJveC12ZGkiOnsiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInZkaSJdfSwiYXBwbGljYXRpb24veC12aXJ0dWFsYm94LXZoZCI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidmhkIl19LCJhcHBsaWNhdGlvbi94LXZpcnR1YWxib3gtdm1kayI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidm1kayJdfSwiYXBwbGljYXRpb24veC13YWlzLXNvdXJjZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNyYyJdfSwiYXBwbGljYXRpb24veC13ZWItYXBwLW1hbmlmZXN0K2pzb24iOnsiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIndlYmFwcCJdfSwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi94LXg1MDktY2EtY2VydCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJkZXIiLCJjcnQiLCJwZW0iXX0sImFwcGxpY2F0aW9uL3gteDUwOS1jYS1yYS1jZXJ0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXBwbGljYXRpb24veC14NTA5LW5leHQtY2EtY2VydCI6eyJzb3VyY2UiOiJpYW5hIn0sImFwcGxpY2F0aW9uL3gteGZpZyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImZpZyJdfSwiYXBwbGljYXRpb24veC14bGlmZit4bWwiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhsZiJdfSwiYXBwbGljYXRpb24veC14cGluc3RhbGwiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ4cGkiXX0sImFwcGxpY2F0aW9uL3gteHoiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ4eiJdfSwiYXBwbGljYXRpb24veC16bWFjaGluZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInoxIiwiejIiLCJ6MyIsIno0IiwiejUiLCJ6NiIsIno3IiwiejgiXX0sImFwcGxpY2F0aW9uL3g0MDAtYnAiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi94YWNtbCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3hhbWwreG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4YW1sIl19LCJhcHBsaWNhdGlvbi94Y2FwLWF0dCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4YXYiXX0sImFwcGxpY2F0aW9uL3hjYXAtY2Fwcyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4Y2EiXX0sImFwcGxpY2F0aW9uL3hjYXAtZGlmZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4ZGYiXX0sImFwcGxpY2F0aW9uL3hjYXAtZWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieGVsIl19LCJhcHBsaWNhdGlvbi94Y2FwLWVycm9yK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24veGNhcC1ucyt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4bnMiXX0sImFwcGxpY2F0aW9uL3hjb24tY29uZmVyZW5jZS1pbmZvK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24veGNvbi1jb25mZXJlbmNlLWluZm8tZGlmZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3hlbmMreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieGVuYyJdfSwiYXBwbGljYXRpb24veGh0bWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieGh0bWwiLCJ4aHQiXX0sImFwcGxpY2F0aW9uL3hodG1sLXZvaWNlK3htbCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi94bGlmZit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4bGYiXX0sImFwcGxpY2F0aW9uL3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhtbCIsInhzbCIsInhzZCIsInJuZyJdfSwiYXBwbGljYXRpb24veG1sLWR0ZCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImR0ZCJdfSwiYXBwbGljYXRpb24veG1sLWV4dGVybmFsLXBhcnNlZC1lbnRpdHkiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi94bWwtcGF0Y2greG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJhcHBsaWNhdGlvbi94bXBwK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24veG9wK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhvcCJdfSwiYXBwbGljYXRpb24veHByb2MreG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4cGwiXX0sImFwcGxpY2F0aW9uL3hzbHQreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieHNsIiwieHNsdCJdfSwiYXBwbGljYXRpb24veHNwZit4bWwiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhzcGYiXX0sImFwcGxpY2F0aW9uL3h2K3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm14bWwiLCJ4aHZtbCIsInh2bWwiLCJ4dm0iXX0sImFwcGxpY2F0aW9uL3lhbmciOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieWFuZyJdfSwiYXBwbGljYXRpb24veWFuZy1kYXRhK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3lhbmctZGF0YSt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3lhbmctcGF0Y2granNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlfSwiYXBwbGljYXRpb24veWFuZy1wYXRjaCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sImFwcGxpY2F0aW9uL3lpbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ5aW4iXX0sImFwcGxpY2F0aW9uL3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ6aXAiXX0sImFwcGxpY2F0aW9uL3psaWIiOnsic291cmNlIjoiaWFuYSJ9LCJhcHBsaWNhdGlvbi96c3RkIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vMWQtaW50ZXJsZWF2ZWQtcGFyaXR5ZmVjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vMzJrYWRwY20iOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby8zZ3BwIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIjNncHAiXX0sImF1ZGlvLzNncHAyIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYWFjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYWMzIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYWRwY20iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJhZHAiXX0sImF1ZGlvL2FtciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJhbXIiXX0sImF1ZGlvL2Ftci13YiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2Ftci13YisiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9hcHR4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYXNjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYXRyYWMtYWR2YW5jZWQtbG9zc2xlc3MiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9hdHJhYy14Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYXRyYWMzIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vYmFzaWMiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYXUiLCJzbmQiXX0sImF1ZGlvL2J2MTYiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9idjMyIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vY2xlYXJtb2RlIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vY24iOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9kYXQxMiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2RscyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2Rzci1lczIwMTEwOCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2Rzci1lczIwMjA1MCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2Rzci1lczIwMjIxMSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2Rzci1lczIwMjIxMiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2R2Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZHZpNCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2VhYzMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9lbmNhcHJ0cCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9ldnJjLXFjcCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmMwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZXZyYzEiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9ldnJjYiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmNiMCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmNiMSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmNudyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmNudzAiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9ldnJjbncxIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZXZyY3diIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZXZyY3diMCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2V2cmN3YjEiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9ldnMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9mbGV4ZmVjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZndkcmVkIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZzcxMS0wIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZzcxOSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2c3MjIiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9nNzIyMSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2c3MjMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9nNzI2LTE2Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZzcyNi0yNCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2c3MjYtMzIiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9nNzI2LTQwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZzcyOCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2c3MjkiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9nNzI5MSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2c3MjlkIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZzcyOWUiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9nc20iOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9nc20tZWZyIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vZ3NtLWhyLTA4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vaWxiYyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2lwLW1yX3YyLjUiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9pc2FjIjp7InNvdXJjZSI6ImFwYWNoZSJ9LCJhdWRpby9sMTYiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9sMjAiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9sMjQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJhdWRpby9sOCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL2xwYyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL21lbHAiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9tZWxwMTIwMCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL21lbHAyNDAwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vbWVscDYwMCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL21oYXMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9taWRpIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsibWlkIiwibWlkaSIsImthciIsInJtaSJdfSwiYXVkaW8vbW9iaWxlLXhtZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJteG1mIl19LCJhdWRpby9tcDMiOnsiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJtcDMiXX0sImF1ZGlvL21wNCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJtNGEiLCJtcDRhIl19LCJhdWRpby9tcDRhLWxhdG0iOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9tcGEiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9tcGEtcm9idXN0Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vbXBlZyI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJtcGdhIiwibXAyIiwibXAyYSIsIm1wMyIsIm0yYSIsIm0zYSJdfSwiYXVkaW8vbXBlZzQtZ2VuZXJpYyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL211c2VwYWNrIjp7InNvdXJjZSI6ImFwYWNoZSJ9LCJhdWRpby9vZ2ciOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsib2dhIiwib2dnIiwic3B4Iiwib3B1cyJdfSwiYXVkaW8vb3B1cyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3Bhcml0eWZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3BjbWEiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9wY21hLXdiIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vcGNtdSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3BjbXUtd2IiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9wcnMuc2lkIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vcWNlbHAiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9yYXB0b3JmZWMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9yZWQiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9ydHAtZW5jLWFlc2NtMTI4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vcnRwLW1pZGkiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9ydHBsb29wYmFjayI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3J0eCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3MzbSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInMzbSJdfSwiYXVkaW8vc2NpcCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3NpbGsiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzaWwiXX0sImF1ZGlvL3NtdiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3Ntdi1xY3AiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9zbXYwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vc29mYSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3NwLW1pZGkiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby9zcGVleCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3QxNDBjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdDM4Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdGVsZXBob25lLWV2ZW50Ijp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdGV0cmFfYWNlbHAiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby90ZXRyYV9hY2VscF9iYiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3RvbmUiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby90c3ZjaXMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby91ZW1jbGlwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdWxwZmVjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdXNhYyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZkdmkiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bXItd2IiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuM2dwcC5pdWZwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLjRzYiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5hdWRpb2tveiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5jZWxwIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLmNpc2NvLm5zZSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5jbWxlcy5yYWRpby1ldmVudHMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuY25zLmFucDEiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuY25zLmluZjEiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuZGVjZS5hdWRpbyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ1dmEiLCJ1dnZhIl19LCJhdWRpby92bmQuZGlnaXRhbC13aW5kcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJlb2wiXX0sImF1ZGlvL3ZuZC5kbG5hLmFkdHMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuZG9sYnkuaGVhYWMuMSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5kb2xieS5oZWFhYy4yIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLmRvbGJ5Lm1scCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5kb2xieS5tcHMiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuZG9sYnkucGwyIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLmRvbGJ5LnBsMngiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQuZG9sYnkucGwyeiI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5kb2xieS5wdWxzZS4xIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLmRyYSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJkcmEiXX0sImF1ZGlvL3ZuZC5kdHMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZHRzIl19LCJhdWRpby92bmQuZHRzLmhkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImR0c2hkIl19LCJhdWRpby92bmQuZHRzLnVoZCI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5kdmIuZmlsZSI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5ldmVyYWQucGxqIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLmhucy5hdWRpbyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3ZuZC5sdWNlbnQudm9pY2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibHZwIl19LCJhdWRpby92bmQubXMtcGxheXJlYWR5Lm1lZGlhLnB5YSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJweWEiXX0sImF1ZGlvL3ZuZC5ub2tpYS5tb2JpbGUteG1mIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLm5vcnRlbC52YmsiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQubnVlcmEuZWNlbHA0ODAwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImVjZWxwNDgwMCJdfSwiYXVkaW8vdm5kLm51ZXJhLmVjZWxwNzQ3MCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJlY2VscDc0NzAiXX0sImF1ZGlvL3ZuZC5udWVyYS5lY2VscDk2MDAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZWNlbHA5NjAwIl19LCJhdWRpby92bmQub2N0ZWwuc2JjIjp7InNvdXJjZSI6ImlhbmEifSwiYXVkaW8vdm5kLnByZXNvbnVzLm11bHRpdHJhY2siOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQucWNlbHAiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQucmhldG9yZXguMzJrYWRwY20iOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQucmlwIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInJpcCJdfSwiYXVkaW8vdm5kLnJuLXJlYWxhdWRpbyI6eyJjb21wcmVzc2libGUiOmZhbHNlfSwiYXVkaW8vdm5kLnNlYWxlZG1lZGlhLnNvZnRzZWFsLm1wZWciOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQudm14LmN2c2QiOnsic291cmNlIjoiaWFuYSJ9LCJhdWRpby92bmQud2F2ZSI6eyJjb21wcmVzc2libGUiOmZhbHNlfSwiYXVkaW8vdm9yYmlzIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwiYXVkaW8vdm9yYmlzLWNvbmZpZyI6eyJzb3VyY2UiOiJpYW5hIn0sImF1ZGlvL3dhdiI6eyJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIndhdiJdfSwiYXVkaW8vd2F2ZSI6eyJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIndhdiJdfSwiYXVkaW8vd2VibSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIndlYmEiXX0sImF1ZGlvL3gtYWFjIjp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYWFjIl19LCJhdWRpby94LWFpZmYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJhaWYiLCJhaWZmIiwiYWlmYyJdfSwiYXVkaW8veC1jYWYiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJjYWYiXX0sImF1ZGlvL3gtZmxhYyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImZsYWMiXX0sImF1ZGlvL3gtbTRhIjp7InNvdXJjZSI6Im5naW54IiwiZXh0ZW5zaW9ucyI6WyJtNGEiXX0sImF1ZGlvL3gtbWF0cm9za2EiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJta2EiXX0sImF1ZGlvL3gtbXBlZ3VybCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm0zdSJdfSwiYXVkaW8veC1tcy13YXgiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ3YXgiXX0sImF1ZGlvL3gtbXMtd21hIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsid21hIl19LCJhdWRpby94LXBuLXJlYWxhdWRpbyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInJhbSIsInJhIl19LCJhdWRpby94LXBuLXJlYWxhdWRpby1wbHVnaW4iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJybXAiXX0sImF1ZGlvL3gtcmVhbGF1ZGlvIjp7InNvdXJjZSI6Im5naW54IiwiZXh0ZW5zaW9ucyI6WyJyYSJdfSwiYXVkaW8veC10dGEiOnsic291cmNlIjoiYXBhY2hlIn0sImF1ZGlvL3gtd2F2Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsid2F2Il19LCJhdWRpby94bSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInhtIl19LCJjaGVtaWNhbC94LWNkeCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNkeCJdfSwiY2hlbWljYWwveC1jaWYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJjaWYiXX0sImNoZW1pY2FsL3gtY21kZiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNtZGYiXX0sImNoZW1pY2FsL3gtY21sIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiY21sIl19LCJjaGVtaWNhbC94LWNzbWwiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJjc21sIl19LCJjaGVtaWNhbC94LXBkYiI6eyJzb3VyY2UiOiJhcGFjaGUifSwiY2hlbWljYWwveC14eXoiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ4eXoiXX0sImZvbnQvY29sbGVjdGlvbiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0dGMiXX0sImZvbnQvb3RmIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsib3RmIl19LCJmb250L3NmbnQiOnsic291cmNlIjoiaWFuYSJ9LCJmb250L3R0ZiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInR0ZiJdfSwiZm9udC93b2ZmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIndvZmYiXX0sImZvbnQvd29mZjIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid29mZjIiXX0sImltYWdlL2FjZXMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZXhyIl19LCJpbWFnZS9hcG5nIjp7ImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYXBuZyJdfSwiaW1hZ2UvYXZjaSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJhdmNpIl19LCJpbWFnZS9hdmNzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImF2Y3MiXX0sImltYWdlL2F2aWYiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiYXZpZiJdfSwiaW1hZ2UvYm1wIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYm1wIl19LCJpbWFnZS9jZ20iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY2dtIl19LCJpbWFnZS9kaWNvbS1ybGUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZHJsZSJdfSwiaW1hZ2UvZW1mIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImVtZiJdfSwiaW1hZ2UvZml0cyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJmaXRzIl19LCJpbWFnZS9nM2ZheCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJnMyJdfSwiaW1hZ2UvZ2lmIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImdpZiJdfSwiaW1hZ2UvaGVpYyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJoZWljIl19LCJpbWFnZS9oZWljLXNlcXVlbmNlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImhlaWNzIl19LCJpbWFnZS9oZWlmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImhlaWYiXX0sImltYWdlL2hlaWYtc2VxdWVuY2UiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaGVpZnMiXX0sImltYWdlL2hlajJrIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImhlajIiXX0sImltYWdlL2hzajIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaHNqMiJdfSwiaW1hZ2UvaWVmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImllZiJdfSwiaW1hZ2UvamxzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImpscyJdfSwiaW1hZ2UvanAyIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbImpwMiIsImpwZzIiXX0sImltYWdlL2pwZWciOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsianBlZyIsImpwZyIsImpwZSJdfSwiaW1hZ2UvanBoIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImpwaCJdfSwiaW1hZ2UvanBoYyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJqaGMiXX0sImltYWdlL2pwbSI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJqcG0iXX0sImltYWdlL2pweCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJqcHgiLCJqcGYiXX0sImltYWdlL2p4ciI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJqeHIiXX0sImltYWdlL2p4cmEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsianhyYSJdfSwiaW1hZ2UvanhycyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJqeHJzIl19LCJpbWFnZS9qeHMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsianhzIl19LCJpbWFnZS9qeHNjIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImp4c2MiXX0sImltYWdlL2p4c2kiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsianhzaSJdfSwiaW1hZ2UvanhzcyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJqeHNzIl19LCJpbWFnZS9rdHgiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsia3R4Il19LCJpbWFnZS9rdHgyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImt0eDIiXX0sImltYWdlL25hcGxwcyI6eyJzb3VyY2UiOiJpYW5hIn0sImltYWdlL3BqcGVnIjp7ImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJpbWFnZS9wbmciOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsicG5nIl19LCJpbWFnZS9wcnMuYnRpZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJidGlmIl19LCJpbWFnZS9wcnMucHRpIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInB0aSJdfSwiaW1hZ2UvcHdnLXJhc3RlciI6eyJzb3VyY2UiOiJpYW5hIn0sImltYWdlL3NnaSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNnaSJdfSwiaW1hZ2Uvc3ZnK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInN2ZyIsInN2Z3oiXX0sImltYWdlL3QzOCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0MzgiXX0sImltYWdlL3RpZmYiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsidGlmIiwidGlmZiJdfSwiaW1hZ2UvdGlmZi1meCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ0ZngiXX0sImltYWdlL3ZuZC5hZG9iZS5waG90b3Nob3AiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJwc2QiXX0sImltYWdlL3ZuZC5haXJ6aXAuYWNjZWxlcmF0b3IuYXp2Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImF6diJdfSwiaW1hZ2Uvdm5kLmNucy5pbmYyIjp7InNvdXJjZSI6ImlhbmEifSwiaW1hZ2Uvdm5kLmRlY2UuZ3JhcGhpYyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ1dmkiLCJ1dnZpIiwidXZnIiwidXZ2ZyJdfSwiaW1hZ2Uvdm5kLmRqdnUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZGp2dSIsImRqdiJdfSwiaW1hZ2Uvdm5kLmR2Yi5zdWJ0aXRsZSI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzdWIiXX0sImltYWdlL3ZuZC5kd2ciOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZHdnIl19LCJpbWFnZS92bmQuZHhmIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImR4ZiJdfSwiaW1hZ2Uvdm5kLmZhc3RiaWRzaGVldCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJmYnMiXX0sImltYWdlL3ZuZC5mcHgiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZnB4Il19LCJpbWFnZS92bmQuZnN0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZzdCJdfSwiaW1hZ2Uvdm5kLmZ1aml4ZXJveC5lZG1pY3MtbW1yIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1tciJdfSwiaW1hZ2Uvdm5kLmZ1aml4ZXJveC5lZG1pY3MtcmxjIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInJsYyJdfSwiaW1hZ2Uvdm5kLmdsb2JhbGdyYXBoaWNzLnBnYiI6eyJzb3VyY2UiOiJpYW5hIn0sImltYWdlL3ZuZC5taWNyb3NvZnQuaWNvbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImljbyJdfSwiaW1hZ2Uvdm5kLm1peCI6eyJzb3VyY2UiOiJpYW5hIn0sImltYWdlL3ZuZC5tb3ppbGxhLmFwbmciOnsic291cmNlIjoiaWFuYSJ9LCJpbWFnZS92bmQubXMtZGRzIjp7ImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJkZHMiXX0sImltYWdlL3ZuZC5tcy1tb2RpIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm1kaSJdfSwiaW1hZ2Uvdm5kLm1zLXBob3RvIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsid2RwIl19LCJpbWFnZS92bmQubmV0LWZweCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJucHgiXX0sImltYWdlL3ZuZC5wY28uYjE2Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImIxNiJdfSwiaW1hZ2Uvdm5kLnJhZGlhbmNlIjp7InNvdXJjZSI6ImlhbmEifSwiaW1hZ2Uvdm5kLnNlYWxlZC5wbmciOnsic291cmNlIjoiaWFuYSJ9LCJpbWFnZS92bmQuc2VhbGVkbWVkaWEuc29mdHNlYWwuZ2lmIjp7InNvdXJjZSI6ImlhbmEifSwiaW1hZ2Uvdm5kLnNlYWxlZG1lZGlhLnNvZnRzZWFsLmpwZyI6eyJzb3VyY2UiOiJpYW5hIn0sImltYWdlL3ZuZC5zdmYiOnsic291cmNlIjoiaWFuYSJ9LCJpbWFnZS92bmQudGVuY2VudC50YXAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidGFwIl19LCJpbWFnZS92bmQudmFsdmUuc291cmNlLnRleHR1cmUiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidnRmIl19LCJpbWFnZS92bmQud2FwLndibXAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid2JtcCJdfSwiaW1hZ2Uvdm5kLnhpZmYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieGlmIl19LCJpbWFnZS92bmQuemJydXNoLnBjeCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJwY3giXX0sImltYWdlL3dlYnAiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ3ZWJwIl19LCJpbWFnZS93bWYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid21mIl19LCJpbWFnZS94LTNkcyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIjNkcyJdfSwiaW1hZ2UveC1jbXUtcmFzdGVyIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicmFzIl19LCJpbWFnZS94LWNteCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImNteCJdfSwiaW1hZ2UveC1mcmVlaGFuZCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImZoIiwiZmhjIiwiZmg0IiwiZmg1IiwiZmg3Il19LCJpbWFnZS94LWljb24iOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImljbyJdfSwiaW1hZ2UveC1qbmciOnsic291cmNlIjoibmdpbngiLCJleHRlbnNpb25zIjpbImpuZyJdfSwiaW1hZ2UveC1tcnNpZC1pbWFnZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNpZCJdfSwiaW1hZ2UveC1tcy1ibXAiOnsic291cmNlIjoibmdpbngiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiYm1wIl19LCJpbWFnZS94LXBjeCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInBjeCJdfSwiaW1hZ2UveC1waWN0Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicGljIiwicGN0Il19LCJpbWFnZS94LXBvcnRhYmxlLWFueW1hcCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInBubSJdfSwiaW1hZ2UveC1wb3J0YWJsZS1iaXRtYXAiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwYm0iXX0sImltYWdlL3gtcG9ydGFibGUtZ3JheW1hcCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInBnbSJdfSwiaW1hZ2UveC1wb3J0YWJsZS1waXhtYXAiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJwcG0iXX0sImltYWdlL3gtcmdiIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicmdiIl19LCJpbWFnZS94LXRnYSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInRnYSJdfSwiaW1hZ2UveC14Yml0bWFwIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsieGJtIl19LCJpbWFnZS94LXhjZiI6eyJjb21wcmVzc2libGUiOmZhbHNlfSwiaW1hZ2UveC14cGl4bWFwIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsieHBtIl19LCJpbWFnZS94LXh3aW5kb3dkdW1wIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsieHdkIl19LCJtZXNzYWdlL2NwaW0iOnsic291cmNlIjoiaWFuYSJ9LCJtZXNzYWdlL2RlbGl2ZXJ5LXN0YXR1cyI6eyJzb3VyY2UiOiJpYW5hIn0sIm1lc3NhZ2UvZGlzcG9zaXRpb24tbm90aWZpY2F0aW9uIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImRpc3Bvc2l0aW9uLW5vdGlmaWNhdGlvbiJdfSwibWVzc2FnZS9leHRlcm5hbC1ib2R5Ijp7InNvdXJjZSI6ImlhbmEifSwibWVzc2FnZS9mZWVkYmFjay1yZXBvcnQiOnsic291cmNlIjoiaWFuYSJ9LCJtZXNzYWdlL2dsb2JhbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ1OG1zZyJdfSwibWVzc2FnZS9nbG9iYWwtZGVsaXZlcnktc3RhdHVzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInU4ZHNuIl19LCJtZXNzYWdlL2dsb2JhbC1kaXNwb3NpdGlvbi1ub3RpZmljYXRpb24iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidThtZG4iXX0sIm1lc3NhZ2UvZ2xvYmFsLWhlYWRlcnMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidThoZHIiXX0sIm1lc3NhZ2UvaHR0cCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sIm1lc3NhZ2UvaW1kbit4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sIm1lc3NhZ2UvbmV3cyI6eyJzb3VyY2UiOiJpYW5hIn0sIm1lc3NhZ2UvcGFydGlhbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sIm1lc3NhZ2UvcmZjODIyIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiZW1sIiwibWltZSJdfSwibWVzc2FnZS9zLWh0dHAiOnsic291cmNlIjoiaWFuYSJ9LCJtZXNzYWdlL3NpcCI6eyJzb3VyY2UiOiJpYW5hIn0sIm1lc3NhZ2Uvc2lwZnJhZyI6eyJzb3VyY2UiOiJpYW5hIn0sIm1lc3NhZ2UvdHJhY2tpbmctc3RhdHVzIjp7InNvdXJjZSI6ImlhbmEifSwibWVzc2FnZS92bmQuc2kuc2ltcCI6eyJzb3VyY2UiOiJpYW5hIn0sIm1lc3NhZ2Uvdm5kLndmYS53c2MiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid3NjIl19LCJtb2RlbC8zbWYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiM21mIl19LCJtb2RlbC9lNTciOnsic291cmNlIjoiaWFuYSJ9LCJtb2RlbC9nbHRmK2pzb24iOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJnbHRmIl19LCJtb2RlbC9nbHRmLWJpbmFyeSI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImdsYiJdfSwibW9kZWwvaWdlcyI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJpZ3MiLCJpZ2VzIl19LCJtb2RlbC9tZXNoIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIm1zaCIsIm1lc2giLCJzaWxvIl19LCJtb2RlbC9tdGwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXRsIl19LCJtb2RlbC9vYmoiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib2JqIl19LCJtb2RlbC9zdGVwIjp7InNvdXJjZSI6ImlhbmEifSwibW9kZWwvc3RlcCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJzdHB4Il19LCJtb2RlbC9zdGVwK3ppcCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJzdHB6Il19LCJtb2RlbC9zdGVwLXhtbCt6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsic3RweHoiXX0sIm1vZGVsL3N0bCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzdGwiXX0sIm1vZGVsL3ZuZC5jb2xsYWRhK3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImRhZSJdfSwibW9kZWwvdm5kLmR3ZiI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJkd2YiXX0sIm1vZGVsL3ZuZC5mbGF0bGFuZC4zZG1sIjp7InNvdXJjZSI6ImlhbmEifSwibW9kZWwvdm5kLmdkbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJnZGwiXX0sIm1vZGVsL3ZuZC5ncy1nZGwiOnsic291cmNlIjoiYXBhY2hlIn0sIm1vZGVsL3ZuZC5ncy5nZGwiOnsic291cmNlIjoiaWFuYSJ9LCJtb2RlbC92bmQuZ3R3Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImd0dyJdfSwibW9kZWwvdm5kLm1vbWwreG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWV9LCJtb2RlbC92bmQubXRzIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm10cyJdfSwibW9kZWwvdm5kLm9wZW5nZXgiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsib2dleCJdfSwibW9kZWwvdm5kLnBhcmFzb2xpZC50cmFuc21pdC5iaW5hcnkiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieF9iIl19LCJtb2RlbC92bmQucGFyYXNvbGlkLnRyYW5zbWl0LnRleHQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieF90Il19LCJtb2RlbC92bmQucHl0aGEucHlveCI6eyJzb3VyY2UiOiJpYW5hIn0sIm1vZGVsL3ZuZC5yb3NldHRlLmFubm90YXRlZC1kYXRhLW1vZGVsIjp7InNvdXJjZSI6ImlhbmEifSwibW9kZWwvdm5kLnNhcC52ZHMiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidmRzIl19LCJtb2RlbC92bmQudXNkeit6aXAiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsidXNkeiJdfSwibW9kZWwvdm5kLnZhbHZlLnNvdXJjZS5jb21waWxlZC1tYXAiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiYnNwIl19LCJtb2RlbC92bmQudnR1Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInZ0dSJdfSwibW9kZWwvdnJtbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ3cmwiLCJ2cm1sIl19LCJtb2RlbC94M2QrYmluYXJ5Ijp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsieDNkYiIsIngzZGJ6Il19LCJtb2RlbC94M2QrZmFzdGluZm9zZXQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsieDNkYiJdfSwibW9kZWwveDNkK3ZybWwiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ4M2R2IiwieDNkdnoiXX0sIm1vZGVsL3gzZCt4bWwiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ4M2QiLCJ4M2R6Il19LCJtb2RlbC94M2QtdnJtbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ4M2R2Il19LCJtdWx0aXBhcnQvYWx0ZXJuYXRpdmUiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJtdWx0aXBhcnQvYXBwbGVkb3VibGUiOnsic291cmNlIjoiaWFuYSJ9LCJtdWx0aXBhcnQvYnl0ZXJhbmdlcyI6eyJzb3VyY2UiOiJpYW5hIn0sIm11bHRpcGFydC9kaWdlc3QiOnsic291cmNlIjoiaWFuYSJ9LCJtdWx0aXBhcnQvZW5jcnlwdGVkIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwibXVsdGlwYXJ0L2Zvcm0tZGF0YSI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZX0sIm11bHRpcGFydC9oZWFkZXItc2V0Ijp7InNvdXJjZSI6ImlhbmEifSwibXVsdGlwYXJ0L21peGVkIjp7InNvdXJjZSI6ImlhbmEifSwibXVsdGlwYXJ0L211bHRpbGluZ3VhbCI6eyJzb3VyY2UiOiJpYW5hIn0sIm11bHRpcGFydC9wYXJhbGxlbCI6eyJzb3VyY2UiOiJpYW5hIn0sIm11bHRpcGFydC9yZWxhdGVkIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlfSwibXVsdGlwYXJ0L3JlcG9ydCI6eyJzb3VyY2UiOiJpYW5hIn0sIm11bHRpcGFydC9zaWduZWQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2V9LCJtdWx0aXBhcnQvdm5kLmJpbnQubWVkLXBsdXMiOnsic291cmNlIjoiaWFuYSJ9LCJtdWx0aXBhcnQvdm9pY2UtbWVzc2FnZSI6eyJzb3VyY2UiOiJpYW5hIn0sIm11bHRpcGFydC94LW1peGVkLXJlcGxhY2UiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0LzFkLWludGVybGVhdmVkLXBhcml0eWZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvY2FjaGUtbWFuaWZlc3QiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJhcHBjYWNoZSIsIm1hbmlmZXN0Il19LCJ0ZXh0L2NhbGVuZGFyIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImljcyIsImlmYiJdfSwidGV4dC9jYWxlbmRlciI6eyJjb21wcmVzc2libGUiOnRydWV9LCJ0ZXh0L2NtZCI6eyJjb21wcmVzc2libGUiOnRydWV9LCJ0ZXh0L2NvZmZlZXNjcmlwdCI6eyJleHRlbnNpb25zIjpbImNvZmZlZSIsImxpdGNvZmZlZSJdfSwidGV4dC9jcWwiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L2NxbC1leHByZXNzaW9uIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9jcWwtaWRlbnRpZmllciI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvY3NzIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiY3NzIl19LCJ0ZXh0L2NzdiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbImNzdiJdfSwidGV4dC9jc3Ytc2NoZW1hIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9kaXJlY3RvcnkiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L2RucyI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvZWNtYXNjcmlwdCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvZW5jYXBydHAiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L2VucmljaGVkIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9maGlycGF0aCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvZmxleGZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvZndkcmVkIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9nZmYzIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9ncmFtbWFyLXJlZi1saXN0Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9odG1sIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsiaHRtbCIsImh0bSIsInNodG1sIl19LCJ0ZXh0L2phZGUiOnsiZXh0ZW5zaW9ucyI6WyJqYWRlIl19LCJ0ZXh0L2phdmFzY3JpcHQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZX0sInRleHQvamNyLWNuZCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvanN4Ijp7ImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJqc3giXX0sInRleHQvbGVzcyI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsibGVzcyJdfSwidGV4dC9tYXJrZG93biI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbIm1hcmtkb3duIiwibWQiXX0sInRleHQvbWF0aG1sIjp7InNvdXJjZSI6Im5naW54IiwiZXh0ZW5zaW9ucyI6WyJtbWwiXX0sInRleHQvbWR4Ijp7ImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJtZHgiXX0sInRleHQvbWl6YXIiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L24zIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsibjMiXX0sInRleHQvcGFyYW1ldGVycyI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04In0sInRleHQvcGFyaXR5ZmVjIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9wbGFpbiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInR4dCIsInRleHQiLCJjb25mIiwiZGVmIiwibGlzdCIsImxvZyIsImluIiwiaW5pIl19LCJ0ZXh0L3Byb3ZlbmFuY2Utbm90YXRpb24iOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCJ9LCJ0ZXh0L3Bycy5mYWxsZW5zdGVpbi5yc3QiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3Bycy5saW5lcy50YWciOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZHNjIl19LCJ0ZXh0L3Bycy5wcm9wLmxvZ2ljIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9yYXB0b3JmZWMiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3JlZCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvcmZjODIyLWhlYWRlcnMiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3JpY2h0ZXh0Ijp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsicnR4Il19LCJ0ZXh0L3J0ZiI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInJ0ZiJdfSwidGV4dC9ydHAtZW5jLWFlc2NtMTI4Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9ydHBsb29wYmFjayI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvcnR4Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9zZ21sIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNnbWwiLCJzZ20iXX0sInRleHQvc2hhY2xjIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC9zaGV4Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNoZXgiXX0sInRleHQvc2xpbSI6eyJleHRlbnNpb25zIjpbInNsaW0iLCJzbG0iXX0sInRleHQvc3BkeCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJzcGR4Il19LCJ0ZXh0L3N0cmluZ3MiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3N0eWx1cyI6eyJleHRlbnNpb25zIjpbInN0eWx1cyIsInN0eWwiXX0sInRleHQvdDE0MCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdGFiLXNlcGFyYXRlZC12YWx1ZXMiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ0c3YiXX0sInRleHQvdHJvZmYiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidCIsInRyIiwicm9mZiIsIm1hbiIsIm1lIiwibXMiXX0sInRleHQvdHVydGxlIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJleHRlbnNpb25zIjpbInR0bCJdfSwidGV4dC91bHBmZWMiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3VyaS1saXN0Ijp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsidXJpIiwidXJpcyIsInVybHMiXX0sInRleHQvdmNhcmQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ2Y2FyZCJdfSwidGV4dC92bmQuYSI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLmFiYyI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLmFzY2lpLWFydCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLmN1cmwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiY3VybCJdfSwidGV4dC92bmQuY3VybC5kY3VybCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImRjdXJsIl19LCJ0ZXh0L3ZuZC5jdXJsLm1jdXJsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsibWN1cmwiXX0sInRleHQvdm5kLmN1cmwuc2N1cmwiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzY3VybCJdfSwidGV4dC92bmQuZGViaWFuLmNvcHlyaWdodCI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04In0sInRleHQvdm5kLmRtY2xpZW50c2NyaXB0Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuZHZiLnN1YnRpdGxlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInN1YiJdfSwidGV4dC92bmQuZXNtZXJ0ZWMudGhlbWUtZGVzY3JpcHRvciI6eyJzb3VyY2UiOiJpYW5hIiwiY2hhcnNldCI6IlVURi04In0sInRleHQvdm5kLmZhbWlseXNlYXJjaC5nZWRjb20iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ2VkIl19LCJ0ZXh0L3ZuZC5maWNsYWIuZmx0Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuZmx5Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZseSJdfSwidGV4dC92bmQuZm1pLmZsZXhzdG9yIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImZseCJdfSwidGV4dC92bmQuZ21sIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuZ3JhcGh2aXoiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiZ3YiXX0sInRleHQvdm5kLmhhbnMiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3ZuZC5oZ2wiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3ZuZC5pbjNkLjNkbWwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiM2RtbCJdfSwidGV4dC92bmQuaW4zZC5zcG90Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInNwb3QiXX0sInRleHQvdm5kLmlwdGMubmV3c21sIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuaXB0Yy5uaXRmIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQubGF0ZXgteiI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLm1vdG9yb2xhLnJlZmxleCI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLm1zLW1lZGlhcGFja2FnZSI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLm5ldDJwaG9uZS5jb21tY2VudGVyLmNvbW1hbmQiOnsic291cmNlIjoiaWFuYSJ9LCJ0ZXh0L3ZuZC5yYWRpc3lzLm1zbWwtYmFzaWMtbGF5b3V0Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuc2VueC53YXJwc2NyaXB0Ijp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuc2kudXJpY2F0YWxvZ3VlIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQuc29zaSI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQvdm5kLnN1bi5qMm1lLmFwcC1kZXNjcmlwdG9yIjp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgiLCJleHRlbnNpb25zIjpbImphZCJdfSwidGV4dC92bmQudHJvbGx0ZWNoLmxpbmd1aXN0Ijp7InNvdXJjZSI6ImlhbmEiLCJjaGFyc2V0IjoiVVRGLTgifSwidGV4dC92bmQud2FwLnNpIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQud2FwLnNsIjp7InNvdXJjZSI6ImlhbmEifSwidGV4dC92bmQud2FwLndtbCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJ3bWwiXX0sInRleHQvdm5kLndhcC53bWxzY3JpcHQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsid21scyJdfSwidGV4dC92dHQiOnsic291cmNlIjoiaWFuYSIsImNoYXJzZXQiOiJVVEYtOCIsImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJ2dHQiXX0sInRleHQveC1hc20iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzIiwiYXNtIl19LCJ0ZXh0L3gtYyI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImMiLCJjYyIsImN4eCIsImNwcCIsImgiLCJoaCIsImRpYyJdfSwidGV4dC94LWNvbXBvbmVudCI6eyJzb3VyY2UiOiJuZ2lueCIsImV4dGVuc2lvbnMiOlsiaHRjIl19LCJ0ZXh0L3gtZm9ydHJhbiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImYiLCJmb3IiLCJmNzciLCJmOTAiXX0sInRleHQveC1nd3QtcnBjIjp7ImNvbXByZXNzaWJsZSI6dHJ1ZX0sInRleHQveC1oYW5kbGViYXJzLXRlbXBsYXRlIjp7ImV4dGVuc2lvbnMiOlsiaGJzIl19LCJ0ZXh0L3gtamF2YS1zb3VyY2UiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJqYXZhIl19LCJ0ZXh0L3gtanF1ZXJ5LXRtcGwiOnsiY29tcHJlc3NpYmxlIjp0cnVlfSwidGV4dC94LWx1YSI6eyJleHRlbnNpb25zIjpbImx1YSJdfSwidGV4dC94LW1hcmtkb3duIjp7ImNvbXByZXNzaWJsZSI6dHJ1ZSwiZXh0ZW5zaW9ucyI6WyJta2QiXX0sInRleHQveC1uZm8iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJuZm8iXX0sInRleHQveC1vcG1sIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsib3BtbCJdfSwidGV4dC94LW9yZyI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsib3JnIl19LCJ0ZXh0L3gtcGFzY2FsIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsicCIsInBhcyJdfSwidGV4dC94LXByb2Nlc3NpbmciOnsiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInBkZSJdfSwidGV4dC94LXNhc3MiOnsiZXh0ZW5zaW9ucyI6WyJzYXNzIl19LCJ0ZXh0L3gtc2NzcyI6eyJleHRlbnNpb25zIjpbInNjc3MiXX0sInRleHQveC1zZXRleHQiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJldHgiXX0sInRleHQveC1zZnYiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJzZnYiXX0sInRleHQveC1zdXNlLXltcCI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieW1wIl19LCJ0ZXh0L3gtdXVlbmNvZGUiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ1dSJdfSwidGV4dC94LXZjYWxlbmRhciI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInZjcyJdfSwidGV4dC94LXZjYXJkIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsidmNmIl19LCJ0ZXh0L3htbCI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjp0cnVlLCJleHRlbnNpb25zIjpbInhtbCJdfSwidGV4dC94bWwtZXh0ZXJuYWwtcGFyc2VkLWVudGl0eSI6eyJzb3VyY2UiOiJpYW5hIn0sInRleHQveWFtbCI6eyJjb21wcmVzc2libGUiOnRydWUsImV4dGVuc2lvbnMiOlsieWFtbCIsInltbCJdfSwidmlkZW8vMWQtaW50ZXJsZWF2ZWQtcGFyaXR5ZmVjIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vM2dwcCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyIzZ3AiLCIzZ3BwIl19LCJ2aWRlby8zZ3BwLXR0Ijp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vM2dwcDIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiM2cyIl19LCJ2aWRlby9hdjEiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9ibXBlZyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL2J0NjU2Ijp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vY2VsYiI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL2R2Ijp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vZW5jYXBydHAiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9mZnYxIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vZmxleGZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL2gyNjEiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsiaDI2MSJdfSwidmlkZW8vaDI2MyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJoMjYzIl19LCJ2aWRlby9oMjYzLTE5OTgiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9oMjYzLTIwMDAiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9oMjY0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImgyNjQiXX0sInZpZGVvL2gyNjQtcmNkbyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL2gyNjQtc3ZjIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vaDI2NSI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL2lzby5zZWdtZW50Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbIm00cyJdfSwidmlkZW8vanBlZyI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJqcGd2Il19LCJ2aWRlby9qcGVnMjAwMCI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL2pwbSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImpwbSIsImpwZ20iXX0sInZpZGVvL2p4c3YiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9tajIiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibWoyIiwibWpwMiJdfSwidmlkZW8vbXAxcyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL21wMnAiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9tcDJ0Ijp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInRzIl19LCJ2aWRlby9tcDQiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsibXA0IiwibXA0diIsIm1wZzQiXX0sInZpZGVvL21wNHYtZXMiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9tcGVnIjp7InNvdXJjZSI6ImlhbmEiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIm1wZWciLCJtcGciLCJtcGUiLCJtMXYiLCJtMnYiXX0sInZpZGVvL21wZWc0LWdlbmVyaWMiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9tcHYiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9udiI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL29nZyI6eyJzb3VyY2UiOiJpYW5hIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJvZ3YiXX0sInZpZGVvL3Bhcml0eWZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3BvaW50ZXIiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9xdWlja3RpbWUiOnsic291cmNlIjoiaWFuYSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsicXQiLCJtb3YiXX0sInZpZGVvL3JhcHRvcmZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3JhdyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3J0cC1lbmMtYWVzY20xMjgiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9ydHBsb29wYmFjayI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3J0eCI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3NjaXAiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby9zbXB0ZTI5MSI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3NtcHRlMjkybSI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3VscGZlYyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZjMSI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZjMiI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5jY3R2Ijp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vdm5kLmRlY2UuaGQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidXZoIiwidXZ2aCJdfSwidmlkZW8vdm5kLmRlY2UubW9iaWxlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInV2bSIsInV2dm0iXX0sInZpZGVvL3ZuZC5kZWNlLm1wNCI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5kZWNlLnBkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInV2cCIsInV2dnAiXX0sInZpZGVvL3ZuZC5kZWNlLnNkIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInV2cyIsInV2dnMiXX0sInZpZGVvL3ZuZC5kZWNlLnZpZGVvIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbInV2diIsInV2dnYiXX0sInZpZGVvL3ZuZC5kaXJlY3R2Lm1wZWciOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuZGlyZWN0di5tcGVnLXR0cyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5kbG5hLm1wZWctdHRzIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vdm5kLmR2Yi5maWxlIjp7InNvdXJjZSI6ImlhbmEiLCJleHRlbnNpb25zIjpbImR2YiJdfSwidmlkZW8vdm5kLmZ2dCI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJmdnQiXX0sInZpZGVvL3ZuZC5obnMudmlkZW8iOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuaXB0dmZvcnVtLjFkcGFyaXR5ZmVjLTEwMTAiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuaXB0dmZvcnVtLjFkcGFyaXR5ZmVjLTIwMDUiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuaXB0dmZvcnVtLjJkcGFyaXR5ZmVjLTEwMTAiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuaXB0dmZvcnVtLjJkcGFyaXR5ZmVjLTIwMDUiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuaXB0dmZvcnVtLnR0c2F2YyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5pcHR2Zm9ydW0udHRzbXBlZzIiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQubW90b3JvbGEudmlkZW8iOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQubW90b3JvbGEudmlkZW9wIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vdm5kLm1wZWd1cmwiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsibXh1IiwibTR1Il19LCJ2aWRlby92bmQubXMtcGxheXJlYWR5Lm1lZGlhLnB5diI6eyJzb3VyY2UiOiJpYW5hIiwiZXh0ZW5zaW9ucyI6WyJweXYiXX0sInZpZGVvL3ZuZC5ub2tpYS5pbnRlcmxlYXZlZC1tdWx0aW1lZGlhIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vdm5kLm5va2lhLm1wNHZyIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vdm5kLm5va2lhLnZpZGVvdm9pcCI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5vYmplY3R2aWRlbyI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5yYWRnYW1ldHRvb2xzLmJpbmsiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQucmFkZ2FtZXR0b29scy5zbWFja2VyIjp7InNvdXJjZSI6ImlhbmEifSwidmlkZW8vdm5kLnNlYWxlZC5tcGVnMSI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5zZWFsZWQubXBlZzQiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQuc2VhbGVkLnN3ZiI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZuZC5zZWFsZWRtZWRpYS5zb2Z0c2VhbC5tb3YiOnsic291cmNlIjoiaWFuYSJ9LCJ2aWRlby92bmQudXZ2dS5tcDQiOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidXZ1IiwidXZ2dSJdfSwidmlkZW8vdm5kLnZpdm8iOnsic291cmNlIjoiaWFuYSIsImV4dGVuc2lvbnMiOlsidml2Il19LCJ2aWRlby92bmQueW91dHViZS55dCI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZwOCI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3ZwOSI6eyJzb3VyY2UiOiJpYW5hIn0sInZpZGVvL3dlYm0iOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ3ZWJtIl19LCJ2aWRlby94LWY0diI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImY0diJdfSwidmlkZW8veC1mbGkiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJmbGkiXX0sInZpZGVvL3gtZmx2Ijp7InNvdXJjZSI6ImFwYWNoZSIsImNvbXByZXNzaWJsZSI6ZmFsc2UsImV4dGVuc2lvbnMiOlsiZmx2Il19LCJ2aWRlby94LW00diI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm00diJdfSwidmlkZW8veC1tYXRyb3NrYSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJjb21wcmVzc2libGUiOmZhbHNlLCJleHRlbnNpb25zIjpbIm1rdiIsIm1rM2QiLCJta3MiXX0sInZpZGVvL3gtbW5nIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsibW5nIl19LCJ2aWRlby94LW1zLWFzZiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbImFzZiIsImFzeCJdfSwidmlkZW8veC1tcy12b2IiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ2b2IiXX0sInZpZGVvL3gtbXMtd20iOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJ3bSJdfSwidmlkZW8veC1tcy13bXYiOnsic291cmNlIjoiYXBhY2hlIiwiY29tcHJlc3NpYmxlIjpmYWxzZSwiZXh0ZW5zaW9ucyI6WyJ3bXYiXX0sInZpZGVvL3gtbXMtd214Ijp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsid214Il19LCJ2aWRlby94LW1zLXd2eCI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInd2eCJdfSwidmlkZW8veC1tc3ZpZGVvIjp7InNvdXJjZSI6ImFwYWNoZSIsImV4dGVuc2lvbnMiOlsiYXZpIl19LCJ2aWRlby94LXNnaS1tb3ZpZSI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbIm1vdmllIl19LCJ2aWRlby94LXNtdiI6eyJzb3VyY2UiOiJhcGFjaGUiLCJleHRlbnNpb25zIjpbInNtdiJdfSwieC1jb25mZXJlbmNlL3gtY29vbHRhbGsiOnsic291cmNlIjoiYXBhY2hlIiwiZXh0ZW5zaW9ucyI6WyJpY2UiXX0sIngtc2hhZGVyL3gtZnJhZ21lbnQiOnsiY29tcHJlc3NpYmxlIjp0cnVlfSwieC1zaGFkZXIveC12ZXJ0ZXgiOnsiY29tcHJlc3NpYmxlIjp0cnVlfX0nKX19O3ZhciBhPXt9O2Z1bmN0aW9uIF9fbmNjd3Bja19yZXF1aXJlX18oaSl7dmFyIG49YVtpXTtpZihuIT09dW5kZWZpbmVkKXtyZXR1cm4gbi5leHBvcnRzfXZhciBvPWFbaV09e2V4cG9ydHM6e319O3ZhciBzPXRydWU7dHJ5e2VbaV0obyxvLmV4cG9ydHMsX19uY2N3cGNrX3JlcXVpcmVfXyk7cz1mYWxzZX1maW5hbGx5e2lmKHMpZGVsZXRlIGFbaV19cmV0dXJuIG8uZXhwb3J0c31pZih0eXBlb2YgX19uY2N3cGNrX3JlcXVpcmVfXyE9PSJ1bmRlZmluZWQiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lKyIvIjt2YXIgaT17fTsoKCk9Pntjb25zdCBlPV9fbmNjd3Bja19yZXF1aXJlX18oODk5KTtjb25zdCBtYWluPWFzeW5jKCk9Pnt0cnl7Y29uc3QgYT1hd2FpdCBlLmdldCgiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzIik7Y29uc3QgaT1hLmRhdGE7Y29uc29sZS5sb2coIlByaW1laXJvcyA1IHJlZ2lzdHJvczoiKTtpLnNsaWNlKDAsNSkuZm9yRWFjaCgoKGUsYSk9Pntjb25zb2xlLmxvZyhgUG9zdCAke2ErMX06YCk7Y29uc29sZS5sb2coYElEOiAke2UuaWR9YCk7Y29uc29sZS5sb2coYFRpdGxlOiAke2UudGl0bGV9YCk7Y29uc29sZS5sb2coYEJvZHk6ICR7ZS5ib2R5fWApO2NvbnNvbGUubG9nKCItLS0iKX0pKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJFcnJvIGFvIGJ1c2NhciBkYWRvcyBkYSBBUEk6IixlLm1lc3NhZ2UpfX07bWFpbigpfSkoKTttb2R1bGUuZXhwb3J0cz1pfSkoKTs=" }, { "name": "(API) DOCCOB.js", "isDirectory": false, "__KEY__": "a97e2a7f-6711-d231-7999-5b7750fd4f3d", "size": 24847, "dateModified": "2022-07-18T17:56:53.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KDQogICAgbGV0IGQgPSB7DQogICAgICAgICJJZGVudGlmaWNhY2FvX2Rvc19wYXJ0aWNpcGFudGVzIjogew0KICAgICAgICAgICAgIlRhbWFuaG9fZG9fcmVnaXN0cm8iOiAzMDAsDQogICAgICAgICAgICAiT2NvcnJlbmNpYXMiOiB7DQogICAgICAgICAgICAgICAgInF1YW50aWRhZGUiOiAxLA0KICAgICAgICAgICAgICAgICJwYXJhQ2FkYSI6ICIiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJDb21wb25lbnRlcyI6IHsNCiAgICAgICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIklERU5USUZJQ0FET1JfRE9fUkVNRVRFTlRFIjogew0KICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzNSwNCiAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIklERU5USUZJQ0FET1JfRE9fREVTVElOQVRBUklPIjogew0KICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzNSwNCiAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAzOSwNCiAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJEQVRBIjogew0KICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiA2LA0KICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDc0LA0KICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIkhPUkEiOiB7DQogICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDQsDQogICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogODAsDQogICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiSURFTlRJRklDQcOHQU9fRE9fSU5URVJDQU1CSU8iOiB7DQogICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDEyLA0KICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDg0LA0KICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIkZJTExFUiI6IHsNCiAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMjA1LA0KICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDk2LA0KICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICAiQ2FiZWNhbGhvX2RvX0RPQ0NPQiI6IHsNCiAgICAgICAgICAgICJUYW1hbmhvX2RvX3JlZ2lzdHJvIjogMzAwLA0KICAgICAgICAgICAgIk9jb3JyZW5jaWFzIjogew0KICAgICAgICAgICAgICAgICJxdWFudGlkYWRlIjogMjAwLA0KICAgICAgICAgICAgICAgICJwYXJhQ2FkYSI6ICJJZGVudGlmaWNhY2FvX2Rvc19wYXJ0aWNpcGFudGVzIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAiQ29tcG9uZW50ZXMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJJREVOVElGSUNBQ0FPX0RPX0RPQ1VNRU5UTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiRklMTEVSIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDI4MywNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMTgsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgICJEYWRvc19kYV90cmFuc3BvcnRhZG9yYSI6IHsNCiAgICAgICAgICAgICJUYW1hbmhvX2RvX3JlZ2lzdHJvIjogMzAwLA0KICAgICAgICAgICAgIk9jb3JyZW5jaWFzIjogew0KICAgICAgICAgICAgICAgICJxdWFudGlkYWRlIjogMSwNCiAgICAgICAgICAgICAgICAicGFyYUNhZGEiOiAiQ2FiZWNhbGhvX2RvX0RPQ0NPQiINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgIkNvbXBvbmVudGVzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIklERU5USUZJQ0FET1IgREUgUkVHSVNUUk8iOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiQ05QSiI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiUkFaQU9fU09DSUFMIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDQwLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxOCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkZJTExFUiI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAyNDMsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDU4LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICAiSWRlbnRpZmljYWNhb19kb19kb2N1bWVudG9fZGVfY29icmFuY2EiOiB7DQogICAgICAgICAgICAiVGFtYW5ob19kb19yZWdpc3RybyI6IDMwMCwNCiAgICAgICAgICAgICJPY29ycmVuY2lhcyI6IHsNCiAgICAgICAgICAgICAgICAicXVhbnRpZGFkZSI6IDEsDQogICAgICAgICAgICAgICAgInBhcmFDYWRhIjogIkRhZG9zX2RhX3RyYW5zcG9ydGFkb3JhIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAiQ29tcG9uZW50ZXMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJGSUxJQUxfRU1JU1NPUkFfRE9fRE9DVU1FTlRPIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJUSVBPX0RPX0RPQ1VNRU5UT19ERV9DT0JSQU7Dh0EiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMTgsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIlNFUklFX0RPX0RPQ1VNRU5UT19ERV9DT0JSQU5DQSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxOSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiTlVNRVJPX0RPX0RPQ1VNRU5UT19ERV9DT0JSQU5DQSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMjIsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkRBVEFfREVfRU1JU1NBTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiA4LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAzMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiREFUQV9ERV9WRU5DSU1FTlRPIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDgsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDQwLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJWQUxPUl9ET19ET0NVTUVOVE9fREVfQ09CUkFOQ0EiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMTUsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDQ4LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJUSVBPX0RFX0NPQlJBTkNBIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDMsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDYzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJWQUxPUl9UT1RBTF9ET19JQ01TIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE1LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA2NiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiSlVST1NfUE9SX0RJQV9ERV9BVFJBU08iOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMTUsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDgxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiREFUQV9MSU1JVEVfUF9QQUdUT19DX0RFU0NPTlRPIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDgsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDk2LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiVkFMT1JfRE9fREVTQ09OVE9fQUNSRVNDSU1PIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE1LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxMDQsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJJREVOVElGSUNBQ0FPX0RPX0FHRU5URV9ERV9DT0JSQU5DQSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMTE5LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiSURFTlRJRklDQUNBT19ET19BR0VOVEVfREVfQ09CUkFOQ0EiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMzUsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDExOSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIk5VTUVST19EQV9BR0VOQ0lBX0JBTkNBUklBIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDQsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDE1NCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkRJR0lUT19WRVJJRklDQURPUl9OVU1fREFfQUdFTkNJQSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxNTgsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJOVU1FUk9fREFfQ09OVEFfQ09SUkVOVEUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMTAsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDE1OSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkRJR0lUT19WRVJJRklDQURPUl9DT05UQV9DT1JSRU5URSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAyLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxNjksDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJBw4dBT19ET19ET0NVTUVOVE8iOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMTcxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJJREVOVElGSUNBRE9SIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDUwLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxNzIsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJUSVBPX0RPX1ZBTE9SX0RFU0NPTlRPX0FDUkVTQ0lNTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAyMjIsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJGSUxMRVIiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogNzgsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDIyMywNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgIkluZm9ybWFjYW9fZG9zX0NUZXNfcXVlX2VzdGFvX3NlbmRvX2NvYnJhZG9zIjogew0KICAgICAgICAgICAgIlRhbWFuaG9fZG9fcmVnaXN0cm8iOiAzMDAsDQogICAgICAgICAgICAiT2NvcnJlbmNpYXMiOiB7DQogICAgICAgICAgICAgICAgInF1YW50aWRhZGUiOiAxMDAsDQogICAgICAgICAgICAgICAgInBhcmFDYWRhIjogIklkZW50aWZpY2FjYW9fZG9fZG9jdW1lbnRvX2RlX2NvYnJhbmNhIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAiQ29tcG9uZW50ZXMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJGSUxJQUxfRU1JU1NPUkFfRE9fRE9DVU1FTlRPIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJTRVJJRV9ET19DT05IRUNJTUVOVE8iOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMTQsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIk5VTUVST19ET19DT05IRUNJTUVOVE8iOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogOSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMTcsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIlZBTE9SX0RPX0ZSRVRFIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE1LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAyNiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiREFUQV9ERV9FTUlTU0FPX0RPX0NPTkhFQ0lNRU5UTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiA4LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA0MSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiQ05QSl9ET19SRU1FVEVOVEVfRU1JU1NPUl9EQV9ORiI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogNDksDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJDTlBKX0RPX0RFU1RJTkFUQVJJT19EQV9ORiI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogNjMsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJDTlBKX0RPX0VNSVNTT1JfRE9fQ09OSEVDSU1FTlRPIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA3NywNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkNIQVZFX0RFX0FDRVNTT19DVGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogNDQsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDkxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJET01JTklPIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDUwLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxMzUsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkNIQVZFX0RPX0VNQkFSUVVFIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDUwLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxODUsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIklDTVMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMTUsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDIzNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiRklMTEVSIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDUxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAyNTAsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgICJJbmZvcm1hY29lc19kYXNfTm90YXNfRmlzY2Fpc19xdWVfY29tcG9lbV9vX0NUZSI6IHsNCiAgICAgICAgICAgICJUYW1hbmhvX2RvX3JlZ2lzdHJvIjogMzAwLA0KICAgICAgICAgICAgIk9jb3JyZW5jaWFzIjogew0KICAgICAgICAgICAgICAgICJxdWFudGlkYWRlIjogNDAsDQogICAgICAgICAgICAgICAgInBhcmFDYWRhIjogIkluZm9ybWFjYW9fZG9zX0NUZXNfcXVlX2VzdGFvX3NlbmRvX2NvYnJhZG9zIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgIkNvbXBvbmVudGVzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIklERU5USUZJQ0FET1JfREVfUkVHSVNUUk8iOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiU0VSSUUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIk5VTUVST19EQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiA5LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA3LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJEQVRBX0RFX0VNSVNTw4NPX0RBX05PVEFfRklTQ0FMIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDgsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDE2LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJQRVNPX0RBX05PVEFfRklTQ0FMIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDcsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDI0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJWQUxPUl9EQV9NRVJDQURPUklBX05BX05PVEFfRklTQ0FMIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiVGFtYW5obyI6IDE1LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAzMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiVkFMT1JfREFfTUVSQ0FET1JJQV9OQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogMzEsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkNOUEpfRE9fRU1JU1NPUl9EQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJQb3NpY2FvIjogNDYsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJGSUxMRVIiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMjQxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA2MCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgIkluZm9ybWFjb2VzX3NvYnJlX29fdmFsb3JfdG90YWxfZGFfZmF0dXJhIjogew0KICAgICAgICAgICAgIlRhbWFuaG9fZG9fcmVnaXN0cm8iOiAzMDAsDQogICAgICAgICAgICAiT2NvcnJlbmNpYXMiOiB7DQogICAgICAgICAgICAgICAgInF1YW50aWRhZGUiOiAxLA0KICAgICAgICAgICAgICAgICJwYXJhQ2FkYSI6ICJDYWJlY2FsaG9fZG9fRE9DQ09CIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAiQ29tcG9uZW50ZXMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJRVERFX1RPVEFMX0RPQ1RPU19ERV9DT0JSQU5DQSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJWQUxPUl9UT1RBTF9ET0NUT1NfREVfQ09CUkFOQ0EiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJUYW1hbmhvIjogMTUsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDgsDQogICAgICAgICAgICAgICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkZJTExFUiI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIlRhbWFuaG8iOiAyNzgsDQogICAgICAgICAgICAgICAgICAgICAgICAiUG9zaWNhbyI6IDIzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIGlmIChqc29uKSB7DQogICAgICAgIG9iai5qc29uID0gSlNPTi5zdHJpbmdpZnkoanNvbik7DQogICAgfQ0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IHN0clJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgZmR0aWQ6IGZkdGlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZmlsdGVyOiBmaWx0cm8NCiAgICB9KTsNCiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwKTsNCn0NCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgInRlbGVmb25lX2ZpeG8iOiAiKDg5KSAzNzY3LTc4MTEiLA0KICAgICJjZWx1bGFyXzFfcGVzc29hIjogIig4OSkgOTk3MjQtMjUyNiIsDQogICAgImNlbHVsYXJfMl9wZXNzb2EiOiAiIiwNCiAgICAiZW1haWxfcGVzc29hIjogImx1emlhLWJhcmJvc2E5OUB0Y2UuYW0uZ292LmJyIiwNCiAgICAiY29tZXJjaWFsX3Blc3NvYSI6ICJuYW8iLA0KICAgICJsb2dpc3RpY2FfcGVzc29hIjogIm5hbyIsDQogICAgImZpbmFuY2Vpcm9fcGVzc29hIjogIm5hbyIsDQogICAgIm1vdG9yaXN0YV9wZXNzb2EiOiAic2ltIiwNCiAgICAiY2F0ZWdvcmlhX2NuaF9wZXNzb2EiOiAiYSIsDQogICAgImNuaF9wZXNzb2EiOiAxNzk4MDE5MjEzMywNCiAgICAidmFsaWRhZGVfY25oX3Blc3NvYSI6ICIyMDMwLTYtMTMiLA0KICAgICJudW1lcm9fcmVuYWNoX3Blc3NvYSI6IDIzMjM0MzI0MiwNCiAgICAiZW5kZXJlY29zIjogIiIsDQogICAgImVtcHJlc2FzIjogIiIsDQogICAgImhpc3Rvcmljb19mcmV0ZSI6ICIiLA0KICAgICJwcm90b2NvbG9fZWZyZXRlIjogMCwNCiAgICAibW90b3Jpc3RhX2NhZGFzdHJhZG9fZWZyZXRlIjogIiIsDQogICAgImlkX3NvZnRmaW4iOiAyNTYzNTAsDQogICAgImxvZ19pbnRlZ3JhY2FvIjogInVuZGVmaW5lZFxuKEVycm8pIFNlbSByZXNwb3N0YSBkbyBFLUZyZXRlLiIsDQogICAgInNpdHVhY2FvX3Blc3NvYSI6ICJhdGl2byIsDQogICAgIm5vbWVfcGVzc29hIjogIkx1emlhIEVsaXNhIFZhbGVudGluYSBCYXJib3NhIiwNCiAgICAiY3BmX3Blc3NvYSI6ICI0NjUuODkxLjYwMy03NiIsDQogICAgInJnX3Blc3NvYSI6ICI0MS4zNzguNjk0LTgiLA0KICAgICJuYXNjaW1lbnRvIjogIjE5OTUtNS01IiwNCiAgICAic2V4b19wZXNzb2EiOiAiZmVtaW5pbm8iLA0KICAgICJlc3RhZG9fY2l2aWxfcGVzc29hIjogInNvbHRlaXJvIiwNCiAgICAibnVtZXJvX2RvX3BpcyI6IDAsDQogICAgInNpdHVhY2FvX3Blc3NvYV9kZXNjIjogIkF0aXZvIiwNCiAgICAic2V4b19wZXNzb2FfZGVzYyI6ICJGZW1pbmlubyIsDQogICAgImVzdGFkb19jaXZpbF9wZXNzb2FfZGVzYyI6ICJTb2x0ZWlybyIsDQogICAgImNvbWVyY2lhbF9wZXNzb2FfZGVzYyI6ICJOw6NvIiwNCiAgICAibG9naXN0aWNhX3Blc3NvYV9kZXNjIjogIk7Do28iLA0KICAgICJmaW5hbmNlaXJvX3Blc3NvYV9kZXNjIjogIk7Do28iLA0KICAgICJtb3RvcmlzdGFfcGVzc29hX2Rlc2MiOiAiU2ltIiwNCiAgICAiY2F0ZWdvcmlhX2NuaF9wZXNzb2FfZGVzYyI6ICJBIiwNCiAgICAib25lVGVtcGxhdGVUaXRsZSI6ICJQZXNzb2FzIiwNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgImZkdGlkIjogImNkNWFiMTg3LWZiOGQtNDNjMi05Y2FhLTJiMmJlNTlkODcxMCIsDQogICAgImZlZGlkIjogIjNhOGNhZjJhLTM2NDAtMTk2NS04NWQxLTAwZDZiOGI4NDM4MSIsDQogICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyINCn0NCg0KanNvbklucHV0Lm9uZXJneV9qc19jdHggPSB7DQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICJjZDVhYjE4Ny1mYjhkLTQzYzItOWNhYS0yYjJiZTU5ZDg3MTAiLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJmZWRpZCI6ICIzYThjYWYyYS0zNjQwLTE5NjUtODVkMS0wMGQ2YjhiODQzODEiLA0KfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(API) Empresa.js", "isDirectory": false, "__KEY__": "e72622b5-94e5-0491-e0cd-78a943bab3db", "size": 47710, "dateModified": "2022-09-26T14:19:40.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSwgZnVuYyB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnLi4vb25lcmd5L29uZXJneS1jbGllbnQnKTsNCmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpOw0KDQpyZXBsYWNlQWxsID0gZnVuY3Rpb24gKGNvbnRlbnQsIG5lZWRsZSwgcmVwbGFjZW1lbnQpIHsNCiAgICByZXR1cm4gY29udGVudC5zcGxpdChuZWVkbGUpLmpvaW4ocmVwbGFjZW1lbnQpOw0KfTsNCg0KYXN5bmMgZnVuY3Rpb24gUmVhZEV4Y2VsVG9Kc29uKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LlJlYWRFeGNlbFRvSnNvbihhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X2dldChhcmdzKSB7DQogICAgdmFyIHIgPSBhd2FpdCBvbmVyZ3kub25lcmd5X2dldChhcmdzKTsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocik7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGhhc2hNZDUoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuaGFzaE1kNShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X3NhdmUoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kub25lcmd5X3NhdmUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgdXNyaWQsIGFzc2lkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfQ0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV91cGRhdGVtYW55KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kbWFpbChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5zZW5kbWFpbChhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5jcmVtZW50KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LmluY3JlbWVudChhcmdzKTsNCn0NCg0KY2xhc3MgTWVtb3J5IHsNCiAgICB2YWxNZW1vcnkgPSBbXTsNCiAgICBUcnlBZGQoa2V5LCB2YWx1ZSwgdGltZSkgew0KICAgICAgICB2YXIgZXhpc3QgPSBmYWxzZTsNCiAgICAgICAgZm9yIChsZXQgcyBpbiB0aGlzLnZhbE1lbW9yeSkgew0KICAgICAgICAgICAgaWYgKHRoaXMudmFsTWVtb3J5W3NdLmtleSA9PSBrZXkpIHsNCiAgICAgICAgICAgICAgICBleGlzdCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGV4aXN0KSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnZhbE1lbW9yeS5wdXNoKHsgJ2tleSc6IGtleSwgJ3ZhbHVlJzogdmFsdWUsICd0aW1lJzogdGltZSB9KQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgUmVtb3ZlKGtleSkgew0KDQogICAgfQ0KfQ0KbGV0IG1lbW9yeSA9IG5ldyBNZW1vcnkoKTsNCg0KY2xhc3MgVXRpbHMgew0KICAgIEdldFVzZXJEdE5vdyhmb3JtYXQpIHsNCiAgICAgICAgbGV0IGRhdGFBdHVhbCA9IG5ldyBEYXRlKCk7DQogICAgICAgIGxldCBhbm8gPSBkYXRhQXR1YWwuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgbGV0IG1lcyA9ICgoZGF0YUF0dWFsLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgbGV0IGRpYSA9IChkYXRhQXR1YWwuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgICAgICBsZXQgaG9yYXMgPSAoZGF0YUF0dWFsLmdldEhvdXJzKCkpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCk7DQogICAgICAgIGxldCBtaW51dG9zID0gKGRhdGFBdHVhbC5nZXRNaW51dGVzKCkpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCk7DQogICAgICAgIGxldCBzZWd1bmRvcyA9IChkYXRhQXR1YWwuZ2V0U2Vjb25kcygpKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApOw0KICAgICAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9ICR7aG9yYXN9OiR7bWludXRvc306JHtzZWd1bmRvc31gDQogICAgfQ0KDQogICAgc2xlZXAobWlsbGlzZWNvbmRzKSB7DQogICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDFlNzsgaSsrKSB7DQogICAgICAgICAgICBpZiAoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnQpID4gbWlsbGlzZWNvbmRzKSB7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCn0NCmxldCB1dGlscyA9IG5ldyBVdGlscygpOw0KDQpmdW5jdGlvbiBnZXRfdXNyX3Rtel9kdF9ub3coYXJncykgew0KICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgIGxldCBhbm8gPSBkYXRhQXR1YWwuZ2V0RnVsbFllYXIoKTsNCiAgICBsZXQgbWVzID0gKChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9IDAwOjAwOjAwYA0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfY291bnRkb2NzKGFyZ3MpIHsNCiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZ2V0T25lcmd5SXRlbShhcmdzWyJmZHRpZCJdLCBhcmdzWyJhc3NpZCJdLCBhcmdzWyJ1c3JpZCJdLCBhcmdzWyJmaWx0ZXIiXSk7DQogICAgcmV0dXJuIHJlc3VsdC5sZW5ndGg7DQp9DQoNCmZ1bmN0aW9uIENvbnZlcnRVcmxGaWxlVG9CNjQoYXJncykgew0KICAgIHJldHVybiAiVkdWemRHVU5DbFJsYzNSbERRcFVaWE4wWlEwS1ZHVnpkR1VOQ2xSbGMzUmxEUXBVWlhOMFpRMEtWR1Z6ZEdVPSI7DQp9DQoNCi8qDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgIFNDUklQVCAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KKi8NCmxldCBFbXByZXNhSUQgPSAiYWY2NmZiMmQtOTYwZS00ZTFiLTlhNjYtNDQ0Y2RhZDY0ZjYzIjsNCmxldCBwYWlzSUQgPSAiYTlkOGNhNjMtM2NmZC00NDQ1LTkxY2ItMTQ5MDg3NDlkOGEyIjsNCmxldCBlc3RhZG9JRCA9ICJmMWNjZjFmOC1iYmE0LTRmZjMtYTVlMi01OGVmMmFhNDI1N2EiOw0KbGV0IG11bmljaXBpb0lEID0gIjFjYWE3NGU3LTdiNGQtNDY3Yi1iN2Q3LTczNTRlNjk1MTU0OSI7DQpsZXQgdGlwb1Blc3NvYXNTRiA9ICJiOTg5NjBiNi0xYjkxLTQzMjQtYjVjNi00YTU4ZDk4MzE3MTUiOw0KbGV0IHBlcmlvZGljaWRhZGVGYXR1cmFtZW50b0lEID0gIjFkMzgyMTAwLTc5ZjAtNDNhMC05OTJmLTE4YjRiNmJmNDY4YiI7DQoNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBvbmVyZ3kubG9nKEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgIk9yaWdlbSI6ICJFbnRyYWRhIEVtcHJlc2EgQVBJOmluaXQiLA0KICAgICAgICAiZGF0YSI6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfSkpOw0KDQogICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZvcm1hdERhdGEoZGF0YSk7DQogICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZShmYWxzZSwgcmVzdWx0LCBmYWxzZSk7DQogICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIG9uZXJneS5sb2coSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgIk9yaWdlbSI6ICJFbnRyYWRhIEVtcHJlc2EgQVBJOmluaXRCZWZvcmUiLA0KICAgICAgICAgICAgImRhdGEiOiBKU09OLnN0cmluZ2lmeShkYXRhKSwNCiAgICAgICAgICAgICJtZXNzYWdlIjogZXJyLm1lc3NhZ2UsDQogICAgICAgICAgICAic3RhY2siOiBlcnIuc3RhY2sNCiAgICAgICAgfSkpOw0KICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UoZmFsc2UsIG51bGwsIHRydWUpOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KICAgIG9uZXJneS5sb2coSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAiT3JpZ2VtIjogIkVudHJhZGEgRW1wcmVzYSBBUEk6aW5pdEJlZm9yZSIsDQogICAgICAgICJkYXRhIjogSlNPTi5zdHJpbmdpZnkoZGF0YSkNCiAgICB9KSk7DQogICAgdHJ5IHsNCiAgICAgICAgdmFyIHJldHVyblZhbGlkYXRpb24gPSBhd2FpdCB2YWxpZGF0aW9uKGRhdGEpOw0KICAgICAgICBpZiAocmV0dXJuVmFsaWRhdGlvbi5zdGF0dXMgPT0gIk5PSyIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgImNvbmQiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAibXNnX3Jlc3VsdCI6IEpTT04uc3RyaW5naWZ5KHJldHVyblZhbGlkYXRpb24pDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBvbmVyZ3kubG9nKEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICJPcmlnZW0iOiAiRW50cmFkYSBFbXByZXNhIEFQSTppbml0QmVmb3JlIiwNCiAgICAgICAgICAgICJkYXRhIjogSlNPTi5zdHJpbmdpZnkoZGF0YSksDQogICAgICAgICAgICAibWVzc2FnZSI6IGVyci5tZXNzYWdlLA0KICAgICAgICAgICAgInN0YWNrIjogZXJyLnN0YWNrDQogICAgICAgIH0pKTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJjb25kIjogZmFsc2UsDQogICAgICAgICAgICAibXNnX3Jlc3VsdCI6ICJFUlJPIg0KICAgICAgICB9Ow0KICAgIH0NCn0NCg0KZnVuY3Rpb24gU2V0T2JqZWN0UmVzcG9uc2UoY29uZCwganNvbiwgV2FpdGluZ1dlYkhvb2spIHsNCiAgICBpZiAoV2FpdGluZ1dlYkhvb2sgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCg0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ2pzb24nOiBKU09OLnN0cmluZ2lmeShqc29uKSwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCg0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRpb24oZGF0YSkgew0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09IFJhesOjbyBTb2NpYWwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLnJhemFvX3NvY2lhbF9lbXByZXNhKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogInJhemFvX3NvY2lhbF9lbXByZXNhIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FucG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCiAgICBpZiAoZGF0YS5yYXphb19zb2NpYWxfZW1wcmVzYS5sZW5ndGggPiA2MCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJyYXphb19zb2NpYWxfZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHBvZGUgdGVyIG5vIG3DoXhpbW8gNjAgY2FyYWN0ZXJlcy4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09IE5vbWUgRmFudGFzaWEgPT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoIWRhdGEubm9tZV9mYW50YXNpYV9lbXByZXNhKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIm5vbWVfZmFudGFzaWFfZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbnBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgaWYgKGRhdGEucmF6YW9fc29jaWFsX2VtcHJlc2EubGVuZ3RoID4gNjApIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAibm9tZV9mYW50YXNpYV9lbXByZXNhIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gcG9kZSB0ZXIgbm8gbcOheGltbyA2MCBjYXJhY3RlcmVzLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTaXR1YcOnw6NvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLnNpdHVhY2FvX2VtcHJlc2EpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAic2l0dWFjYW9fZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgaWYgKGRhdGEuc2l0dWFjYW9fZW1wcmVzYSAhPSAnYXRpdm8nICYmIGRhdGEuc2l0dWFjYW9fZW1wcmVzYSAhPSAnaW5hdGl2bycpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAic2l0dWFjYW9fZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9zIGFjZWl0b3MgW2F0aXZvLCBpbmF0aXZvXSINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBUZWxlZm9uZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLnRlbGVmb25lX2VtcHJlc2EpIHsNCiAgICAgICAgaWYgKHNvbWVudGVOdW1lcm9zKGRhdGEudGVsZWZvbmVfZW1wcmVzYSkubGVuZ3RoICE9IDEwKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAidGVsZWZvbmVfZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBkZXZlIHRlciAxMCBjYXJhY3RlcmVzLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENlbHVsYXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuY2VsdWxhcikgew0KICAgICAgICBpZiAoc29tZW50ZU51bWVyb3MoZGF0YS5jZWx1bGFyKS5sZW5ndGggIT0gMTEpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjZWx1bGFyIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGRldmUgdGVyIDExIGNhcmFjdGVyZXMuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09IFRpcG8gZGUgRXN0YWJlbGVjaW1lbnRvID09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoIWRhdGEudGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYSkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJ0aXBvX2RlX2VzdGFiZWxlY2ltZW50b19lbXByZXNhIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGxldCB0cEVzdGFiZWxlY2ltZW50b1ZhbGlkID0gKA0KICAgICAgICBkYXRhLnRpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2EgPT0gJ2luZHVzdHJpYScgfHwNCiAgICAgICAgZGF0YS50aXBvX2RlX2VzdGFiZWxlY2ltZW50b19lbXByZXNhID09ICdjb21lcmNpYWwnIHx8DQogICAgICAgIGRhdGEudGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYSA9PSAnY29tdW5pY2FjYW8nIHx8DQogICAgICAgIGRhdGEudGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYSA9PSAndHJhbnNwb3J0YWRvcmEnIHx8DQogICAgICAgIGRhdGEudGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYSA9PSAnZGlzdHJpYnVpZG9yYUVuZXJnaWFFbGV0cmljYScgfHwNCiAgICAgICAgZGF0YS50aXBvX2RlX2VzdGFiZWxlY2ltZW50b19lbXByZXNhID09ICdvcmdhb1B1YmxpY28nIHx8DQogICAgICAgIGRhdGEudGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYSA9PSAnbmFvQ29udHJpYnVpbnRlJyB8fA0KICAgICAgICBkYXRhLnRpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2EgPT0gJ3Byb2R1dG9yUnVyYWwnDQogICAgKTsNCiAgICBpZiAoIXRwRXN0YWJlbGVjaW1lbnRvVmFsaWQpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAidGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9zIGFjZWl0b3MgW2luZHVzdHJpYSwgY29tZXJjaWFsLCBjb211bmljYWNhbywgdHJhbnNwb3J0YWRvcmEsIGRpc3RyaWJ1aWRvcmFFbmVyZ2lhRWxldHJpY2EsIG9yZ2FvUHVibGljbywgbmFvQ29udHJpYnVpbnRlLCBwcm9kdXRvclJ1cmFsXSINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICcnDQogICAgICAgIH07DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT0gQ2F0ZWdvcmlhIGVtcHJlc2EgPT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLmNhdGVnb3JpYV9lbXByZXNhKSB7DQogICAgICAgIGlmIChkYXRhLmNhdGVnb3JpYV9lbXByZXNhLmNvbnN0cnVjdG9yICE9IEFycmF5KSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiY2F0ZWdvcmlhX2VtcHJlc2EiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gZG8gdGlwbyBBcnJheSBjb20gdmFsb3JlcyBbVmVuZGVkb3JlcywgU8OzY2lvLCBTZWd1cmFkb3JhcywgUGFyY2Vpcm8sIEdvdmVybm8sIEZ1bmNpb27DoXJpbywgRm9ybmVjZWRvciwgRXguRnVuY2lvbmFyaW8sIEVudGlkYWRlIGRlIENsYXNzZSwgQ29sYWJvcmFkb3IsIENsaWVudGVdLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgdmFsb3Jlc0NhdGVnb3JpYSA9IFsnVHJhbnBvcnRhZG9yYScsICdWZW5kZWRvcmVzJywgJ1PDs2NpbycsICdTZWd1cmFkb3JhcycsICdQYXJjZWlybycsICdHb3Zlcm5vJywgJ0Z1bmNpb27DoXJpbycsICdGb3JuZWNlZG9yJywgJ0V4LkZ1bmNpb25hcmlvJywgJ0VudGlkYWRlIGRlIENsYXNzZScsICdDb2xhYm9yYWRvcicsICdDbGllbnRlJ107DQogICAgICAgIGZvciAobGV0IENBVEVHT1JJQSBvZiBkYXRhLmNhdGVnb3JpYV9lbXByZXNhKSB7DQogICAgICAgICAgICBpZiAoIXZhbG9yZXNDYXRlZ29yaWEuaW5jbHVkZXMoQ0FURUdPUklBKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiY2F0ZWdvcmlhX2VtcHJlc2EiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogYENhdGVnb3JpYSBkZSBFbXByZXNhICgke0NBVEVHT1JJQX0pIG7Do28gZW5jb250cmFkYS4gVmFsb3JlcyBwb3Nzw612ZWlzIFtUcmFucG9ydGFkb3JhLCBWZW5kZWRvcmVzLCBTw7NjaW8sIFNlZ3VyYWRvcmFzLCBQYXJjZWlybywgR292ZXJubywgRnVuY2lvbsOhcmlvLCBGb3JuZWNlZG9yLCBFeC5GdW5jaW9uYXJpbywgRW50aWRhZGUgZGUgQ2xhc3NlLCBDb2xhYm9yYWRvciwgQ2xpZW50ZV1gDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBNZWlvIFBhZ2FtZW50byA9PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5tZWlvUGFnYW1lbnRvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIm1laW9QYWdhbWVudG8iLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KDQogICAgaWYgKGRhdGEubWVpb1BhZ2FtZW50byAhPSAiRGVww7NzaXRvIGJhbmPDoXJpbyIgJiYgZGF0YS5tZWlvUGFnYW1lbnRvICE9ICJCb2xldG8iKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogImluZGljYWRvcl9kZV9pZSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9zIGFjZWl0b3MgW0RlcMOzc2l0byBiYW5jw6FyaW8sIEJvbGV0b10iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAnJw0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT0gUGVyaW9kaWNpZGFkZSBGYXR1cmFtZW50byA9PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoIWRhdGEucGVyaW9kaWNpZGFkZUZhdHVyYW1lbnRvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogInBlcmlvZGljaWRhZGVGYXR1cmFtZW50byIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICBsZXQgcGVyaW9kaWNpZGFkZVZhbGlkID0gKA0KICAgICAgICBkYXRhLnBlcmlvZGljaWRhZGVGYXR1cmFtZW50byA9PSAnQmllbmFsJyB8fA0KICAgICAgICBkYXRhLnBlcmlvZGljaWRhZGVGYXR1cmFtZW50byA9PSAnQW51YWwnIHx8DQogICAgICAgIGRhdGEucGVyaW9kaWNpZGFkZUZhdHVyYW1lbnRvID09ICdTZW1lc3RyYWwnIHx8DQogICAgICAgIGRhdGEucGVyaW9kaWNpZGFkZUZhdHVyYW1lbnRvID09ICdRdWFkcmltZXN0cmFsJyB8fA0KICAgICAgICBkYXRhLnBlcmlvZGljaWRhZGVGYXR1cmFtZW50byA9PSAnVHJpbWVzdHJhbCcgfHwNCiAgICAgICAgZGF0YS5wZXJpb2RpY2lkYWRlRmF0dXJhbWVudG8gPT0gJ0JpbWVzdHJhbCcgfHwNCiAgICAgICAgZGF0YS5wZXJpb2RpY2lkYWRlRmF0dXJhbWVudG8gPT0gJ1F1aW56ZW5hbCcgfHwNCiAgICAgICAgZGF0YS5wZXJpb2RpY2lkYWRlRmF0dXJhbWVudG8gPT0gJ1NlbWFuYWwnIHx8DQogICAgICAgIGRhdGEucGVyaW9kaWNpZGFkZUZhdHVyYW1lbnRvID09ICdEZWNlbmFsJyB8fA0KICAgICAgICBkYXRhLnBlcmlvZGljaWRhZGVGYXR1cmFtZW50byA9PSAnRGnDoXJpbycgfHwNCiAgICAgICAgZGF0YS5wZXJpb2RpY2lkYWRlRmF0dXJhbWVudG8gPT0gJ01lbnNhbCcNCiAgICApOw0KICAgIGlmICghcGVyaW9kaWNpZGFkZVZhbGlkKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogInBlcmlvZGljaWRhZGVGYXR1cmFtZW50byIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9zIGFjZWl0b3MgW0JpZW5hbCwgQW51YWwsIFNlbWVzdHJhbCwgUXVhZHJpbWVzdHJhbCwgVHJpbWVzdHJhbCwgQmltZXN0cmFsLCBNZW5zYWwsIFF1aW56ZW5hbCwgU2VtYW5hbCwgRGVjZW5hbCwgRGnDoXJpb10iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAnJw0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJhem8gUGFnYW1lbnRvID09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoIWRhdGEucHJhem9QYWdhbWVudG8pIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAicHJhem9QYWdhbWVudG8iLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KICAgIGlmIChOdW1iZXIoZGF0YS5wcmF6b1BhZ2FtZW50bykgPT0gTmFOKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogInByYXpvUGFnYW1lbnRvIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVmFsb3IgSW52w6FsaWRvIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVuZGVyZcOnbyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5lbmRlcmVjbykgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJlbmRlcmVjbyIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PSBUaXBvIGRlIEVuZGVyZWNvID09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuZW5kZXJlY28uaGFzT3duUHJvcGVydHkoInRpcG9fZGVfZW5kZXJlY28iKSAmJiBkYXRhLmVuZGVyZWNvLnRpcG9fZGVfZW5kZXJlY28pIHsNCiAgICAgICAgbGV0IHRwRW5kVmFsdWUgPSBkYXRhLmVuZGVyZWNvLnRpcG9fZGVfZW5kZXJlY28udG9Mb3dlckNhc2UoKTsNCiAgICAgICAgbGV0IHRwRW5kVmFsdWVWYWxpZG8gPSAoDQogICAgICAgICAgICB0cEVuZFZhbHVlID09ICdjb21lcmNpYWwnIHx8DQogICAgICAgICAgICB0cEVuZFZhbHVlID09ICdlbnRyZWdhJyB8fA0KICAgICAgICAgICAgdHBFbmRWYWx1ZSA9PSAnY29icmFuY2EnIHx8DQogICAgICAgICAgICB0cEVuZFZhbHVlID09ICdhZG1pbmlzdHJhdGl2bycgfHwNCiAgICAgICAgICAgIHRwRW5kVmFsdWUgPT0gJ2ZhYnJpY2EnIHx8DQogICAgICAgICAgICB0cEVuZFZhbHVlID09ICdhcm1hemVtJyB8fA0KICAgICAgICAgICAgdHBFbmRWYWx1ZSA9PSAnb3BlcmFjYW8nDQogICAgICAgICk7DQogICAgICAgIGlmICghdHBFbmRWYWx1ZVZhbGlkbykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogInRpcG9fZGVfZW5kZXJlY28iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbY29tZXJjaWFsLCBlbnRyZWdhLCBjb2JyYW5jYSwgYWRtaW5pc3RyYXRpdm8sIGZhYnJpY2EsIGFybWF6ZW0sIG9wZXJhY2FvXSINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogJycNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09IExvZ3JhZG91cm8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLmVuZGVyZWNvLmhhc093blByb3BlcnR5KCJsb2dyYWRvdXJvIikgfHwgIWRhdGEuZW5kZXJlY28ubG9ncmFkb3Vybykgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJsb2dyYWRvdXJvIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGlmIChkYXRhLmVuZGVyZWNvLmxvZ3JhZG91cm8ubGVuZ3RoID4gMjU1IHx8IGRhdGEuZW5kZXJlY28ubG9ncmFkb3Vyby5sZW5ndGggPCAyKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogImxvZ3JhZG91cm8iLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBwb2RlIHRlciBubyBtw6F4aW1vIDI1NSBjYXJhY3RlcmVzIGUgbm8gbcOtbmltbyAyIGNhcmFjdGVyZXMuIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTsO6bWVybyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5lbmRlcmVjby5oYXNPd25Qcm9wZXJ0eSgibnVtZXJvIikgfHwgIWRhdGEuZW5kZXJlY28ubnVtZXJvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIm51bWVybyIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgaWYgKGRhdGEuZW5kZXJlY28ubnVtZXJvLnRvU3RyaW5nKCkubGVuZ3RoID4gNjAgfHwgZGF0YS5lbmRlcmVjby5udW1lcm8udG9TdHJpbmcoKS5sZW5ndGggPCAxKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIm51bWVybyIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHBvZGUgdGVyIG5vIG3DoXhpbW8gNjAgY2FyYWN0ZXJlcyBlIG5vIG3DrW5pbW8gMSBjYXJhY3RlcmVzLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb21wbGVtZW50byA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLmVuZGVyZWNvLmhhc093blByb3BlcnR5KCJjb21wbGVtZW50byIpICYmIGRhdGEuZW5kZXJlY28uY29tcGxlbWVudG8pIHsNCiAgICAgICAgaWYgKGRhdGEuZW5kZXJlY28uY29tcGxlbWVudG8ubGVuZ3RoID4gNjApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjb21wbGVtZW50byIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBwb2RlIHRlciBubyBtw6F4aW1vIDYwIGNhcmFjdGVyZXMuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBCYWlycm8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoIWRhdGEuZW5kZXJlY28uaGFzT3duUHJvcGVydHkoImJhaXJybyIpIHx8ICFkYXRhLmVuZGVyZWNvLmJhaXJybykgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJiYWlycm8iLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KDQogICAgaWYgKGRhdGEuZW5kZXJlY28uYmFpcnJvLmxlbmd0aCA+IDYwIHx8IGRhdGEuZW5kZXJlY28uYmFpcnJvLmxlbmd0aCA8IDIpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiYmFpcnJvIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gcG9kZSB0ZXIgbm8gbcOheGltbyA2MCBjYXJhY3RlcmVzIGUgbm8gbcOtbmltbyAyIGNhcmFjdGVyZXMuIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09IFRpcG8gZGUgRW1wcmVzYSA9PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLnRpcG9FbXByZXNhKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogInRpcG9FbXByZXNhIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZEVtcHJlc2EiOiAnJw0KICAgICAgICB9Ow0KICAgIH0NCiAgICBpZiAoZGF0YS50aXBvRW1wcmVzYSAhPSAnTmFjaW9uYWwnICYmIGRhdGEudGlwb0VtcHJlc2EgIT0gJ0ludGVybmFjaW9uYWwnKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogInRpcG9FbXByZXNhIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbTmFjaW9uYWwsIEludGVybmFjaW9uYWxdIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRFbXByZXNhIjogJycNCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBOQUNJT05BTCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoZGF0YS50aXBvRW1wcmVzYSA9PSAnTmFjaW9uYWwnKSB7DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ05QSiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgIGlmICghZGF0YS5jbnBqX2VtcHJlc2EpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjbnBqX2VtcHJlc2EiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6ICcnDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGlmIChzb21lbnRlTnVtZXJvcyhkYXRhLmNucGpfZW1wcmVzYSkubGVuZ3RoICE9IDE0KSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiY25wal9lbXByZXNhIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGRldmUgdGVyIDE0IGTDrWdpdG9zLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogJycNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgbGV0IGZpbHRyb0VtcHJlc2EgPSBnZXJhckZpbHRybygiY25wal9lbXByZXNhIiwgZGF0YS5jbnBqX2VtcHJlc2EpOw0KICAgICAgICB2YXIgZW1wcmVzYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oRW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRW1wcmVzYSk7DQogICAgICAgIGlmIChlbXByZXNhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkEgZW1wcmVzYSBqw6EgZXN0w6EgY2FkYXN0cmFkYS4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6IGVtcHJlc2FbMF0uSUQNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09IEluc2NyacOnw6NvIEVzdGFkdWFsID09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgIGlmICghZGF0YS5pZV9lbXByZXNhKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiaWVfZW1wcmVzYSIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgaWYgKHNvbWVudGVOdW1lcm9zKGRhdGEuaWVfZW1wcmVzYSkubGVuZ3RoID4gMTQpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJpZV9lbXByZXNhIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHBvZGUgdGVyIG5vIG3DoXhpbW8gMTQgY2FyYWN0ZXJlcy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT0gSW5kaWNhZG9yIGRlIElFID09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICAgICAgaWYgKCFkYXRhLmluZGljYWRvcl9kZV9pZSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImluZGljYWRvcl9kZV9pZSIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgaWYgKGRhdGEuaW5kaWNhZG9yX2RlX2llICE9ICdOYW9Db250cmlidWludGUnICYmIGRhdGEuaW5kaWNhZG9yX2RlX2llICE9ICdDb250cmlidWludGVJQ01TJyAmJiBkYXRhLmluZGljYWRvcl9kZV9pZSAhPSAnQ29udHJpYnVpbnRlSXNlbnRvJykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImluZGljYWRvcl9kZV9pZSIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJUaXBvcyBhY2VpdG9zIFtOYW9Db250cmlidWludGUsIENvbnRyaWJ1aW50ZUlDTVMsIENvbnRyaWJ1aW50ZUlzZW50b10iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6ICcnDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENFUCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICAgICAgaWYgKCFkYXRhLmVuZGVyZWNvLmhhc093blByb3BlcnR5KCJjZXAiKSB8fCAhZGF0YS5lbmRlcmVjby5jZXApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjZXAiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGlmIChkYXRhLmVuZGVyZWNvLmNlcC5sZW5ndGggIT0gOSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImNlcCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBkZXZlIHRlciA5IGTDrWdpdG9zLiAoRm9ybWF0byBYWFhYWC1YWFgpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgY2VwU3BsaXQgPSBkYXRhLmVuZGVyZWNvLmNlcC5zcGxpdCgiLSIpOw0KICAgICAgICBpZiAoY2VwU3BsaXQubGVuZ3RoICE9IDIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjZXAiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2VwIEludsOhbGlkby4gKEZvcm1hdG8gWFhYWFgtWFhYKS4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGlmIChjZXBTcGxpdFswXS5sZW5ndGggIT0gNSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImNlcCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDZXAgSW52w6FsaWRvLiAoRm9ybWF0byBYWFhYWC1YWFgpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgaWYgKGNlcFNwbGl0WzFdLmxlbmd0aCAhPSAzKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiY2VwIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNlcCBJbnbDoWxpZG8uIChGb3JtYXRvIFhYWFhYLVhYWCkuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gSUJHRSBNdW5pY8OtcGlvID09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgICAgICBpZiAoIWRhdGEuZW5kZXJlY28uaGFzT3duUHJvcGVydHkoImNvZGlnb0lCR0VNdW5pY2lwaW8iKSB8fCAhZGF0YS5lbmRlcmVjby5jb2RpZ29JQkdFTXVuaWNpcGlvKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiY29kaWdvSUJHRU11bmljaXBpbyIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuZW5kZXJlY28uY29kaWdvSUJHRU11bmljaXBpbyAhPSAibnVtYmVyIikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImNvZGlnb0lCR0VNdW5pY2lwaW8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gZGV2ZSBzZXIgbsO6bWVyaWNvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZmlsdHJvTXVuaWNpcGlvID0gZ2VyYXJGaWx0cm8oIm11bmljaXBpb19pYmdlIiwgZGF0YS5lbmRlcmVjby5jb2RpZ29JQkdFTXVuaWNpcGlvKTsNCiAgICAgICAgbGV0IG11bmljaXBpb0NvdW50ID0gYXdhaXQgb25lcmd5Q291bnRkb2NzKG11bmljaXBpb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvTXVuaWNpcGlvKTsNCiAgICAgICAgaWYgKG11bmljaXBpb0NvdW50IDwgMSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImNvZGlnb0lCR0VNdW5pY2lwaW8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiBgTsOjbyBmb2kgZW5jb250cmFkbyBtdW5pY8OtcGlvIGNvbSBjw7NkaWdvICR7ZGF0YS5lbmRlcmVjby5jb2RpZ29JQkdFTXVuaWNpcGlvfWANCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJTlRFUk5BQ0lPTkFMID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLnRpcG9FbXByZXNhID09ICdJbnRlcm5hY2lvbmFsJykgew0KDQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gVGF4SWQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgIGlmICghZGF0YS5lbXByZXNhX3RheF9pZCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImVtcHJlc2FfdGF4X2lkIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIG9icmlnYXTDs3JpbyBwYXJhIHRpcG8gZGUgZW1wcmVzYSBJbnRlcm5hY2lvbmFsLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogJycNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZmlsdHJvRW1wcmVzYSA9IGdlcmFyRmlsdHJvKCJlbXByZXNhX3RheF9pZCIsIGRhdGEuZW1wcmVzYV90YXhfaWQpOw0KICAgICAgICB2YXIgZW1wcmVzYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oRW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRW1wcmVzYSk7DQogICAgICAgIGlmIChlbXByZXNhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkEgZW1wcmVzYSBqw6EgZXN0w6EgY2FkYXN0cmFkYS4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6IGVtcHJlc2FbMF0uSUQNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09IEPDs2RpZ28gSUJHRSBQYcOtcyA9PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgIGlmICghZGF0YS5lbmRlcmVjby5oYXNPd25Qcm9wZXJ0eSgiY29kaWdvSUJHRVBhaXMiKSB8fCAhZGF0YS5lbmRlcmVjby5jb2RpZ29JQkdFUGFpcykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImNvZGlnb0lCR0VQYWlzIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIMOpIG9icmlnYXTDs3JpbyBwYXJhIGVtcHJlc2EgSW50ZXJuYWNpb25hbC4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmVuZGVyZWNvLmNvZGlnb0lCR0VQYWlzICE9ICJudW1iZXIiKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiY29kaWdvSUJHRVBhaXMiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gZGV2ZSBzZXIgbnVtw6lyaWNvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZmlsdHJvUGFpcyA9IGdlcmFyRmlsdHJvKCJwYWlzX2liZ2UiLCBkYXRhLmVuZGVyZWNvLmNvZGlnb0lCR0VQYWlzKTsNCiAgICAgICAgbGV0IHBhaXNDb3VudCA9IGF3YWl0IG9uZXJneUNvdW50ZG9jcyhwYWlzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9QYWlzKTsNCiAgICAgICAgaWYgKHBhaXNDb3VudCA8IDEpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjb2RpZ29JQkdFTXVuaWNpcGlvIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogYE7Do28gZm9pIGVuY29udHJhZG8gcGHDrXMgY29tIGPDs2RpZ28gJHtkYXRhLmVuZGVyZWNvLmNvZGlnb0lCR0VQYWlzfWANCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRFbXByZXNhIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICByZXR1cm4gew0KICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgIm1lc3NhZ2UiOiAiIiwNCiAgICAgICAgImlkRW1wcmVzYSI6ICIiDQogICAgfTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZm9ybWF0RGF0YShkYXRhKSB7DQogICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgIlRQRVNTdGlwb19wZXNzb2FfX2NhdGVnb3JpYV9lbXByZXNhIjogW10sDQogICAgICAgICJUUEVTU2NhdGVnb3JpYV9lbXByZXNhX2lkIjogW10sDQogICAgICAgICJUUEVTU2lkX3NvZnRfZmluX19pZF9zb2Z0X2Zpbl9jYXRlZ29yaWFfZW1wcmVzYSI6IFtdLA0KICAgICAgICAiZW1wcmVzYV90YXhfaWQiOiBkYXRhLnRpcG9FbXByZXNhID09ICdOYWNpb25hbCcgPyAiIiA6IGRhdGEuZW1wcmVzYV90YXhfaWQsDQogICAgICAgICJjbnBqX2VtcHJlc2EiOiBkYXRhLnRpcG9FbXByZXNhID09ICdOYWNpb25hbCcgPyBkYXRhLmNucGpfZW1wcmVzYSA6ICIwMDAwMDAwMDAwMDAwMCIsDQogICAgICAgICJ0aXBvX2VtcHJlc2EiOiBkYXRhLnRpcG9FbXByZXNhLA0KICAgICAgICAidGlwb19lbXByZXNhX2Rlc2MiOiBkYXRhLnRpcG9FbXByZXNhLA0KICAgICAgICAiaWRfc2lzdGVtYV9kZV9vcmlnZW0iOiBkYXRhLmlkX3Npc3RlbWFfZGVfb3JpZ2VtLA0KICAgICAgICAiY29kaWdvX3Npc3RlbWFfb3JpZ2VtIjogZGF0YS5jb2RpZ29fc2lzdGVtYV9vcmlnZW0sDQogICAgICAgICJub21lX2ZhbnRhc2lhX2VtcHJlc2EiOiBkYXRhLm5vbWVfZmFudGFzaWFfZW1wcmVzYSwNCiAgICAgICAgInJhemFvX3NvY2lhbF9lbXByZXNhIjogZGF0YS5yYXphb19zb2NpYWxfZW1wcmVzYSwNCiAgICAgICAgImllX2VtcHJlc2EiOiBkYXRhLnRpcG9FbXByZXNhID09ICdOYWNpb25hbCcgPyBkYXRhLmllX2VtcHJlc2EgOiAiSVNFTlRPIiwNCiAgICAgICAgImluc2NyaWNhb19tdW5pY2lwYWwiOiBkYXRhLnRpcG9FbXByZXNhID09ICdOYWNpb25hbCcgPyBkYXRhLmluc2NyaWNhb19tdW5pY2lwYWwgOiAiIiwNCiAgICAgICAgImNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2EiOiBkYXRhLmNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2EgPyBkYXRhLmNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2EgOiAnbmFvJywNCiAgICAgICAgImNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfZGVzYyI6IGRhdGEuY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYSA9PSAic2ltIiA/ICJTaW0iIDogIk7Do28iLA0KICAgICAgICAiZW1haWxfZW1wcmVzYSI6IGRhdGEuZW1haWxfZW1wcmVzYSwNCiAgICAgICAgImluZGljYWRvcl9kZV9pZSI6IGRhdGEudGlwb0VtcHJlc2EgPT0gJ05hY2lvbmFsJyA/IGRhdGEuaW5kaWNhZG9yX2RlX2llIDogJ05hb0NvbnRyaWJ1aW50ZScsDQogICAgICAgICJpbmRpY2Fkb3JfZGVfaWVfZGVzYyI6IGRhdGEudGlwb0VtcHJlc2EgPT0gJ05hY2lvbmFsJyA/IGZvcm1hdEluZGljYWRvcklFKGRhdGEuaW5kaWNhZG9yX2RlX2llKSA6ICJOw6NvIENvbnRyaWJ1aW50ZSIsDQogICAgICAgICJzaXR1YWNhb19lbXByZXNhIjogZGF0YS5zaXR1YWNhb19lbXByZXNhLA0KICAgICAgICAic2l0dWFjYW9fZW1wcmVzYV9kZXNjIjogKGRhdGEuc2l0dWFjYW9fZW1wcmVzYSA9PSAiYXRpdm8iID8gIkF0aXZvIiA6ICJJbmF0aXZvIiksDQogICAgICAgICJ0aXBvX2RlX2VzdGFiZWxlY2ltZW50b19lbXByZXNhIjogZGF0YS50aXBvX2RlX2VzdGFiZWxlY2ltZW50b19lbXByZXNhLA0KICAgICAgICAidGlwb19kZV9lc3RhYmVsZWNpbWVudG9fZW1wcmVzYV9kZXNjIjogZm9ybWF0VGlwb0VzdGFiZWxlY2ltZW50byhkYXRhLnRpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2EpLA0KICAgICAgICAidGVsZWZvbmVfZW1wcmVzYSI6IGRhdGEudGVsZWZvbmVfZW1wcmVzYSA/IHNvbWVudGVOdW1lcm9zKGRhdGEudGVsZWZvbmVfZW1wcmVzYSkgOiAiTsOjbyBDb250cmlidWludGUiLA0KICAgICAgICAiY2VsdWxhciI6IGRhdGEuY2VsdWxhciA/IHNvbWVudGVOdW1lcm9zKGRhdGEuY2VsdWxhcikgOiAiIiwNCiAgICAgICAgImVtcHJlc2FfcHJhem9fZGVfcGFnYW1lbnRvIjogZGF0YS5wcmF6b1BhZ2FtZW50bywNCiAgICAgICAgIk1FSVBBR2Rlc2NyaWNhb19fZW1wcmVzYV9tZWlvX2RlX3BhZ2FtZW50byI6IGRhdGEubWVpb1BhZ2FtZW50byA9PSAnQm9sZXRvJyA/ICJCb2xldG8iIDogIkRlcMOzc2l0byBiYW5jw6FyaW8iLA0KICAgICAgICAiTUVJUEFHZW1wcmVzYV9tZWlvX2RlX3BhZ2FtZW50b19pZCI6IGRhdGEubWVpb1BhZ2FtZW50byA9PSAnQm9sZXRvJyA/ICIzMmNiNGMyNC1hNWEyLTAyOWUtNjBjYy05NzZhMWM2Zjg3OTYiIDogIjExZjBlNzM3LWJkMTMtYTMwNi1hMDY1LTBmOWFmNjc1ZTljNyIsDQogICAgICAgICJNRUlQQUdtZWlvc19kZV9wYWdhbWVudG9faWRlcnAiOiBkYXRhLm1laW9QYWdhbWVudG8gPT0gJ0JvbGV0bycgPyAiNSIgOiAiNiIsDQogICAgfTsNCiAgICBpZiAoZGF0YS5jYXRlZ29yaWFfZW1wcmVzYS5sZW5ndGggPiAwKSB7DQogICAgICAgIGxldCByZWdpc3Ryb3NUaXBvUGVzc29hU0YgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRpcG9QZXNzb2FzU0YsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkKTsNCiAgICAgICAgaWYgKHJlZ2lzdHJvc1RpcG9QZXNzb2FTRi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBmb3IgKGxldCBDQVRFR09SSUEgb2YgZGF0YS5jYXRlZ29yaWFfZW1wcmVzYSkgew0KICAgICAgICAgICAgICAgIGxldCBmaW5kVmFsdWUgPSByZWdpc3Ryb3NUaXBvUGVzc29hU0YuZmluZChWQUxVRSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXRpcmFBY2VudG9zKENBVEVHT1JJQSkudG9Mb3dlckNhc2UoKSA9PSByZXRpcmFBY2VudG9zKFZBTFVFLlVybEpzb25Db250ZXh0LnRpcG9fcGVzc29hKS50b0xvd2VyQ2FzZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChmaW5kVmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LlRQRVNTY2F0ZWdvcmlhX2VtcHJlc2FfaWQucHVzaChmaW5kVmFsdWUuSUQpOw0KICAgICAgICAgICAgICAgICAgICByZXN1bHQuVFBFU1N0aXBvX3Blc3NvYV9fY2F0ZWdvcmlhX2VtcHJlc2EucHVzaChmaW5kVmFsdWUuVXJsSnNvbkNvbnRleHQudGlwb19wZXNzb2EpOw0KICAgICAgICAgICAgICAgICAgICByZXN1bHQuVFBFU1NpZF9zb2Z0X2Zpbl9faWRfc29mdF9maW5fY2F0ZWdvcmlhX2VtcHJlc2EucHVzaChmaW5kVmFsdWUuVXJsSnNvbkNvbnRleHQuaWRfc29mdF9maW4pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmIChkYXRhLnBlcmlvZGljaWRhZGVGYXR1cmFtZW50bykgew0KICAgICAgICBsZXQgcGVyaW9kaWNpZGFkZXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHBlcmlvZGljaWRhZGVGYXR1cmFtZW50b0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCk7DQogICAgICAgIGxldCBwZXJpb2RpY2lkYWRlID0gcGVyaW9kaWNpZGFkZXMuZmluZChWQUxVRSA9PiB7DQogICAgICAgICAgICBpZiAocmV0aXJhQWNlbnRvcyhWQUxVRS5VcmxKc29uQ29udGV4dC5wZXJpb2RpY2lkYWRlKS50b0xvd2VyQ2FzZSgpID09IHJldGlyYUFjZW50b3MoZGF0YS5wZXJpb2RpY2lkYWRlRmF0dXJhbWVudG8pLnRvTG93ZXJDYXNlKCkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGlmIChwZXJpb2RpY2lkYWRlKSB7DQogICAgICAgICAgICByZXN1bHQuRFNNQWVtcHJlc2FfcGVyaW9kaWNpZGFkZV9kZV9mYXR1cmFtZW50b19pZCA9IHBlcmlvZGljaWRhZGUuSUQ7DQogICAgICAgICAgICByZXN1bHQuRFNNQXBlcmlvZGljaWRhZGVfX2VtcHJlc2FfcGVyaW9kaWNpZGFkZV9kZV9mYXR1cmFtZW50byA9IHBlcmlvZGljaWRhZGUuVXJsSnNvbkNvbnRleHQucGVyaW9kaWNpZGFkZQ0KICAgICAgICB9DQoNCiAgICB9DQoNCiAgICBsZXQgZW5kZXJlY28gPSB7DQogICAgICAgICJ0aXBvX2RlX2VuZGVyZWNvX2VtcHJlc2EiOiBkYXRhLmVuZGVyZWNvLnRpcG9fZGVfZW5kZXJlY28sDQogICAgICAgICJ0aXBvX2RlX2VuZGVyZWNvX2VtcHJlc2FfZGVzYyI6IGZvcm1hdFRpcG9FbmRlcmVjbyhkYXRhLmVuZGVyZWNvLnRpcG9fZGVfZW5kZXJlY28pLA0KICAgICAgICAibG9ncmFkb3Vyb19lbXByZXNhIjogZGF0YS5lbmRlcmVjby5sb2dyYWRvdXJvLA0KICAgICAgICAibnVtZXJvX2VtcHJlc2EiOiBkYXRhLmVuZGVyZWNvLm51bWVybywNCiAgICAgICAgImNvbXBsZW1lbnRvX2VtcHJlc2EiOiBkYXRhLmVuZGVyZWNvLmNvbXBsZW1lbnRvLA0KICAgICAgICAiYmFpcnJvX2VtcHJlc2EiOiBkYXRhLmVuZGVyZWNvLmJhaXJybywNCiAgICAgICAgImNlcF9lbXByZXNhIjogZGF0YS50aXBvRW1wcmVzYSA9PSAnTmFjaW9uYWwnID8gZGF0YS5lbmRlcmVjby5jZXAgOiAiOTk5OTktOTk5IiwNCiAgICAgICAgIklEX09ORV9SRUYiOiBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQNCiAgICB9Ow0KDQogICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiByZXN1bHQpIHsNCiAgICAgICAgZW5kZXJlY29bcHJvcGVydHldID0gcmVzdWx0W3Byb3BlcnR5XTsNCiAgICB9DQoNCg0KICAgIGlmIChkYXRhLnRpcG9FbXByZXNhID09ICdJbnRlcm5hY2lvbmFsJykgew0KICAgICAgICBsZXQgZmlsdHJvUGFpcyA9IGdlcmFyRmlsdHJvKCJwYWlzX2liZ2UiLCBkYXRhLmVuZGVyZWNvLmNvZGlnb0lCR0VQYWlzKTsNCiAgICAgICAgbGV0IHBhaXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHBhaXNJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1BhaXMpOw0KICAgICAgICBlbmRlcmVjby5NTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2EgPSBwYWlzWzBdLlVybEpzb25Db250ZXh0LnBhaXNfbm9tZTsNCiAgICAgICAgZW5kZXJlY28uTUxPQ1pub21lX2RvX3BhaXNfZW1wcmVzYV9pZCA9IHBhaXNbMF0uSUQ7DQogICAgICAgIGVuZGVyZWNvLk1MT0NacGFpc19pYmdlID0gZGF0YS5lbmRlcmVjby5jb2RpZ29JQkdFUGFpczsNCg0KICAgICAgICBsZXQgZmlsdHJvRXN0YWRvID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBwYWlzWzBdLklEKTsNCiAgICAgICAgbGV0IGVzdGFkbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZXN0YWRvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9Fc3RhZG8pOw0KICAgICAgICBlbmRlcmVjby5NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYSA9IGVzdGFkb1swXS5VcmxKc29uQ29udGV4dC5lc3RhZG9fdWY7DQogICAgICAgIGVuZGVyZWNvLk1MT0NadWZfZW1wcmVzYV9pZCA9IGVzdGFkb1swXS5JRDsNCiAgICAgICAgZW5kZXJlY28uTUxPQ1plc3RhZG9fY29kaWdvX2liZ2UgPSBlc3RhZG9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX2NvZGlnb19pYmdlOw0KDQogICAgICAgIGxldCBmaWx0cm9NdW5pY2lwaW8gPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGVzdGFkb1swXS5JRCk7DQogICAgICAgIGxldCBtdW5pY2lwaW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKG11bmljaXBpb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvTXVuaWNpcGlvKTsNCiAgICAgICAgZW5kZXJlY28uTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2EgPSBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX25vbWU7DQogICAgICAgIGVuZGVyZWNvLk1MT0NabXVuaWNpcGlvX2VtcHJlc2FfaWQgPSBtdW5pY2lwaW9bMF0uSUQ7DQogICAgICAgIGVuZGVyZWNvLk1MT0NabXVuaWNpcGlvX2liZ2UgPSBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX2liZ2U7DQogICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGZpbHRyb011bmljaXBpbyA9IGdlcmFyRmlsdHJvKCJtdW5pY2lwaW9faWJnZSIsIGRhdGEuZW5kZXJlY28uY29kaWdvSUJHRU11bmljaXBpbyk7DQogICAgICAgIGxldCBwYWlzOw0KICAgICAgICBsZXQgZXN0YWRvOw0KICAgICAgICBsZXQgbXVuaWNpcGlvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShtdW5pY2lwaW9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb011bmljaXBpbyk7DQogICAgICAgIGlmIChtdW5pY2lwaW8ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgbGV0IGZpbHRyb0VzdGFkbyA9IGdlcmFyRmlsdHJvKCJlc3RhZG9fY29kaWdvX2liZ2UiLCBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX2NvZGlnb19pYmdlKTsNCiAgICAgICAgICAgIGxldCBmaWx0cm9QYWlzID0gZ2VyYXJGaWx0cm8oInBhaXNfaWJnZSIsIG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5wYWlzX2liZ2UpOw0KICAgICAgICAgICAgZXN0YWRvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlc3RhZG9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0VzdGFkbyk7DQogICAgICAgICAgICBwYWlzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShwYWlzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9QYWlzKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChtdW5pY2lwaW8ubGVuZ3RoID4gMCAmJiBtdW5pY2lwaW8gIT09IG51bGwpIHsNCiAgICAgICAgICAgIGVuZGVyZWNvLk1MT0NabXVuaWNpcGlvX2VtcHJlc2FfaWQgPSBtdW5pY2lwaW9bMF0uSUQ7DQogICAgICAgICAgICBlbmRlcmVjby5NTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYSA9IG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZTsNCiAgICAgICAgICAgIGVuZGVyZWNvLk1MT0NabXVuaWNpcGlvX2liZ2UgPSBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX2liZ2U7DQoNCiAgICAgICAgICAgIGVuZGVyZWNvLk1MT0NadWZfZW1wcmVzYV9pZCA9IGVzdGFkb1swXS5JRDsNCiAgICAgICAgICAgIGVuZGVyZWNvLk1MT0NaZXN0YWRvX2NvZGlnb19pYmdlID0gZXN0YWRvWzBdLlVybEpzb25Db250ZXh0LmVzdGFkb19jb2RpZ29faWJnZTsNCiAgICAgICAgICAgIGVuZGVyZWNvLk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhID0gZXN0YWRvWzBdLlVybEpzb25Db250ZXh0LmVzdGFkb191ZjsNCg0KICAgICAgICAgICAgZW5kZXJlY28uTUxPQ1pub21lX2RvX3BhaXNfZW1wcmVzYV9pZCA9IHBhaXNbMF0uSUQ7DQogICAgICAgICAgICBlbmRlcmVjby5NTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2EgPSBwYWlzWzBdLlVybEpzb25Db250ZXh0LnBhaXNfbm9tZTsNCiAgICAgICAgICAgIGVuZGVyZWNvLk1MT0NacGFpc19pYmdlID0gbXVuaWNpcGlvWzBdLlVybEpzb25Db250ZXh0LnBhaXNfaWJnZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KCI4ZGU4ODY5Mi0wODBmLTQ0ZmUtOWYwYy0yOWM4ZWE1MzdmNGYiLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZW5kZXJlY28pOw0KDQogICAgZm9yIChsZXQgRU1BSUwgb2YgZGF0YS5lbWFpbHMpIHsNCiAgICAgICAgbGV0IHBvc3RJbmZvID0gew0KICAgICAgICAgICAgIklEX09ORV9SRUYiOiBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQsDQoNCiAgICAgICAgICAgICJlbWFpbF91c3UiOiBFTUFJTC5lbWFpbF91c3UsDQoNCiAgICAgICAgICAgICJlbnZpYXJfY3RlbWRmZV8iOiBFTUFJTC5lbnZpYXJfY3RlbWRmZV8udG9Mb3dlckNhc2UoKSA9PSAnc2ltJyA/ICJzaW0iIDogIm5hbyIsDQogICAgICAgICAgICAiZW52aWFyX2N0ZW1kZmVfX2Rlc2MiOiBFTUFJTC5lbnZpYXJfY3RlbWRmZV8udG9Mb3dlckNhc2UoKSA9PSAnc2ltJyA/ICJTaW0iIDogIk7Do28iLA0KDQogICAgICAgICAgICAiZW52aWFyX2ZhdHVyYW5mZSI6IEVNQUlMLmVudmlhcl9mYXR1cmFuZmUudG9Mb3dlckNhc2UoKSA9PSAnc2ltJyA/ICJzaW0iIDogIm5hbyIsDQogICAgICAgICAgICAiZW52aWFyX2ZhdHVyYW5mZV9kZXNjIjogRU1BSUwuZW52aWFyX2ZhdHVyYW5mZS50b0xvd2VyQ2FzZSgpID09ICdzaW0nID8gIlNpbSIgOiAiTsOjbyIsDQoNCiAgICAgICAgICAgICJlbnZpYV9jb25lbWJfIjogRU1BSUwuZW52aWFfY29uZW1iXy50b0xvd2VyQ2FzZSgpID09ICdzaW0nID8gInNpbSIgOiAibmFvIiwNCiAgICAgICAgICAgICJlbnZpYV9jb25lbWJfX2Rlc2MiOiBFTUFJTC5lbnZpYV9jb25lbWJfLnRvTG93ZXJDYXNlKCkgPT0gJ3NpbScgPyAiU2ltIiA6ICJOw6NvIiwNCg0KICAgICAgICAgICAgImVudmlhcl9nbnJlIjogRU1BSUwuZW52aWFyX2ducmUudG9Mb3dlckNhc2UoKSA9PSAnc2ltJyA/ICJzaW0iIDogIm5hbyIsDQogICAgICAgICAgICAiZW52aWFyX2ducmVfZGVzYyI6IEVNQUlMLmVudmlhcl9nbnJlLnRvTG93ZXJDYXNlKCkgPT0gJ3NpbScgPyAiU2ltIiA6ICJOw6NvIiwNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KCIyY2M5NDlmMi1mYTI2LTRjMGUtODdmMC1kNjFhMDkyMzE2NWEiLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgcG9zdEluZm8pOw0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBmb3JtYXRJbmRpY2Fkb3JJRShkYXRhKSB7DQogICAgc3dpdGNoIChkYXRhLnRvTG93ZXJDYXNlKCkpIHsNCiAgICAgICAgY2FzZSAibmFvY29udHJpYnVpbnRlIjoNCiAgICAgICAgICAgIHJldHVybiAiTsOjbyBDb250cmlidWludGUiOw0KICAgICAgICBjYXNlICJjb250cmlidWludGVpc2VudG8iOg0KICAgICAgICAgICAgcmV0dXJuICJDb250cmlidWludGUgSXNlbnRvIg0KICAgICAgICBjYXNlICJjb250cmlidWludGVpY21zIjoNCiAgICAgICAgICAgIHJldHVybiAiQ29udHJpYnVpbnRlIGRlIElDTVMiDQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICByZXR1cm4gIiINCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGZvcm1hdFRpcG9Fc3RhYmVsZWNpbWVudG8oZGF0YSkgew0KICAgIHN3aXRjaCAoZGF0YS50b0xvd2VyQ2FzZSgpKSB7DQogICAgICAgIGNhc2UgImluZHVzdHJpYSI6DQogICAgICAgICAgICByZXR1cm4gIkluZMO6c3RyaWEiOw0KICAgICAgICBjYXNlICJjb21lcmNpYWwiOg0KICAgICAgICAgICAgcmV0dXJuICJDb23DqXJjaW8iDQogICAgICAgIGNhc2UgImNvbXVuaWNhY2FvIjoNCiAgICAgICAgICAgIHJldHVybiAiQ29tdW5pY2HDp8OjbyINCiAgICAgICAgY2FzZSAidHJhbnNwb3J0YWRvcmEiOg0KICAgICAgICAgICAgcmV0dXJuICJUcmFuc3BvcnRhZG9yYSINCiAgICAgICAgY2FzZSAiZGlzdHJpYnVpZG9yYUVuZXJnaWFFbGV0cmljYSI6DQogICAgICAgICAgICByZXR1cm4gIkVuZXJnaWEgRWzDqXRyaWNhIg0KICAgICAgICBjYXNlICJvcmdhb1B1YmxpY28iOg0KICAgICAgICAgICAgcmV0dXJuICLDk3Jnw6NvIHDDumJsaWNvIg0KICAgICAgICBjYXNlICJuYW9Db250cmlidWludGUiOg0KICAgICAgICAgICAgcmV0dXJuICJOw6NvIENvbnRyaWJ1aW50ZSINCiAgICAgICAgY2FzZSAicHJvZHV0b3JSdXJhbCI6DQogICAgICAgICAgICByZXR1cm4gIlByb2R1dG9yIFJ1cmFsIg0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgcmV0dXJuICJOw6NvIFNlbGVjaW9uYWRvIg0KICAgIH0NCn0NCg0KZnVuY3Rpb24gZm9ybWF0VGlwb0VuZGVyZWNvKGRhdGEpIHsNCiAgICBzd2l0Y2ggKGRhdGEudG9Mb3dlckNhc2UoKSkgew0KICAgICAgICBjYXNlICJjb21lcmNpYWwiOg0KICAgICAgICAgICAgcmV0dXJuICJDb21lcmNpYWwiOw0KICAgICAgICBjYXNlICJlbnRyZWdhIjoNCiAgICAgICAgICAgIHJldHVybiAiRW50cmVnYSINCiAgICAgICAgY2FzZSAiY29icmFuY2EiOg0KICAgICAgICAgICAgcmV0dXJuICJDb2JyYW7Dp2EiDQogICAgICAgIGNhc2UgImFkbWluaXN0cmF0aXZvIjoNCiAgICAgICAgICAgIHJldHVybiAiQWRtaW5pc3RyYXRpdm8iDQogICAgICAgIGNhc2UgImZhYnJpY2EiOg0KICAgICAgICAgICAgcmV0dXJuICJGw6FicmljYSINCiAgICAgICAgY2FzZSAiYXJtYXplbSI6DQogICAgICAgICAgICByZXR1cm4gIkFybWF6w6ltIg0KICAgICAgICBjYXNlICJvcGVyYWNhbyI6DQogICAgICAgICAgICByZXR1cm4gIk9wZXJhw6fDo28iDQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICByZXR1cm4gIiINCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IGtlZXBTZWFyY2hpbmcgPSB0cnVlOw0KICAgIGxldCBza2lwID0gMDsNCiAgICB0YWtlID0gNTAwOw0KICAgIGxldCByZXN1bHQgPSBbXTsNCiAgICB3aGlsZSAoa2VlcFNlYXJjaGluZykgew0KICAgICAgICBsZXQgc3RyUGFnZVJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgICAgIGZpbHRlcjogZmlsdHJvLA0KICAgICAgICAgICAgc2tpcDogc2tpcCwNCiAgICAgICAgICAgIHRha2U6IHRha2UNCiAgICAgICAgfSk7DQogICAgICAgIHNraXAgKz0gdGFrZTsNCiAgICAgICAgbGV0IHBhZ2VSZXNwID0gSlNPTi5wYXJzZShzdHJQYWdlUmVzcCk7DQogICAgICAgIGlmIChwYWdlUmVzcCAhPSBudWxsICYmIHBhZ2VSZXNwLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBwYWdlUmVzcC5sZW5ndGggPT0gdGFrZTsNCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocGFnZVJlc3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneUNvdW50ZG9jcyhmZHRpZCwgYXNzaWQsIHVzcmlkLCBmaWx0cm8pIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X2NvdW50ZG9jcyh7DQogICAgICAgICJmZHRpZCI6IGZkdGlkLA0KICAgICAgICAiYXNzaWQiOiBhc3NpZCwNCiAgICAgICAgInVzcmlkIjogdXNyaWQsDQogICAgICAgICJmaWx0ZXIiOiBmaWx0cm8NCiAgICB9KTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkLCB1c3JpZCwgYXNzaWQsIGRhdGEpIHsNCiAgICBsZXQgb25lcmd5U2F2ZURhdGEgPSB7DQogICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSkNCiAgICB9DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKTsNCn0NCg0KZnVuY3Rpb24gcmV0aXJhQWNlbnRvcyhzdHIpIHsNCiAgICBsZXQgY29tX2FjZW50byA9ICLDgMOBw4LDg8OEw4XDhsOHw4jDicOKw4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5jDmcOaw5vDnMOdxZTDnsOfw6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0w7XDtsO4w7nDusO7w7zDvcO+w7/FlSI7DQogICAgbGV0IHNlbV9hY2VudG8gPSAiQUFBQUFBQUNFRUVFSUlJSUROT09PT09PVVVVVVlSc0JhYWFhYWFhY2VlZWVpaWlpb25vb29vb291dXV1eWJ5ciI7DQogICAgbGV0IG5vdmFzdHIgPSAiIjsNCiAgICBpZiAoc3RyICE9PSAiIikgew0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB0cm9jYSA9IGZhbHNlOw0KICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IGNvbV9hY2VudG8ubGVuZ3RoOyBhKyspIHsNCiAgICAgICAgICAgICAgICBpZiAoc3RyLnN1YnN0cihpLCAxKSA9PSBjb21fYWNlbnRvLnN1YnN0cihhLCAxKSkgew0KICAgICAgICAgICAgICAgICAgICBub3Zhc3RyICs9IHNlbV9hY2VudG8uc3Vic3RyKGEsIDEpOw0KICAgICAgICAgICAgICAgICAgICB0cm9jYSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0cm9jYSA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICBub3Zhc3RyICs9IHN0ci5zdWJzdHIoaSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG5vdmFzdHI7DQp9DQoNCmZ1bmN0aW9uIHNvbWVudGVOdW1lcm9zKHN0cnJlYykgew0KICAgIGlmIChzdHJyZWMpIHsNCiAgICAgICAgcmV0dXJuIHN0cnJlYy50b1N0cmluZygpLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KdmFyIGpzb25JbnB1dCA9IHsNCiAgICAidGlwb0VtcHJlc2EiOiAiSW50ZXJuYWNpb25hbCIsDQogICAgImVtcHJlc2FfdGF4X2lkIjogIjEyMyIsDQogICAgImlkX3Npc3RlbWFfZGVfb3JpZ2VtIjogIjExNTExNyIsDQogICAgImNvZGlnb19zaXN0ZW1hX29yaWdlbSI6ICIxMTUxMTciLA0KICAgICJub21lX2ZhbnRhc2lhX2VtcHJlc2EiOiAiTUFSVEVMSU5ITyBERSBPVVJPIFNJUVVFSVJBIiwNCiAgICAicmF6YW9fc29jaWFsX2VtcHJlc2EiOiAiTUFSVEVMSU5ITyBERSBPVVJPIFNJUVVFSVJBIExUREEiLA0KICAgICJjbnBqX2VtcHJlc2EiOiAiMjkxODY5OTcwMDAxMDgiLA0KICAgICJpZV9lbXByZXNhIjogIjEyNTQ4MDU5OCIsDQogICAgInRlbGVmb25lX2VtcHJlc2EiOiAiOTgxMTExMTExMSIsDQogICAgImVtYWlsX2VtcHJlc2EiOiAibXVsdGNvbnRjb250YWJpbGlkYWRlQGhvdG1haWwuY29tIiwNCiAgICAiY2F0ZWdvcmlhX2VtcHJlc2EiOiBbDQogICAgICAgICJDbGllbnRlIg0KICAgIF0sDQogICAgInRpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2EiOiAiaW5kdXN0cmlhIiwNCiAgICAiaW5kaWNhZG9yX2RlX2llIjogIkNvbnRyaWJ1aW50ZUlDTVMiLA0KICAgICJzaXR1YWNhb19lbXByZXNhIjogImF0aXZvIiwNCiAgICAicGVyaW9kaWNpZGFkZUZhdHVyYW1lbnRvIjogIk1lbnNhbCIsDQogICAgInByYXpvUGFnYW1lbnRvIjogMTQsDQogICAgIm1laW9QYWdhbWVudG8iOiAiQm9sZXRvIiwNCiAgICAiZW1haWxzIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAiZW1haWxfdXN1IjogIm1hcnRlbGluaG9zaXF1ZWlyYUBnbWFpbC5jb20iLA0KICAgICAgICAgICAgImVudmlhcl9jdGVtZGZlXyI6ICJzaW0iLA0KICAgICAgICAgICAgImVudmlhcl9mYXR1cmFuZmUiOiAic2ltIiwNCiAgICAgICAgICAgICJlbnZpYV9jb25lbWJfIjogIm5hbyIsDQogICAgICAgICAgICAiZW52aWFyX2ducmUiOiAibmFvIg0KICAgICAgICB9DQogICAgXSwNCiAgICAiZW5kZXJlY28iOiB7DQogICAgICAgICJ0aXBvX2RlX2VuZGVyZWNvIjogIm9wZXJhY2FvIiwNCiAgICAgICAgImxvZ3JhZG91cm8iOiAiQVYgSkVST05JTU8gREUgQUxCVVFVRVJRVUUgTUFSQU5IQU8iLA0KICAgICAgICAibnVtZXJvIjogIjIyMDAiLA0KICAgICAgICAiY29tcGxlbWVudG8iOiAiTEVUUkEgRCIsDQogICAgICAgICJiYWlycm8iOiAiYWEiLA0KICAgICAgICAiY2VwIjogIiIsDQogICAgICAgICJjb2RpZ29JQkdFTXVuaWNpcGlvIjogMzUxMzgwMSwNCiAgICAgICAgImNvZGlnb0lCR0VQYWlzIjogNjM5DQogICAgfSwNCiAgICAib25lVGVtcGxhdGVUaXRsZSI6ICIiLA0KICAgICJhc3NfaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAiYXNzaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAiZmVkaWQiOiAiY2FmMmZiYWUtZmEzMy00NmRiLTk4ZTItNTMwNzYxYWZkMWM2IiwNCiAgICAiZmR0aWQiOiAiZjQwNWE0NjctOGI2Yi00OGFlLWI0NTAtMzM1MTc2NzVlNzIyIiwNCiAgICAidXNyaWQiOiAiYzViMzk5MTYtYTEyMi00ZWVmLThlYTEtZWZmNDJmMjc5MTc4IiwNCiAgICAiZW1haWwiOiAiU0lTQHByZXN0ZXhob21vbC5jb20uYnIiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJvbmVyZ3lfanNfY3R4Ijogew0KICAgICAgICAiYXNzaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAgICAgImZlZGlkIjogImNhZjJmYmFlLWZhMzMtNDZkYi05OGUyLTUzMDc2MWFmZDFjNiIsDQogICAgICAgICJmZHRpZCI6ICJmNDA1YTQ2Ny04YjZiLTQ4YWUtYjQ1MC0zMzUxNzY3NWU3MjIiLA0KICAgICAgICAidXNyaWQiOiAiYzViMzk5MTYtYTEyMi00ZWVmLThlYTEtZWZmNDJmMjc5MTc4IiwNCiAgICAgICAgImluc2VydER0IjogIjIwMjItMDktMjFUMTk6MzI6MjYuOTc0WiIsDQogICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTA5LTIxVDE5OjMyOjI2Ljk3NFoiLA0KICAgICAgICAiY3VyX3VzZXJpZCI6ICJjNWIzOTkxNi1hMTIyLTRlZWYtOGVhMS1lZmY0MmYyNzkxNzgiLA0KICAgICAgICAiZW1haWwiOiAiU0lTQHByZXN0ZXhob21vbC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogIlNJUyBQcmVzdGV4IiwNCiAgICAgICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICAgICAicHJhaWQiOiAiNjdiZmE0ZWQtNTNlMy00MGY4LTk1NzktZDNlYzk3NjQzNGNmIiwNCiAgICAgICAgInBjdmlkIjogIjdlOTY0M2JhLWIyMzYtNDUzZi05NTFlLWJiM2E4YjUxOGYwOCIsDQogICAgICAgICJwcmNpZCI6ICJlMDRhOWVmYi1mNTMzLWRhZjQtN2FlZC00MGY2NWYyNjljZmYiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAidGltZXpvbmVfdmFsdWUiOiAiLTAzOjAwIiwNCiAgICAgICAgInB1Yk51Ykhvb2siOiBudWxsDQogICAgfQ0KfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(API) Pessoa.js", "isDirectory": false, "__KEY__": "9a5985b6-1362-564b-5216-14e6eeae9e26", "size": 51231, "dateModified": "2022-09-26T14:50:17.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSwgZnVuYyB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnLi4vb25lcmd5L29uZXJneS1jbGllbnQnKTsNCmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpOw0KDQpyZXBsYWNlQWxsID0gZnVuY3Rpb24gKGNvbnRlbnQsIG5lZWRsZSwgcmVwbGFjZW1lbnQpIHsNCiAgICByZXR1cm4gY29udGVudC5zcGxpdChuZWVkbGUpLmpvaW4ocmVwbGFjZW1lbnQpOw0KfTsNCg0KYXN5bmMgZnVuY3Rpb24gUmVhZEV4Y2VsVG9Kc29uKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LlJlYWRFeGNlbFRvSnNvbihhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X2dldChhcmdzKSB7DQogICAgdmFyIHIgPSBhd2FpdCBvbmVyZ3kub25lcmd5X2dldChhcmdzKTsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocik7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGhhc2hNZDUoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuaGFzaE1kNShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X3NhdmUoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kub25lcmd5X3NhdmUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV91cGRhdGVtYW55KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kbWFpbChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5zZW5kbWFpbChhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5jcmVtZW50KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LmluY3JlbWVudChhcmdzKTsNCn0NCg0KY2xhc3MgTWVtb3J5IHsNCiAgICB2YWxNZW1vcnkgPSBbXTsNCiAgICBUcnlBZGQoa2V5LCB2YWx1ZSwgdGltZSkgew0KICAgICAgICB2YXIgZXhpc3QgPSBmYWxzZTsNCiAgICAgICAgZm9yIChsZXQgcyBpbiB0aGlzLnZhbE1lbW9yeSkgew0KICAgICAgICAgICAgaWYgKHRoaXMudmFsTWVtb3J5W3NdLmtleSA9PSBrZXkpIHsNCiAgICAgICAgICAgICAgICBleGlzdCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGV4aXN0KSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnZhbE1lbW9yeS5wdXNoKHsgJ2tleSc6IGtleSwgJ3ZhbHVlJzogdmFsdWUsICd0aW1lJzogdGltZSB9KQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgUmVtb3ZlKGtleSkgew0KDQogICAgfQ0KfQ0KbGV0IG1lbW9yeSA9IG5ldyBNZW1vcnkoKTsNCg0KY2xhc3MgVXRpbHMgew0KICAgIEdldFVzZXJEdE5vdyhmb3JtYXQpIHsNCiAgICAgICAgbGV0IGRhdGFBdHVhbCA9IG5ldyBEYXRlKCk7DQogICAgICAgIGxldCBhbm8gPSBkYXRhQXR1YWwuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgbGV0IG1lcyA9ICgoZGF0YUF0dWFsLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgbGV0IGRpYSA9IChkYXRhQXR1YWwuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgICAgICBsZXQgaG9yYXMgPSAoZGF0YUF0dWFsLmdldEhvdXJzKCkpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCk7DQogICAgICAgIGxldCBtaW51dG9zID0gKGRhdGFBdHVhbC5nZXRNaW51dGVzKCkpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCk7DQogICAgICAgIGxldCBzZWd1bmRvcyA9IChkYXRhQXR1YWwuZ2V0U2Vjb25kcygpKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApOw0KICAgICAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9ICR7aG9yYXN9OiR7bWludXRvc306JHtzZWd1bmRvc31gDQogICAgfQ0KDQogICAgc2xlZXAobWlsbGlzZWNvbmRzKSB7DQogICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDFlNzsgaSsrKSB7DQogICAgICAgICAgICBpZiAoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnQpID4gbWlsbGlzZWNvbmRzKSB7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCn0NCmxldCB1dGlscyA9IG5ldyBVdGlscygpOw0KDQpmdW5jdGlvbiBnZXRfdXNyX3Rtel9kdF9ub3coYXJncykgew0KICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgIGxldCBhbm8gPSBkYXRhQXR1YWwuZ2V0RnVsbFllYXIoKTsNCiAgICBsZXQgbWVzID0gKChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9IDAwOjAwOjAwYA0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfY291bnRkb2NzKGFyZ3MpIHsNCiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZ2V0T25lcmd5SXRlbShhcmdzWyJmZHRpZCJdLCBhcmdzWyJhc3NpZCJdLCBhcmdzWyJ1c3JpZCJdLCBhcmdzWyJmaWx0ZXIiXSk7DQogICAgcmV0dXJuIHJlc3VsdC5sZW5ndGg7DQp9DQoNCmZ1bmN0aW9uIENvbnZlcnRVcmxGaWxlVG9CNjQoYXJncykgew0KICAgIHJldHVybiAiVkdWemRHVU5DbFJsYzNSbERRcFVaWE4wWlEwS1ZHVnpkR1VOQ2xSbGMzUmxEUXBVWlhOMFpRMEtWR1Z6ZEdVPSI7DQp9DQoNCi8qDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgIFNDUklQVCAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KKi8NCg0KbGV0IHBlc3NvYUlEID0gImNkNWFiMTg3LWZiOGQtNDNjMi05Y2FhLTJiMmJlNTlkODcxMCI7DQpsZXQgbXVuaWNpcGlvSUQgPSAiMWNhYTc0ZTctN2I0ZC00NjdiLWI3ZDctNzM1NGU2OTUxNTQ5IjsNCmxldCBwYWlzSUQgPSAiYTlkOGNhNjMtM2NmZC00NDQ1LTkxY2ItMTQ5MDg3NDlkOGEyIjsNCmxldCBlc3RhZG9JRCA9ICJmMWNjZjFmOC1iYmE0LTRmZjMtYTVlMi01OGVmMmFhNDI1N2EiOw0KbGV0IGVuZGVyZWNvSUQgPSAiNzg3NWM5ZmItZWU4Ny00OTRlLWE2MDYtOTQyNjMwMzg0MzY2IjsNCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KDQogICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICJzaXR1YWNhb19wZXNzb2EiOiBkYXRhLlNpdHVhY2FvQ2FkYXN0cmFsID09ICJBdGl2byIgPyAiYXRpdm8iIDogImluYXRpdm8iLA0KICAgICAgICAgICAgInNpdHVhY2FvX3Blc3NvYV9kZXNjIjogZGF0YS5TaXR1YWNhb0NhZGFzdHJhbCA9PSAiQXRpdm8iID8gIkF0aXZvIiA6ICJJbmF0aXZvIiwNCiAgICAgICAgICAgICJub21lX3Blc3NvYSI6IGRhdGEuTm9tZSwNCiAgICAgICAgICAgICJjcGZfcGVzc29hIjogZGF0YS5DUEYsDQogICAgICAgICAgICAicmdfcGVzc29hIjogZGF0YS5SRyA/IGRhdGEuUkcgOiAiIiwNCiAgICAgICAgICAgICJuYXNjaW1lbnRvIjogZGF0YS5EYXRhTmFzY2ltZW50byA/IGRhdGEuRGF0YU5hc2NpbWVudG8gOiAiIiwNCiAgICAgICAgICAgICJzZXhvX3Blc3NvYSI6IGRhdGEuU2V4byA/IChkYXRhLlNleG8gPT0gIm1hc2N1bGlubyIgPyAibWFzY3VsaW5vIiA6ICJmZW1pbmlubyIpIDogIiIsDQogICAgICAgICAgICAic2V4b19wZXNzb2FfZGVzYyI6IGRhdGEuU2V4byA/IChkYXRhLlNleG8gPT0gIm1hc2N1bGlubyIgPyAiTWFzY3VsaW5vIiA6ICJGZW1pbmlubyIpIDogIiIsDQogICAgICAgICAgICAiZXN0YWRvX2NpdmlsX3Blc3NvYSI6IGRhdGEuRXN0YWRvQ2l2aWwsDQogICAgICAgICAgICAiZXN0YWRvX2NpdmlsX3Blc3NvYV9kZXNjIjogZ2V0RGVzY0VzdGFkb0NpdmlsKGRhdGEuRXN0YWRvQ2l2aWwpLA0KICAgICAgICAgICAgIm51bWVyb19kb19waXMiOiBkYXRhLk51bWVyb1BJUyA/IGRhdGEuTnVtZXJvUElTIDogMCwNCiAgICAgICAgICAgICJ0ZWxlZm9uZV9maXhvIjogZGF0YS5UZWxlZm9uZUZpeG8gPyBkYXRhLlRlbGVmb25lRml4byA6ICIiLA0KICAgICAgICAgICAgImNlbHVsYXJfMV9wZXNzb2EiOiBkYXRhLkNlbHVsYXIxID8gZGF0YS5DZWx1bGFyMSA6ICIiLA0KICAgICAgICAgICAgImNlbHVsYXJfMl9wZXNzb2EiOiBkYXRhLkNlbHVsYXIyID8gZGF0YS5DZWx1bGFyMiA6ICIiLA0KICAgICAgICAgICAgImVtYWlsX3Blc3NvYSI6IGRhdGEuRW1haWwgPyBkYXRhLkVtYWlsIDogIiIsDQogICAgICAgICAgICAiY29tZXJjaWFsX3Blc3NvYSI6IGRhdGEuQ29tZXJjaWFsID09ICdzaW0nID8gJ3NpbScgOiAnbmFvJywNCiAgICAgICAgICAgICJjb21lcmNpYWxfcGVzc29hX2Rlc2MiOiBkYXRhLkNvbWVyY2lhbCA9PSAnc2ltJyA/ICdTaW0nIDogJ07Do28nLA0KICAgICAgICAgICAgImxvZ2lzdGljYV9wZXNzb2EiOiBkYXRhLkxvZ2lzdGljYSA9PSAnc2ltJyA/ICdzaW0nIDogJ25hbycsDQogICAgICAgICAgICAibG9naXN0aWNhX3Blc3NvYV9kZXNjIjogZGF0YS5Mb2dpc3RpY2EgPT0gJ3NpbScgPyAnU2ltJyA6ICJOw6NvIiwNCiAgICAgICAgICAgICJmaW5hbmNlaXJvX3Blc3NvYSI6IGRhdGEuRmluYW5jZWlybyA9PSAnc2ltJyA/ICdzaW0nIDogJ25hbycsDQogICAgICAgICAgICAiZmluYW5jZWlyb19wZXNzb2FfZGVzYyI6IGRhdGEuRmluYW5jZWlybyA9PSAnc2ltJyA/ICdTaW0nIDogIk7Do28iLA0KICAgICAgICAgICAgIm1vdG9yaXN0YV9wZXNzb2EiOiBkYXRhLk1vdG9yaXN0YSA9PSAnc2ltJyA/ICdzaW0nIDogJ25hbycsDQogICAgICAgICAgICAibW90b3Jpc3RhX3Blc3NvYV9kZXNjIjogZGF0YS5Nb3RvcmlzdGEgPT0gJ3NpbScgPyAnU2ltJyA6ICdOw6NvJywNCiAgICAgICAgICAgICJjYXRlZ29yaWFfY25oX3Blc3NvYSI6IGRhdGEuQ2F0ZWdvcmlhQ05IID8gKGRhdGEuQ2F0ZWdvcmlhQ05IID09ICdhL2InID8gJ2FfYicgOiBkYXRhLkNhdGVnb3JpYUNOSCkgOiAiIiwNCiAgICAgICAgICAgICJjYXRlZ29yaWFfY25oX3Blc3NvYV9kZXNjIjogZGF0YS5DYXRlZ29yaWFDTkggPyBnZXREZXNjQ2F0ZWdvcmlhQ05IKGRhdGEuQ2F0ZWdvcmlhQ05IKSA6ICIiLA0KICAgICAgICAgICAgImNuaF9wZXNzb2EiOiBkYXRhLkNOSCA/IGRhdGEuQ05IIDogMCwNCiAgICAgICAgICAgICJ2YWxpZGFkZV9jbmhfcGVzc29hIjogZGF0YS5WYWxpZGFkZUNOSCA/IGRhdGEuVmFsaWRhZGVDTkggOiAwLA0KICAgICAgICAgICAgIm51bWVyb19yZW5hY2hfcGVzc29hIjogZGF0YS5OdW1lcm9SZW5hY2ggPyBkYXRhLk51bWVyb1JlbmFjaCA6IDAsDQogICAgICAgIH07DQoNCiAgICAgICAgbGV0IHJlc3VsdEVuZGVyZWNvID0gew0KICAgICAgICAgICAgInRpcG9fZGVfZW5kZXJlY29fZW1wcmVzYSI6IGRhdGEuRW5kZXJlY28uVGlwb0VuZGVyZWNvID8gZGF0YS5FbmRlcmVjby5UaXBvRW5kZXJlY28gOiAiIiwNCiAgICAgICAgICAgICJ0aXBvX2RlX2VuZGVyZWNvX2VtcHJlc2FfZGVzYyI6IGRhdGEuRW5kZXJlY28uVGlwb0VuZGVyZWNvID8gZ2V0RGVzY1RpcG9FbmRlcmVjbyhkYXRhLkVuZGVyZWNvLlRpcG9FbmRlcmVjbykgOiAiIiwNCiAgICAgICAgICAgICJsb2dyYWRvdXJvX3Blc3NvYSI6IGRhdGEuRW5kZXJlY28uTG9ncmFkb3VybywNCiAgICAgICAgICAgICJudW1lcm9fcGVzc29hIjogZGF0YS5FbmRlcmVjby5OdW1lcm8sDQogICAgICAgICAgICAiY29tcGxlbWVudG9fcGVzc29hIjogZGF0YS5FbmRlcmVjby5Db21wbGVtZW50byA/IGRhdGEuRW5kZXJlY28uQ29tcGxlbWVudG8gOiAiIiwNCiAgICAgICAgICAgICJiYWlycm9fcGVzc29hIjogZGF0YS5FbmRlcmVjby5CYWlycm8sDQogICAgICAgICAgICAiY2VwX3Blc3NvYSI6IGRhdGEuRW5kZXJlY28uQ29kaWdvSUJHRVBhaXMgPyAiOTk5OTktOTk5IiA6IGRhdGEuRW5kZXJlY28uQ2VwLA0KICAgICAgICAgICAgIklEX09ORV9SRUYiOiBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQNCiAgICAgICAgfTsNCg0KICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHJlc3VsdCkgew0KICAgICAgICAgICAgcmVzdWx0RW5kZXJlY29bcHJvcGVydHldID0gcmVzdWx0W3Byb3BlcnR5XTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChkYXRhLkVuZGVyZWNvLkNvZGlnb0lCR0VQYWlzKSB7DQogICAgICAgICAgICBsZXQgZmlsdHJvUGFpcyA9IGdlcmFyRmlsdHJvKCJwYWlzX2liZ2UiLCBkYXRhLkVuZGVyZWNvLkNvZGlnb0lCR0VQYWlzKTsNCiAgICAgICAgICAgIGxldCBwYWlzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShwYWlzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9QYWlzKTsNCiAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfcGVzc29hID0gcGFpc1swXS5VcmxKc29uQ29udGV4dC5wYWlzX25vbWU7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DcGFpc19ub21lX19wYWlzX25vdm8gPSBwYWlzWzBdLlVybEpzb25Db250ZXh0LnBhaXNfbm9tZTsNCiAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0Nabm9tZV9kb19wYWlzX3Blc3NvYV9pZCA9IHBhaXNbMF0uSUQ7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DcGFpc19ub3ZvX2lkID0gcGFpc1swXS5JRDsNCiAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NacGFpc19pYmdlID0gcGFpc1swXS5VcmxKc29uQ29udGV4dC5wYWlzX2liZ2U7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DcGFpc19pYmdlX19wYWlzX2liZ2Vfbm92byA9IHBhaXNbMF0uVXJsSnNvbkNvbnRleHQucGFpc19pYmdlOw0KDQogICAgICAgICAgICBsZXQgZmlsdHJvRXN0YWRvID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBwYWlzWzBdLklEKTsNCiAgICAgICAgICAgIGxldCBlc3RhZG8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGVzdGFkb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRXN0YWRvKTsNCiAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2EgPSBlc3RhZG9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmOw0KICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ2VzdGFkb191Zl9fdWZfbm92byA9IGVzdGFkb1swXS5VcmxKc29uQ29udGV4dC5lc3RhZG9fdWY7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWnVmX3Blc3NvYV9pZCA9IGVzdGFkb1swXS5JRDsNCiAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0N1Zl9ub3ZvX2lkID0gZXN0YWRvWzBdLklEOw0KICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ1plc3RhZG9fY29kaWdvX2liZ2UgPSBlc3RhZG9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX2NvZGlnb19pYmdlOw0KICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ2VzdGFkb19jb2RpZ29faWJnZV9fZXN0YWRvX2NvZGlnb19pYmdlX25vdm8gPSBlc3RhZG9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX2NvZGlnb19pYmdlOw0KDQogICAgICAgICAgICBsZXQgZmlsdHJvTXVuaWNpcGlvID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBlc3RhZG9bMF0uSUQpOw0KICAgICAgICAgICAgbGV0IG11bmljaXBpbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0obXVuaWNpcGlvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9NdW5pY2lwaW8pOw0KICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX3Blc3NvYSA9IG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZTsNCiAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX25vdm8gPSBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX25vbWU7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWm11bmljaXBpb19wZXNzb2FfaWQgPSBtdW5pY2lwaW9bMF0uSUQ7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DbXVuaWNpcGlvX25vdm9faWQgPSBtdW5pY2lwaW9bMF0uSUQ7DQogICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWm11bmljaXBpb19pYmdlID0gbXVuaWNpcGlvWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19pYmdlOw0KICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ211bmljaXBpb19pYmdlX19tdW5pY2lwaW9faWJnZV9ub3ZvID0gbXVuaWNpcGlvWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19pYmdlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbGV0IGZpbHRyb011bmljaXBpbyA9IGdlcmFyRmlsdHJvKCJtdW5pY2lwaW9faWJnZSIsIGRhdGEuRW5kZXJlY28uQ29kaWdvSUJHRU11bmljaXBpbyk7DQogICAgICAgICAgICBsZXQgcGFpczsNCiAgICAgICAgICAgIGxldCBlc3RhZG87DQogICAgICAgICAgICBsZXQgbXVuaWNpcGlvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShtdW5pY2lwaW9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb011bmljaXBpbyk7DQogICAgICAgICAgICBpZiAobXVuaWNpcGlvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBsZXQgZmlsdHJvRXN0YWRvID0gZ2VyYXJGaWx0cm8oImVzdGFkb19jb2RpZ29faWJnZSIsIG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5lc3RhZG9fY29kaWdvX2liZ2UpOw0KICAgICAgICAgICAgICAgIGxldCBmaWx0cm9QYWlzID0gZ2VyYXJGaWx0cm8oInBhaXNfaWJnZSIsIG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5wYWlzX2liZ2UpOw0KICAgICAgICAgICAgICAgIGVzdGFkbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZXN0YWRvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9Fc3RhZG8pOw0KICAgICAgICAgICAgICAgIHBhaXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHBhaXNJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1BhaXMpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAobXVuaWNpcGlvLmxlbmd0aCA+IDAgJiYgbXVuaWNpcGlvICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ1ptdW5pY2lwaW9fcGVzc29hX2lkID0gbXVuaWNpcGlvWzBdLklEOw0KICAgICAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NtdW5pY2lwaW9fbm92b19pZCA9IG11bmljaXBpb1swXS5JRDsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fcGVzc29hID0gbXVuaWNpcGlvWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19ub21lOw0KICAgICAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX25vdm8gPSBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX25vbWU7DQogICAgICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ1ptdW5pY2lwaW9faWJnZSA9IG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9faWJnZTsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DbXVuaWNpcGlvX2liZ2VfX211bmljaXBpb19pYmdlX25vdm8gPSBtdW5pY2lwaW9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX2liZ2U7DQoNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWnVmX3Blc3NvYV9pZCA9IGVzdGFkb1swXS5JRDsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DdWZfbm92b19pZCA9IGVzdGFkb1swXS5JRDsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWmVzdGFkb19jb2RpZ29faWJnZSA9IGVzdGFkb1swXS5VcmxKc29uQ29udGV4dC5lc3RhZG9fY29kaWdvX2liZ2U7DQogICAgICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ2VzdGFkb191Zl9fdWZfbm92byA9IGVzdGFkb1swXS5VcmxKc29uQ29udGV4dC5lc3RhZG9fY29kaWdvX2liZ2U7DQogICAgICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYSA9IGVzdGFkb1swXS5VcmxKc29uQ29udGV4dC5lc3RhZG9fdWY7DQogICAgICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ2VzdGFkb19jb2RpZ29faWJnZV9fZXN0YWRvX2NvZGlnb19pYmdlX25vdm8gPSBlc3RhZG9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmOw0KDQogICAgICAgICAgICAgICAgcmVzdWx0RW5kZXJlY28uTUxPQ1pub21lX2RvX3BhaXNfcGVzc29hX2lkID0gcGFpc1swXS5JRDsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DcGFpc19ub3ZvX2lkID0gcGFpc1swXS5JRDsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX3Blc3NvYSA9IHBhaXNbMF0uVXJsSnNvbkNvbnRleHQucGFpc19ub21lOw0KICAgICAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NwYWlzX25vbWVfX3BhaXNfbm92byA9IHBhaXNbMF0uVXJsSnNvbkNvbnRleHQucGFpc19ub21lOw0KICAgICAgICAgICAgICAgIHJlc3VsdEVuZGVyZWNvLk1MT0NacGFpc19pYmdlID0gbXVuaWNpcGlvWzBdLlVybEpzb25Db250ZXh0LnBhaXNfaWJnZTsNCiAgICAgICAgICAgICAgICByZXN1bHRFbmRlcmVjby5NTE9DcGFpc19pYmdlX19wYWlzX2liZ2Vfbm92byA9IG11bmljaXBpb1swXS5VcmxKc29uQ29udGV4dC5wYWlzX2liZ2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KGVuZGVyZWNvSUQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCByZXN1bHRFbmRlcmVjbyk7DQogICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCByZXN1bHQsIGZhbHNlKTsNCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgb25lcmd5LmxvZyhKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAiT3JpZ2VtIjogIlBlc3NvYXM6QVBJIGRlIFBlc3NvYTppbml0IiwNCiAgICAgICAgICAgICJTdGFjayI6IGVyci5zdGFjaywNCiAgICAgICAgICAgICJNZXNzYWdlIjogZXJyLm1lc3NhZ2UNCiAgICAgICAgfSkpOw0KICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgbnVsbCwgdHJ1ZSk7DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQogICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXJDYW1wb3MoZGF0YSk7DQogICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09ICJOT0siKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJjb25kIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIm1zZ19yZXN1bHQiOiBKU09OLnN0cmluZ2lmeShyZXN1bHQpDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIG9uZXJneS5sb2coSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgIk9yaWdlbToiOiAiUGVzc29hOkFQSSBkZSBQZXNzb2E6aW5pdEJlZm9yZSIsDQogICAgICAgICAgICAic3RhY2siOiBlcnIuc3RhY2ssDQogICAgICAgICAgICAibWVzc2FnZSI6IGVyci5tZXNzYWdlDQogICAgICAgIH0pKTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJjb25kIjogZmFsc2UsDQogICAgICAgICAgICAibXNnX3Jlc3VsdCI6ICJFUlJPIE5BIEFQSS4iDQogICAgICAgIH07DQogICAgfQ0KDQogICAgcmV0dXJuIHRydWU7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpDQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQoNCiAgICB2YXIgb2JqID0gew0KICAgICAgICAnY29uZCc6IGNvbmQsDQogICAgICAgICdXYWl0aW5nV2ViSG9vayc6IFdhaXRpbmdXZWJIb29rLA0KICAgIH07DQoNCiAgICBpZiAoanNvbikgew0KICAgICAgICBvYmouanNvbiA9IEpTT04uc3RyaW5naWZ5KGpzb24pOw0KICAgIH0NCg0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXJDYW1wb3MoZGF0YSkgew0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDUEYgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoIWRhdGEuQ1BGKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIkNQRiIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbnBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGlmICh0eXBlb2YgZGF0YS5DUEYgIT0gInN0cmluZyIpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiQ1BGIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gaW52w6FsaWRvLiBEZXZlIHNlciBkbyB0aXBvIFN0cmluZy4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KDQogICAgaWYgKGRhdGEuQ1BGLmxlbmd0aCAhPSAxMSkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDUEYiLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDUEYgZGV2ZSB0ZXIgMTEgY2FyYWN0ZXJlcyINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICBsZXQgZmlsdHJvUGVzc29hID0gZ2VyYXJGaWx0cm8oImNwZl9wZXNzb2EiLCBkYXRhLkNQRik7DQogICAgbGV0IHBlc3NvYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0ocGVzc29hSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9QZXNzb2EpOw0KICAgIGlmIChwZXNzb2EubGVuZ3RoID4gMCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDUEYiLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJQZXNzb2EgasOhIGNhZGFzdHJhZGEgY29tIGVzc2UgQ1BGLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogcGVzc29hWzBdLklEDQogICAgICAgIH07DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT0gU2l0dWHDp8OjbyBjYWRhc3RyYWwgPT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLlNpdHVhY2FvQ2FkYXN0cmFsKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIlNpdHVhY2FvQ2FkYXN0cmFsIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FucG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KDQogICAgaWYgKGRhdGEuU2l0dWFjYW9DYWRhc3RyYWwgIT0gIkF0aXZvIiAmJiBkYXRhLlNpdHVhY2FvQ2FkYXN0cmFsICE9ICJJbmF0aXZvIikgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJTaXR1YWNhb0NhZGFzdHJhbCIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9zIGFjZWl0b3MgW0F0aXZvLCBJbmF0aXZvXSINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBOb21lIFBlc3NvYSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLk5vbWUpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiTm9tZSIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbnBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBSZyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoZGF0YS5SRykgew0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuUkcgIT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJSRyIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIENhbXBvIGRldmUgc2VyIGRvIHRpcG8gU3RyaW5nLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChkYXRhLlJHLmxlbmd0aCA8IDcpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJSRyIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJSRyBkZXZlIHRlciBubyBtw61uaW1vIDcgY2FyYWN0ZXJlcy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09IEZpbmFuY2Vpcm8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuRmluYW5jZWlybykgew0KICAgICAgICBpZiAoZGF0YS5GaW5hbmNlaXJvICE9ICdzaW0nICYmIGRhdGEuRmluYW5jZWlybyAhPSAnbmFvJykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkZpbmFuY2Vpcm8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbc2ltLCBuYW9dIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBOdW1lcm9QSVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuTnVtZXJvUElTKSB7DQogICAgICAgIGlmICh0eXBlb2YgZGF0YS5OdW1lcm9QSVMgIT0gIm51bWJlciIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJOdW1lcm9QSVMiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gZGV2ZSBzZXIgZG8gVGlwbyBJbnQuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBMb2dpc3RpY2EgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLkxvZ2lzdGljYSkgew0KICAgICAgICBpZiAoZGF0YS5Mb2dpc3RpY2EgIT0gJ3NpbScgJiYgZGF0YS5Mb2dpc3RpY2EgIT0gJ25hbycpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJMb2dpc3RpY2EiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbc2ltLCBuYW9dIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb21lcmNpYWwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLkNvbWVyY2lhbCkgew0KICAgICAgICBpZiAoZGF0YS5Db21lcmNpYWwgIT0gJ3NpbScgJiYgZGF0YS5Db21lcmNpYWwgIT0gJ25hbycpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDb21lcmNpYWwiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbc2ltLCBuYW9dIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVtYWlsID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLkVtYWlsKSB7DQogICAgICAgIGlmICh0eXBlb2YgZGF0YS5FbWFpbCAhPSAic3RyaW5nIikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkVtYWlsIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGludsOhbGlkby4gRGV2ZSBzZXIgZG8gdGlwbyBTdHJpbmcuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGRhdGEuRW1haWwuaW5kZXhPZigiQCIpID09IC0xKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiRW1haWwiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVmFsb3IgSW52w6FsaWRvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBlbWFpbFNwbGl0ID0gZGF0YS5FbWFpbC5zcGxpdCgiLiIpOw0KICAgICAgICBpZiAoZW1haWxTcGxpdC5sZW5ndGggPCAyKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiRW1haWwiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVmFsb3IgSW52w6FsaWRvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChlbWFpbFNwbGl0W2VtYWlsU3BsaXQubGVuZ3RoIC0gMV0ubGVuZ3RoIDwgMikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkVtYWlsIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlZhbG9yIEludsOhbGlkby4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09IENlbHVsYXIxID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuQ2VsdWxhcjEpIHsNCiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLkNlbHVsYXIxICE9ICJzdHJpbmciKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiQ2VsdWxhcjEiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gaW52w6FsaWRvLiBEZXZlIHNlciBkbyB0aXBvIFN0cmluZy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZGF0YS5DZWx1bGFyMS5sZW5ndGggIT0gMTEpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDZWx1bGFyMSIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIEZvcm1hdG8gYWNlaXRvIChYWFhYWFhYWFhYWCkuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBDZWx1bGFyMiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLkNlbHVsYXIyKSB7DQogICAgICAgIGlmICh0eXBlb2YgZGF0YS5DZWx1bGFyMiAhPSAic3RyaW5nIikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNlbHVsYXIyIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGludsOhbGlkby4gRGV2ZSBzZXIgZG8gdGlwbyBTdHJpbmciDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZGF0YS5DZWx1bGFyMi5sZW5ndGggIT0gMTEpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDZWx1bGFyMiIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIEZvcm1hdG8gYWNlaXRvIChYWFhYWFhYWFhYWCkuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09IE51bWVyb1JlbmFjaCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLk51bWVyb1JlbmFjaCkgew0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuTnVtZXJvUmVuYWNoICE9ICJudW1iZXIiKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiTnVtZXJvUmVuYWNoIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGludsOhbGlkby4gRGV2ZSBzZXIgZG8gdGlwbyBJbnQiDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PSBUZWxlZm9uZUZpeG8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuVGVsZWZvbmVGaXhvKSB7DQogICAgICAgIGlmICh0eXBlb2YgZGF0YS5UZWxlZm9uZUZpeG8gIT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJUZWxlZm9uZUZpeG8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gaW52w6FsaWRvLiBEZXZlIHNlciBkbyB0aXBvIFN0cmluZy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZGF0YS5UZWxlZm9uZUZpeG8ubGVuZ3RoICE9IDEwKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiVGVsZWZvbmVGaXhvIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGludsOhbGlkby4gRm9ybWF0byBhY2VpdG8gKFhYWFhYWFhYWFgpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBFc3RhZG9DaXZpbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICBpZiAoZGF0YS5Fc3RhZG9DaXZpbCkgew0KICAgICAgICBsZXQgZXN0YWRvQ2l2aWxWYWx1ZXMgPSBbImNhc2FkbyIsICJzb2x0ZWlybyIsICJ1bmlhb2VzdGF2ZWwiLCAiZGl2b3JjaWFkbyIsICJzZXBhcmFkbyIsICJ2aXV2byJdOw0KICAgICAgICBpZiAoIWVzdGFkb0NpdmlsVmFsdWVzLmluY2x1ZGVzKGRhdGEuRXN0YWRvQ2l2aWwpKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiRXN0YWRvQ2l2aWwiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbY2FzYWRvLCBzb2x0ZWlybywgdW5pYW9lc3RhdmVsLCBkaXZvcmNpYWRvLCBzZXBhcmFkbywgdml1dm9dIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTZXhvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLlNleG8pIHsNCiAgICAgICAgbGV0IHNleG9WYWx1ZXMgPSBbIm1hc2N1bGlubyIsICJmZW1pbmlubyJdOw0KICAgICAgICBpZiAoIXNleG9WYWx1ZXMuaW5jbHVkZXMoZGF0YS5TZXhvKSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIlNleG8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbbWFzY3VsaW5vLCBmZW1pbmlub10iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IE1vdG9yaXN0YSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLk1vdG9yaXN0YSkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICJjYW1wbyI6ICJNb3RvcmlzdGEiLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICBpZiAoZGF0YS5Nb3RvcmlzdGEgIT0gJ3NpbScgJiYgZGF0YS5Nb3RvcmlzdGEgIT0gJ25hbycpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiTW90b3Jpc3RhIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiVGlwb3MgYWNlaXRvcyBbc2ltLCBuYW9dIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PSBDYW1wb3MgT2JyaWdhdMOzcmlvcyBwYXJhIE1vdG9yaXN0YSAoU2ltKSA9PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuTW90b3Jpc3RhID09ICdzaW0nKSB7DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09IERhdGEgTmFzY2ltZW50byA9PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgIGlmICghZGF0YS5EYXRhTmFzY2ltZW50bykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkRhdGFOYXNjaW1lbnRvIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLkRhdGFOYXNjaW1lbnRvICE9ICJzdHJpbmciKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiRGF0YU5hc2NpbWVudG8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gaW52w6FsaWRvLiBDYW1wbyBkZXZlIHNlciBkbyB0aXBvIFN0cmluZy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZGF0YU5hc2NpbWVudG9EYXRlID0gbmV3IERhdGUoZGF0YS5EYXRhTmFzY2ltZW50byk7DQogICAgICAgIGlmIChkYXRhTmFzY2ltZW50b0RhdGUgPT0gIkludmFsaWQgRGF0ZSIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJEYXRhTmFzY2ltZW50byIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIEZvcm1hdG8gYWNlaXRvIChZWVlZLU1NLUREKS4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpOw0KICAgICAgICBpZiAoZGF0YUF0dWFsLmdldFRpbWUoKSA8IGRhdGFOYXNjaW1lbnRvRGF0ZS5nZXRUaW1lKCkpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJEYXRhTmFzY2ltZW50byIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIERhdGEgZGUgbmFzY2ltZW50byBtYWlvciBxdWUgZGF0YSBhdHVhbC4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZGF0YVNwbGl0ID0gZGF0YS5EYXRhTmFzY2ltZW50by5zcGxpdCgiLSIpOw0KICAgICAgICBpZiAoZGF0YVNwbGl0Lmxlbmd0aCAhPSAzKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiRGF0YU5hc2NpbWVudG8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gaW52w6FsaWRvLiBGb3JtYXRvIGFjZWl0byAoWVlZWS1NTS1ERCkuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09IENhdGVnb3JpYSBDTkggPT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICAgICAgaWYgKCFkYXRhLkNhdGVnb3JpYUNOSCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNhdGVnb3JpYUNOSCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBjYXRlZ29yaWFWYWx1ZXMgPSBbImEiLCAiYiIsICJjIiwgImQiLCAiYS9iIl07DQogICAgICAgIGlmICghY2F0ZWdvcmlhVmFsdWVzLmluY2x1ZGVzKGRhdGEuQ2F0ZWdvcmlhQ05IKSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNhdGVnb3JpYUNOSCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJUaXBvcyBhY2VpdG9zIFthLCBiLCBjLCBkLCBhL2JdIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDTkggPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICAgICAgaWYgKCFkYXRhLkNOSCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNOSCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0eXBlb2YgZGF0YS5DTkggIT0gIm51bWJlciIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDTkgiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gZGV2ZSBzZXIgZG8gdGlwbyBJbnQuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBEYXRhIENOSCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICAgICAgaWYgKCFkYXRhLlZhbGlkYWRlQ05IKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiVmFsaWRhZGVDTkgiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuVmFsaWRhZGVDTkggIT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJWYWxpZGFkZUNOSCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIENhbXBvIGRldmUgc2UgZG8gdGlwbyBTdHJpbmciDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgdmFsaWRhZGVDTkhEYXRlID0gbmV3IERhdGUoZGF0YS5WYWxpZGFkZUNOSCk7DQogICAgICAgIGlmICh2YWxpZGFkZUNOSERhdGUgPT0gIkludmFsaWQgRGF0ZSIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJWYWxpZGFkZUNOSCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIEZvcm1hdG8gYWNlaXRvIChZWVlZLU1NLUREKS4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodmFsaWRhZGVDTkhEYXRlLmdldFRpbWUoKSA+IGRhdGFBdHVhbC5nZXRUaW1lKCkpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJWYWxpZGFkZUNOSCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBpbnbDoWxpZG8uIENOSCBmb3JhIGRhIHZhbGlkYWRlLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCB2YWxpZGFkZUNOSFNwbGl0ID0gZGF0YS5WYWxpZGFkZUNOSC5zcGxpdCgiLSIpOw0KICAgICAgICBpZiAodmFsaWRhZGVDTkhTcGxpdC5sZW5ndGggIT0gMykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIlZhbGlkYWRlQ05IIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIGludsOhbGlkby4gRm9ybWF0byBhY2VpdG8gKFlZWVktTU0tREQpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gQ2VsdWxhcjEgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgIGlmICghZGF0YS5DZWx1bGFyMSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNlbHVsYXIxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGRhdGEuQ2VsdWxhcjEubGVuZ3RoICE9IDExKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiQ2VsdWxhcjEiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gaW52w6FsaWRvLiBGb3JtYXRvIGFjZWl0byAoWFhYWFhYWFhYWFgpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRW5kZXJlw6dvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKCFkYXRhLkVuZGVyZWNvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIkVuZGVyZWNvIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2FtcG8gdmF6aW8gb3UgbnVsby4iDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT0gVGlwbyBkZSBFbmRlcmVjbyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmIChkYXRhLkVuZGVyZWNvLmhhc093blByb3BlcnR5KCJUaXBvRW5kZXJlY28iKSAmJiBkYXRhLkVuZGVyZWNvLlRpcG9FbmRlcmVjbykgew0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuRW5kZXJlY28uVGlwb0VuZGVyZWNvICE9ICJzdHJpbmciKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiVGlwb0VuZGVyZWNvIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9FbmRlcmVjbyDDqSB1bSBjYW1wbyBkbyB0aXBvIFN0cmluZy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogJycNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgdHBFbmRlcmVjb1ZhbHVlcyA9IFsncmVzaWRlbmNpYWwnLCAnY29tZXJjaWFsJywgJ2VudHJlZ2EnLCAnY29icmFuY2EnLCAnYWRtaW5pc3RyYXRpdm8nLCAnZmFicmljYScsICdhcm1hemVtJywgJ29wZXJhY2FvJ10NCg0KICAgICAgICBpZiAoIXRwRW5kZXJlY29WYWx1ZXMuaW5jbHVkZXMoZGF0YS5FbmRlcmVjby5UaXBvRW5kZXJlY28pKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiVGlwb0VuZGVyZWNvIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIlRpcG9zIGFjZWl0b3MgW3Jlc2lkZW5jaWFsLCBjb21lcmNpYWwsIGVudHJlZ2EsIGNvYnJhbmNhLCBhZG1pbmlzdHJhdGl2bywgZmFicmljYSwgYXJtYXplbSwgb3BlcmFjYW9dIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICcnDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PSBMb2dyYWRvdXJvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5FbmRlcmVjby5oYXNPd25Qcm9wZXJ0eSgiTG9ncmFkb3VybyIpIHx8ICFkYXRhLkVuZGVyZWNvLkxvZ3JhZG91cm8pIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiTG9ncmFkb3VybyIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGlmICh0eXBlb2YgZGF0YS5FbmRlcmVjby5Mb2dyYWRvdXJvICE9ICJzdHJpbmciKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIkxvZ3JhZG91cm8iLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJMb2dyYWRvdXJvIMOpIHVtIGNhbXBvIGRvIHRpcG8gU3RyaW5nLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogJycNCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTsO6bWVybyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5FbmRlcmVjby5oYXNPd25Qcm9wZXJ0eSgiTnVtZXJvIikgfHwgIWRhdGEuRW5kZXJlY28uTnVtZXJvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIk51bWVybyIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGlmICh0eXBlb2YgZGF0YS5FbmRlcmVjby5OdW1lcm8gIT0gInN0cmluZyIpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiTnVtZXJvIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiTnVtZXJvIMOpIHVtIGNhbXBvIGRvIHRpcG8gU3RyaW5nLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogJycNCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09IENvbXBsZW1lbnRvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgaWYgKGRhdGEuRW5kZXJlY28uaGFzT3duUHJvcGVydHkoIkNvbXBsZW1lbnRvIikgJiYgZGF0YS5FbmRlcmVjby5Db21wbGVtZW50bykgew0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuRW5kZXJlY28uQ29tcGxlbWVudG8gIT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDb21wbGVtZW50byIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDb21wbGVtZW50byDDqSB1bSBjYW1wbyBkbyB0aXBvIFN0cmluZy4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogJycNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgaWYgKGRhdGEuRW5kZXJlY28uQ29tcGxlbWVudG8ubGVuZ3RoID4gNjApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDb21wbGVtZW50byIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBwb2RlIHRlciBubyBtw6F4aW1vIDYwIGNhcmFjdGVyZXMuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEJhaXJybyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5FbmRlcmVjby5oYXNPd25Qcm9wZXJ0eSgiQmFpcnJvIikgfHwgIWRhdGEuRW5kZXJlY28uQmFpcnJvKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIkJhaXJybyIsDQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNhbXBvIHZhemlvIG91IG51bG8uIg0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGlmICh0eXBlb2YgZGF0YS5FbmRlcmVjby5CYWlycm8gIT0gInN0cmluZyIpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiY2FtcG8iOiAiQmFpcnJvIiwNCiAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQmFpcnJvIMOpIHVtIGNhbXBvIGRvIHRpcG8gU3RyaW5nLiINCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgImlkUGVzc29hIjogJycNCiAgICAgICAgfTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gQ8OzZGlnbyBJQkdFID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgIGlmICghZGF0YS5FbmRlcmVjby5Db2RpZ29JQkdFTXVuaWNpcGlvICYmICFkYXRhLkVuZGVyZWNvLkNvZGlnb0lCR0VQYWlzKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgImNhbXBvIjogIkNvZGlnb0lCR0VNdW5pY2lwaW8vQ29kaWdvSUJHRVBhaXMiLA0KICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJEZXZlIHNlciBpbmZvcm1hZG8gbyBDb2RpZ29JQkdFTXVuaWNpcGlvIG91IG8gQ29kaWdvSUJHRVBhaXMiDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgIH07DQogICAgfQ0KDQogICAgaWYgKGRhdGEuRW5kZXJlY28uQ29kaWdvSUJHRU11bmljaXBpbykgew0KICAgICAgICBpZiAodHlwZW9mIGRhdGEuRW5kZXJlY28uQ29kaWdvSUJHRU11bmljaXBpbyAhPSAibnVtYmVyIikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNvZGlnb0lCR0VNdW5pY2lwaW8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ29kaWdvSUJHRU11bmljaXBpbyDDqSB1bSBjYW1wbyBkbyB0aXBvIEludC4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogJycNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgZmlsdHJvTXVuaWNpcGlvID0gZ2VyYXJGaWx0cm8oIm11bmljaXBpb19pYmdlIiwgZGF0YS5FbmRlcmVjby5Db2RpZ29JQkdFTXVuaWNpcGlvKTsNCiAgICAgICAgbGV0IG11bmljaXBpb0NvdW50ID0gYXdhaXQgb25lcmd5Q291bnRkb2NzKG11bmljaXBpb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvTXVuaWNpcGlvKTsNCiAgICAgICAgaWYgKG11bmljaXBpb0NvdW50ID09IDApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJjb2RpZ29JQkdFTXVuaWNpcGlvIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogYE7Do28gZm9pIGVuY29udHJhZG8gbXVuaWPDrXBpbyBjb20gY8OzZGlnbyAke2RhdGEuRW5kZXJlY28uY29kaWdvSUJHRU11bmljaXBpb31gDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ0VQID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgICAgICBpZiAoIWRhdGEuRW5kZXJlY28uaGFzT3duUHJvcGVydHkoIkNlcCIpIHx8ICFkYXRhLkVuZGVyZWNvLkNlcCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNlcCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyB2YXppbyBvdSBudWxvLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0eXBlb2YgZGF0YS5FbmRlcmVjby5DZXAgIT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDZXAiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2VwIMOpIHVtIGNhbXBvIGRvIHRpcG8gU3RyaW5nLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAnJw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChkYXRhLkVuZGVyZWNvLkNlcC5sZW5ndGggIT0gOSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNlcCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDYW1wbyBkZXZlIHRlciA5IGTDrWdpdG9zLiAoRm9ybWF0byBYWFhYWC1YWFgpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBjZXBTcGxpdCA9IGRhdGEuRW5kZXJlY28uQ2VwLnNwbGl0KCItIik7DQogICAgICAgIGlmIChjZXBTcGxpdC5sZW5ndGggIT0gMikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNlcCIsDQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6ICJDZXAgSW52w6FsaWRvLiAoRm9ybWF0byBYWFhYWC1YWFgpLiINCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAiaWRQZXNzb2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoY2VwU3BsaXRbMF0ubGVuZ3RoICE9IDUpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiRXJybyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJjYW1wbyI6ICJDZXAiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ2VwIEludsOhbGlkby4gKEZvcm1hdG8gWFhYWFgtWFhYKS4iDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgImlkUGVzc29hIjogIiINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgaWYgKGNlcFNwbGl0WzFdLmxlbmd0aCAhPSAzKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiQ2VwIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNlcCBJbnbDoWxpZG8uIChGb3JtYXRvIFhYWFhYLVhYWCkuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLkVuZGVyZWNvLkNvZGlnb0lCR0VQYWlzICE9ICJudW1iZXIiKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIkVycm8iOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiY2FtcG8iOiAiQ29kaWdvSUJHRVBhaXMiLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiAiQ29kaWdvSUJHRVBhaXMgw6kgdW0gY2FtcG8gZG8gdGlwbyBJbnQuIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICcnDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGRhdGEuRW5kZXJlY28uQ29kaWdvSUJHRVBhaXMgPT0gMTA1OCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogIkNvZGlnb0lCR0VQYWlzIiwNCiAgICAgICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogIkNvZGlnb0lCR0VQYWlzIHPDsyBkZXZlIHNlciB1c2FkbyBwYXJhIGluZm9ybWFyIHBhw61zZXMgZG8gZXh0ZXJpcm8uIg0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZFBlc3NvYSI6ICcnDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQoNCiAgICAgICAgbGV0IGZpbHRyb1BhaXMgPSBnZXJhckZpbHRybygicGFpc19pYmdlIiwgZGF0YS5FbmRlcmVjby5Db2RpZ29JQkdFUGFpcyk7DQogICAgICAgIGxldCBwYWlzQ291bnQgPSBhd2FpdCBvbmVyZ3lDb3VudGRvY3MocGFpc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvUGFpcyk7DQogICAgICAgIGlmIChwYWlzQ291bnQgPT0gMCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1lc3NhZ2UiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJFcnJvIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgImNhbXBvIjogImNvZGlnb0lCR0VNdW5pY2lwaW8iLA0KICAgICAgICAgICAgICAgICAgICAibWVuc2FnZW0iOiBgTsOjbyBmb2kgZW5jb250cmFkbyBwYcOtcyBjb20gY8OzZGlnbyAke2RhdGEuRW5kZXJlY28uQ29kaWdvSUJHRVBhaXN9YA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICJpZEVtcHJlc2EiOiAiIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgcmV0dXJuIHsNCiAgICAgICAgInN0YXR1cyI6ICJPSyIsDQogICAgICAgICJtZXNzYWdlIjogIiIsDQogICAgICAgICJpZFBlc3NvYSI6ICIiDQogICAgfTsNCn0NCg0KY29uc3QgZm9ybWF0YUNQRiA9IChjcGYpID0+IHsNCiAgICBjcGZWYWx1ZSA9IGNwZi5yZXBsYWNlKC9bXlxkXS9nLCAiIik7DQogICAgcmV0dXJuIGNwZlZhbHVlLnJlcGxhY2UoLyhcZHszfSkoXGR7M30pKFxkezN9KShcZHsyfSkvLCAiJDEuJDIuJDMtJDQiKTsNCn0NCg0KY29uc3QgZ2VyYXJGaWx0cm8gPSAoZmllbE5hbWVQLCB2YWx1ZVApID0+IHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6IGZpZWxOYW1lUCwgVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIEZpeGVkVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIFZhbHVlMTogdmFsdWVQIH1dKTsNCg0KfQ0KDQpjb25zdCBnZXRPbmVyZ3lJdGVtID0gYXN5bmMgKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgPT4gew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDUwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQogICAgd2hpbGUgKGtlZXBTZWFyY2hpbmcpIHsNCiAgICAgICAgbGV0IHN0clBhZ2VSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgICAgICBmaWx0ZXI6IGZpbHRybywNCiAgICAgICAgICAgIHNraXA6IHNraXAsDQogICAgICAgICAgICB0YWtlOiB0YWtlDQogICAgICAgIH0pOw0KICAgICAgICBza2lwICs9IHRha2U7DQogICAgICAgIGxldCBwYWdlUmVzcCA9IEpTT04ucGFyc2Uoc3RyUGFnZVJlc3ApOw0KICAgICAgICBpZiAocGFnZVJlc3AgIT0gbnVsbCAmJiBwYWdlUmVzcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gcGFnZVJlc3AubGVuZ3RoID09IHRha2U7DQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhZ2VSZXNwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpjb25zdCBvbmVyZ3lDb3VudGRvY3MgPSBhc3luYyAoZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSA9PiB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9jb3VudGRvY3Moew0KICAgICAgICAiZmR0aWQiOiBmZHRpZCwNCiAgICAgICAgImFzc2lkIjogYXNzaWQsDQogICAgICAgICJ1c3JpZCI6IHVzcmlkLA0KICAgICAgICAiZmlsdGVyIjogZmlsdHJvDQogICAgfSk7DQp9DQoNCmNvbnN0IGdldERlc2NFc3RhZG9DaXZpbCA9ICh2YWx1ZSkgPT4gew0KICAgIHN3aXRjaCAodmFsdWUpIHsNCiAgICAgICAgY2FzZSAiY2FzYWRvIjoNCiAgICAgICAgICAgIHJldHVybiAiQ2FzYWRvIjsNCiAgICAgICAgY2FzZSAic29sdGVpcm8iOg0KICAgICAgICAgICAgcmV0dXJuICJTb2x0ZWlybyI7DQogICAgICAgIGNhc2UgInVuaWFvZXN0YXZlbCI6DQogICAgICAgICAgICByZXR1cm4gIlVuacOjbyBFc3TDoXZlbCINCiAgICAgICAgY2FzZSAiZGl2b3JjaWFkbyI6DQogICAgICAgICAgICByZXR1cm4gIkRpdm9yY2lhZG8iDQogICAgICAgIGNhc2UgInNlcGFyYWRvIjoNCiAgICAgICAgICAgIHJldHVybiAiU2VwYXJhZG8iDQogICAgICAgIGNhc2UgInZpdXZvIjoNCiAgICAgICAgICAgIHJldHVybiAiVmnDunZvIg0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgcmV0dXJuICIiDQogICAgfQ0KfQ0KDQpjb25zdCBnZXREZXNjQ2F0ZWdvcmlhQ05IID0gKHZhbHVlKSA9PiB7DQogICAgc3dpdGNoICh2YWx1ZSkgew0KICAgICAgICBjYXNlICJhIjoNCiAgICAgICAgICAgIHJldHVybiAiQSI7DQogICAgICAgIGNhc2UgImIiOg0KICAgICAgICAgICAgcmV0dXJuICJCIjsNCiAgICAgICAgY2FzZSAiYyI6DQogICAgICAgICAgICByZXR1cm4gIkMiOw0KICAgICAgICBjYXNlICdkJzoNCiAgICAgICAgICAgIHJldHVybiAiRCI7DQogICAgICAgIGNhc2UgJ2EvYic6DQogICAgICAgICAgICByZXR1cm4gIkEvQiI7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICByZXR1cm4gJycNCiAgICB9DQp9DQoNCmNvbnN0IGdldERlc2NUaXBvRW5kZXJlY28gPSAodmFsdWUpID0+IHsNCiAgICBzd2l0Y2ggKHZhbHVlKSB7DQogICAgICAgIGNhc2UgInJlc2lkZW5jaWFsIjoNCiAgICAgICAgICAgIHJldHVybiAiUmVzaWRlbmNpYWwiOw0KICAgICAgICBjYXNlICJjb21lcmNpYWwiOg0KICAgICAgICAgICAgcmV0dXJuICJDb21lcmNpYWwiOw0KICAgICAgICBjYXNlICJlbnRyZWdhIjoNCiAgICAgICAgICAgIHJldHVybiAiRW50cmVnYSI7DQogICAgICAgIGNhc2UgImNvYnJhbmNhIjoNCiAgICAgICAgICAgIHJldHVybiAiQ29icmFuw6dhIjsNCiAgICAgICAgY2FzZSAiYWRtaW5pc3RyYXRpdm8iOg0KICAgICAgICAgICAgcmV0dXJuICJBZG1pbmlzdHJhdGl2byINCiAgICAgICAgY2FzZSAiZmFicmljYSI6DQogICAgICAgICAgICByZXR1cm4gIkbDoWJyaWNhIg0KICAgICAgICBjYXNlICJhcm1hemVtIjoNCiAgICAgICAgICAgIHJldHVybiAiQXJtYXrDqW0iDQogICAgICAgIGNhc2UgIm9wZXJhY2FvIjoNCiAgICAgICAgICAgIHJldHVybiAiT3BlcmHDp8OjbyINCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgIHJldHVybiAiIg0KICAgIH0NCn0NCg0KY29uc3Qgc2VuZEl0ZW1Ub09uZXJneSA9IGFzeW5jICh0ZW1wbGF0ZWlkLCB1c3JpZCwgYXNzaWQsIGRhdGEpID0+IHsNCiAgICBsZXQgb25lcmd5U2F2ZURhdGEgPSB7DQogICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSkNCiAgICB9DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKTsNCn0NCg0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCnZhciBqc29uSW5wdXQgPSB7DQogICAgIlNpdHVhY2FvQ2FkYXN0cmFsIjogIkF0aXZvIiwNCiAgICAiTm9tZSI6ICJ0ZXN0ZSIsDQogICAgIkNQRiI6ICI1NjM1Njk4NTY2NSIsDQogICAgIlJnIjogIiIsDQogICAgIkRhdGFOYXNjaW1lbnRvIjogIjIwMDAtMDEtMDEiLA0KICAgICJTZXhvIjogIm1hc2N1bGlubyIsDQogICAgIkVzdGFkb0NpdmlsIjogImRpdm9yY2lhZG8iLA0KICAgICJOdW1lcm9QSVMiOiA3LA0KICAgICJUZWxlZm9uZUZpeG8iOiAiMTE0MDU5NDIyNSIsDQogICAgIkNlbHVsYXIxIjogIjExMjIyMzMzMTExIiwNCiAgICAiQ2VsdWxhcjIiOiAiMTE5ODc3NzcxNzMiLA0KICAgICJFbWFpbCI6ICJUQUBBLkFTIiwNCiAgICAiQ29tZXJjaWFsIjogInNpbSIsDQogICAgIkxvZ2lzdGljYSI6ICJzaW0iLA0KICAgICJGaW5hbmNlaXJvIjogInNpbSIsDQogICAgIk1vdG9yaXN0YSI6ICJzaW0iLA0KICAgICJDYXRlZ29yaWFDTkgiOiAiYSIsDQogICAgIkNOSCI6IDExMjIzNSwNCiAgICAiVmFsaWRhZGVDTkgiOiAiMjAyMC0xMi0xMSIsDQogICAgIk51bWVyb1JlbmFjaCI6IDMsDQogICAgIkVuZGVyZWNvIjogew0KICAgICAgICAiVGlwb0VuZGVyZWNvIjogImNvbWVyY2lhbCIsDQogICAgICAgICJMb2dyYWRvdXJvIjogIjEiLA0KICAgICAgICAiTnVtZXJvIjogIjEiLA0KICAgICAgICAiQmFpcnJvIjogIjEiLA0KICAgICAgICAiQ29kaWdvSUJHRVBhaXMiOiA2MzksDQogICAgICAgICJDZXAiOiAiMDk4NTEtNjMxIiwNCiAgICAgICAgIkNvbXBsZW1lbnRvIjogIjExIiwNCiAgICAgICAgIkNvZGlnb0lCR0VNdW5pY2lwaW8iOiAiIg0KICAgIH0sDQogICAgIm9uZXJneV9qc19jdHgiOiB7DQogICAgICAgICJhc3NpZCI6ICIxNmMxN2QyOC1kMDQ1LTQ1MDEtODY1ZS0zMDlhM2Y5NWUyODkiLA0KICAgICAgICAiZmVkaWQiOiAiY2FmMmZiYWUtZmEzMy00NmRiLTk4ZTItNTMwNzYxYWZkMWM2IiwNCiAgICAgICAgImZkdGlkIjogImY0MDVhNDY3LThiNmItNDhhZS1iNDUwLTMzNTE3Njc1ZTcyMiIsDQogICAgICAgICJ1c3JpZCI6ICJjNWIzOTkxNi1hMTIyLTRlZWYtOGVhMS1lZmY0MmYyNzkxNzgiLA0KICAgICAgICAiaW5zZXJ0RHQiOiAiMjAyMi0wOS0yMVQxOTozMjoyNi45NzRaIiwNCiAgICAgICAgInVwZGF0ZUR0IjogIjIwMjItMDktMjFUMTk6MzI6MjYuOTc0WiIsDQogICAgICAgICJjdXJfdXNlcmlkIjogImM1YjM5OTE2LWExMjItNGVlZi04ZWExLWVmZjQyZjI3OTE3OCIsDQogICAgICAgICJlbWFpbCI6ICJTSVNAcHJlc3RleGhvbW9sLmNvbS5iciIsDQogICAgICAgICJ1c2VyX25hbWUiOiAiU0lTIFByZXN0ZXgiLA0KICAgICAgICAib25lcmd5X3JvbGlkIjogIiIsDQogICAgICAgICJwcmFpZCI6ICI2N2JmYTRlZC01M2UzLTQwZjgtOTU3OS1kM2VjOTc2NDM0Y2YiLA0KICAgICAgICAicGN2aWQiOiAiN2U5NjQzYmEtYjIzNi00NTNmLTk1MWUtYmIzYThiNTE4ZjA4IiwNCiAgICAgICAgInByY2lkIjogImUwNGE5ZWZiLWY1MzMtZGFmNC03YWVkLTQwZjY1ZjI2OWNmZiIsDQogICAgICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgICAgICJ0aW1lem9uZV92YWx1ZSI6ICItMDM6MDAiLA0KICAgICAgICAicHViTnViSG9vayI6IG51bGwNCiAgICB9DQp9DQoNCi8vIHsNCi8vICAgICAiU2l0dWFjYW9DYWRhc3RyYWwiOiAiQXRpdm8iLA0KLy8gICAgICJOb21lIjogInRlc3RlIiwNCi8vICAgICAiQ1BGIjogIjU2MzU2OTg1NjY1IiwNCi8vICAgICAiUmciOiAiIiwNCi8vICAgICAiRGF0YU5hc2NpbWVudG8iOiAiMjAwMC0wMS0wMSIsDQovLyAgICAgIlNleG8iOiAibWFzY3VsaW5vIiwNCi8vICAgICAiRXN0YWRvQ2l2aWwiOiAiZGl2b3JjaWFkbyIsDQovLyAgICAgIk51bWVyb1BJUyI6IDcsDQovLyAgICAgIlRlbGVmb25lRml4byI6ICIxMTQwNTk0MjI1IiwNCi8vICAgICAiQ2VsdWxhcjEiOiAiMTEyMjIzMzMxMTEiLA0KLy8gICAgICJDZWx1bGFyMiI6ICIxMTk4Nzc3NzE3MyIsDQovLyAgICAgIkVtYWlsIjogIlRBQEEuQVMiLA0KLy8gICAgICJDb21lcmNpYWwiOiAic2ltIiwNCi8vICAgICAiTG9naXN0aWNhIjogInNpbSIsDQovLyAgICAgIkZpbmFuY2Vpcm8iOiAic2ltIiwNCi8vICAgICAiTW90b3Jpc3RhIjogInNpbSIsDQovLyAgICAgIkNhdGVnb3JpYUNOSCI6ICJBIiwNCi8vICAgICAiQ05IIjogMTEyMjM1LA0KLy8gICAgICJWYWxpZGFkZUNOSCI6ICIyMDIwLTEyLTExIiwNCi8vICAgICAiTnVtZXJvUmVuYWNoIjogMywNCi8vICAgICAiRW5kZXJlY28iOiB7DQovLyAgICAgICAgICJMb2dyYWRvdXJvIjogIjEiLA0KLy8gICAgICAgICAiTnVtZXJvIjogIjEiLA0KLy8gICAgICAgICAiQmFpcnJvIjogIjEiLA0KLy8gICAgICAgICAiQ29kaWdvSUJHRVBhaXMiOiAzNTEzODAxDQovLyAgICAgfSwNCi8vICAgICAib25lcmd5X2pzX2N0eCI6IHsNCi8vICAgICAgICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQovLyAgICAgICAgICJmZWRpZCI6ICJjYWYyZmJhZS1mYTMzLTQ2ZGItOThlMi01MzA3NjFhZmQxYzYiLA0KLy8gICAgICAgICAiZmR0aWQiOiAiZjQwNWE0NjctOGI2Yi00OGFlLWI0NTAtMzM1MTc2NzVlNzIyIiwNCi8vICAgICAgICAgInVzcmlkIjogImM1YjM5OTE2LWExMjItNGVlZi04ZWExLWVmZjQyZjI3OTE3OCIsDQovLyAgICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTA5LTIxVDE5OjMyOjI2Ljk3NFoiLA0KLy8gICAgICAgICAidXBkYXRlRHQiOiAiMjAyMi0wOS0yMVQxOTozMjoyNi45NzRaIiwNCi8vICAgICAgICAgImN1cl91c2VyaWQiOiAiYzViMzk5MTYtYTEyMi00ZWVmLThlYTEtZWZmNDJmMjc5MTc4IiwNCi8vICAgICAgICAgImVtYWlsIjogIlNJU0BwcmVzdGV4aG9tb2wuY29tLmJyIiwNCi8vICAgICAgICAgInVzZXJfbmFtZSI6ICJTSVMgUHJlc3RleCIsDQovLyAgICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCi8vICAgICAgICAgInByYWlkIjogIjY3YmZhNGVkLTUzZTMtNDBmOC05NTc5LWQzZWM5NzY0MzRjZiIsDQovLyAgICAgICAgICJwY3ZpZCI6ICI3ZTk2NDNiYS1iMjM2LTQ1M2YtOTUxZS1iYjNhOGI1MThmMDgiLA0KLy8gICAgICAgICAicHJjaWQiOiAiZTA0YTllZmItZjUzMy1kYWY0LTdhZWQtNDBmNjVmMjY5Y2ZmIiwNCi8vICAgICAgICAgInRpbWV6b25lIjogbnVsbCwNCi8vICAgICAgICAgInRpbWV6b25lX3ZhbHVlIjogIi0wMzowMCIsDQovLyAgICAgICAgICJwdWJOdWJIb29rIjogbnVsbA0KLy8gICAgIH0NCi8vIH0NCmluaXQoSlNPTi5zdHJpbmdpZnkoanNvbklucHV0KSk7" }, { "name": "(Carga) Tabela Preco.js", "isDirectory": false, "__KEY__": "ce5994bc-cece-cdc4-bfb7-08e882c64804", "size": 35752, "dateModified": "2022-07-05T17:48:24.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQoNCiAgICBHZXROZXdHdWlkKCkgew0KICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgew0KICAgICAgICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLA0KICAgICAgICAgICAgICAgIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7DQogICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7DQogICAgICAgIH0pOw0KICAgIH0NCn0NCmxldCB1dGlscyA9IG5ldyBVdGlscygpOw0KDQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCnZhciB0YWJlbGFQcmVjb0lEID0gIjNjZWI5M2IyLTI0NDItNGZjNy1iODZmLWJhZDU1MTA5ZTE5ZiI7DQp2YXIgaXRlbnNJRCA9ICI0NTcwOWEwMi0wMzg0LTRhM2QtYmNjMC02Mjg1YjAwYmIyNDciOw0KdmFyIHNlcnZpY29JRCA9ICI0NDg3ZjdhOS0zMDg1LTRhZWItYjRjYy0xY2VmZGRkNWZjYTEiOw0KdmFyIHBhaXNJRCA9ICJhOWQ4Y2E2My0zY2ZkLTQ0NDUtOTFjYi0xNDkwODc0OWQ4YTIiOw0KdmFyIGVzdGFkb0lEID0gImYxY2NmMWY4LWJiYTQtNGZmMy1hNWUyLTU4ZWYyYWE0MjU3YSI7DQp2YXIgbXVuaWNpcGlvSUQgPSAiMWNhYTc0ZTctN2I0ZC00NjdiLWI3ZDctNzM1NGU2OTUxNTQ5IjsNCnZhciBsb2NhbGlkYWRlSUQgPSAiMTllMGE4M2YtNDMxYy00NWNkLWFkZGUtODY4ZWZjMmFkZDNlIjsNCnZhciBlbXByZXNhSUQgPSAiYWY2NmZiMmQtOTYwZS00ZTFiLTlhNjYtNDQ0Y2RhZDY0ZjYzIjsNCnZhciB0aXBvUHJlY29JRCA9ICI3N2E3ZDM1Yy02ODFiLTQ3N2UtYWJlMi02NzNlODBkYTlhMDgiOw0KdmFyIHRheGFzSUQgPSAiMzViYzgzYzgtNWJkNS00ZTljLWE4NDYtZTEzMGFmYTMxNTE2IjsNCnZhciBWYWxvcmVzSUQgPSAiMjI1NTViMTgtMDI4Zi00NDZiLTgzYzktYzA5YjAyZDE2MzAzIjsNCnZhciB0YXhhc1RhYklEID0gImUyYmRjZmU1LTE1ODctNGVmNC1iNzZiLWI3YjBlZjNiMDRkMiI7DQoNCg0KdmFyIFNlcnZpY29zOw0KdmFyIFBhaXNlczsNCnZhciBFc3RhZG9zOw0KdmFyIE11bmljaXBpb3M7DQp2YXIgTG9jYWxpZGFkZXM7DQp2YXIgVGlwb1ByZWNvOw0KdmFyIFRheGFzVmFsdWVzOw0KDQphc3luYyBmdW5jdGlvbiBpbml0KGpzb24pIHsNCiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQoNCg0KICAgIGxldCBkdEl0ZW0gPSBuZXcgRGF0ZShkYXRlVG9TdHJpbmcodXRpbHMuR2V0VXNlckR0Tm93KCJNTS1kZC15eXl5IEhIOm1tOnNzIikpKTsNCiAgICBsZXQgdmFyX2luaV9wcm9zcGVjID0gbmV3IERhdGUoZGF0ZVRvU3RyaW5nKCIyMDIyLTA3LTMxIDAwOjAwOjAwIikpOw0KICAgIHZhcl9pbmlfcHJvc3BlYy5zZXREYXRlKHZhcl9pbmlfcHJvc3BlYy5nZXREYXRlKCkgKyAxMCk7DQoNCiAgICBpZiAoZHRJdGVtLmdldFRpbWUoKSA+IHZhcl9pbmlfcHJvc3BlYy5nZXRUaW1lKCkpIHsNCiAgICAgICAgZW52aWFyRW1haWwwMShkYXRhLCBvYmpJbmlQcm9zcGVjQVtzXS5VcmxKc29uQ29udGV4dCk7DQogICAgfQ0KICAgIGRlYnVnZ2VyOw0KDQoNCg0KICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgZmR0aWQ6IGRhdGEub25lcmd5X2pzX2N0eC5mZHRpZCwNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5jdXJfdXNlcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICBVcmxKc29uQ29udGV4dDogew0KICAgICAgICAgICAgICAgIHN0YXR1czogIkVtIEV4ZWN1w6fDo28iLA0KICAgICAgICAgICAgICAgIHN0YXR1c19kZXNjOiAiRW0gRXhlY3XDp8OjbyINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSksDQogICAgICAgIGlkOiBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQsDQogICAgICAgIGlzTXVsdGlVcGRhdGU6IGZhbHNlDQogICAgfSk7DQoNCiAgICBsZXQgc3RyQXJyRXhjZWwgPSBhd2FpdCBSZWFkRXhjZWxUb0pzb24oew0KICAgICAgICB1cmw6IGRhdGEuYXJxdWl2b19leGNlbFswXS5VcmxBenVyZQ0KICAgIH0pOw0KICAgIGRhdGFFeGNlbCA9IEpTT04ucGFyc2Uoc3RyQXJyRXhjZWwpOw0KDQogICAgU2Vydmljb3MgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHNlcnZpY29JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIG51bGwpOw0KICAgIFBhaXNlcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0ocGFpc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgbnVsbCk7DQogICAgRXN0YWRvcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZXN0YWRvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBudWxsKTsNCiAgICBNdW5pY2lwaW9zID0gYXdhaXQgZ2V0T25lcmd5SXRlbShtdW5pY2lwaW9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIG51bGwpOw0KICAgIExvY2FsaWRhZGVzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShsb2NhbGlkYWRlSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBudWxsKTsNCiAgICBUaXBvUHJlY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRpcG9QcmVjb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgbnVsbCk7DQogICAgVGF4YXNWYWx1ZXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRheGFzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBudWxsKTsNCg0KICAgIGxldCBUYWJlbGFzID0gW107DQogICAgbGV0IEl0ZW5zID0gW107DQogICAgbGV0IFZhbG9yZXMgPSBbXTsNCiAgICBsZXQgVGF4YXMgPSBbXTsNCiAgICBsZXQgTE9HID0gW107DQoNCiAgICBmb3IgKGxldCBUQUJFTEEgb2YgZGF0YUV4Y2VsLlRhYmVsYSkgew0KICAgICAgICBsZXQgVGFiZWxhUG9zdCA9IHsNCiAgICAgICAgICAgICJDYXJnYSI6ICJ2MSIsDQogICAgICAgICAgICAiZmVkaWQiOiB1dGlscy5HZXROZXdHdWlkKCksDQogICAgICAgICAgICAiY29kaWdvX3RwciI6IFRBQkVMQS5Db2RpZ28sDQogICAgICAgICAgICAiZGVzY3JpY2FvX3RwciI6IFRBQkVMQS5EZXNjcmljYW8sDQogICAgICAgICAgICAiaW5pY2lvX2RhX3ZpZ2VuY2lhX3RwciI6IGRhdGVUb1N0cmluZyhUQUJFTEEuSW5pY2lvX2RhX1ZpZ2VuY2lhKSwNCiAgICAgICAgICAgICJpbmljaW9fZGFfdmlnZW5jaWFfdHByRGF0ZSI6IGRhdGVUb1N0cmluZyhUQUJFTEEuSW5pY2lvX2RhX1ZpZ2VuY2lhKSwNCiAgICAgICAgICAgICJ0ZXJtaW5vX2RhX3ZpZ2VuY2lhX3RwciI6IGRhdGVUb1N0cmluZyhUQUJFTEEuVGVybWlub19kYV9WaWdlbmNpYSksDQogICAgICAgICAgICAidGVybWlub19kYV92aWdlbmNpYV90cHJEYXRlIjogZGF0ZVRvU3RyaW5nKFRBQkVMQS5UZXJtaW5vX2RhX1ZpZ2VuY2lhKQ0KICAgICAgICB9DQogICAgICAgIFRhYmVsYXMucHVzaChUYWJlbGFQb3N0KTsNCg0KDQogICAgICAgIGxldCBpdGVuc1RhYmVsYSA9IGRhdGFFeGNlbC5JdGVucy5maWx0ZXIoSVRFTSA9PiB7DQogICAgICAgICAgICBpZiAoSVRFTS5JRF9QQUkgPT0gVEFCRUxBLklEKSB7IHJldHVybiB0cnVlIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgZm9yIChsZXQgSVRFTSBvZiBpdGVuc1RhYmVsYSkgew0KICAgICAgICAgICAgbGV0IGxvZ0l0ZW0gPSBbXTsNCiAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IE9SSUdFTSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KICAgICAgICAgICAgbGV0IHJlbWV0ZW50ZTsNCiAgICAgICAgICAgIGlmIChJVEVNLmhhc093blByb3BlcnR5KCJDTlBKX1JlbWV0ZW50ZSIpICYmIElURU0uQ05QSl9SZW1ldGVudGUudHJpbSgpKSB7DQogICAgICAgICAgICAgICAgbGV0IGZpbHRyb1JlbWV0ZW50ZSA9IGdlcmFyRmlsdHJvKCJjbnBqX2VtcHJlc2EiLCBJVEVNLkNOUEpfUmVtZXRlbnRlLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgcmVtZXRlbnRlID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlbXByZXNhSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9SZW1ldGVudGUpOw0KICAgICAgICAgICAgICAgIGlmIChyZW1ldGVudGUubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIENOUEogZG8gUmVtZXRlbnRlIHBhc3NhZG8sIG1hcyBuw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyLlxuICAgIENOUEo6JHtJVEVNLkNOUEpfUmVtZXRlbnRlLnRyaW0oKX1gKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxldCBwYWlzT3JpZ2VtID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiUGFpcyIpICYmIElURU0uUGFpcy50cmltKCkgPyBJVEVNLlBhaXMgOiAiIjsNCiAgICAgICAgICAgIGxldCBlc3RhZG9PcmlnZW0gPSBJVEVNLmhhc093blByb3BlcnR5KCJFc3RhZG8iKSAmJiBJVEVNLkVzdGFkby50cmltKCkgPyByZXRpcmFBY2VudG9zKElURU0uRXN0YWRvKS50b1VwcGVyQ2FzZSgpIDogIiI7DQogICAgICAgICAgICBsZXQgbXVuaWNpcGlvT3JpZ2VtID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiQ2lkYWRlIikgJiYgSVRFTS5DaWRhZGUudHJpbSgpID8gcmV0aXJhQWNlbnRvcyhJVEVNLkNpZGFkZSkudG9VcHBlckNhc2UoKSA6ICIiOw0KICAgICAgICAgICAgbGV0IG9ialBhaXNPcmlnZW07DQogICAgICAgICAgICBsZXQgb2JqRXN0YWRvT3JpZ2VtOw0KICAgICAgICAgICAgbGV0IG9iak11bmljaXBpb09yaWdlbTsNCiAgICAgICAgICAgIGlmIChwYWlzT3JpZ2VtKSB7DQogICAgICAgICAgICAgICAgb2JqUGFpc09yaWdlbSA9IFBhaXNlcy5maW5kKFBBSVMgPT4gUEFJUy5VcmxKc29uQ29udGV4dC5wYWlzX25vbWUgPT0gcGFpc09yaWdlbSk7DQogICAgICAgICAgICAgICAgaWYgKG9ialBhaXNPcmlnZW0pIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVzdGFkb09yaWdlbSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqRXN0YWRvT3JpZ2VtID0gRXN0YWRvcy5maW5kKEVTVEFETyA9PiBFU1RBRE8uVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRiA9PSBvYmpQYWlzT3JpZ2VtLklEICYmIEVTVEFETy5VcmxKc29uQ29udGV4dC5lc3RhZG9fdWYgPT0gZXN0YWRvT3JpZ2VtKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpFc3RhZG9PcmlnZW0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXVuaWNpcGlvT3JpZ2VtKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iak11bmljaXBpb09yaWdlbSA9IE11bmljaXBpb3MuZmluZChNVU5JQ0lQSU8gPT4gTVVOSUNJUElPLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYgPT0gb2JqRXN0YWRvT3JpZ2VtLklEICYmIE1VTklDSVBJTy5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZSA9PSBtdW5pY2lwaW9PcmlnZW0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9iak11bmljaXBpb09yaWdlbSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIE11bmljw61waW8gZGUgb3JpZ2VtIGZvaSBwYXNzYWRvLCBtYXMgbsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhci5cbiAgICBNdW5pY8OtcGlvOiR7SVRFTS5DaWRhZGUudHJpbSgpfSBuYSBVRjoke211bmljaXBpb09yaWdlbX1gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIFVGIGRlIG9yaWdlbSBmb2kgcGFzc2FkbywgbWFzIG7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIuXG4gICAgVUY6JHtlc3RhZG9PcmlnZW19YCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBsb2dJdGVtLnB1c2goYFxuSXRlbSAke0lURU0uSXRlbX06XG4gICAgUGHDrXMgZGUgb3JpZ2VtIGZvaSBwYXNzYWRvLCBtYXMgbsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhci5cbiAgICBQYcOtczoke3BhaXNPcmlnZW19YCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsZXQgbG9jYWxpZGFkZU9yaWdlbSA9IElURU0uaGFzT3duUHJvcGVydHkoIkxvY2FsaWRhZGVzIikgJiYgK0lURU0uTG9jYWxpZGFkZXMgPyArSVRFTS5Mb2NhbGlkYWRlcyA6IDA7DQogICAgICAgICAgICBsZXQgb2JqTG9jYWxpZGFkZU9yaWdlbTsNCiAgICAgICAgICAgIGlmIChsb2NhbGlkYWRlT3JpZ2VtKSB7DQogICAgICAgICAgICAgICAgb2JqTG9jYWxpZGFkZU9yaWdlbSA9IExvY2FsaWRhZGVzLmZpbmQoTE9DQUxJREFERSA9PiArbG9jYWxpZGFkZU9yaWdlbSA9PSBMT0NBTElEQURFLlVybEpzb25Db250ZXh0LmNvZGlnbyk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxldCBSZWdpYW9NZXRyb3BvbGl0YWRhT3JpZ2VtVGFiID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiUmVnaWFvX01ldHJvcG9saXRhbmEiKSAmJiBJVEVNLlJlZ2lhb19NZXRyb3BvbGl0YW5hLnRyaW0oKSA/IHJldGlyYUFjZW50b3MoSVRFTS5SZWdpYW9fTWV0cm9wb2xpdGFuYS50cmltKCkpLnRvVXBwZXJDYXNlKCkgOiAiIjsNCiAgICAgICAgICAgIGxldCBSZWdpYW9NZXRyb3BvbGl0YW5hT3JpZ2VtID0gIjMiOw0KICAgICAgICAgICAgbGV0IFJlZ2lhb01ldHJvcG9saXRhbmFPcmlnZW1fZGVzYyA9ICJOw6NvIFNlbGVjaW9uYWRvIjsNCiAgICAgICAgICAgIGlmIChSZWdpYW9NZXRyb3BvbGl0YWRhT3JpZ2VtVGFiKSB7DQogICAgICAgICAgICAgICAgaWYgKFJlZ2lhb01ldHJvcG9saXRhZGFPcmlnZW1UYWIgPT0gIlNJTSIpIHsNCiAgICAgICAgICAgICAgICAgICAgUmVnaWFvTWV0cm9wb2xpdGFuYU9yaWdlbSA9ICIxIjsNCiAgICAgICAgICAgICAgICAgICAgUmVnaWFvTWV0cm9wb2xpdGFuYU9yaWdlbV9kZXNjID0gIlNpbSI7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChSZWdpYW9NZXRyb3BvbGl0YWRhT3JpZ2VtVGFiID09ICJOQU8iKSB7DQogICAgICAgICAgICAgICAgICAgIFJlZ2lhb01ldHJvcG9saXRhbmFPcmlnZW0gPSAiMCI7DQogICAgICAgICAgICAgICAgICAgIFJlZ2lhb01ldHJvcG9saXRhbmFPcmlnZW1fZGVzYyA9ICJOw6NvIjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxldCBDYXBpdGFsT3JpZ2VtVGFiID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiQ2FwaXRhbCIpICYmIElURU0uQ2FwaXRhbC50cmltKCkgPyByZXRpcmFBY2VudG9zKElURU0uQ2FwaXRhbC50cmltKCkpLnRvVXBwZXJDYXNlKCkgOiAiIjsNCiAgICAgICAgICAgIGxldCBDYXBpdGFsT3JpZ2VtID0gIjMiOw0KICAgICAgICAgICAgbGV0IENhcGl0YWxPcmlnZW1fZGVzYyA9ICJOw6NvIFNlbGVjaW9uYWRvIjsNCiAgICAgICAgICAgIGlmIChDYXBpdGFsT3JpZ2VtVGFiKSB7DQogICAgICAgICAgICAgICAgaWYgKENhcGl0YWxPcmlnZW1UYWIgPT0gIlNJTSIpIHsNCiAgICAgICAgICAgICAgICAgICAgQ2FwaXRhbE9yaWdlbSA9ICIwIjsNCiAgICAgICAgICAgICAgICAgICAgQ2FwaXRhbE9yaWdlbV9kZXNjID0gIk7Do28iOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQ2FwaXRhbE9yaWdlbVRhYiA9PSAiTkFPIikgew0KICAgICAgICAgICAgICAgICAgICBDYXBpdGFsT3JpZ2VtID0gIjEiOw0KICAgICAgICAgICAgICAgICAgICBDYXBpdGFsT3JpZ2VtX2Rlc2MgPSAiU2ltIjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgICAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBERVNUSU5PID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQoNCiAgICAgICAgICAgIGxldCBkZXN0aW5hdGFyaW87DQogICAgICAgICAgICBpZiAoSVRFTS5oYXNPd25Qcm9wZXJ0eSgiQ05QSl9EZXN0aW5hdGFyaW9fMSIpICYmIElURU0uQ05QSl9EZXN0aW5hdGFyaW9fMS50cmltKCkpIHsNCiAgICAgICAgICAgICAgICBsZXQgZmlsdHJvRGVzdGluYXRhcmlvID0gZ2VyYXJGaWx0cm8oImNucGpfZW1wcmVzYSIsIElURU0uQ05QSl9EZXN0aW5hdGFyaW9fMS50cmltKCkpOw0KICAgICAgICAgICAgICAgIGRlc3RpbmF0YXJpbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRGVzdGluYXRhcmlvKTsNCiAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRhcmlvLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIGxvZ0l0ZW0ucHVzaChgXG5JdGVtICR7SVRFTS5JdGVtfTpcbiAgICBDTlBKIGRvIFJlbWV0ZW50ZSBEZXN0aW5hdMOhcmlvLCBtYXMgbsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhci5cbiAgICBDTlBKOiR7SVRFTS5DTlBKX0Rlc3RpbmF0YXJpb18xLnRyaW0oKX1gKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxldCBwYWlzRGVzdGlubyA9IElURU0uaGFzT3duUHJvcGVydHkoIlBhaXNfMSIpICYmIElURU0uUGFpc18xLnRyaW0oKSA/IElURU0uUGFpc18xIDogIiI7DQogICAgICAgICAgICBsZXQgZXN0YWRvRGVzdGlubyA9IElURU0uaGFzT3duUHJvcGVydHkoIkVzdGFkb18xIikgJiYgSVRFTS5Fc3RhZG9fMS50cmltKCkgPyByZXRpcmFBY2VudG9zKElURU0uRXN0YWRvXzEpLnRvVXBwZXJDYXNlKCkgOiAiIjsNCiAgICAgICAgICAgIGxldCBtdW5pY2lwaW9EZXN0aW5vID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiQ2lkYWRlXzEiKSAmJiBJVEVNLkNpZGFkZV8xLnRyaW0oKSA/IHJldGlyYUFjZW50b3MoSVRFTS5DaWRhZGVfMSkudG9VcHBlckNhc2UoKSA6ICIiOw0KICAgICAgICAgICAgbGV0IG9ialBhaXNEZXN0aW5vOw0KICAgICAgICAgICAgbGV0IG9iakVzdGFkb0Rlc3Rpbm87DQogICAgICAgICAgICBsZXQgb2JqTXVuaWNpcGlvRGVzdGlubzsNCiAgICAgICAgICAgIGlmIChwYWlzRGVzdGlubykgew0KICAgICAgICAgICAgICAgIG9ialBhaXNEZXN0aW5vID0gUGFpc2VzLmZpbmQoUEFJUyA9PiBQQUlTLlVybEpzb25Db250ZXh0LnBhaXNfbm9tZSA9PSBwYWlzRGVzdGlubyk7DQogICAgICAgICAgICAgICAgaWYgKG9ialBhaXNEZXN0aW5vKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChlc3RhZG9EZXN0aW5vKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpFc3RhZG9EZXN0aW5vID0gRXN0YWRvcy5maW5kKEVTVEFETyA9PiBFU1RBRE8uVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRiA9PSBvYmpQYWlzRGVzdGluby5JRCAmJiBFU1RBRE8uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmID09IGVzdGFkb0Rlc3Rpbm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iakVzdGFkb0Rlc3Rpbm8pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXVuaWNpcGlvRGVzdGlubykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpNdW5pY2lwaW9EZXN0aW5vID0gTXVuaWNpcGlvcy5maW5kKE1VTklDSVBJTyA9PiBNVU5JQ0lQSU8uVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRiA9PSBvYmpFc3RhZG9EZXN0aW5vLklEICYmIE1VTklDSVBJTy5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZSA9PSBtdW5pY2lwaW9EZXN0aW5vKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmpNdW5pY2lwaW9EZXN0aW5vKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dJdGVtLnB1c2goYFxuSXRlbSAke0lURU0uSXRlbX06XG4gICAgTXVuaWPDrXBpbyBkZSBkZXN0aW5vIGZvaSBwYXNzYWRvLCBtYXMgbsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhci5cbiAgICBNdW5pY8OtcGlvOiR7bXVuaWNpcGlvRGVzdGlub30gbmEgVUY6JHtlc3RhZG9EZXN0aW5vfWApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dJdGVtLnB1c2goYFxuSXRlbSAke0lURU0uSXRlbX06XG4gICAgVUYgZGUgZGVzdGlubyBmb2kgcGFzc2FkbywgbWFzIG7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIuXG4gICAgVUY6JHtlc3RhZG9EZXN0aW5vfWApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIFBhw61zIGRlIGRlc3Rpbm8gZm9pIHBhc3NhZG8sIG1hcyBuw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyLlxuICAgIFBhw61zOiR7cGFpc0Rlc3Rpbm99YCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsZXQgbG9jYWxpZGFkZURlc3Rpbm8gPSBJVEVNLmhhc093blByb3BlcnR5KCJMb2NhbGlkYWRlc18xIikgJiYgK0lURU0uTG9jYWxpZGFkZXNfMSA/ICtJVEVNLkxvY2FsaWRhZGVzXzEgOiAwOw0KICAgICAgICAgICAgbGV0IG9iakxvY2FsaWRhZGVEZXN0aW5vOw0KICAgICAgICAgICAgaWYgKGxvY2FsaWRhZGVEZXN0aW5vKSB7DQogICAgICAgICAgICAgICAgb2JqTG9jYWxpZGFkZURlc3Rpbm8gPSBMb2NhbGlkYWRlcy5maW5kKExPQ0FMSURBREUgPT4gK2xvY2FsaWRhZGVEZXN0aW5vID09IExPQ0FMSURBREUuVXJsSnNvbkNvbnRleHQuY29kaWdvKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbGV0IFJlZ2lhb01ldHJvcG9saXRhZGFEZXN0aW5vVGFiID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiUmVnaWFvX01ldHJvcG9saXRhbmFfMSIpICYmIElURU0uUmVnaWFvX01ldHJvcG9saXRhbmFfMS50cmltKCkgPyByZXRpcmFBY2VudG9zKElURU0uUmVnaWFvX01ldHJvcG9saXRhbmFfMS50cmltKCkpLnRvVXBwZXJDYXNlKCkgOiAiIjsNCiAgICAgICAgICAgIGxldCBSZWdpYW9NZXRyb3BvbGl0YW5hRGVzdGlubyA9ICIzIjsNCiAgICAgICAgICAgIGxldCBSZWdpYW9NZXRyb3BvbGl0YW5hRGVzdGlub19kZXNjID0gIk7Do28gU2VsZWNpb25hZG8iOw0KICAgICAgICAgICAgaWYgKFJlZ2lhb01ldHJvcG9saXRhZGFEZXN0aW5vVGFiKSB7DQogICAgICAgICAgICAgICAgaWYgKFJlZ2lhb01ldHJvcG9saXRhZGFEZXN0aW5vVGFiID09ICJTSU0iKSB7DQogICAgICAgICAgICAgICAgICAgIFJlZ2lhb01ldHJvcG9saXRhbmFEZXN0aW5vID0gIjEiOw0KICAgICAgICAgICAgICAgICAgICBSZWdpYW9NZXRyb3BvbGl0YW5hRGVzdGlub19kZXNjID0gIlNpbSINCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFJlZ2lhb01ldHJvcG9saXRhZGFEZXN0aW5vVGFiID09ICJOQU8iKSB7DQogICAgICAgICAgICAgICAgICAgIFJlZ2lhb01ldHJvcG9saXRhbmFEZXN0aW5vID0gIjAiOw0KICAgICAgICAgICAgICAgICAgICBSZWdpYW9NZXRyb3BvbGl0YW5hRGVzdGlub19kZXNjID0gIk7Do28iOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbGV0IENhcGl0YWxEZXN0aW5vVGFiID0gSVRFTS5oYXNPd25Qcm9wZXJ0eSgiQ2FwaXRhbF8xIikgJiYgSVRFTS5DYXBpdGFsXzEudHJpbSgpID8gcmV0aXJhQWNlbnRvcyhJVEVNLkNhcGl0YWxfMS50cmltKCkpLnRvVXBwZXJDYXNlKCkgOiAiIjsNCiAgICAgICAgICAgIGxldCBDYXBpdGFsRGVzdGlubyA9ICIzIjsNCiAgICAgICAgICAgIGxldCBDYXBpdGFsRGVzdGlub19kZXNjID0gIk7Do28gU2VsZWNpb25hZG8iOw0KICAgICAgICAgICAgaWYgKENhcGl0YWxEZXN0aW5vVGFiKSB7DQogICAgICAgICAgICAgICAgaWYgKENhcGl0YWxEZXN0aW5vVGFiID09ICJTSU0iKSB7DQogICAgICAgICAgICAgICAgICAgIENhcGl0YWxEZXN0aW5vID0gIjAiOw0KICAgICAgICAgICAgICAgICAgICBDYXBpdGFsRGVzdGlub19kZXNjID0gIk7Do28iOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQ2FwaXRhbERlc3Rpbm9UYWIgPT0gIk5BTyIpIHsNCiAgICAgICAgICAgICAgICAgICAgQ2FwaXRhbERlc3Rpbm8gPSAiMSI7DQogICAgICAgICAgICAgICAgICAgIENhcGl0YWxEZXN0aW5vX2Rlc2MgPSAiU2ltIjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgICAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNlcnZpY28gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vDQogICAgICAgICAgICBsZXQgc2VydmljbyA9IElURU0uaGFzT3duUHJvcGVydHkoIlNlcnZpY28iKSAmJiBJVEVNLlNlcnZpY28udHJpbSgpID8gSVRFTS5TZXJ2aWNvIDogIiI7DQogICAgICAgICAgICBsZXQgb2JqU2VydmljbzsNCiAgICAgICAgICAgIGlmIChzZXJ2aWNvKSB7DQogICAgICAgICAgICAgICAgb2JqU2VydmljbyA9IFNlcnZpY29zLmZpbmQoU0VSVklDTyA9PiBTRVJWSUNPLlVybEpzb25Db250ZXh0LnRpcG9fZGVfc2VydmljbyA9PSBzZXJ2aWNvKTsNCiAgICAgICAgICAgICAgICBpZiAoIW9ialNlcnZpY28pIHsNCiAgICAgICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIFNlcnZpw6dvIGZvaSBwYXNzYWRvLCBtYXMgbsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhci5cbiAgICBTZXJ2acOnbzoke0lURU0uU2Vydmljby50cmltKCl9YCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBsb2dJdGVtLnB1c2goYFxuSXRlbSAke0lURU0uSXRlbX06XG4gICAgU2VydmnDp28gbsOjbyBmb2kgcGFzc2Fkby5gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IE1vZGFsID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCiAgICAgICAgICAgIGxldCBtb2RhbCA9IElURU0uaGFzT3duUHJvcGVydHkoIk1vZGFsIikgJiYgSVRFTS5Nb2RhbC50cmltKCkgPyBJVEVNLk1vZGFsLnRyaW0oKS50b1VwcGVyQ2FzZSgpIDogIiI7DQogICAgICAgICAgICBsZXQgb2JqTW9kYWw7DQogICAgICAgICAgICBsZXQgb2JqTW9kYWxfRGVzYzsNCiAgICAgICAgICAgIGlmIChtb2RhbCkgew0KICAgICAgICAgICAgICAgIHN3aXRjaCAobW9kYWwpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiTVVMVElNT0RBTCI6DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpNb2RhbCA9ICJtdWx0aW1vZGFsIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iak1vZGFsX0Rlc2MgPSAiTXVsdGltb2RhbCI7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiQUVSRU8iOg0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqTW9kYWwgPSAiYWVyZW8iOw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqTW9kYWxfRGVzYyA9ICJBw6lyZW8iOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgIlJPRE9WSUFSSU8iOg0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqTW9kYWwgPSAicm9kb3ZpYXJpbyI7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpNb2RhbF9EZXNjID0gIlJvZG92acOhcmlvIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICJGRVJST1ZJQVJJTyI6DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpNb2RhbCA9ICJmZXJyb3ZpYXJpbyI7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpNb2RhbF9EZXNjID0gIkZlcnJvdmnDoXJpbyI7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiQVFVQVZJQVJJTyI6DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpNb2RhbCA9ICJhcXVhdmlhcmlvIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iak1vZGFsX0Rlc2MgPSAiQXF1YXZpw6FyaW8iOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgIkRVVE9WSUFSSU8iOg0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqTW9kYWwgPSAiZHV0b3ZpYXJpbyI7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpNb2RhbF9EZXNjID0gIkR1dG92acOhcmlvIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIE1vZGFsIGZvaSBwYXNzYWRvLCBtYXMgbsOjbyBmb2kgZW5jb250cmFkbyAgIE1vZGFsOiR7bW9kYWx9LmApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbG9nSXRlbS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIE1vZGFsIG7Do28gZm9pIHBhc3NhZG8uYCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgICAgICAgICAgaWYgKGxvZ0l0ZW0ubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICBsZXQgSXRlbVBvc3QgPSB7DQogICAgICAgICAgICAgICAgICAgICJDYXJnYSI6ICJ2MSIsDQogICAgICAgICAgICAgICAgICAgICJmZWRpZCI6IHV0aWxzLkdldE5ld0d1aWQoKSwNCiAgICAgICAgICAgICAgICAgICAgIklEX09ORV9SRUYiOiBUYWJlbGFQb3N0LmZlZGlkLA0KICAgICAgICAgICAgICAgICAgICAiaXRlbV90cHJsaW4iOiBJVEVNLkl0ZW0sDQogICAgICAgICAgICAgICAgICAgICJkZXNjcmljYW8iOiBJVEVNLkRlc2NyaWNhbywNCiAgICAgICAgICAgICAgICAgICAgIlNFUnNlcnZpY29fdHBybGluX2lkIjogb2JqU2Vydmljby5JRCwNCiAgICAgICAgICAgICAgICAgICAgIlNFUmRlc2NyaWNhb19zZXJfX3NlcnZpY29fdHBybGluIjogb2JqU2Vydmljby5VcmxKc29uQ29udGV4dC5kZXNjcmljYW9fc2VyLA0KICAgICAgICAgICAgICAgICAgICAibW9kYWxfdHBybGluIjogb2JqTW9kYWwsDQogICAgICAgICAgICAgICAgICAgICJtb2RhbF90cHJsaW5fZGVzYyI6IG9iak1vZGFsX0Rlc2MsDQogICAgICAgICAgICAgICAgICAgICJ0YXhhX2VzcGVjaWFsIjogSVRFTS5oYXNPd25Qcm9wZXJ0eSgiVGF4YV9Fc3BlY2lhbCIpICYmIElURU0uVGF4YV9Fc3BlY2lhbC50cmltKCkgJiYgcmV0aXJhQWNlbnRvcyhJVEVNLlRheGFfRXNwZWNpYWwudHJpbSgpLnRvVXBwZXJDYXNlKCkpID09ICJTSU0iID8gIjEiIDogIjAiLA0KICAgICAgICAgICAgICAgICAgICAidGF4YV9lc3BlY2lhbF9kZXNjIjogSVRFTS5oYXNPd25Qcm9wZXJ0eSgiVGF4YV9Fc3BlY2lhbCIpICYmIElURU0uVGF4YV9Fc3BlY2lhbC50cmltKCkgJiYgcmV0aXJhQWNlbnRvcyhJVEVNLlRheGFfRXNwZWNpYWwudHJpbSgpLnRvVXBwZXJDYXNlKCkpID09ICJTSU0iID8gIlNpbSIgOiAiTsOjbyIsDQogICAgICAgICAgICAgICAgICAgICJpY21zX2luY2x1c29fdHByIjogSVRFTS5oYXNPd25Qcm9wZXJ0eSgiSUNNU19JbmNsdXNvIikgJiYgSVRFTS5JQ01TX0luY2x1c28udHJpbSgpICYmIHJldGlyYUFjZW50b3MoSVRFTS5JQ01TX0luY2x1c28udHJpbSgpLnRvVXBwZXJDYXNlKCkpID09ICJOQU8iID8gIm5hbyIgOiAic2ltIiwNCiAgICAgICAgICAgICAgICAgICAgImljbXNfaW5jbHVzb190cHJfZGVzYyI6IElURU0uaGFzT3duUHJvcGVydHkoIklDTVNfSW5jbHVzbyIpICYmIElURU0uSUNNU19JbmNsdXNvLnRyaW0oKSAmJiByZXRpcmFBY2VudG9zKElURU0uSUNNU19JbmNsdXNvLnRyaW0oKS50b1VwcGVyQ2FzZSgpKSA9PSAiTkFPIiA/ICJOw6NvIiA6ICJTaW0iLA0KICAgICAgICAgICAgICAgICAgICAiYWRfdmFsb3JlbV90cHIiOiBJVEVNLmhhc093blByb3BlcnR5KCJBRF9WYWxvcmVtIikgJiYgSVRFTS5BRF9WYWxvcmVtICYmICtJVEVNLkFEX1ZhbG9yZW0gPyArSVRFTS5BRF9WYWxvcmVtIDogMCwNCiAgICAgICAgICAgICAgICAgICAgInZhbG9yX3JlZW50cmVnYV90cHJsaW4iOiBJVEVNLmhhc093blByb3BlcnR5KCJWYWxvcl9SZWVudHJlZ2EiKSAmJiBJVEVNLlZhbG9yX1JlZW50cmVnYSAmJiArSVRFTS5WYWxvcl9SZWVudHJlZ2EgPyArSVRFTS5WYWxvcl9SZWVudHJlZ2EgOiAwLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3JfcmVlbnRyZWdhXyI6IElURU0uaGFzT3duUHJvcGVydHkoIlZhbG9yX1JlZW50cmVnYV9QZXJjIikgJiYgSVRFTS5WYWxvcl9SZWVudHJlZ2FfUGVyYyAmJiArSVRFTS5WYWxvcl9SZWVudHJlZ2FfUGVyYyA/ICtJVEVNLlZhbG9yX1JlZW50cmVnYV9QZXJjIDogMCwNCiAgICAgICAgICAgICAgICAgICAgInZhbG9yX2Rldm9sdWNhb190cHJsaW4iOiBJVEVNLmhhc093blByb3BlcnR5KCJWYWxvcl9EZXZvbHVjYW8iKSAmJiBJVEVNLlZhbG9yX0Rldm9sdWNhbyAmJiArSVRFTS5WYWxvcl9EZXZvbHVjYW8gPyArSVRFTS5WYWxvcl9EZXZvbHVjYW8gOiAwLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3JfZGV2b2x1Y2FvXyI6IElURU0uaGFzT3duUHJvcGVydHkoIlZhbG9yX1JlZW50cmVnYV9QZXJjIikgJiYgSVRFTS5WYWxvcl9SZWVudHJlZ2FfUGVyYyAmJiArSVRFTS5WYWxvcl9SZWVudHJlZ2FfUGVyYyA/ICtJVEVNLlZhbG9yX1JlZW50cmVnYV9QZXJjIDogMCwNCiAgICAgICAgICAgICAgICAgICAgIm9ic2VydmFjb2VzX3RwcmxpbiI6IElURU0uaGFzT3duUHJvcGVydHkoIk9ic2VydmFjb2VzIikgJiYgSVRFTS5PYnNlcnZhY29lcyA/IElURU0uT2JzZXJ2YWNvZXMgOiAiIiwNCg0KDQogICAgICAgICAgICAgICAgICAgICJNTE9DWnBhaXNfb3JpZ2VtX3Rwcmxpbl9pZCI6IG9ialBhaXNPcmlnZW0gPyBvYmpQYWlzT3JpZ2VtLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluIjogb2JqUGFpc09yaWdlbSA/IG9ialBhaXNPcmlnZW0uVXJsSnNvbkNvbnRleHQucGFpc19ub21lIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWmVzdGFkb19vcmlnZW1fdHBybGluX2lkIjogb2JqRXN0YWRvT3JpZ2VtID8gb2JqRXN0YWRvT3JpZ2VtLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4iOiBvYmpFc3RhZG9PcmlnZW0gPyBvYmpFc3RhZG9PcmlnZW0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWmNpZGFkZV9vcmlnZW1fdHBybGluX2lkIjogb2JqTXVuaWNpcGlvT3JpZ2VtID8gb2JqTXVuaWNpcGlvT3JpZ2VtLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiI6IG9iak11bmljaXBpb09yaWdlbSA/IG9iak11bmljaXBpb09yaWdlbS5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZSA6ICIiLA0KICAgICAgICAgICAgICAgICAgICAiUkVHbG9jYWxpZGFkZXNfb3JpZ2VtX3Rwcmxpbl9pZCI6IG9iakxvY2FsaWRhZGVPcmlnZW0gPyBvYmpMb2NhbGlkYWRlT3JpZ2VtLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJSRUdkZXNjcmljYW9fcmVnX19sb2NhbGlkYWRlc19vcmlnZW1fdHBybGluIjogb2JqTG9jYWxpZGFkZU9yaWdlbSA/IG9iakxvY2FsaWRhZGVPcmlnZW0uVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvX3JlZyA6ICIiLA0KICAgICAgICAgICAgICAgICAgICAicmVnaWFvX21ldHJvcG9saXRhbmFfb3JpZ2VtIjogUmVnaWFvTWV0cm9wb2xpdGFuYU9yaWdlbSwNCiAgICAgICAgICAgICAgICAgICAgInJlZ2lhb19tZXRyb3BvbGl0YW5hX29yaWdlbV9kZXNjIjogUmVnaWFvTWV0cm9wb2xpdGFuYU9yaWdlbV9kZXNjLA0KICAgICAgICAgICAgICAgICAgICAiY2FwdGFsX29yaWdlbSI6IENhcGl0YWxPcmlnZW0sDQogICAgICAgICAgICAgICAgICAgICJjYXB0YWxfb3JpZ2VtX2Rlc2MiOiBDYXBpdGFsT3JpZ2VtX2Rlc2MsDQogICAgICAgICAgICAgICAgICAgICJFTVBjbnBqX3JlbWV0ZW50ZV90cHJfaWQiOiByZW1ldGVudGUgJiYgcmVtZXRlbnRlLmxlbmd0aCA+IDAgPyByZW1ldGVudGVbMF0uSUQgOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgIkVNUGNucGpfZW1wcmVzYV9fY25wal9yZW1ldGVudGVfdHByIjogcmVtZXRlbnRlICYmIHJlbWV0ZW50ZS5sZW5ndGggPiAwID8gcmVtZXRlbnRlWzBdLlVybEpzb25Db250ZXh0LmNucGpfZW1wcmVzYSA6ICIiLA0KICAgICAgICAgICAgICAgICAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9lbXByZXNhX3JlbWV0ZW50ZSI6IHJlbWV0ZW50ZSAmJiByZW1ldGVudGUubGVuZ3RoID4gMCA/IHJlbWV0ZW50ZVswXS5VcmxKc29uQ29udGV4dC5yYXphb19zb2NpYWxfZW1wcmVzYSA6ICIiLA0KDQogICAgICAgICAgICAgICAgICAgICJNTE9DWnBhaXNfZGVzdGlub190cHJsaW5faWQiOiBvYmpQYWlzRGVzdGlubyA/IG9ialBhaXNEZXN0aW5vLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiI6IG9ialBhaXNEZXN0aW5vID8gb2JqUGFpc0Rlc3Rpbm8uVXJsSnNvbkNvbnRleHQucGFpc19ub21lIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWmVzdGFkb19kZXN0aW5vX3Rwcmxpbl9pZCI6IG9iakVzdGFkb0Rlc3Rpbm8gPyBvYmpFc3RhZG9EZXN0aW5vLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluIjogb2JqRXN0YWRvRGVzdGlubyA/IG9iakVzdGFkb0Rlc3Rpbm8uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWmNpZGFkZV9kZXN0aW5vX3Rwcmxpbl9pZCI6IG9iak11bmljaXBpb0Rlc3Rpbm8gPyBvYmpNdW5pY2lwaW9EZXN0aW5vLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJNTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4iOiBvYmpNdW5pY2lwaW9EZXN0aW5vID8gb2JqTXVuaWNpcGlvRGVzdGluby5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZSA6ICIiLA0KICAgICAgICAgICAgICAgICAgICAiUkVHbG9jYWxpZGFkZXNfZGVzdGlub190cHJsaW5faWQiOiBvYmpMb2NhbGlkYWRlRGVzdGlubyA/IG9iakxvY2FsaWRhZGVEZXN0aW5vLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJSRUdkZXNjcmljYW9fcmVnX19sb2NhbGlkYWRlc19kZXN0aW5vX3RwcmxpbiI6IG9iakxvY2FsaWRhZGVEZXN0aW5vID8gb2JqTG9jYWxpZGFkZURlc3Rpbm8uVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvX3JlZyA6ICIiLA0KICAgICAgICAgICAgICAgICAgICAicmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlubyI6IFJlZ2lhb01ldHJvcG9saXRhbmFEZXN0aW5vLA0KICAgICAgICAgICAgICAgICAgICAicmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlub19kZXNjIjogUmVnaWFvTWV0cm9wb2xpdGFuYURlc3Rpbm9fZGVzYywNCiAgICAgICAgICAgICAgICAgICAgImNhcGl0YWxfZGVzdGlubyI6IENhcGl0YWxEZXN0aW5vLA0KICAgICAgICAgICAgICAgICAgICAiY2FwaXRhbF9kZXN0aW5vX2Rlc2MiOiBDYXBpdGFsRGVzdGlub19kZXNjLA0KICAgICAgICAgICAgICAgICAgICAiRU1QY25wal9kZXN0aW5hdGFyaW9fdHByX2lkIjogZGVzdGluYXRhcmlvICYmIGRlc3RpbmF0YXJpby5sZW5ndGggPiAwID8gZGVzdGluYXRhcmlvWzBdLklEIDogIiIsDQogICAgICAgICAgICAgICAgICAgICJFTVBjbnBqX2VtcHJlc2FfX2NucGpfZGVzdGluYXRhcmlvX3RwciI6IGRlc3RpbmF0YXJpbyAmJiBkZXN0aW5hdGFyaW8ubGVuZ3RoID4gMCA/IGRlc3RpbmF0YXJpb1swXS5VcmxKc29uQ29udGV4dC5jbnBqX2VtcHJlc2EgOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgIkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19yYXphb19zb2NpYWxfZW1wcmVzYV9kZXN0aW5hdGFyaW8iOiBkZXN0aW5hdGFyaW8gJiYgZGVzdGluYXRhcmlvLmxlbmd0aCA+IDAgPyBkZXN0aW5hdGFyaW9bMF0uVXJsSnNvbkNvbnRleHQucmF6YW9fc29jaWFsX2VtcHJlc2EgOiAiIiwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgSXRlbnMucHVzaChJdGVtUG9zdCk7DQoNCiAgICAgICAgICAgICAgICBsZXQgdmFsb3JlcyA9IGRhdGFFeGNlbC5WYWxvcmVzLmZpbHRlcihWQUxPUiA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChWQUxPUi5JRF9QQUkgPT0gSVRFTS5JRCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGZvciAobGV0IFZBTE9SIG9mIHZhbG9yZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGxvZ1ZhbG9yZXMgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHRpcG9QcmVjb1RhYiA9IFZBTE9SLmhhc093blByb3BlcnR5KCJUaXBvX2RlX1ByZcOnbyIpICYmIFZBTE9SWyJUaXBvX2RlX1ByZcOnbyJdID8gcmV0aXJhQWNlbnRvcyhWQUxPUlsiVGlwb19kZV9QcmXDp28iXS50b1VwcGVyQ2FzZSgpKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICBsZXQgb2JqVGlwb1ByZWNvOw0KICAgICAgICAgICAgICAgICAgICBsZXQgUGVyY2VudHVhbCA9IDA7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aXBvUHJlY29UYWIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9ialRpcG9QcmVjbyA9IFRpcG9QcmVjby5maW5kKFRJUE9fUFJFQ08gPT4gcmV0aXJhQWNlbnRvcyhUSVBPX1BSRUNPLlVybEpzb25Db250ZXh0LnRpcG9fZGVfcHJlY28udG9VcHBlckNhc2UoKSkgPT0gdGlwb1ByZWNvVGFiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2JqVGlwb1ByZWNvKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nVmFsb3Jlcy5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIFZhbG9yIElEOiR7VkFMT1IuSUR9XG4gICAgIFRpcG8gZGUgcHJlw6dvIGZvaSBwYXNzYWRvLCBtYXMgbmFvIGZvaSBlbmNvbnRyYWRvLlxuICAgICBWYWxvciBQYXNzYWRvOiR7VkFMT1JbIlRpcG9fZGVfUHJlw6dvIl19YCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9ialRpcG9QcmVjby5VcmxKc29uQ29udGV4dC50aXBvX2RlX3ByZWNvID09ICJWYWxvciBQZXJjZW50dWFsIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBlcmNlbnR1YWwgPSBWQUxPUi5oYXNPd25Qcm9wZXJ0eSgiVmFsb3JfUGVyY2VudHVhbCIpICYmIFZBTE9SLlZhbG9yX1BlcmNlbnR1YWwgJiYgK1ZBTE9SLlZhbG9yX1BlcmNlbnR1YWwgPyArVkFMT1IuVmFsb3JfUGVyY2VudHVhbCA6IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQZXJjZW50dWFsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1ZhbG9yZXMucHVzaChgXG5JdGVtICR7SVRFTS5JdGVtfTpcbiAgICBWYWxvciBJRDoke1ZBTE9SLklEfVxuICAgICBUaXBvIGRlIHByZcOnbyBwZXJjZW50dWFsLCBtYXMgc2VtIHZhbG9yIGRlIHBlcmNlbnR1YWwuXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2dWYWxvcmVzLnB1c2goYFxuSXRlbSAke0lURU0uSXRlbX06XG4gICAgVmFsb3IgSUQ6JHtWQUxPUi5JRH1cbiAgICAgVGlwbyBkZSBwcmXDp28gbsOjbyBmb2kgcGFzc2Fkb2ApOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IGNsaWVudGVSZXRpcmFUYWIgPSBWQUxPUi5oYXNPd25Qcm9wZXJ0eSgiQ2xpZW50ZV9SZXRpcmEiKSAmJiBWQUxPUi5DbGllbnRlX1JldGlyYSAmJiBWQUxPUi5DbGllbnRlX1JldGlyYS50cmltKCkgPyByZXRpcmFBY2VudG9zKFZBTE9SLkNsaWVudGVfUmV0aXJhLnRyaW0oKS50b1VwcGVyQ2FzZSgpKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICBsZXQgY2xpZW50ZVJldGlyYSA9ICIwIjsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGNsaWVudGVSZXRpcmFEZXNjID0gIk7Do28iOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50ZVJldGlyYVRhYiAmJiBjbGllbnRlUmV0aXJhVGFiID09ICJTSU0iKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRlUmV0aXJhID0gIjEiOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50ZVJldGlyYURlc2MgPSAiU2ltIjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChsb2dWYWxvcmVzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgVmFsb3JQb3N0ID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDYXJnYSI6ICJ2MSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImZlZGlkIjogdXRpbHMuR2V0TmV3R3VpZCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSXRlbVBvc3QuZmVkaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRpcG9EZVByZWNvaWQiOiBvYmpUaXBvUHJlY28gPyBvYmpUaXBvUHJlY28uSUQgOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGlwb0RlUHJlY290aXBvX2RlX3ByZWNvIjogb2JqVGlwb1ByZWNvID8gb2JqVGlwb1ByZWNvLlVybEpzb25Db250ZXh0LnRpcG9fZGVfcHJlY28gOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGlwb0RlUHJlY29tdWx0aXBsaWNhdmVsIjogb2JqVGlwb1ByZWNvID8gb2JqVGlwb1ByZWNvLlVybEpzb25Db250ZXh0Lm11bHRpcGxpY2F2ZWwgOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGlwb0RlUHJlY29tdWx0aXBsaWNhdmVsX2Rlc2MiOiBvYmpUaXBvUHJlY28gPyBvYmpUaXBvUHJlY28uVXJsSnNvbkNvbnRleHQubXVsdGlwbGljYXZlbF9kZXNjIDogIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRpcG9EZVByZWNvdmFsb3JfZGVzYyI6IG9ialRpcG9QcmVjbyA/IG9ialRpcG9QcmVjby5VcmxKc29uQ29udGV4dC52YWxvcl9kZXNjIDogIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRpcG9EZVByZWNvdmFsb3IiOiBvYmpUaXBvUHJlY28gPyBvYmpUaXBvUHJlY28uVXJsSnNvbkNvbnRleHQudmFsb3IgOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2xpZW50ZV9yZXRpcmEiOiBjbGllbnRlUmV0aXJhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjbGllbnRlX3JldGlyYV9kZXNjIjogY2xpZW50ZVJldGlyYURlc2MsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImluaWNpYWxfdHBybGluIjogVkFMT1IuaGFzT3duUHJvcGVydHkoIkluaWNpYWwiKSAmJiBWQUxPUi5JbmljaWFsICYmICtWQUxPUi5JbmljaWFsID8gK1ZBTE9SLkluaWNpYWwgOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmaW5hbF90cHJsaW4iOiBWQUxPUi5oYXNPd25Qcm9wZXJ0eSgiRmluYWwiKSAmJiBWQUxPUi5GaW5hbCAmJiArVkFMT1IuRmluYWwgPyArVkFMT1IuRmluYWwgOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvcl90cHJsaW4iOiBWQUxPUi5oYXNPd25Qcm9wZXJ0eSgiVmFsb3IiKSAmJiBWQUxPUi5WYWxvciAmJiArVkFMT1IuVmFsb3IgPyArVkFMT1IuVmFsb3IgOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvcl9taW5pbW9fdHBybGluIjogVkFMT1IuaGFzT3duUHJvcGVydHkoIlZhbG9yX01pbmltbyIpICYmIFZBTE9SLlZhbG9yX01pbmltbyAmJiArVkFMT1IuVmFsb3JfTWluaW1vID8gK1ZBTE9SLlZhbG9yX01pbmltbyA6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImFkaWNpb25hbF9hX3BhcnRpcl9kZV90cHJsaW4iOiBWQUxPUi5oYXNPd25Qcm9wZXJ0eSgiQWRpY2lvbmFsX2FfUGFydGlyX2RlIikgJiYgVkFMT1IuQWRpY2lvbmFsX2FfUGFydGlyX2RlICYmICtWQUxPUi5BZGljaW9uYWxfYV9QYXJ0aXJfZGUgPyArVkFMT1IuQWRpY2lvbmFsX2FfUGFydGlyX2RlIDogMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsb3JfYWRpY2lvbmFsX3RwcmxpbiI6IFZBTE9SLmhhc093blByb3BlcnR5KCJWYWxvcl9BZGljaW9uYWwiKSAmJiBWQUxPUi5WYWxvcl9BZGljaW9uYWwgJiYgK1ZBTE9SLlZhbG9yX0FkaWNpb25hbCA/ICtWQUxPUi5WYWxvcl9BZGljaW9uYWwgOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0ZGVfdHBybGluIjogVkFMT1IuaGFzT3duUHJvcGVydHkoIlRERSIpICYmIFZBTE9SLlRERSAmJiArVkFMT1IuVERFID8gK1ZBTE9SLlRERSA6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yX3JldGlyYV90cHJsaW4iOiBWQUxPUi5oYXNPd25Qcm9wZXJ0eSgidmFsb3JfcmV0aXJhX3RwcmxpbiIpICYmIFZBTE9SLnZhbG9yX3JldGlyYV90cHJsaW4gJiYgK1ZBTE9SLnZhbG9yX3JldGlyYV90cHJsaW4gPyArVkFMT1IudmFsb3JfcmV0aXJhX3RwcmxpbiA6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yX3JldG9ybm9fcF9uZl90cHJsaW4iOiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0YXhhX2RlX2Rlc3BhY2hvX3RwcmxpbiI6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hcmdlbV90cHJsaW4iOiAwDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvcmVzLnB1c2goVmFsb3JQb3N0KTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIExPRyA9IExPRy5jb25jYXQobG9nVmFsb3Jlcyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBsZXQgdGF4YXNQbGFuID0gZGF0YUV4Y2VsLlRheGFzLmZpbHRlcihUQVhBID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKFRBWEEuSURfUEFJID09IElURU0uSUQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgVEFYQSBvZiB0YXhhc1BsYW4pIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGxvZ1RheGEgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG5vbWVUYXhhVGFiID0gVEFYQS5oYXNPd25Qcm9wZXJ0eSgiTm9tZV9UYXhhIikgJiYgVEFYQS5Ob21lX1RheGEgJiYgVEFYQS5Ob21lX1RheGEudHJpbSgpID8gcmV0aXJhQWNlbnRvcyhUQVhBLk5vbWVfVGF4YSkudG9VcHBlckNhc2UoKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICBsZXQgb2JqVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vbWVUYXhhVGFiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpUYXhhID0gVGF4YXNWYWx1ZXMuZmluZChUQVhBX1ZBTFVFID0+IHJldGlyYUFjZW50b3MoVEFYQV9WQUxVRS5VcmxKc29uQ29udGV4dC5ub21lX2RhX3RheGEpLnRvVXBwZXJDYXNlKCkgPT0gcmV0aXJhQWNlbnRvcyhUQVhBLk5vbWVfVGF4YSkudG9VcHBlckNhc2UoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9ialRheGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dUYXhhLnB1c2goYFxuSXRlbSAke0lURU0uSXRlbX06XG4gICAgVGF4YSBJRDoke1RBWEEuSUR9XG4gICAgIE5vbWUgZGEgdGF4YSBmb2kgcGFzc2FkbywgbWFzIG7Do28gZm9pIGVuY29udHJhZGEuXG4gICAgIE5vbWUgdGF4YToke1RBWEEuTm9tZV9UYXhhfWApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbG9nVGF4YS5wdXNoKGBcbkl0ZW0gJHtJVEVNLkl0ZW19OlxuICAgIFRheGEgSUQ6JHtUQVhBLklEfVxuICAgICBUYXhhIG7Do28gcG9zc3VpIG5vbWUuYCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAobG9nVGF4YS5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFRheGFQb3N0ID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDYXJnYSI6ICJ2MSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImZlZGlkIjogdXRpbHMuR2V0TmV3R3VpZCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSXRlbVBvc3QuZmVkaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRYdGF4YV9pZCI6IG9ialRheGEuSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRYcGVyY2VudGFnZW1fc29icmUiOiBvYmpUYXhhLlVybEpzb25Db250ZXh0LnBlcmNlbnRhZ2VtX3NvYnJlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUWHBvcmNlbnRhZ2VtIjogb2JqVGF4YS5VcmxKc29uQ29udGV4dC5wb3JjZW50YWdlbSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVFh2YWxvciI6IG9ialRheGEuVXJsSnNvbkNvbnRleHQudmFsb3IsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRYbm9tZV9kYV90YXhhX190YXhhIjogb2JqVGF4YS5VcmxKc29uQ29udGV4dC5ub21lX2RhX3RheGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRYdGlwb19kZV92YWxvciI6IG9ialRheGEuVXJsSnNvbkNvbnRleHQudGlwb19kZV92YWxvciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVFh0aXBvX2RlX3ZhbG9yX2Rlc2MiOiBvYmpUYXhhLlVybEpzb25Db250ZXh0LnRpcG9fZGVfdmFsb3JfZGVzYywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVFhpbmNsdXNvX25vX2ljbXMiOiBvYmpUYXhhLlVybEpzb25Db250ZXh0LmluY2x1c29fbm9faWNtcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVFhpbmNsdXNvX25vX2ljbXNfZGVzYyI6IG9ialRheGEuVXJsSnNvbkNvbnRleHQuaW5jbHVzb19ub19pY21zX2Rlc2MNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIFRheGFzLnB1c2goVGF4YVBvc3QpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgTE9HID0gTE9HLmNvbmNhdChsb2dUYXhhKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgTE9HID0gTE9HLmNvbmNhdChsb2dJdGVtKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBvbmVyZ3kuSW5zZXJ0TWFueU9uZXJneShUYWJlbGFzLCB0YWJlbGFQcmVjb0lELCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQpOw0KICAgICAgICBvbmVyZ3kuSW5zZXJ0TWFueU9uZXJneShJdGVucywgaXRlbnNJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkKTsNCiAgICAgICAgb25lcmd5Lkluc2VydE1hbnlPbmVyZ3koVmFsb3JlcywgVmFsb3Jlc0lELCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQpOw0KICAgICAgICBvbmVyZ3kuSW5zZXJ0TWFueU9uZXJneShUYXhhcywgdGF4YXNUYWJJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkKTsNCiAgICB9DQogICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgInN0YXR1cyI6ICJDb25jbHXDrWRvIiwNCiAgICAgICAgInN0YXR1c19kZXNjIjogIkNvbmNsdcOtZG8iLA0KICAgICAgICAibWVuc2FnZW0iOiBMT0cubGVuZ3RoID4gMCA/IExPRy5qb2luKCIiKSA6ICIiLA0KICAgIH0NCiAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgcmVzdWx0LCBmYWxzZSk7DQoNCn0NCg0KZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0T2JqZWN0UmVzcG9uc2UoY29uZCwganNvbiwgV2FpdGluZ1dlYkhvb2spIHsNCiAgICBpZiAoV2FpdGluZ1dlYkhvb2sgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCg0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ2pzb24nOiBKU09OLnN0cmluZ2lmeShqc29uKSwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCiAgICByZXR1cm4gb2JqOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDEwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQoNCiAgICB3aGlsZSAoa2VlcFNlYXJjaGluZykgew0KICAgICAgICBsZXQgc3RyUGFnZVJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgICAgIGZpbHRlcjogZmlsdHJvLA0KICAgICAgICAgICAgc2tpcDogc2tpcCwNCiAgICAgICAgICAgIHRha2U6IHRha2UNCiAgICAgICAgfSk7DQogICAgICAgIHNraXAgKz0gdGFrZTsNCiAgICAgICAgbGV0IHBhZ2VSZXNwID0gSlNPTi5wYXJzZShzdHJQYWdlUmVzcCk7DQogICAgICAgIGlmIChwYWdlUmVzcCAhPSBudWxsICYmIHBhZ2VSZXNwLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBwYWdlUmVzcC5sZW5ndGggPT0gdGFrZTsNCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocGFnZVJlc3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIHJldGlyYUFjZW50b3Moc3RyKSB7DQogICAgbGV0IGNvbV9hY2VudG8gPSAiw4DDgcOCw4PDhMOFw4bDh8OIw4nDisOLw4zDjcOOw4/DkMORw5LDk8OUw5XDlsOYw5nDmsObw5zDncWUw57Dn8Ogw6HDosOjw6TDpcOmw6fDqMOpw6rDq8Osw63DrsOvw7DDscOyw7PDtMO1w7bDuMO5w7rDu8O8w73DvsO/xZUiOw0KICAgIGxldCBzZW1fYWNlbnRvID0gIkFBQUFBQUFDRUVFRUlJSUlETk9PT09PT1VVVVVZUnNCYWFhYWFhYWNlZWVlaWlpaW9ub29vb29vdXV1dXlieXIiOw0KICAgIGxldCBub3Zhc3RyID0gIiI7DQogICAgaWYgKHN0ciAhPT0gIiIpIHsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdHJvY2EgPSBmYWxzZTsNCiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBjb21fYWNlbnRvLmxlbmd0aDsgYSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHN0ci5zdWJzdHIoaSwgMSkgPT0gY29tX2FjZW50by5zdWJzdHIoYSwgMSkpIHsNCiAgICAgICAgICAgICAgICAgICAgbm92YXN0ciArPSBzZW1fYWNlbnRvLnN1YnN0cihhLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgdHJvY2EgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHJvY2EgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgbm92YXN0ciArPSBzdHIuc3Vic3RyKGksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBub3Zhc3RyOw0KfQ0KDQpmdW5jdGlvbiBkYXRlVG9TdHJpbmcoZGF0YSkgew0KICAgIGxldCBkYXRlID0gbmV3IERhdGUoZGF0YSk7DQogICAgbGV0IGFubyA9IGRhdGUuZ2V0RnVsbFllYXIoKTsNCiAgICBsZXQgbWVzID0gKChkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICBsZXQgZGlhID0gKGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgIHJldHVybiBgJHthbm99LSR7bWVzfS0ke2RpYX0gMDA6MDA6MDBgOw0KfQ0KDQpmdW5jdGlvbiBnZXJhckZpbHRybyhmaWVsTmFtZVAsIHZhbHVlUCkgew0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogZmllbE5hbWVQLCBUeXBlOiBgJHt0eXBlb2YgdmFsdWVQID09ICJudW1iZXIiID8gIk51bWVyaWMiIDogInN0cmluZyJ9YCwgRml4ZWRUeXBlOiBgJHt0eXBlb2YgdmFsdWVQID09ICJudW1iZXIiID8gIk51bWVyaWMiIDogInN0cmluZyJ9YCwgVmFsdWUxOiB2YWx1ZVAgfV0pOw0KfQ0KDQoNCg0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCnZhciBqc29uSW5wdXQgPSB7DQogICAgImFycXVpdm9fZXhjZWwiOiBbew0KICAgICAgICAiVXJsIjogImh0dHBzOi8vb25lYmFja3Vwc2VydmljZXMuYmxvYi5jb3JlLndpbmRvd3MubmV0LzBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNS81ZTY5NDI4Ny0wOTRmLTQ3OWQtYjEzNC05YTA0ZTE2NGMzOGNUZXN0ZTIueGxzeC54bHN4P3N2PTIwMTgtMDMtMjgmc3I9YiZzaWc9eVpRNGx3SFclMkJHUDNMTVNxN3pQaG9VVSUyRklGUENQRjJBak9EZFpYbCUyRkVEWSUzRCZzZT0yMDIzLTAxLTIxVDE0JTNBMTklM0E1N1omc3A9ciIsDQogICAgICAgICJVcmxBenVyZSI6ICJodHRwczovL29uZWJhY2t1cHNlcnZpY2VzLmJsb2IuY29yZS53aW5kb3dzLm5ldC8wYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUvNWU2OTQyODctMDk0Zi00NzlkLWIxMzQtOWEwNGUxNjRjMzhjVGVzdGUyLnhsc3gueGxzeD9zdj0yMDE4LTAzLTI4JnNyPWImc2lnPXlaUTRsd0hXJTJCR1AzTE1TcTd6UGhvVVUlMkZJRlBDUEYyQWpPRGRaWGwlMkZFRFklM0Qmc2U9MjAyMy0wMS0yMVQxNCUzQTE5JTNBNTdaJnNwPXIiLA0KICAgICAgICAiTmFtZSI6ICJlYzkzZjhlYi0zYmNkLTRiNDctYjc3ZC1lOTJjYTZlY2Y5ZjJUYWJlbGEgUCZHLnhsc3gueGxzeCINCiAgICB9XSwNCiAgICAic3RhdHVzIjogIkZpbGEgZGUgRXhlY3XDp8OjbyIsDQogICAgImRhdGFfZGVfY3JpYWNhb0RhdGUiOiAiMjAyMi0wNS0xMlQxMjoyMDoxNVoiLA0KICAgICJkYXRhX2RlX2NyaWFjYW8iOiAiMjAyMi0wNS0xMiAwOToyMDoxNSIsDQogICAgInVzdWFyaW9fZGVfY3JpYWNhbyI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJtZW5zYWdlbSI6ICIiLA0KICAgICJzdGF0dXNfZGVzYyI6ICJGaWxhIGRlIEV4ZWN1w6fDo28iLA0KICAgICJvbmVUZW1wbGF0ZVRpdGxlIjogIkxvZyBDYXJnYSB0YWJlbGEgZGUgcHJlw6dvIiwNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgImZkdGlkIjogImQ0NTBmZGNiLTA4YzQtNGU4OC1iNjc3LWUzNTdmMmIzZjMzOSIsDQogICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgImZlZGlkIjogIjhlMjkyZTU4LTJhZDQtOTNlMC1hNTE1LWYyZjQ4M2NkOGY1ZSIsDQogICAgIm9uZXJneV9qc19jdHgiOiB7DQogICAgICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICAgICAiZmVkaWQiOiAiOGUyOTJlNTgtMmFkNC05M2UwLWE1MTUtZjJmNDgzY2Q4ZjVlIiwNCiAgICAgICAgImZkdGlkIjogImQ0NTBmZGNiLTA4YzQtNGU4OC1iNjc3LWUzNTdmMmIzZjMzOSIsDQogICAgICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICAgICAiaW5zZXJ0RHQiOiAiMjAyMi0wNS0xMlQxMjoyMDoxNC4xOTJaIiwNCiAgICAgICAgInVwZGF0ZUR0IjogIjIwMjItMDUtMTJUMTI6MjA6MTguOTEzWiIsDQogICAgICAgICJjdXJfdXNlcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAgICAgInByYWlkIjogIjM0NDUxNzBkLTdjYjEtNDE3Ni1hY2M1LTI5M2RkZmQxOGVhYiIsDQogICAgICAgICJwY3ZpZCI6ICI5M2RjZmE0MS04NGE4LTQxODYtOTBiYS0xNjI2ZGI4ZGJkM2QiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAidGltZXpvbmVfdmFsdWUiOiAiLTAzOjAwIiwNCiAgICAgICAgInB1Yk51Ykhvb2siOiBudWxsDQogICAgfQ0KfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(CIOT) - Cancelamento.js", "isDirectory": false, "__KEY__": "2249566a-3f22-9f62-14d6-ddf23daeb92a", "size": 8513, "dateModified": "2022-06-14T00:30:22.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCmZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICAvL3JldHVybiB0cnVlOw0KICAgIC8vcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIGRhdGEsIHRydWUpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQoNCiAgICBsZXQgb2JqUmV0b25vID0gYXdhaXQgQ2FuY2VsYXJDSU9UKGRhdGEpOw0KDQogICAgcHVzaGVyKHsNCiAgICAgICAgc3Via2V5OiAic3ViLWMtYzE4NTg5NDQtZWVlYy0xMWVhLWEzYTAtOTY3ZDI3MjUwZWZhIiwNCiAgICAgICAgcHVia2V5OiAicHViLWMtMTc5NjIzZDMtNzJhMS00MDc0LWEyNjYtZGQ5OWY2YTkzMjBmIiwNCiAgICAgICAgY2hhbm5lbDogZGF0YS5zY3JlZW5TZXNzaW9uSUQsDQogICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KG9ialJldG9ubykNCiAgICB9KTsNCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCmZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpDQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQoNCiAgICB2YXIgb2JqID0gew0KICAgICAgICAnY29uZCc6IGNvbmQsDQogICAgICAgICdqc29uJzogSlNPTi5zdHJpbmdpZnkoanNvbiksDQogICAgICAgICdXYWl0aW5nV2ViSG9vayc6IFdhaXRpbmdXZWJIb29rLA0KICAgIH07DQogICAgcmV0dXJuIG9iajsNCn0NCg0KY29uc3QgdGVtcGxhdGVJZEhpc3RvcmljbyA9ICI5ZjU5MTg2OS0yNTJiLTQ4YzUtOGRhNy05MDMyNTU5OTExNGIiOw0KYXN5bmMgZnVuY3Rpb24gQ2FuY2VsYXJDSU9UKGRhdGEpIHsNCiAgICB0cnkgew0KICAgICAgICBsZXQgcG9zdEluZm8gPSB7DQogICAgICAgICAgICAiYXV0aCI6IHsNCiAgICAgICAgICAgICAgICAia2V5IjogIjI4OTc3Y2Q5LTMyZWQtNGY5OC1iNWUzLWVkMDRlMjViYjQ3ZSIsDQogICAgICAgICAgICAgICAgInVzZXIiOiAidXN1YXJpb0BrZWVwdHJ1ZSIsDQogICAgICAgICAgICAgICAgInBhc3N3b3JkIjogInVzdWFyaW8ja2VlcHRydWUiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInJlcSI6IHsNCiAgICAgICAgICAgICAgICAiQ29kaWdvSWRlbnRpZmljYWNhb09wZXJhY2FvIjogZGF0YS5jb2RpZ29faWRlbnRpZmljYWRvcl9kYV9vcGVyYWNhb19kZV90cmFuc3BvcnRlX21kZmUsDQogICAgICAgICAgICAgICAgIk1vdGl2byI6ICJDYW5jZWxhbWVudG8gQ0lPVCIsDQogICAgICAgICAgICAgICAgIlZlcnNhbyI6IDENCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBSZXR1cm5DYW5jZWxhbWVudG9DaW90ID0gYXdhaXQgQXBpQ2FuY2VsYW1lbnRvQ0lPVChkYXRhLCBwb3N0SW5mbyk7DQoNCiAgICAgICAgaWYgKFJldHVybkNhbmNlbGFtZW50b0Npb3QuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpICYmIFJldHVybkNhbmNlbGFtZW50b0Npb3Quc3RhdHVzID09IDQwMCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6IGAoRXJybyBBUEkpXG4ke3JldHVybk9wZXJhY2FvVHJhbnNwb3J0ZS5kYXRhfWAsDQogICAgICAgICAgICAgICAgInJlc3Bvc3RhTWVuc2FnZWdpYSI6ICIiDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoUmV0dXJuQ2FuY2VsYW1lbnRvQ2lvdCkgew0KICAgICAgICAgICAgbGV0IGNvbnN1bHRhU3VjZXNzbyA9IFJldHVybkNhbmNlbGFtZW50b0Npb3QuY2FuY2VsYXJPcGVyYWNhb1RyYW5zcG9ydGVSZXN1bHQuc3VjZXNzbzsNCiAgICAgICAgICAgIGlmIChjb25zdWx0YVN1Y2Vzc28pIHsNCiAgICAgICAgICAgICAgICBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiB0ZW1wbGF0ZUlkSGlzdG9yaWNvLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXR1c19jaW90X21kZmUiOiAiQ2FuY2VsYWRvIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhdHVzX2Npb3RfbWRmZV9kZXNjIjogIkNhbmNlbGFkbyIsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IGdlcmFyRmlsdHJvKCJudW1lcm9fZG9fY2lvdF9tZGZlIiwgZGF0YS5jb2RpZ29faWRlbnRpZmljYWRvcl9kYV9vcGVyYWNhb19kZV90cmFuc3BvcnRlX21kZmUpLA0KICAgICAgICAgICAgICAgICAgICBpc011bHRpVXBkYXRlOiBmYWxzZQ0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgInN0YXR1cyI6ICJPSyIsDQogICAgICAgICAgICAgICAgICAgICJtc2ciOiAiQ0lPVCBDYW5jZWxhZG8uIiwNCiAgICAgICAgICAgICAgICAgICAgInJlc3Bvc3RhTWVuc2FnZWdpYSI6IFJldHVybkNhbmNlbGFtZW50b0Npb3QNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAgICAgIm1zZyI6IFJldHVybkNhbmNlbGFtZW50b0Npb3QuY2FuY2VsYXJPcGVyYWNhb1RyYW5zcG9ydGVSZXN1bHQuZXhjZWNhby5tZW5zYWdlbSwNCiAgICAgICAgICAgICAgICAgICAgInJlc3Bvc3RhTWVuc2FnZWdpYSI6IFJldHVybkNhbmNlbGFtZW50b0Npb3QNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibXNnIjogIlNlbSBSZXNwb3N0YSIsDQogICAgICAgICAgICAgICAgInJlc3Bvc3RhTWVuc2FnZWdpYSI6IG51bGwNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGBFcnJvIGRlIHNjcmlwdC4gXG4gRXJybzoke0pTT04uc3RyaW5naWZ5KGVycil9YCwNCiAgICAgICAgICAgICJyZXNwb3N0YU1lbnNhZ2VnaWEiOiBudWxsDQogICAgICAgIH0NCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEFwaUNhbmNlbGFtZW50b0NJT1QoZGF0YSwgZGF0YUNhbGwpIHsNCg0KICAgIGxldCByZXRvcm5vOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkNhbmNlbE9wVHJhbnNwb3J0ZSIsDQogICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBkYXRhOiBkYXRhQ2FsbCwNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICByZXRvcm5vID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LCAoZXJyb3IpID0+IHsNCiAgICAgICAgcmV0b3JubyA9IGVycm9yLnJlc3BvbnNlLmRhdGENCiAgICB9KTsNCiAgICByZXR1cm4gcmV0b3JubzsNCg0KICAgIC8qDQogICAgICAgIGxldCBzdHJSZXNwb25zZUNJT1Q7DQogICAgICAgIGNvbnN0IHVybENJT1QgPSAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkNhbmNlbE9wVHJhbnNwb3J0ZSI7DQoNCiAgICAgICAgYWpheCh7DQogICAgICAgICAgICB1cmw6IHVybENJT1QsDQogICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICBjb250ZW50VHlwZUNoYXJTZXQ6ICIiLA0KICAgICAgICAgICAgZGF0YXR5cGU6ICJqc29uIiwNCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGFDYWxsKSwNCiAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICBmZWRpZDogZGF0YS5mZWRpZCwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQogICAgICAgICAgICAgICAgc3RyUmVzcG9uc2VDSU9UID0gZGF0YTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSwganFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BvbnNlQ0lPVCA9IGVycm9yLnJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwb25zZUNJT1QpOw0KICAgICovDQp9DQoNCg0KDQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgInNjcmVlblNlc3Npb25JRCI6ICJmMTJkMzdkZi0yMGNjLTg0MTItMTgwYS0xNjJhZWVhYTUyZjAiLA0KICAgICJjb2RpZ29faWRlbnRpZmljYWRvcl9kYV9vcGVyYWNhb19kZV90cmFuc3BvcnRlX21kZmUiOiAiMTY5MDAwMDQwNDUxLzIxNjUiLA0KICAgICJtZGZlSUQiOiAiNTY1N2JiNWItNTk4OC00NGRjLWJkMjktY2ZhMWQzOWQ2OGY3IiwNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImZlZGlkIjogIjA4MGQ1NzQ4LTAwOGEtNDY2Yy1iYmY4LWNkNjQ0ODg4ZTQ5MiIsDQogICAgImZkdGlkIjogImQ1MjI4OTU0LWRhMzAtNGI5My04YmVjLWFlY2RjMTAwMmJhNSIsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgIm9uZXJneV9qc19jdHgiOiB7DQogICAgICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICAgICAiZmVkaWQiOiAiMDgwZDU3NDgtMDA4YS00NjZjLWJiZjgtY2Q2NDQ4ODhlNDkyIiwNCiAgICAgICAgImZkdGlkIjogImQ1MjI4OTU0LWRhMzAtNGI5My04YmVjLWFlY2RjMTAwMmJhNSIsDQogICAgICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICAgICAiaW5zZXJ0RHQiOiAiMjAyMi0wNi0xNFQwMDoyNTowNC4wNzM0ODkxIiwNCiAgICAgICAgInVwZGF0ZUR0IjogIjIwMjItMDYtMTRUMDA6MjU6MDQuMDczNDg5MSIsDQogICAgICAgICJjdXJfdXNlcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAgICAgInByYWlkIjogIjg3YzU0OTIwLThhMDAtNGYxOS1hODhlLTczOTA4MGRhZmFmOCIsDQogICAgICAgICJwY3ZpZCI6ICJlNjU4N2I0Yy0zYzIzLTRkMDYtYTY2Yi1mOTc0NGZmNzQ5ZmIiLA0KICAgICAgICAicHJjaWQiOiAiOGZhZTg3NDYtNTZiNS0xMGFmLTNmYzEtMWQ4MDE3N2MyNWJmIiwNCiAgICAgICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAgICAgInRpbWV6b25lX3ZhbHVlIjogIi0wMzowMCIsDQogICAgICAgICJwdWJOdWJIb29rIjogbnVsbA0KICAgIH0NCn0NCg0KaW5pdEJlZm9yZShKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(CIOT) - Gerao.js", "isDirectory": false, "__KEY__": "91314b5c-220e-2a85-528d-a28e5774699d", "size": 32292, "dateModified": "2022-06-17T13:58:27.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCi8qDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgIFNDUklQVCAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KKi8NCmZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KICAgIGxldCBPQkpSZXR1cm4gPSBhd2FpdCBnZXJhckNJT1QoZGF0YSk7DQoNCiAgICBwdXNoZXIoew0KICAgICAgICBzdWJrZXk6ICJzdWItYy1jMTg1ODk0NC1lZWVjLTExZWEtYTNhMC05NjdkMjcyNTBlZmEiLA0KICAgICAgICBwdWJrZXk6ICJwdWItYy0xNzk2MjNkMy03MmExLTQwNzQtYTI2Ni1kZDk5ZjZhOTMyMGYiLA0KICAgICAgICBjaGFubmVsOiBkYXRhLnNjcmVlblNlc3Npb25JRCwNCiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoT0JKUmV0dXJuKQ0KICAgIH0pOw0KICAgIHJldHVybiBmYWxzZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBUZW1wbGF0ZSBJRCBkb3MgQ2FyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCnZhciB0ZW1wbGF0ZUlkSW5mb011bmlEZXNjID0gIjNjOGI3Y2RmLTVkZWMtNGQwNS04ZWEzLWZjOGFmMGY5YWYzMSI7DQp2YXIgdGVtcGxhdGVJZEluZm9NdW5pQ2FyciA9ICI1NGU4Y2IwZS05NDJlLTQyMzktYTllOS1iM2NjMDA1ZGM3NmUiOw0KdmFyIHRlbXBsYXRlSWRDb25oZWNUcmFuc3AgPSAiNWRkNWY5MTAtOTg5YS00OTRiLWFmNGYtNGZiOTE3ZDBhNmIyIjsNCnZhciB0ZW1wbGF0ZUlkQ2FyZENURSA9ICJiYjU1NWFhNC0yNTM2LTRhYzAtYTQ4Yi0wYmZmMjM0YWE3OTkiOw0KdmFyIHRlbXBsYXRlSWRORkUgPSAiYzQyNTA1NDUtOTdkYS00YjYyLWI2YzgtOTAzNzQ5MThjODAxIjsNCnZhciB0ZW1wbGF0ZUlkQ29udGFCYW5jYXJpYSA9ICI5NTFhN2Q1OS0wZjg1LTQ0NWUtOWMwYi00NmNhYTlhNmI4NmMiOw0KdmFyIHBlc3NvYUlEID0gImNkNWFiMTg3LWZiOGQtNDNjMi05Y2FhLTJiMmJlNTlkODcxMCI7DQp2YXIgaGlzdG9yaWNvRnJldGVJRCA9ICI5ZjU5MTg2OS0yNTJiLTQ4YzUtOGRhNy05MDMyNTU5OTExNGIiOw0KdmFyIHRlbXBsYXRlSWRJUlJGID0gImMwYWI1MDgxLTE3NTYtNDkxMi1hYmI1LTg2NGYxYTQxYjAyZiI7DQp2YXIgdGVtcGxhdGVJZElOU1MgPSAiNDdjYzQ4NjItMjFhYy00MTYyLTk2ZTgtZjcyYTJhNGFiZWRjIjsNCnZhciBlc3RhYmVsZWNpbWVudG9zSUQgPSAiMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmIjsNCnZhciBlbmRlcmVjb0VzdGFiZWxlY2ltZW50b0lEID0gIjhkZTg4NjkyLTA4MGYtNDRmZS05ZjBjLTI5YzhlYTUzN2Y0ZiI7DQp2YXIgdmVpY3Vsb0lEID0gIjA3NWQ4ZGVkLTYxNGEtNDgxNC05NTAzLTU0OThhODI0MmYxYiI7DQp2YXIgZW1wcmVzYUVuZGVyZWNvSUQgPSAiOGRlODg2OTItMDgwZi00NGZlLTlmMGMtMjljOGVhNTM3ZjRmIjsNCnZhciBwZXNzb2FFbmRlcmVjb0lEID0gIjc4NzVjOWZiLWVlODctNDk0ZS1hNjA2LTk0MjYzMDM4NDM2NiI7DQp2YXIgZW1wcmVzYUlEID0gImFmNjZmYjJkLTk2MGUtNGUxYi05YTY2LTQ0NGNkYWQ2NGY2MyI7DQp2YXIgUHJvcHJpZXRhcmlvWEZyZXRlSUQgPSAiZmQwNGNjNWQtOGNjMC00Y2E1LWFmMTYtNWRmY2U4Y2U2ZmZjIjsNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQphc3luYyBmdW5jdGlvbiBnZXJhckNJT1QoZGF0YSkgew0KDQoNCg0KICAgIGxldCBsb2cgPSBbXTsNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFZlw61jdWxvIC8gUHJvcHJpZXTDoXJpbyAvIERhZG9zIEJhbmPDoXJpb3MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgbGV0IGZpbHRyb1ZlaWN1bG8gPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS52ZWljdWxvSUQpOw0KICAgIGxldCB2ZWljdWxvID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh2ZWljdWxvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9WZWljdWxvKTsNCiAgICBsZXQgcHJvcHJpZXRhcmlvRW5kZXJlY287DQogICAgbGV0IHByb3ByaWV0YXJpbzsNCiAgICBsZXQgZGFkb3NCYW5jYXJpb3M7DQogICAgaWYgKHZlaWN1bG8ubGVuZ3RoID09IDApIHsNCiAgICAgICAgbG9nLnB1c2goIk7Do28gZm9pIGVuY29udHJhZG8gdmXDrWN1bG8gZGUgdHJhw6fDo28uIik7DQogICAgfSBlbHNlIHsNCiAgICAgICAgdmVpY3VsbyA9IHZlaWN1bG9bMF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgIGlmICh2ZWljdWxvLnRpcG9fZGVfdHJhbnNwb3J0YWRvciA9PSAnMScgfHwgdmVpY3Vsby50aXBvX2RlX3RyYW5zcG9ydGFkb3IgPT0gJzMnKSB7DQogICAgICAgICAgICAvL1BKDQogICAgICAgICAgICBsZXQgZmlsdHJvUHJvcHJpZXRhcmlvRW5kZXJlY28gPSBnZXJhckZpbHRybygiX2lkIiwgdmVpY3Vsby5FTVBwcm9wcmlldGFyaW9fUEpfaWQpOw0KICAgICAgICAgICAgcHJvcHJpZXRhcmlvRW5kZXJlY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGVtcHJlc2FFbmRlcmVjb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvUHJvcHJpZXRhcmlvRW5kZXJlY28pOw0KICAgICAgICAgICAgLy8gaWYgKHByb3ByaWV0YXJpb0VuZGVyZWNvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIC8vICAgICBsZXQgZmlsdHJvUHJvcHJpZXRhcmlvID0gZ2VyYXJGaWx0cm8oIl9pZCIsIHByb3ByaWV0YXJpb0VuZGVyZWNvWzBdLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYpOw0KICAgICAgICAgICAgLy8gICAgIHByb3ByaWV0YXJpbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvUHJvcHJpZXRhcmlvKTsNCiAgICAgICAgICAgIC8vIH0gZWxzZSB7DQogICAgICAgICAgICAvLyAgICAgbG9nLnB1c2goIk7Do28gZm9pIGVuY29udHJhZG8gcHJvcHJpZXRhcmlvIGRvIHZlw61jdWxvLiIpOw0KICAgICAgICAgICAgLy8gfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy9QRg0KICAgICAgICAgICAgbGV0IGZpbHRyb1Byb3ByaWV0YXJpb0VuZGVyZWNvID0gZ2VyYXJGaWx0cm8oIl9pZCIsIHZlaWN1bG8uUEVTcHJvcHJpZXRhcmlvX1BGX2lkKTsNCiAgICAgICAgICAgIHByb3ByaWV0YXJpb0VuZGVyZWNvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShwZXNzb2FFbmRlcmVjb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvUHJvcHJpZXRhcmlvRW5kZXJlY28pOw0KICAgICAgICAgICAgLy8gaWYgKHByb3ByaWV0YXJpb0VuZGVyZWNvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIC8vICAgICBsZXQgZmlsdHJvUHJvcHJpZXRhcmlvID0gZ2VyYXJGaWx0cm8oIl9pZCIsIHByb3ByaWV0YXJpb0VuZGVyZWNvWzBdLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYpOw0KICAgICAgICAgICAgLy8gICAgIHByb3ByaWV0YXJpbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0ocGVzc29hSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9Qcm9wcmlldGFyaW8pOw0KICAgICAgICAgICAgLy8gfSBlbHNlIHsNCiAgICAgICAgICAgIC8vICAgICBsb2cucHVzaCgiTsOjbyBmb2kgZW5jb250cmFkbyBwcm9wcmlldGFyaW8gZG8gdmXDrWN1bG8uIik7DQogICAgICAgICAgICAvLyB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKHByb3ByaWV0YXJpb0VuZGVyZWNvICYmIHByb3ByaWV0YXJpb0VuZGVyZWNvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGxldCBmaWx0cm9EYWRvc0JhbmNhcmlvcyA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgcHJvcHJpZXRhcmlvRW5kZXJlY29bMF0uVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRik7DQogICAgICAgICAgICBkYWRvc0JhbmNhcmlvcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVJZENvbnRhQmFuY2FyaWEsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9EYWRvc0JhbmNhcmlvcyk7DQogICAgICAgICAgICBpZiAoIWRhZG9zQmFuY2FyaW9zIHx8IGRhZG9zQmFuY2FyaW9zLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgbG9nLnB1c2goIk7Do28gZm9pIGVuY29udHJhZG8gRGFkb3MgQmFuY8OhcmlvcyBkbyBwcm9wcmlldGFyaW8gZG8gdmXDrWN1bG8uIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsb2cucHVzaCgiTsOjbyBmb2kgZW5jb250cmFkbyBwcm9wcmlldGFyaW8gZG8gdmXDrWN1bG8uIik7DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBDb250cmF0YW50ZSBkbyBFLUZyZXRlPT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgZmlsdHJvQ29udHJhdGFudGUgPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5jb250cmF0YW50ZUVGcmV0ZUlEKTsNCiAgICBsZXQgY29udHJhdGFudGVFRnJldGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGVzdGFiZWxlY2ltZW50b3NJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0NvbnRyYXRhbnRlKTsNCiAgICBsZXQgZW5kZXJlY29Db250cmF0YW50ZTsNCiAgICBpZiAoY29udHJhdGFudGVFRnJldGUubGVuZ3RoID09IDApIHsNCiAgICAgICAgbG9nLnB1c2goIk7Do28gZm9pIGVuY29udHJhZG8gbyBjb250cmF0YW50ZSBkbyBFLUZyZXRlLiIpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBmaWx0cm9FbmRlcmVjb0NvbnRyYXRhbnRlID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBkYXRhLmNvbnRyYXRhbnRlRUZyZXRlSUQpOw0KICAgICAgICBlbmRlcmVjb0NvbnRyYXRhbnRlID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlbmRlcmVjb0VzdGFiZWxlY2ltZW50b0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRW5kZXJlY29Db250cmF0YW50ZSk7DQogICAgICAgIGlmIChlbmRlcmVjb0NvbnRyYXRhbnRlLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBsb2cucHVzaCgiTsOjbyBmb2kgZW5jb250cmFkbyBvIGVuZGVyZcOnbyBjb250cmF0YW50ZSBkbyBFLUZyZXRlLiIpOw0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQoNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gQ2FyZCBkZSBDb25oZWNpbWVudG8gZGUgVHJhbnNwb3J0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBmaWx0cm9DdGVzUmVsYWNpb25hZG9zID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBkYXRhLm1kZmVOYW9FbWl0aWRhSWQpOw0KICAgIGxldCBDVEVzUmVsYWNpb25hZG9zID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZUlkQ29uaGVjVHJhbnNwLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQ3Rlc1JlbGFjaW9uYWRvcyk7DQogICAgbGV0IENURXNPcmlnaW5haXM7DQogICAgaWYgKENURXNSZWxhY2lvbmFkb3MubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgZmlsdHJvQ3RlT3JpZ2luYWwgPSBbXQ0KICAgICAgICBmb3IgKGxldCBzIGluIENURXNSZWxhY2lvbmFkb3MpIHsNCiAgICAgICAgICAgIGZpbHRyb0N0ZU9yaWdpbmFsLnB1c2goeyAiRmllbE5hbWUiOiAibnVtZXJvX2N0ZV9jdGUiLCAiVmFsdWUxIjogQ1RFc1JlbGFjaW9uYWRvc1tzXS5VcmxKc29uQ29udGV4dC5DVEVudW1lcm9fY3RlX2N0ZV9fbnVtZXJvX2N0ZV9tZGZlLCAiVHlwZSI6ICJOdW1lcmljIiwgIkZpeGVkVHlwZSI6ICJOdW1lcmljIiwgIkNvbmRpdGlvbmFsIjogIm9yIiB9KTsNCiAgICAgICAgfQ0KICAgICAgICBDVEVzT3JpZ2luYWlzID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZUlkQ2FyZENURSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEpTT04uc3RyaW5naWZ5KGZpbHRyb0N0ZU9yaWdpbmFsKSk7DQogICAgICAgIGlmIChDVEVzT3JpZ2luYWlzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBsb2cucHVzaCgiTsOjbyBmb2kgZW5jb250cmFkbyBDVEVzIG9yaWdpbmFpcy4iKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGxvZy5wdXNoKCJOw6NvIGZvaSBlbmNvbnRyYWRvIENURSB2aW5jdWxhZG9zLiIpOw0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBCdXNjYW5kbyBhcyBORkVzID09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgbGV0IGZpbHRyb1ZhbHVlcyA9IFtdOw0KICAgIGxldCBuZmVzQnVzY2E7DQogICAgZm9yIChsZXQgcyBpbiBDVEVzT3JpZ2luYWlzKSB7DQogICAgICAgIGZpbHRyb1ZhbHVlcy5wdXNoKENURXNPcmlnaW5haXNbc10uSUQpOw0KICAgIH0NCiAgICBpZiAoZmlsdHJvVmFsdWVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgbGV0IGZpbHRyb05GRXMgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGZpbHRyb1ZhbHVlcyk7DQogICAgICAgIG5mZXNCdXNjYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVJZE5GRSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb05GRXMpOw0KICAgICAgICBpZiAobmZlc0J1c2NhLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBsb2cucHVzaCgiQ1RFcyBTZWxlY2lvbmFkYXMgbsOjbyBwb3NzdWVtIE5GRXMuIik7DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQoNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gQ2FyZCBkZSBQZXNzb2FzIChNb3RvcmlzdGEpID09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgbGV0IGZpbHRyb01vdG9yaXN0YSA9IGdlcmFyRmlsdHJvKCJfaWQiLCBkYXRhLmNvbmR1dG9ySUQpOw0KICAgIGxldCBCdXNjYU1vdG9yaXN0YSA9IGF3YWl0IGdldE9uZXJneUl0ZW0ocGVzc29hSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9Nb3RvcmlzdGEpOw0KICAgIGxldCBjdHhNb3RvcmlzdGE7DQogICAgaWYgKEJ1c2NhTW90b3Jpc3RhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY3R4TW90b3Jpc3RhID0gQnVzY2FNb3RvcmlzdGFbMF0uVXJsSnNvbkNvbnRleHQ7DQogICAgfSBlbHNlIHsNCiAgICAgICAgbG9nLnB1c2goIk7Do28gZm9pIGVuY29udHJhZG8gbW90b3Jpc3RhLlxuIik7DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgaWYgKGxvZy5sZW5ndGggPiAwKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibXNnIjogbG9nLmpvaW4oIiIpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgcGVzb0JydXRvQ2FyZ2EgPSBkYXRhLnBlc29Ub3RhbENhcmdhOw0KICAgIGxldCBwZXNvUG9yTkZFID0gKyhwZXNvQnJ1dG9DYXJnYSAvIG5mZXNCdXNjYS5sZW5ndGgpLnRvRml4ZWQoNSk7DQogICAgbGV0IHBlc29Ub3RhbENhcmdhID0gKyhwZXNvUG9yTkZFICogbmZlc0J1c2NhLmxlbmd0aCkudG9GaXhlZCg1KQ0KDQogICAgbGV0IG5mZXMgPSBbXTsNCiAgICBmb3IgKGxldCBuZmUgaW4gbmZlc0J1c2NhKSB7DQogICAgICAgIGxldCBuZmVzQ3R4ID0gbmZlc0J1c2NhW25mZV0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgIG5mZXMucHVzaCh7DQogICAgICAgICAgICAiQ29kaWdvTkNNTmF0dXJlemFDYXJnYSI6ICIwMDAxIiwNCiAgICAgICAgICAgICJOdW1lcm8iOiBuZmVzQ3R4Lm51bWVyb19kYV9uZmVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiU2VyaWUiOiBuZmVzQ3R4LnNlcmllX2RhX25mZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJRdWFudGlkYWRlRGFNZXJjYWRvcmlhTm9FbWJhcnF1ZSI6IHBlc29Qb3JORkUsDQogICAgICAgICAgICAiVmFsb3JUb3RhbCI6IG5mZXNDdHgudmFsb3JfbWVyY2Fkb3JpYV9jbGllbnRlLA0KICAgICAgICAgICAgIlVuaWRhZGVEZU1lZGlkYURhTWVyY2Fkb3JpYSI6IGRhdGEudW5pZGFkZU1lZGlkYSwNCiAgICAgICAgICAgICJUaXBvRGVDYWxjdWxvIjogIlNlbVF1ZWJyYSIsDQogICAgICAgICAgICAiVG9sZXJhbmNpYURlUGVyZGFEZU1lcmNhZG9yaWEiOiB7DQogICAgICAgICAgICAgICAgIlRpcG8iOiAwLA0KICAgICAgICAgICAgICAgICJWYWxvciI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIHZhciBDVEUgPSBDVEVzT3JpZ2luYWlzWzBdLlVybEpzb25Db250ZXh0Ow0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09IEPDs2RpZ28gZGUgUGFnYW1lbnRvIGRvIENsaWVudGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQga2V5ID0gYXdhaXQgaW5jcmVtZW50KHsNCiAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgIGtleV9uYW1lOiAiQ0xJRSINCiAgICB9KTsNCiAgICBsZXQgUEFHQU1FTlRPX0NMSUVOVEVfSUQgPSBrZXkudG9TdHJpbmcoKS5wYWRTdGFydCg0LCAnMCcpOw0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09IFByb3ByaWV0w6FyaW8gWCBWYWxvcmVzIGRlIEZyZXRlID09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBmaWx0cm9fUHJvcHJpZXRhcmlvWEZyZXRlDQogICAgaWYgKHZlaWN1bG8udGlwb19kZV90cmFuc3BvcnRhZG9yID09ICcyJykgew0KICAgICAgICBmaWx0cm9fUHJvcHJpZXRhcmlvWEZyZXRlID0gZ2VyYXJGaWx0cm8oIlBFU3Byb3ByaWV0YXJpb19QRl9pZCIsIHByb3ByaWV0YXJpb0VuZGVyZWNvWzBdLklEKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBmaWx0cm9fUHJvcHJpZXRhcmlvWEZyZXRlID0gZ2VyYXJGaWx0cm8oIkVNUHByb3ByaWV0YXJpb19QSl9pZCIsIHByb3ByaWV0YXJpb0VuZGVyZWNvWzBdLklEKTsNCiAgICB9DQogICAgbGV0IFByb3ByaWV0YXJpb1hGcmV0ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oUHJvcHJpZXRhcmlvWEZyZXRlSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9fUHJvcHJpZXRhcmlvWEZyZXRlKTsNCiAgICBpZiAoUHJvcHJpZXRhcmlvWEZyZXRlLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICJ0aXBvX2RlX3Blc3NvYSI6IHZlaWN1bG8udGlwb19kZV90cmFuc3BvcnRhZG9yID09ICcyJyA/ICJmaXNpY2EiIDogJ2p1cmlkaWNhJywNCiAgICAgICAgICAgICJ0aXBvX2RlX3Blc3NvYV9kZXNjIjogdmVpY3Vsby50aXBvX2RlX3RyYW5zcG9ydGFkb3IgPT0gJzInID8gIkbDrXNpY2EiIDogJ0p1csOtZGljYScsDQoNCiAgICAgICAgICAgICJFTVBwcm9wcmlldGFyaW9fUEpfaWQiOiB2ZWljdWxvLnRpcG9fZGVfdHJhbnNwb3J0YWRvciAhPSAnMicgPyBwcm9wcmlldGFyaW9FbmRlcmVjb1swXS5JRCA6ICIiLA0KICAgICAgICAgICAgIkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19wcm9wcmlldGFyaW9fUEoiOiB2ZWljdWxvLnRpcG9fZGVfdHJhbnNwb3J0YWRvciAhPSAnMicgPyBwcm9wcmlldGFyaW9FbmRlcmVjb1swXS5VcmxKc29uQ29udGV4dC5yYXphb19zb2NpYWxfZW1wcmVzYSA6ICIiLA0KICAgICAgICAgICAgIkVNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEoiOiB2ZWljdWxvLnRpcG9fZGVfdHJhbnNwb3J0YWRvciAhPSAnMicgPyBwcm9wcmlldGFyaW9FbmRlcmVjb1swXS5VcmxKc29uQ29udGV4dC5jbnBqX2VtcHJlc2EgOiAiIiwNCg0KICAgICAgICAgICAgIlBFU3Byb3ByaWV0YXJpb19QRl9pZCI6IHZlaWN1bG8udGlwb19kZV90cmFuc3BvcnRhZG9yID09ICcyJyA/IHByb3ByaWV0YXJpb0VuZGVyZWNvWzBdLklEIDogIiIsDQogICAgICAgICAgICAiUEVTbm9tZV9wZXNzb2FfX3Byb3ByaWV0YXJpb19QRiI6IHZlaWN1bG8udGlwb19kZV90cmFuc3BvcnRhZG9yID09ICcyJyA/IHByb3ByaWV0YXJpb0VuZGVyZWNvWzBdLlVybEpzb25Db250ZXh0Lm5vbWVfcGVzc29hIDogIiIsDQogICAgICAgICAgICAiUEVTY3BmX3Blc3NvYV9fY3BmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYiOiB2ZWljdWxvLnRpcG9fZGVfdHJhbnNwb3J0YWRvciA9PSAnMicgPyBwcm9wcmlldGFyaW9FbmRlcmVjb1swXS5VcmxKc29uQ29udGV4dC5jcGZfcGVzc29hIDogIiINCiAgICAgICAgfTsNCiAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShQcm9wcmlldGFyaW9YRnJldGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIHBvc3RJbmZvKTsNCiAgICAgICAgUHJvcHJpZXRhcmlvWEZyZXRlID0gYXdhaXQgZ2V0T25lcmd5SXRlbShQcm9wcmlldGFyaW9YRnJldGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb19Qcm9wcmlldGFyaW9YRnJldGUpOw0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgSW1wb3N0b3M7DQogICAgaWYgKHZlaWN1bG8udGlwb19kZV90cmFuc3BvcnRhZG9yID09ICcyJykgew0KICAgICAgICBJbXBvc3RvcyA9IGF3YWl0IENhbGN1bGFJbXBvc3RvcyhkYXRhLCB2ZWljdWxvLCBwcm9wcmlldGFyaW9FbmRlcmVjbywgUHJvcHJpZXRhcmlvWEZyZXRlKTsNCiAgICB9DQogICAgLy8gaWYgKHZlaWN1bG8udGlwb19kZV90cmFuc3BvcnRhZG9yID09ICcyJykgew0KICAgIC8vICAgICBJbXBvc3RvcyA9IGF3YWl0IENhbGN1bGFJbXBvc3RvcyhkYXRhKTsNCiAgICAvLyB9DQoNCiAgICBsZXQgZ3JhdmFyQ0lPVFBvc3QgPSB7DQogICAgICAgICJhdXRoIjogew0KICAgICAgICAgICAgImtleSI6ICIyODk3N2NkOS0zMmVkLTRmOTgtYjVlMy1lZDA0ZTI1YmI0N2UiLA0KICAgICAgICAgICAgInVzZXIiOiAidXN1YXJpb0BrZWVwdHJ1ZSIsDQogICAgICAgICAgICAicGFzc3dvcmQiOiAidXN1YXJpbyNrZWVwdHJ1ZSINCiAgICAgICAgfSwNCiAgICAgICAgInJlcSI6IHsNCiAgICAgICAgICAgICJUaXBvVmlhZ2VtIjogIlBhZHJhbyIsDQogICAgICAgICAgICAiRW1pc3Nhb0dyYXR1aXRhIjogdHJ1ZSwNCiAgICAgICAgICAgICJCbG9xdWVhck5hb0VxdWlwYXJhZG8iOiBmYWxzZSwNCiAgICAgICAgICAgICJNYXRyaXpDTlBKIjogY29udHJhdGFudGVFRnJldGVbMF0uVXJsSnNvbkNvbnRleHQuY25waiwNCiAgICAgICAgICAgICJGaWxpYWxDTlBKIjogbnVsbCwNCiAgICAgICAgICAgICJJZE9wZXJhY2FvQ2xpZW50ZSI6IGBDVEUke0NURS5udW1lcm9fY3RlX2N0ZX0ke0NURS5zZXJpZV9jdGVfY3RlfSR7UEFHQU1FTlRPX0NMSUVOVEVfSUR9YCwNCiAgICAgICAgICAgICJEYXRhSW5pY2lvVmlhZ2VtIjogZGF0YS5kYXRhaG9yYV9wcmV2aXN0b3NfZGVfaW5pY2lvX2RhX3ZpYWdlbV9tZGZlRGF0ZSwNCiAgICAgICAgICAgICJEYXRhRmltVmlhZ2VtIjogZGF0YS5kYXRhUHJldmlzdGFFbnRyZWdhRGF0ZSwNCiAgICAgICAgICAgICJDb2RpZ29OQ01OYXR1cmV6YUNhcmdhIjogIjAwMDEiLA0KICAgICAgICAgICAgIlBlc29DYXJnYSI6IHBlc29Ub3RhbENhcmdhLA0KICAgICAgICAgICAgIlRpcG9FbWJhbGFnZW0iOiAiQ2FpeGEiLA0KICAgICAgICAgICAgIkNvZGlnb1RpcG9DYXJnYSI6ICIwNSIsDQogICAgICAgICAgICAiQWx0b0Rlc2VtcGVuaG8iOiBmYWxzZSwNCiAgICAgICAgICAgICJEZXN0aW5hY2FvQ29tZXJjaWFsIjogdHJ1ZSwNCiAgICAgICAgICAgICJGcmV0ZVJldG9ybm8iOiBmYWxzZSwNCiAgICAgICAgICAgICJPYnNlcnZhY29lc0FvQ3JlZGVuY2lhZG8iOiBbDQogICAgICAgICAgICAgICAgZGF0YS5PYnNDcmVkZW5jaWFkbw0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJWaWFnZW5zIjogW3sNCiAgICAgICAgICAgICAgICAiQ2VwT3JpZ2VtIjogIjAwMDAwMDAwIiwNCiAgICAgICAgICAgICAgICAiQ2VwRGVzdGlubyI6ICIwMDAwMDAwMCIsDQogICAgICAgICAgICAgICAgIkRvY3VtZW50b1ZpYWdlbSI6IGBDSU9UJHtDVEUubnVtZXJvX2N0ZV9jdGV9JHtDVEUuc2VyaWVfY3RlX2N0ZX1gLA0KICAgICAgICAgICAgICAgICJDb2RpZ29NdW5pY2lwaW9PcmlnZW0iOiBkYXRhLmNvZGlnb0lCR0VPcmlnZW0sDQogICAgICAgICAgICAgICAgIkNvZGlnb011bmljaXBpb0Rlc3Rpbm8iOiBkYXRhLmNvZGlnb0lCR0VEZXN0aW5vLA0KICAgICAgICAgICAgICAgICJEaXN0YW5jaWFQZXJjb3JyaWRhIjogZGF0YS5EaXN0YW5jaWFQZXJjb3JyaWRhLA0KICAgICAgICAgICAgICAgICJOb3Rhc0Zpc2NhaXMiOiBuZmVzLA0KICAgICAgICAgICAgICAgICJWYWxvcmVzIjogew0KICAgICAgICAgICAgICAgICAgICAiVG90YWxPcGVyYWNhbyI6IGRhdGEudmFsb3JGcmV0ZSwNCiAgICAgICAgICAgICAgICAgICAgIlRvdGFsRGVBZGlhbnRhbWVudG8iOiBkYXRhLnRvdGFsQWRpYW50YW1lbnRvLA0KICAgICAgICAgICAgICAgICAgICAiVG90YWxEZVF1aXRhY2FvIjogZGF0YS50b3RhbFF1aXRhY2FvLA0KICAgICAgICAgICAgICAgICAgICAiVG90YWxWaWFnZW0iOiBkYXRhLnZhbG9yRnJldGUsDQogICAgICAgICAgICAgICAgICAgICJQZWRhZ2lvIjogMC4wMCwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfV0sDQogICAgICAgICAgICAiUGFnYW1lbnRvcyI6IFt7DQogICAgICAgICAgICAgICAgIklkUGFnYW1lbnRvQ2xpZW50ZSI6IFBBR0FNRU5UT19DTElFTlRFX0lELA0KICAgICAgICAgICAgICAgICJEYXRhRGVMaWJlcmFjYW8iOiBkYXRhLkRhdGFMaWJlcmFjYW9QYWdhbWVudG8sDQogICAgICAgICAgICAgICAgIlZhbG9yIjogSW1wb3N0b3MgPyBJbXBvc3Rvcy52YWxvckxpcXVpZG8gOiBkYXRhLnZhbG9yRnJldGUsDQogICAgICAgICAgICAgICAgIlRpcG9QYWdhbWVudG8iOiAiVHJhbnNmZXJlbmNpYUJhbmNhcmlhIiwNCiAgICAgICAgICAgICAgICAiQ2F0ZWdvcmlhIjogIlNlbUNhdGVnb3JpYSIsDQogICAgICAgICAgICAgICAgIkRvY3VtZW50byI6IGBDSU9UJHtDVEUubnVtZXJvX2N0ZV9jdGV9JHtDVEUuc2VyaWVfY3RlX2N0ZX1gLA0KICAgICAgICAgICAgICAgICJJbmZvcm1hY2FvQWRpY2lvbmFsIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiSW5mb3JtYWNvZXNCYW5jYXJpYXMiOiB7DQogICAgICAgICAgICAgICAgICAgICJJbnN0aXR1aWNhb0JhbmNhcmlhIjogZGFkb3NCYW5jYXJpb3NbMF0uVXJsSnNvbkNvbnRleHQuY29kaWdvX2JhbmNvX21vdG9yaXN0YSwNCiAgICAgICAgICAgICAgICAgICAgIlRpcG9Db250YSI6IGRhZG9zQmFuY2FyaW9zWzBdLlVybEpzb25Db250ZXh0LnRpcG9fZGFfY29udGEsDQogICAgICAgICAgICAgICAgICAgICJBZ2VuY2lhIjogZGFkb3NCYW5jYXJpb3NbMF0uVXJsSnNvbkNvbnRleHQuYWdlbmNpYV9tb3RvcmlzdGEsDQogICAgICAgICAgICAgICAgICAgICJDb250YSI6IGAke2RhZG9zQmFuY2FyaW9zWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19jb250YV9tb3RvcmlzdGF9LSR7ZGFkb3NCYW5jYXJpb3NbMF0uVXJsSnNvbkNvbnRleHQuZGlnaXRvX2NvbnRhX21vdG9yaXN0YX1gDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgIkltcG9zdG9zIjogew0KICAgICAgICAgICAgICAgICJJUlJGIjogSW1wb3N0b3MgPyBJbXBvc3Rvcy5JUlJGIDogMCwNCiAgICAgICAgICAgICAgICAiU2VzdFNlbmF0IjogSW1wb3N0b3MgPyBJbXBvc3Rvcy5TRVNUX1NFTkFUIDogMCwNCiAgICAgICAgICAgICAgICAiSU5TUyI6IEltcG9zdG9zID8gSW1wb3N0b3MuSU5TUyA6IDAsDQogICAgICAgICAgICAgICAgIklTU1FOIjogMCwNCiAgICAgICAgICAgICAgICAiT3V0cm9zSW1wb3N0b3MiOiAwLA0KICAgICAgICAgICAgICAgICJEZXNjcmljYW9PdXRyb3NJbXBvc3RvcyI6IG51bGwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiQ29udHJhdGFkbyI6IHsNCiAgICAgICAgICAgICAgICAiQ3BmT3VDbnBqIjogdmVpY3Vsby50aXBvX2RlX3RyYW5zcG9ydGFkb3IgPT0gJzInID8gc29tZW50ZU51bWVyb3ModmVpY3Vsby5QRVNjcGZfcGVzc29hX19jcGZfcGVzc29hX3Byb3ByaWV0YXJpb19QRikgOiBzb21lbnRlTnVtZXJvcyh2ZWljdWxvLkVNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEopLA0KICAgICAgICAgICAgICAgICJSTlRSQyI6IHZlaWN1bG8ucm50cmNfcHJvcHJpZXRhcmlvDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIk1vdG9yaXN0YSI6IHsNCiAgICAgICAgICAgICAgICAiQ3BmT3VDbnBqIjogc29tZW50ZU51bWVyb3MoY3R4TW90b3Jpc3RhLmNwZl9wZXNzb2EpLA0KICAgICAgICAgICAgICAgICJDTkgiOiBjdHhNb3RvcmlzdGEuY25oX3Blc3NvYSwNCiAgICAgICAgICAgICAgICAiQ2VsdWxhciI6IHsNCiAgICAgICAgICAgICAgICAgICAgIkRERCI6IGN0eE1vdG9yaXN0YS5jZWx1bGFyXzFfcGVzc29hLnJlcGxhY2UoL1xEL2csICIiKS5zbGljZSgwLCAyKSwNCiAgICAgICAgICAgICAgICAgICAgIk51bWVybyI6IGN0eE1vdG9yaXN0YS5jZWx1bGFyXzFfcGVzc29hLnJlcGxhY2UoL1xEL2csICIiKS5zbGljZSgyLCAxMykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpbyI6IHsNCiAgICAgICAgICAgICAgICAiTm9tZU91UmF6YW9Tb2NpYWwiOiBDVEUuRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAgICAgIkNwZk91Q25waiI6IHNvbWVudGVOdW1lcm9zKENURS5FTVBjbnBqX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jbnBqX2N0ZSksDQogICAgICAgICAgICAgICAgIkVuZGVyZWNvIjogew0KICAgICAgICAgICAgICAgICAgICAiQmFpcnJvIjogQ1RFLkVNUGJhaXJyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgICAgICAgICAiUnVhIjogQ1RFLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgICAgICAgICAiTnVtZXJvIjogQ1RFLkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgICAgICAgICAiQ29tcGxlbWVudG8iOiBDVEUuRU1QY29tcGxlbWVudG9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlID8gQ1RFLkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jb21wbGVtZW50b19sb2dyYWRvdXJvX2N0ZSA6ICcnLA0KICAgICAgICAgICAgICAgICAgICAiQ0VQIjogQ1RFLkVNUGNlcF9lbXByZXNhX19kZXN0aW5hdGFyaW9fY2VwX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgICAgICAgICAiQ29kaWdvTXVuaWNpcGlvIjogQ1RFLkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX2Rlc3RpbmF0YXJpb19jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiRU1haWwiOiBDVEUuRU1QZW1haWxfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2VtYWlsX2N0ZSA/IENURS5FTVBlbWFpbF9lbXByZXNhX19kZXN0aW5hdGFyaW9fZW1haWxfY3RlIDogJycsDQogICAgICAgICAgICAgICAgIlJlc3BvbnNhdmVsUGVsb1BhZ2FtZW50byI6IGZhbHNlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIkNvbnRyYXRhbnRlIjogew0KICAgICAgICAgICAgICAgICJSTlRSQyI6ICtjb250cmF0YW50ZUVGcmV0ZVswXS5VcmxKc29uQ29udGV4dC5ybnRyYyA/ICtjb250cmF0YW50ZUVGcmV0ZVswXS5VcmxKc29uQ29udGV4dC5ybnRyYyA6IDAsDQogICAgICAgICAgICAgICAgIk5vbWVPdVJhemFvU29jaWFsIjogY29udHJhdGFudGVFRnJldGVbMF0uVXJsSnNvbkNvbnRleHQucmF6YW9fc29jaWFsLA0KICAgICAgICAgICAgICAgICJDcGZPdUNucGoiOiBzb21lbnRlTnVtZXJvcyhjb250cmF0YW50ZUVGcmV0ZVswXS5VcmxKc29uQ29udGV4dC5jbnBqKSwNCiAgICAgICAgICAgICAgICAiRW5kZXJlY28iOiB7DQogICAgICAgICAgICAgICAgICAgICJCYWlycm8iOiBlbmRlcmVjb0NvbnRyYXRhbnRlWzBdLlVybEpzb25Db250ZXh0LmJhaXJyb19lbXByZXNhLA0KICAgICAgICAgICAgICAgICAgICAiUnVhIjogZW5kZXJlY29Db250cmF0YW50ZVswXS5VcmxKc29uQ29udGV4dC5sb2dyYWRvdXJvX2VtcHJlc2EsDQogICAgICAgICAgICAgICAgICAgICJOdW1lcm8iOiBlbmRlcmVjb0NvbnRyYXRhbnRlWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19lbXByZXNhLA0KICAgICAgICAgICAgICAgICAgICAiQ29tcGxlbWVudG8iOiBlbmRlcmVjb0NvbnRyYXRhbnRlWzBdLlVybEpzb25Db250ZXh0LmNvbXBsZW1lbnRvX2VtcHJlc2EgPyBlbmRlcmVjb0NvbnRyYXRhbnRlWzBdLlVybEpzb25Db250ZXh0LmNvbXBsZW1lbnRvX2VtcHJlc2EgOiAnJywNCiAgICAgICAgICAgICAgICAgICAgIkNFUCI6IGVuZGVyZWNvQ29udHJhdGFudGVbMF0uVXJsSnNvbkNvbnRleHQuY2VwX2VtcHJlc2EsDQogICAgICAgICAgICAgICAgICAgICJDb2RpZ29NdW5pY2lwaW8iOiBlbmRlcmVjb0NvbnRyYXRhbnRlWzBdLlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX2liZ2UNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJFTWFpbCI6IGNvbnRyYXRhbnRlRUZyZXRlWzBdLlVybEpzb25Db250ZXh0LmVtYWlsX2VzdGFiZWxlY2ltZW50byA/IGNvbnRyYXRhbnRlRUZyZXRlWzBdLlVybEpzb25Db250ZXh0LmVtYWlsX2VzdGFiZWxlY2ltZW50byA6ICIiLA0KICAgICAgICAgICAgICAgICJSZXNwb25zYXZlbFBlbG9QYWdhbWVudG8iOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIlRvbWFkb3JTZXJ2aWNvIjogew0KICAgICAgICAgICAgICAgICJOb21lT3VSYXphb1NvY2lhbCI6IENURS5FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fdG9tYWRvcl9yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAgICAgIkNwZk91Q25waiI6IHNvbWVudGVOdW1lcm9zKENURS5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUpLA0KICAgICAgICAgICAgICAgICJFbmRlcmVjbyI6IHsNCiAgICAgICAgICAgICAgICAgICAgIkJhaXJybyI6IENURS5FTVBiYWlycm9fZW1wcmVzYV9fdG9tYWRvcl9iYWlycm9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAgICAgICAgICJSdWEiOiBDVEUuRU1QbG9ncmFkb3Vyb19lbXByZXNhX190b21hZG9yX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgICAgICAgICAiTnVtZXJvIjogQ1RFLkVNUG51bWVyb19lbXByZXNhX190b21hZG9yX251bWVyb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgIkNvbXBsZW1lbnRvIjogQ1RFLkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX3RvbWFkb3JfY29tcGxlbWVudG9fbG9ncmFkb3Vyb19jdGUgPyBDVEUuRU1QY29tcGxlbWVudG9fZW1wcmVzYV9fdG9tYWRvcl9jb21wbGVtZW50b19sb2dyYWRvdXJvX2N0ZSA6ICcnLA0KICAgICAgICAgICAgICAgICAgICAiQ0VQIjogQ1RFLkVNUGNlcF9lbXByZXNhX190b21hZG9yX2NlcF9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgIkNvZGlnb011bmljaXBpbyI6IENURS5FTVBNTE9DWm11bmljaXBpb19pYmdlX190b21hZG9yX2NvZF9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJFTWFpbCI6IENURS5FTVBlbWFpbF9lbXByZXNhX190b21hZG9yX2VtYWlsX2N0ZSA/IENURS5FTVBlbWFpbF9lbXByZXNhX190b21hZG9yX2VtYWlsX2N0ZSA6ICcnLA0KICAgICAgICAgICAgICAgICJSZXNwb25zYXZlbFBlbG9QYWdhbWVudG8iOiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJWZWljdWxvcyI6IFt7DQogICAgICAgICAgICAgICAgIlBsYWNhIjogdmVpY3Vsby5wbGFjYV92ZWkNCiAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgIkNvZGlnb0lkZW50aWZpY2FjYW9PcGVyYWNhb1ByaW5jaXBhbCI6IG51bGwsDQogICAgICAgICAgICAiT2JzZXJ2YWNvZXNBb1RyYW5zcG9ydGFkb3IiOiBudWxsLA0KICAgICAgICAgICAgIkVudHJlZ2FEb2N1bWVudGFjYW8iOiAwLA0KICAgICAgICAgICAgIlF1YW50aWRhZGVTYXF1ZXMiOiAwLA0KICAgICAgICAgICAgIlF1YW50aWRhZGVUcmFuc2ZlcmVuY2lhcyI6IDAsDQogICAgICAgICAgICAiVmFsb3JTYXF1ZXMiOiBudWxsLA0KICAgICAgICAgICAgIlZhbG9yVHJhbnNmZXJlbmNpYXMiOiBudWxsLA0KICAgICAgICAgICAgIlRva2VuIjogIiIsDQogICAgICAgICAgICAiSW50ZWdyYWRvciI6ICIiLA0KICAgICAgICAgICAgIlZlcnNhbyI6IDcNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICAvL1RPRE8gQUpBWCBBZGljaW9uYXJPcGVyYWNhb1RyYW5zcG9ydGUNCiAgICBsZXQgcmV0dXJuT3BlcmFjYW9UcmFuc3BvcnRlID0gYXdhaXQgQWRpY2lvbmFyT3BlcmFjYW9UcmFuc3BvcnRlKGRhdGEsIGdyYXZhckNJT1RQb3N0KTsNCg0KICAgIGlmICghcmV0dXJuT3BlcmFjYW9UcmFuc3BvcnRlKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibXNnIjogIk1lbnNhZ2VyaWEgc2VtIHJlc3Bvc3RhLiINCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmIChyZXR1cm5PcGVyYWNhb1RyYW5zcG9ydGUuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpICYmIHJldHVybk9wZXJhY2FvVHJhbnNwb3J0ZS5zdGF0dXMgPT0gNDAwKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibXNnIjogYChFcnJvIEFQSSlcbiR7cmV0dXJuT3BlcmFjYW9UcmFuc3BvcnRlLmRhdGF9YA0KICAgICAgICB9DQogICAgfQ0KDQogICAgbGV0IHN1Y2Vzc29SZXR1cm4gPSByZXR1cm5PcGVyYWNhb1RyYW5zcG9ydGUuYWRpY2lvbmFyT3BlcmFjYW9UcmFuc3BvcnRlUmVzdWx0LnN1Y2Vzc28NCiAgICBsZXQgZXJybyA9IHJldHVybk9wZXJhY2FvVHJhbnNwb3J0ZS5hZGljaW9uYXJPcGVyYWNhb1RyYW5zcG9ydGVSZXN1bHQuZXhjZWNhby5tZW5zYWdlbTsNCiAgICBpZiAoc3VjZXNzb1JldHVybikgew0KICAgICAgICBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJkZC9NTS95eXl5IEhIOm1tOnNzIikpDQogICAgICAgIGxldCBkYWRvc0ZyZXRlTW90b3Jpc3RhID0gew0KICAgICAgICAgICAgImRhdGFfZG9fZnJldGVfbWRmZURhdGUiOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgICAgICJkYXRhX2RvX2ZyZXRlX21kZmUiOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgICAgICJ2YWxvcl9icnV0b19kb19mcmV0ZV9tZGZlIjogZGF0YS52YWxvckZyZXRlLA0KICAgICAgICAgICAgInZhbG9yX2xpcXVpZG9fZG9fZnJldGVfbWRmZSI6IEltcG9zdG9zID8gSW1wb3N0b3MudmFsb3JMaXF1aWRvIDogZGF0YS52YWxvckZyZXRlLA0KICAgICAgICAgICAgIm51bWVyb19kb19jaW90X21kZmUiOiByZXR1cm5PcGVyYWNhb1RyYW5zcG9ydGUuYWRpY2lvbmFyT3BlcmFjYW9UcmFuc3BvcnRlUmVzdWx0LmNvZGlnb0lkZW50aWZpY2FjYW9PcGVyYWNhbywNCiAgICAgICAgICAgICJzdGF0dXNfY2lvdF9tZGZlIjogIkVtaXRpZG8iLA0KICAgICAgICAgICAgImFub19mcmV0ZSI6IGRhdGFBdHVhbC5nZXRGdWxsWWVhcigpLA0KICAgICAgICAgICAgIm1lc19mcmV0ZSI6IGRhdGFBdHVhbC5nZXRNb250aCgpLA0KICAgICAgICAgICAgInN0YXR1c19jaW90X21kZmVfZGVzYyI6ICJFbWl0aWRvIiwNCiAgICAgICAgICAgICJJRF9PTkVfUkVGIjogUHJvcHJpZXRhcmlvWEZyZXRlWzBdLklELA0KICAgICAgICAgICAgImluc3NfbWRmZV9jaW90IjogSW1wb3N0b3MgPyBJbXBvc3Rvcy5JTlNTIDogMCwNCiAgICAgICAgICAgICJpcnJmX21kZmVfY2lvdCI6IEltcG9zdG9zID8gSW1wb3N0b3MuSVJSRiA6IDAsDQogICAgICAgICAgICAic2VzdF9zZW5hdF9tZGZlX2Npb3QiOiBJbXBvc3RvcyA/IEltcG9zdG9zLlNFU1RfU0VOQVQgOiAwLA0KICAgICAgICB9DQogICAgICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3koaGlzdG9yaWNvRnJldGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhZG9zRnJldGVNb3RvcmlzdGEpOw0KDQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgICAgICJtc2ciOiAiQ0lPVCBFbWl0aWRvLiIsDQogICAgICAgICAgICAiUmVzcG9zdGFNZW5zYWdlcmlhIjogcmV0dXJuT3BlcmFjYW9UcmFuc3BvcnRlLmFkaWNpb25hck9wZXJhY2FvVHJhbnNwb3J0ZVJlc3VsdA0KICAgICAgICB9Ow0KICAgIH0gZWxzZSBpZiAoZXJybykgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGVycm8NCiAgICAgICAgfQ0KICAgIH0NCg0KfQ0KDQphc3luYyBmdW5jdGlvbiBDYWxjdWxhSW1wb3N0b3MoZGF0YSwgdmVpY3VsbywgZW5kZXJlY29Qcm9wcmlldGFyaW8sIFByb3ByaWV0YXJpb1hGcmV0ZSkgew0KICAgIGxldCBkYXRlX3RvZGF5ID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJkZC9NTS95eXl5IEhIOm1tOnNzIikpOw0KICAgIGxldCBpbXBvc3RvcyA9IHsNCiAgICAgICAgIklSUkYiOiAwLA0KICAgICAgICAiSU5TUyI6IDAsDQogICAgICAgICJTRVNUX1NFTkFUIjogMCwNCiAgICAgICAgInZhbG9yTGlxdWlkbyI6IDAsDQogICAgICAgICJ2YWxvckJydXRvIjogZGF0YS52YWxvckZyZXRlLA0KICAgIH07DQoNCiAgICBsZXQgYnJ1dG9NZW5zYWwgPSAwDQogICAgbGV0IElOU1NNZW5zYWwgPSAwOw0KDQoNCiAgICBsZXQgZmlsdHJvSGl0b3JpY28gPSBKU09OLnN0cmluZ2lmeShbDQogICAgICAgIHsgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogUHJvcHJpZXRhcmlvWEZyZXRlWzBdLklEIH0sDQogICAgICAgIHsgRmllbE5hbWU6ICJzdGF0dXNfY2lvdF9tZGZlIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogIkVuY2VycmFkbyIgfSwNCiAgICAgICAgeyBGaWVsTmFtZTogImFub19mcmV0ZSIsIFR5cGU6ICJudW1lcmljIiwgRml4ZWRUeXBlOiAiTnVtZXJpYyIsIFZhbHVlMTogZGF0ZV90b2RheS5nZXRGdWxsWWVhcigpIH0sDQogICAgICAgIHsgRmllbE5hbWU6ICJtZXNfZnJldGUiLCBUeXBlOiAibnVtZXJpYyIsIEZpeGVkVHlwZTogIk51bWVyaWMiLCBWYWx1ZTE6IGRhdGVfdG9kYXkuZ2V0TW9udGgoKSB9LA0KICAgIF0pOw0KICAgIGxldCBidXNjYUhpc3Rvcmljb0ZyZXRlID0gYXdhaXQgZ2V0T25lcmd5SXRlbShoaXN0b3JpY29GcmV0ZUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvSGl0b3JpY28pOw0KICAgIGlmIChidXNjYUhpc3Rvcmljb0ZyZXRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgaSBpbiBidXNjYUhpc3Rvcmljb0ZyZXRlKSB7DQogICAgICAgICAgICBicnV0b01lbnNhbCArPSBOdW1iZXIoYnVzY2FIaXN0b3JpY29GcmV0ZVtpXS5VcmxKc29uQ29udGV4dC52YWxvcl9icnV0b19kb19mcmV0ZV9tZGZlKTsNCiAgICAgICAgICAgIElOU1NNZW5zYWwgKz0gTnVtYmVyKGJ1c2NhSGlzdG9yaWNvRnJldGVbaV0uVXJsSnNvbkNvbnRleHQuaW5zc19tZGZlX2Npb3QpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy89PT09PT09PT09PT09PT09IFZlcmlmaWNhIHNlIFByZWNpc2EgRGVzY29udGFyIElSUkYgPT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBidXNjYUlSUkYgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlSWRJUlJGLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgbnVsbCk7DQogICAgbGV0IGJhc2VDYWxjdWxvSVJSRiA9IChicnV0b01lbnNhbCAqIDAuMTApOw0KICAgIGxldCBCdXNjYVRhYmVsYUlSUkYgPSBidXNjYUlSUkYuZmlsdGVyKHggPT4geC5VcmxKc29uQ29udGV4dC5kZV9iYXNlX2RlX2NhbGN1bG9faXJyZiA8IGJhc2VDYWxjdWxvSVJSRiAmJiB4LlVybEpzb25Db250ZXh0LmF0ZV9iYXNlX2RlX2NhbGN1bG9faXJyZiA+IGJhc2VDYWxjdWxvSVJSRik7DQogICAgaWYgKEJ1c2NhVGFiZWxhSVJSRi5sZW5ndGggPiAwKSB7DQogICAgICAgIGxldCBBbGlxdW90YSA9ICgrQnVzY2FUYWJlbGFJUlJGWzBdLlVybEpzb25Db250ZXh0LmFsaXF1b3RhX2lycmYpIC8gMTAwOw0KICAgICAgICBsZXQgUGFyY2VsYUFEZWR1emlyID0gQnVzY2FUYWJlbGFJUlJGWzBdLlVybEpzb25Db250ZXh0LnBhcmNlbGFfYV9kZWR1emlyX2RvX2lyX2lycmY7DQogICAgICAgIGltcG9zdG9zLklSUkYgPSArKChiYXNlQ2FsY3Vsb0lSUkYgKiBBbGlxdW90YSkgLSBQYXJjZWxhQURlZHV6aXIpLnRvRml4ZWQoMik7DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25zdWx0YSBzZSB0ZW0gSU5TUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBidXNjYUlOU1MgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlSWRJTlNTLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgbnVsbCk7DQogICAgaWYgKGJ1c2NhSU5TUy5sZW5ndGggPiAwKSB7DQogICAgICAgIGxldCB0ZXRvSU5TUyA9IGJ1c2NhSU5TU1swXS5VcmxKc29uQ29udGV4dC50ZXRvX2RlX3JldGVuY2FvX2luc3MNCiAgICAgICAgaWYgKElOU1NNZW5zYWwgPCB0ZXRvSU5TUykgew0KICAgICAgICAgICAgbGV0IGJhc2VDYWxjdWxvSU5TUyA9IGRhdGEudmFsb3JGcmV0ZSAqIDAuMjA7DQogICAgICAgICAgICBsZXQgdmFsb3JJTlNTID0gKGJhc2VDYWxjdWxvSU5TUyAqIDAuMTEpOw0KICAgICAgICAgICAgbGV0IHRvdGFsSU5TUyA9IHZhbG9ySU5TUyArIElOU1NNZW5zYWw7DQogICAgICAgICAgICBpZiAodGV0b0lOU1MgPiB0b3RhbElOU1MpIHsNCiAgICAgICAgICAgICAgICBpbXBvc3Rvcy5JTlNTID0gK3ZhbG9ySU5TUy50b0ZpeGVkKDIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpbXBvc3Rvcy5JTlNTID0gKyh0ZXRvSU5TUyAtIElOU1NNZW5zYWwpLnRvRml4ZWQoMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09IFNFU1QvU0VOQVQgPT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgYmFzZUNhbGN1bG9TZXN0X1NlbmF0ID0gZGF0YS52YWxvckZyZXRlICogMC4yMDsNCiAgICBsZXQgdmFsb3JTZXN0X1NlbmF0ID0gYmFzZUNhbGN1bG9TZXN0X1NlbmF0ICogMC4wMjUNCiAgICBpbXBvc3Rvcy5TRVNUX1NFTkFUID0gK3ZhbG9yU2VzdF9TZW5hdC50b0ZpeGVkKDIpOw0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgdG90YWxJbXBvc3RvcyA9IGltcG9zdG9zLklOU1MgKyBpbXBvc3Rvcy5JUlJGICsgaW1wb3N0b3MuU0VTVF9TRU5BVDsNCiAgICBpbXBvc3Rvcy52YWxvckxpcXVpZG8gPSArKGRhdGEudmFsb3JGcmV0ZSAtIHRvdGFsSW1wb3N0b3MpLnRvRml4ZWQoMik7DQoNCiAgICByZXR1cm4gaW1wb3N0b3M7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEFkaWNpb25hck9wZXJhY2FvVHJhbnNwb3J0ZShtZGZlQ3R4LCBkYXRhQ2FsbCkgew0KICAgIGxldCByZXRvcm5vOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkFkZE9wVHJhbnNwb3J0ZSIsDQogICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBkYXRhOiBkYXRhQ2FsbCwNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICByZXRvcm5vID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LCAoZXJyb3IpID0+IHsNCiAgICAgICAgcmV0b3JubyA9IGVycm9yLnJlc3BvbnNlDQogICAgfSk7DQogICAgcmV0dXJuIHJldG9ybm87DQoNCiAgICAvKg0KICAgY29uc3QgdXJsQ2lvdCA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVybF9DSU9UIikgKyAiZm5BZGRPcFRyYW5zcG9ydGUiOyAvLyJodHRwczovL2ZuY2lvdGVmcmV0ZXMuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL2ZuQWRkT3BUcmFuc3BvcnRlIg0KICAgbGV0IHJlc3BvbnNlOw0KICANCiAgICAgICBhamF4KHsNCiAgICAgICAgICAgdXJsOiB1cmxDaW90LA0KICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgICBjb250ZW50VHlwZUNoYXJTZXQ6ICIiLA0KICAgICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhQ2FsbCksDQogICAgICAgICAgIGFzc2lkOiBtZGZlQ3R4LmFzc2lkLA0KICAgICAgICAgICB1c3JpZDogbWRmZUN0eC51c3JpZCwNCiAgICAgICAgICAgZmVkaWQ6IG1kZmVDdHguZmVkaWQsDQogICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtZGZlQ3R4LCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBtZGZlQ3R4Ow0KICAgICAgICAgICB9LA0KICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKG1kZmVDdHgsIGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgICAgIHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UubWRmZUN0eDsNCiAgICAgICAgICAgfQ0KICAgICAgIH0pOw0KICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICovDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgdXNyaWQsIGFzc2lkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfTsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDUwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQogICAgd2hpbGUgKGtlZXBTZWFyY2hpbmcpIHsNCiAgICAgICAgbGV0IHN0clBhZ2VSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgICAgICBmaWx0ZXI6IGZpbHRybywNCiAgICAgICAgICAgIHNraXA6IHNraXAsDQogICAgICAgICAgICB0YWtlOiB0YWtlDQogICAgICAgIH0pOw0KICAgICAgICBza2lwICs9IHRha2U7DQogICAgICAgIGxldCBwYWdlUmVzcCA9IEpTT04ucGFyc2Uoc3RyUGFnZVJlc3ApOw0KICAgICAgICBpZiAocGFnZVJlc3AgIT0gbnVsbCAmJiBwYWdlUmVzcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gcGFnZVJlc3AubGVuZ3RoID09IHRha2U7DQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhZ2VSZXNwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBnZXJhckZpbHRybyhmaWVsTmFtZVAsIHZhbHVlUCkgew0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogZmllbE5hbWVQLCBUeXBlOiBgJHt0eXBlb2YgdmFsdWVQID09ICJudW1iZXIiID8gIk51bWVyaWMiIDogInN0cmluZyJ9YCwgRml4ZWRUeXBlOiBgJHt0eXBlb2YgdmFsdWVQID09ICJudW1iZXIiID8gIk51bWVyaWMiIDogInN0cmluZyJ9YCwgVmFsdWUxOiB2YWx1ZVAgfV0pOw0KfQ0KDQpmdW5jdGlvbiBzb21lbnRlTnVtZXJvcyhzdHJyZWMpIHsNCiAgICBpZiAoc3RycmVjKSB7DQogICAgICAgIGxldCBzdHJyZXQgPSBzdHJyZWMudG9TdHJpbmcoKS5yZXBsYWNlKC9bXlxkXSsvZywgJycsICcnKTsNCiAgICAgICAgcmV0dXJuIHN0cnJldDsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gIiI7DQogICAgfQ0KfQ0KDQpyZXR1cm4gew0KICAgICJzdGF0dXMiOiAiT0siLA0KICAgICJtc2ciOiAiRnJldGUgbcOtbmltbyBjYWxjdWxhZG8uIiwNCiAgICAiZGlzdGFuY2lhIjogZGlzdGFuY2lhWyJkaXN0YW5jaWEiXSwNCiAgICAidmFsb3IiOiArKCgoZGlzdGFuY2lhWyJkaXN0YW5jaWEiXSAqIGRlc2xvY2FtZW50bykgKyBDYXJnYURlc2NhcmdhKS50b0ZpeGVkKDIpKQ0KfTsNCg0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovL1RPRE8gREFUQQ0KdmFyIGpzb25JbnB1dCA9IHsNCiAgICAic2NyZWVuU2Vzc2lvbklEIjogIjFiNzEyNzgxLWFhNDYtM2RkYS00ZmFmLTUzNTBkNTgzMDFhZiIsDQogICAgIm1kZmVOYW9FbWl0aWRhSWQiOiAiNTY1N2JiNWItNTk4OC00NGRjLWJkMjktY2ZhMWQzOWQ2OGY3IiwNCiAgICAiZGF0YVByZXZpc3RhRW50cmVnYURhdGUiOiAiMjAyMi0wNi0yNFQwMzowMDowMFoiLA0KICAgICJkYXRhUHJldmlzdGFFbnRyZWdhIjogIjIwMjItNi0yNCIsDQogICAgInZhbG9yRnJldGUiOiAxMTEuMTEsDQogICAgImNvZGlnb05DTSI6IDg3LA0KICAgICJ1bmlkYWRlTWVkaWRhIjogImtnIiwNCiAgICAiRGlzdGFuY2lhUGVyY29ycmlkYSI6IDEwMDAsDQogICAgIkRhdGFMaWJlcmFjYW9QYWdhbWVudG9EYXRlIjogIjIwMjItMDYtMTRUMDM6MDA6MDBaIiwNCiAgICAiRGF0YUxpYmVyYWNhb1BhZ2FtZW50byI6ICIyMDIyLTYtMTQiLA0KICAgICJPYnNDcmVkZW5jaWFkbyI6ICIiLA0KICAgICJjb25kdXRvcklEIjogIjNhOGNhZjJhLTM2NDAtMTk2NS04NWQxLTAwZDZiOGI4NDM4MSIsDQogICAgInZlaWN1bG9JRCI6ICI1MzZkZTdjMi03N2Y2LTNiZTUtMWYwYS00OWNiZjIwMDM3ZTkiLA0KICAgICJjb250cmF0YW50ZUVGcmV0ZUlEIjogIjZjNjQ0NzI2LTM4OWYtNjhhMi1jMDZhLWE1MTdkMjNlMDIxZiIsDQogICAgInBlc29Ub3RhbENhcmdhIjogNywNCiAgICAidmFsb3JUb3RhbENhcmdhIjogMzk1MC4xMiwNCiAgICAiY29kaWdvSUJHRU9yaWdlbSI6IDE2MDAyMDQsDQogICAgImNvZGlnb0lCR0VEZXN0aW5vIjogNTIyMTQwMywNCiAgICAidG90YWxBZGlhbnRhbWVudG8iOiAwLA0KICAgICJ0b3RhbFF1aXRhY2FvIjogMCwNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImZlZGlkIjogIjdiOGIzNjVkLWE4MzYtNGNhZi05ODBjLWFiMDUyZDc4NTE5NSIsDQogICAgImZkdGlkIjogIjQ5NjI4NGRlLTc1YjQtNDUxMC04NDFiLTkyN2JjMzkzZGE1MyIsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgIm9uZXJneV9qc19jdHgiOiB7DQogICAgICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICAgICAiZmVkaWQiOiAiN2I4YjM2NWQtYTgzNi00Y2FmLTk4MGMtYWIwNTJkNzg1MTk1IiwNCiAgICAgICAgImZkdGlkIjogIjQ5NjI4NGRlLTc1YjQtNDUxMC04NDFiLTkyN2JjMzkzZGE1MyIsDQogICAgICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICAgICAiaW5zZXJ0RHQiOiAiMjAyMi0wNi0xMlQyMjo0MTozNS42MDQ4Mjk5IiwNCiAgICAgICAgInVwZGF0ZUR0IjogIjIwMjItMDYtMTJUMjI6NDE6MzUuNjA0ODI5OSIsDQogICAgICAgICJjdXJfdXNlcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAgICAgInByYWlkIjogImRlODAyODVhLWFhOTQtNDU5ZC1iNzYyLTc1OWMwY2E0OTFjOCIsDQogICAgICAgICJwY3ZpZCI6ICJhMzQ5MjhkMy04YThiLTQ2NzEtOTlkZi0xZjBlMzUwNzI2ODMiLA0KICAgICAgICAicHJjaWQiOiAiNTk0ZGE3ZTItYmNkMS0yYTVmLTRmMmQtZTM3ZjAwYWIzOWNlIiwNCiAgICAgICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAgICAgInRpbWV6b25lX3ZhbHVlIjogIi0wMzowMCIsDQogICAgICAgICJwdWJOdWJIb29rIjogbnVsbA0KICAgIH0NCn0NCmluaXRCZWZvcmUoSlNPTi5zdHJpbmdpZnkoanNvbklucHV0KSk7" }, { "name": "(CIOT) - Proprietrio-Veculo.js", "isDirectory": false, "__KEY__": "9f273ad6-9588-b446-2e76-a0496f4b877c", "size": 16780, "dateModified": "2022-06-12T22:42:11.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCg0KICAgIGlmIChkYXRhLmludGVncmFyX2NvbV9lZnJldGUgPT0gInNpbSIpIHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICJwcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGUiOiAibmFvIiwNCiAgICAgICAgICAgICJwcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGVfZGVzYyI6ICJOw6NvIiwNCiAgICAgICAgICAgICJwcm90b2NvbG9fY2FkYXN0cm9fcHJvcHJpZXRhcmlvX2VmcmV0ZSI6ICIiLA0KICAgICAgICAgICAgInZlaWN1bG9fY2FkYXN0cmFkb19lZnJldGUiOiAibmFvIiwNCiAgICAgICAgICAgICJ2ZWljdWxvX2NhZGFzdHJhZG9fZWZyZXRlX2Rlc2MiOiAiTsOjbyIsDQogICAgICAgICAgICAicHJvdG9jb2xvX2NhZGFzdHJvX3ZlaWN1bG9fZWZyZXRlIjogIiIsDQogICAgICAgICAgICAibG9nIjogIiINCiAgICAgICAgfTsNCiAgICAgICAgbGV0IHJlc3VsdFByb3ByaWV0YXJpbyA9IGF3YWl0IGdyYXZhclByb3ByaWV0YXJpbyhkYXRhKTsNCiAgICAgICAgaWYgKHJlc3VsdFByb3ByaWV0YXJpby5zdGF0dXMgPT0gIk9LIikgew0KICAgICAgICAgICAgcmVzdWx0LnByb3ByaWV0YXJpb19jYWRhc3RyYWRvX2VmcmV0ZSA9ICJzaW0iOw0KICAgICAgICAgICAgcmVzdWx0LnByb3ByaWV0YXJpb19jYWRhc3RyYWRvX2VmcmV0ZV9kZXNjID0gIlNpbSI7DQogICAgICAgICAgICByZXN1bHQucHJvdG9jb2xvX2NhZGFzdHJvX3Byb3ByaWV0YXJpb19lZnJldGUgPSByZXN1bHRQcm9wcmlldGFyaW8ucHJvdG9jb2xvOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmVzdWx0LmxvZyA9IGBcbis9PT09PT09PT09PT09PT09PT0gUHJvcHJpZXTDoXJpbyBFLUZyZXRlID09PT09PT09PT09PT09PT09PStcbiR7cmVzdWx0UHJvcHJpZXRhcmlvLm1zZ31cbis9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09K2A7DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgcmVzdWx0VmVpY3VsbyA9IGF3YWl0IGdyYXZhclZlaWN1bG8oZGF0YSk7DQogICAgICAgIGlmIChyZXN1bHRWZWljdWxvLnN0YXR1cyA9PSAiT0siKSB7DQogICAgICAgICAgICByZXN1bHQudmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZSA9ICJzaW0iOw0KICAgICAgICAgICAgcmVzdWx0LnZlaWN1bG9fY2FkYXN0cmFkb19lZnJldGUgPSAiU2ltIjsNCiAgICAgICAgICAgIHJlc3VsdC5wcm90b2NvbG9fY2FkYXN0cm9fdmVpY3Vsb19lZnJldGUgPSByZXN1bHRWZWljdWxvLnByb3RvY29sbzsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlc3VsdC5sb2cgKz0gYFxuKz09PT09PT09PT09PT09PT09PSBWZcOtY3VsbyBFLUZyZXRlID09PT09PT09PT09PT09PT09PStcbiR7cmVzdWx0VmVpY3Vsby5tc2d9XG4rPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PStcbmA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHsgImNvbmQiOiB0cnVlLCAianNvbiI6IEpTT04uc3RyaW5naWZ5KHJlc3VsdCkgfTsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIHJldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ3JhdmFyUHJvcHJpZXRhcmlvKGRhdGEpIHsNCiAgICBsZXQgcG9zdEluZm8gPSB7DQogICAgICAgICJhdXRoIjogew0KICAgICAgICAgICAgImtleSI6ICIyODk3N2NkOS0zMmVkLTRmOTgtYjVlMy1lZDA0ZTI1YmI0N2UiLA0KICAgICAgICAgICAgInVzZXIiOiAidXN1YXJpb0BrZWVwdHJ1ZSIsDQogICAgICAgICAgICAicGFzc3dvcmQiOiAidXN1YXJpbyNrZWVwdHJ1ZSINCiAgICAgICAgfSwNCiAgICAgICAgInJlcSI6IHsNCiAgICAgICAgICAgICJDTlBKIjogbnVsbCwNCiAgICAgICAgICAgICJUaXBvUGVzc29hIjogbnVsbCwNCiAgICAgICAgICAgICJSYXphb1NvY2lhbCI6IG51bGwsDQogICAgICAgICAgICAiUk5UUkMiOiBudWxsLA0KICAgICAgICAgICAgIkVuZGVyZWNvIjogew0KICAgICAgICAgICAgICAgICJCYWlycm8iOiBudWxsLA0KICAgICAgICAgICAgICAgICJSdWEiOiBudWxsLA0KICAgICAgICAgICAgICAgICJOdW1lcm8iOiBudWxsLA0KICAgICAgICAgICAgICAgICJDb21wbGVtZW50byI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNFUCI6IG51bGwsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIlRlbGVmb25lcyI6IHt9LA0KICAgICAgICAgICAgIlZlcnNhbyI6IDMNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy9QZXNzb2EgSnVyw61kaWNhIDEtRVRDIC8gMy1DVEMNCiAgICBpZiAoZGF0YS50aXBvX2RlX3RyYW5zcG9ydGFkb3IgPT0gIjEiIHx8IGRhdGEudGlwb19kZV90cmFuc3BvcnRhZG9yID09ICIzIikgew0KDQogICAgICAgIHBvc3RJbmZvLnJlcS5DTlBKID0gc29tZW50ZU51bWVybyhkYXRhLkVNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEopOw0KICAgICAgICBwb3N0SW5mby5yZXEuVGlwb1Blc3NvYSA9ICJKdXJpZGljYSI7DQogICAgICAgIHBvc3RJbmZvLnJlcS5SYXphb1NvY2lhbCA9IGRhdGEuRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9wcm9wcmlldGFyaW9fUEo7DQogICAgICAgIHBvc3RJbmZvLnJlcS5STlRSQyA9ICtkYXRhLnJudHJjX3Byb3ByaWV0YXJpbzsNCiAgICAgICAgcG9zdEluZm8ucmVxLkVuZGVyZWNvLkJhaXJybyA9IGRhdGEuRU1QYmFpcnJvX2VtcHJlc2FfX2JhaXJyb19wcm9wcmlldGFyaW9fUEo7DQogICAgICAgIHBvc3RJbmZvLnJlcS5FbmRlcmVjby5SdWEgPSBkYXRhLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fbG9ncmFkb3Vyb19wcm9wcmlldGFyaW9fUEo7DQogICAgICAgIHBvc3RJbmZvLnJlcS5FbmRlcmVjby5OdW1lcm8gPSBkYXRhLkVNUG51bWVyb19lbXByZXNhX19udW1lcm9fcHJvcHJpZXRhcmlvX1BKID8gZGF0YS5FTVBudW1lcm9fZW1wcmVzYV9fbnVtZXJvX3Byb3ByaWV0YXJpb19QSiA6ICJTTiI7DQogICAgICAgIHBvc3RJbmZvLnJlcS5FbmRlcmVjby5Db21wbGVtZW50byA9IGRhdGEuRU1QY29tcGxlbWVudG9fZW1wcmVzYV9fY29tcGxlbWVudG9fcHJvcHJpZXRhcmlvX1BKOw0KICAgICAgICBwb3N0SW5mby5yZXEuRW5kZXJlY28uQ0VQID0gc29tZW50ZU51bWVybyhkYXRhLkVNUGNlcF9lbXByZXNhX19jZXBfcHJvcHJpZXRhcmlvX1BKKTsNCg0KICAgICAgICBsZXQgdGVsZWZvbmVDZWx1bGFyID0gc29tZW50ZU51bWVybyhkYXRhLkVNUGNlbHVsYXJfX2NlbHVsYXJfcHJvcHJpZXRhcmlvX1BKKTsNCiAgICAgICAgbGV0IHRlbGVmb25lRml4byA9IHNvbWVudGVOdW1lcm8oZGF0YS5FTVB0ZWxlZm9uZV9lbXByZXNhX190ZWxlZm9uZV9lbXByZXNhX3Byb3ByaWV0YXJpb19QSik7DQogICAgICAgIGlmICh0ZWxlZm9uZUNlbHVsYXIpIHsNCiAgICAgICAgICAgIHBvc3RJbmZvLnJlcS5UZWxlZm9uZXMuQ2VsdWxhciA9IHsNCiAgICAgICAgICAgICAgICAiREREIjogK3RlbGVmb25lQ2VsdWxhci5zdWJzdHJpbmcoMCwgMiksDQogICAgICAgICAgICAgICAgIk51bWVybyI6IHRlbGVmb25lQ2VsdWxhci5zdWJzdHJpbmcoMiwgdGVsZWZvbmVDZWx1bGFyLmxlbmd0aCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAodGVsZWZvbmVGaXhvKSB7DQogICAgICAgICAgICBwb3N0SW5mby5yZXEuVGVsZWZvbmVzLkZpeG8gPSB7DQogICAgICAgICAgICAgICAgIkRERCI6ICt0ZWxlZm9uZUZpeG8uc3Vic3RyaW5nKDAsIDIpLA0KICAgICAgICAgICAgICAgICJOdW1lcm8iOiB0ZWxlZm9uZUZpeG8uc3Vic3RyaW5nKDIsIHRlbGVmb25lRml4by5sZW5ndGgpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgLy9QZXNzb2EgRsOtc2ljYSAyLVRBQw0KICAgIGVsc2Ugew0KICAgICAgICBwb3N0SW5mby5yZXEuQ05QSiA9IHNvbWVudGVOdW1lcm8oZGF0YS5QRVNjcGZfcGVzc29hX19jcGZfcGVzc29hX3Byb3ByaWV0YXJpb19QRik7DQogICAgICAgIHBvc3RJbmZvLnJlcS5UaXBvUGVzc29hID0gIkZpc2ljYSI7DQogICAgICAgIHBvc3RJbmZvLnJlcS5SYXphb1NvY2lhbCA9IGRhdGEuUEVTbm9tZV9wZXNzb2FfX25vbWVfcGVzc29hX3Byb3ByaWV0YXJpb19QRjsNCiAgICAgICAgcG9zdEluZm8ucmVxLlJOVFJDID0gK2RhdGEucm50cmNfcHJvcHJpZXRhcmlvOw0KICAgICAgICBwb3N0SW5mby5yZXEuRW5kZXJlY28uQmFpcnJvID0gZGF0YS5QRVNiYWlycm9fcGVzc29hX19iYWlycm9fcGVzc29hX3Byb3ByaWV0YXJpb19QRjsNCiAgICAgICAgcG9zdEluZm8ucmVxLkVuZGVyZWNvLlJ1YSA9IGRhdGEuUEVTbG9ncmFkb3Vyb19wZXNzb2FfX2xvZ3JhZG91cm9fcGVzc29hX3Byb3ByaWV0YXJpb19QRjsNCiAgICAgICAgcG9zdEluZm8ucmVxLkVuZGVyZWNvLk51bWVybyA9IGRhdGEuUEVTbnVtZXJvX3Blc3NvYV9fbnVtZXJvX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYgPyBkYXRhLlBFU251bWVyb19wZXNzb2FfX251bWVyb19wZXNzb2FfcHJvcHJpZXRhcmlvX1BGIDogIlNOIjsNCiAgICAgICAgcG9zdEluZm8ucmVxLkVuZGVyZWNvLkNvbXBsZW1lbnRvID0gZGF0YS5QRVNjb21wbGVtZW50b19wZXNzb2FfX2NvbXBsZW1lbnRvX3Blc3NvYV9wcm9wcmlldGFyaW9fUEY7DQogICAgICAgIHBvc3RJbmZvLnJlcS5FbmRlcmVjby5DRVAgPSBzb21lbnRlTnVtZXJvKGRhdGEuUEVTY2VwX3Blc3NvYV9fY2VwX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYpOw0KDQogICAgICAgIGxldCB0ZWxlZm9uZUNlbHVsYXIgPSBzb21lbnRlTnVtZXJvKGRhdGEuUEVTY2VsdWxhcl8xX3Blc3NvYV9fY2VsdWxhcl8xX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYpOw0KICAgICAgICBsZXQgdGVsZWZvbmVGaXhvID0gc29tZW50ZU51bWVybyhkYXRhLlBFU3RlbGVmb25lX2ZpeG9fX3RlbGVmb25lX2ZpeG9fcHJvcHJpZXRhcmlvX1BGKTsNCiAgICAgICAgaWYgKHRlbGVmb25lQ2VsdWxhcikgew0KICAgICAgICAgICAgcG9zdEluZm8ucmVxLlRlbGVmb25lcy5DZWx1bGFyID0gew0KICAgICAgICAgICAgICAgICJEREQiOiArdGVsZWZvbmVDZWx1bGFyLnN1YnN0cmluZygwLCAyKSwNCiAgICAgICAgICAgICAgICAiTnVtZXJvIjogdGVsZWZvbmVDZWx1bGFyLnN1YnN0cmluZygyLCB0ZWxlZm9uZUNlbHVsYXIubGVuZ3RoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICh0ZWxlZm9uZUZpeG8pIHsNCiAgICAgICAgICAgIHBvc3RJbmZvLnJlcS5UZWxlZm9uZXMuRml4byA9IHsNCiAgICAgICAgICAgICAgICAiREREIjogK3RlbGVmb25lRml4by5zdWJzdHJpbmcoMCwgMiksDQogICAgICAgICAgICAgICAgIk51bWVybyI6IHRlbGVmb25lRml4by5zdWJzdHJpbmcoMiwgdGVsZWZvbmVDZWx1bGFyLmxlbmd0aCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCByZXNwb3N0YU1lbnNhZ2VyaWEgPSBhd2FpdCBhamF4Q2FsbChkYXRhLCAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkdyYXZhUHJvcHJpZXRhcmlvIiwgIlBPU1QiLCBwb3N0SW5mbyk7DQoNCiAgICBpZiAoIXJlc3Bvc3RhTWVuc2FnZXJpYSkgew0KICAgICAgICAvL3NlbSByZXNwb3N0YQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6ICIoRXJybykgU2VtIHJlc3Bvc3RhIG1lbnNhZ2VyaWEiLA0KICAgICAgICAgICAgInByb3RvY29sbyI6IDANCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vU2VtIFN1Y2Vzc28NCiAgICBpZiAoIXJlc3Bvc3RhTWVuc2FnZXJpYS5zdWNlc3NvKSB7DQogICAgICAgIC8vU2VtIEV4Y2XDp8Ojby4NCiAgICAgICAgaWYgKCFyZXNwb3N0YU1lbnNhZ2VyaWEuZXhjZWNhbykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6ICIoRXJybykgTsOjbyBmb2kgcG9zc8OtdmVsIGNhZGFzdHJhciBQcm9wcmlldMOhcmlvIGUgbWVuc2FnZXJpYSBuw6NvIHJldG9ybm91IGV4Y2Vjw6NvLiIsDQogICAgICAgICAgICAgICAgInByb3RvY29sbyI6IDANCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvL1NlbSBNZW5zYWdlbS4NCiAgICAgICAgaWYgKCFyZXNwb3N0YU1lbnNhZ2VyaWEuZXhjZWNhby5tZW5zYWdlbSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6ICIoRXJybykgTsOjbyBmb2kgcG9zc8OtdmVsIGNhZGFzdHJhciBQcm9wcmlldMOhcmlvIGUgbWVuc2FnZXJpYSBuw6NvIHJldG9ybm91IG1lbnNhZ2VtLiIsDQogICAgICAgICAgICAgICAgInByb3RvY29sbyI6IDANCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvL1NlbSBTdWNlc3NvIGNvbSBtZW5zYWdlbS4NCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiBgKEVycm8pIENhZGFzdHJvIGRlIHByb3ByaWV0w6FyaW8gXG4gJHtyZXNwb3N0YU1lbnNhZ2VyaWEuZXhjZWNhby5tZW5zYWdlbX1gLA0KICAgICAgICAgICAgInByb3RvY29sbyI6IDANCiAgICAgICAgfQ0KICAgIH0NCiAgICAvL1N1Y2Vzc28NCiAgICByZXR1cm4gew0KICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgIm1zZyI6ICIiLA0KICAgICAgICAicHJvdG9jb2xvIjogcmVzcG9zdGFNZW5zYWdlcmlhLnByb3RvY29sb1NlcnZpY28NCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdyYXZhclZlaWN1bG8oZGF0YSkgew0KICAgIGxldCBncmF2YXJWZWljdWxvUG9zdCA9IHsNCiAgICAgICAgImF1dGgiOiB7DQogICAgICAgICAgICAia2V5IjogIjI4OTc3Y2Q5LTMyZWQtNGY5OC1iNWUzLWVkMDRlMjViYjQ3ZSIsDQogICAgICAgICAgICAidXNlciI6ICJ1c3VhcmlvQGtlZXB0cnVlIiwNCiAgICAgICAgICAgICJwYXNzd29yZCI6ICJ1c3VhcmlvI2tlZXB0cnVlIg0KICAgICAgICB9LA0KICAgICAgICAicmVxIjogew0KICAgICAgICAgICAgIlZlaWN1bG8iOiB7DQogICAgICAgICAgICAgICAgIlBsYWNhIjogZGF0YS5wbGFjYV92ZWksDQogICAgICAgICAgICAgICAgIlJlbmF2YW0iOiBkYXRhLnJlbmF2YW1fdmVpLA0KICAgICAgICAgICAgICAgICJDaGFzc2kiOiBkYXRhLmNoYXNzaV92ZWksDQogICAgICAgICAgICAgICAgIlJOVFJDIjogK2RhdGEucm50cmNfcHJvcHJpZXRhcmlvLA0KICAgICAgICAgICAgICAgICJOdW1lcm9EZUVpeG9zIjogZGF0YS5udW1lcm9fZWl4b3NfdmVpLA0KICAgICAgICAgICAgICAgICJNYXJjYSI6IGRhdGEubWFyY2FfdmVpLA0KICAgICAgICAgICAgICAgICJNb2RlbG8iOiBkYXRhLm1vZGVsb192ZWksDQogICAgICAgICAgICAgICAgIkFub0ZhYnJpY2FjYW8iOiBkYXRhLmFub192ZWksDQogICAgICAgICAgICAgICAgIkFub01vZGVsbyI6IGRhdGEuYW5vX3ZlaV9tb2RlbG8sDQogICAgICAgICAgICAgICAgIkNvciI6IGRhdGEuY29yX3ZlaSwNCiAgICAgICAgICAgICAgICAiVGFyYSI6IGRhdGEudGFyYV92ZWksDQogICAgICAgICAgICAgICAgIkNhcGFjaWRhZGVLZyI6IGRhdGEuY2FwYWNpZGFkZV9rZ192ZWksDQogICAgICAgICAgICAgICAgIkNhcGFjaWRhZGVNMyI6IGRhdGEuY2FwYWNpZGFkZV9tM192ZWksDQogICAgICAgICAgICAgICAgIlRpcG9Sb2RhZG8iOiBkYXRhLnRpcG9fZGVfcm9kYWRvX3ZlaSwNCiAgICAgICAgICAgICAgICAiVGlwb0NhcnJvY2VyaWEiOiBkYXRhLnRpcG9fZGVfY2Fycm9jZXJpYV92ZWkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiVmVyc2FvIjogMQ0KICAgICAgICB9DQogICAgfTsNCg0KICAgIGxldCByZXNwb3N0YU1lbnNhZ2VyaWEgPSBhd2FpdCBhamF4Q2FsbChkYXRhLCAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkdyYXZhVmVpY3VsbyIsICJQT1NUIiwgZ3JhdmFyVmVpY3Vsb1Bvc3QpOw0KDQogICAgaWYgKCFyZXNwb3N0YU1lbnNhZ2VyaWEpIHsNCiAgICAgICAgLy9zZW0gcmVzcG9zdGENCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiAiKEVycm8pIFNlbSByZXNwb3N0YSBtZW5zYWdlcmlhIiwNCiAgICAgICAgICAgICJwcm90b2NvbG8iOiAwDQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1NlbSBTdWNlc3NvDQogICAgaWYgKCFyZXNwb3N0YU1lbnNhZ2VyaWEuc3VjZXNzbykgew0KICAgICAgICAvL1NlbSBFeGNlw6fDo28uDQogICAgICAgIGlmICghcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VjYW8pIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiAiKEVycm8pIE7Do28gZm9pIHBvc3PDrXZlbCBjYWRhc3RyYXIgUHJvcHJpZXTDoXJpbyBlIG1lbnNhZ2VyaWEgbsOjbyByZXRvcm5vdSBleGNlY8Ojby4iLA0KICAgICAgICAgICAgICAgICJwcm90b2NvbG8iOiAwDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy9TZW0gTWVuc2FnZW0uDQogICAgICAgIGlmICghcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VjYW8ubWVuc2FnZW0pIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiAiKEVycm8pIE7Do28gZm9pIHBvc3PDrXZlbCBjYWRhc3RyYXIgUHJvcHJpZXTDoXJpbyBlIG1lbnNhZ2VyaWEgbsOjbyByZXRvcm5vdSBtZW5zYWdlbS4iLA0KICAgICAgICAgICAgICAgICJwcm90b2NvbG8iOiAwDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy9TZW0gU3VjZXNzbyBjb20gbWVuc2FnZW0uDQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibXNnIjogYChFcnJvKSBDYWRhc3RybyBkZSBwcm9wcmlldMOhcmlvIFxuICR7cmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VjYW8ubWVuc2FnZW19YCwNCiAgICAgICAgICAgICJwcm90b2NvbG8iOiAwDQogICAgICAgIH0NCiAgICB9DQogICAgLy9TdWNlc3NvDQogICAgcmV0dXJuIHsNCiAgICAgICAgInN0YXR1cyI6ICJPSyIsDQogICAgICAgICJtc2ciOiAiIiwNCiAgICAgICAgInByb3RvY29sbyI6IHJlc3Bvc3RhTWVuc2FnZXJpYS5wcm90b2NvbG9TZXJ2aWNvDQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBhamF4Q2FsbChkYXRhLCBVUkwsIG1ldGhvZCwgZGF0YUNhbGwpIHsNCiAgICBsZXQgcmV0b3JubzsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogVVJMLA0KICAgICAgICBtZXRob2Q6IG1ldGhvZCwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgZGF0YTogZGF0YUNhbGwsDQogICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgcmV0b3JubyA9IHJlc3BvbnNlLmRhdGE7DQogICAgfSwgKGVycm9yKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSAnJw0KICAgIH0pOw0KICAgIHJldHVybiByZXRvcm5vOw0KDQogICAgLyoNCiAgICBsZXQgcmVzcG9uc2U7DQogICAgQWpheCh7DQogICAgICAgIHVybDogVVJMLA0KICAgICAgICBtZXRob2Q6IG1ldGhvZCwNCiAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBjb250ZW50VHlwZUNoYXJTZXQ6ICIiLA0KICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhQ2FsbCksDQogICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgZmVkaWQ6IGRhdGEuZmVkaWQsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQogICAgICAgICAgICByZXNwb25zZSA9IGRhdGE7DQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICBpZiAocmVzcG9uc2UpIHsNCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UpOw0KICAgIH0NCiAgICByZXR1cm4gbnVsbDsNCiAgICAqLw0KfQ0KDQpmdW5jdGlvbiBzb21lbnRlTnVtZXJvKHN0cnJlYykgew0KICAgIGxldCBzdHJyZXQgPSBzdHJyZWMucmVwbGFjZSgvW15cZF0rL2csICcnLCAnJyk7DQogICAgcmV0dXJuIHN0cnJldDsNCn0NCg0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovL1RPRE8gREFUQQ0KdmFyIGpzb25JbnB1dCA9IHsNCiAgICAiZGVzY3JpY2FvX3ZlaWN1bG8iOiAiVmXDrWN1bG8gY2FkYXN0cmFkbyBFLUZyZXRlIiwNCiAgICAicGxhY2FfdmVpIjogIkJUUjg0NDIiLA0KICAgICJyZW5hdmFtX3ZlaSI6IDIyODAzMTkyMywNCiAgICAiY2hhc3NpX3ZlaSI6ICI5QlZBUzUwQzZBRTc1NzA1MyIsDQogICAgIk1MT0N1Zl9saWNlbmNpYW1lbnRvX3ZlaWN1bG9faWQiOiAiMGM5OGZlYzYtOTRkYy04MmUzLTE2NTUtMWYxZmYyNjEzZjVlIiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fdWZfbGljZW5jaWFtZW50b192ZWljdWxvIjogIkFQIiwNCiAgICAidGlwb19kZV9yb2RhZG9fdmVpIjogIk91dHJvcyIsDQogICAgInRpcG9fZGVfY2Fycm9jZXJpYV92ZWkiOiAiTmFvQXBsaWNhdmVsIiwNCiAgICAibnVtZXJvX2VpeG9zX3ZlaSI6IDMsDQogICAgIm1hcmNhX3ZlaSI6ICJTZW0gbWFyY2EiLA0KICAgICJtb2RlbG9fdmVpIjogInNlbSBtb2RlbG8iLA0KICAgICJhbm9fdmVpIjogMjAyMSwNCiAgICAiYW5vX3ZlaV9tb2RlbG8iOiAyMDIxLA0KICAgICJjb3JfdmVpIjogImJyYW5jbyIsDQogICAgInRhcmFfdmVpIjogMTIzMCwNCiAgICAiY2FwYWNpZGFkZV9rZ192ZWkiOiAxMDAsDQogICAgImNhcGFjaWRhZGVfbTNfdmVpIjogMjAwLA0KICAgICJFTVBwcm9wcmlldGFyaW9fUEpfaWQiOiAiOWUwZDc0MTQtZmZmYi00MWVlLWIyMTMtMTNlNjUzNGQyMDZhIiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3Byb3ByaWV0YXJpb19QSiI6ICJISUVHQSBUUkFOU1BPUlRFUyBFSVJFTEkiLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfcHJvcHJpZXRhcmlvX1BKIjogIlNQIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fdGVsZWZvbmVfZW1wcmVzYV9wcm9wcmlldGFyaW9fUEoiOiAiMTczMjQ5MjM2NSIsDQogICAgIkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19yYXphb19zb2NpYWxfcHJvcHJpZXRhcmlvX1BKIjogIkhJRUdBIFRSQU5TUE9SVEVTIEVJUkVMSSIsDQogICAgIkVNUG51bWVyb19lbXByZXNhX19udW1lcm9fcHJvcHJpZXRhcmlvX1BKIjogIjEwMjMiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfcHJvcHJpZXRhcmlvX1BKIjogIlBPVElSRU5EQUJBIiwNCiAgICAiRU1QbG9ncmFkb3Vyb19lbXByZXNhX19sb2dyYWRvdXJvX3Byb3ByaWV0YXJpb19QSiI6ICJBViBDT05TRUxIRUlSTyBSVUkgQkFSQk9TQSIsDQogICAgIkVNUGllX2VtcHJlc2FfX2llX3Byb3ByaWV0YXJpb19QSiI6ICIiLA0KICAgICJFTVBlbXByZXNhX3NvZnRmaW5faWRfX3NvZnRmaW5faWRfcHJvcHJpZXRhcmlvX1BKIjogMjU2MzY3LA0KICAgICJFTVBjb21wbGVtZW50b19lbXByZXNhX19jb21wbGVtZW50b19wcm9wcmlldGFyaW9fUEoiOiAiIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19jbnBqX3Byb3ByaWV0YXJpb19QSiI6ICIwNjIwNDc3OTAwMDE0MyIsDQogICAgIkVNUGNlcF9lbXByZXNhX19jZXBfcHJvcHJpZXRhcmlvX1BKIjogIjE1MTA1LTAwMCIsDQogICAgIkVNUGNlbHVsYXJfX2NlbHVsYXJfcHJvcHJpZXRhcmlvX1BKIjogIiIsDQogICAgIkVNUGJhaXJyb19lbXByZXNhX19iYWlycm9fcHJvcHJpZXRhcmlvX1BKIjogIkNFTlRSTyIsDQogICAgIlBFU3Byb3ByaWV0YXJpb19QRl9pZCI6ICIgIiwNCiAgICAiUEVTbm9tZV9wZXNzb2FfX3Byb3ByaWV0YXJpb19QRiI6ICIgIiwNCiAgICAiUEVTTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9fTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYiOiAiICIsDQogICAgIlBFU3RlbGVmb25lX2ZpeG9fX3RlbGVmb25lX2ZpeG9fcHJvcHJpZXRhcmlvX1BGIjogIiAiLA0KICAgICJQRVNudW1lcm9fcGVzc29hX19udW1lcm9fcGVzc29hX3Byb3ByaWV0YXJpb19QRiI6IDAsDQogICAgIlBFU25vbWVfcGVzc29hX19ub21lX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYiOiAiICIsDQogICAgIlBFU01MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19wZXNzb2FfX01MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19wZXNzb2FfcHJvcHJpZXRhcmlvX1BGIjogIiAiLA0KICAgICJQRVNsb2dyYWRvdXJvX3Blc3NvYV9fbG9ncmFkb3Vyb19wZXNzb2FfcHJvcHJpZXRhcmlvX1BGIjogIiAiLA0KICAgICJQRVNpZF9zb2Z0ZmluX19pZF9zb2Z0ZmluX3Byb3ByaWV0YXJpb19QRiI6IDAsDQogICAgIlBFU2NwZl9wZXNzb2FfX2NwZl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGIjogIiAiLA0KICAgICJQRVNjb21wbGVtZW50b19wZXNzb2FfX2NvbXBsZW1lbnRvX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYiOiAiICIsDQogICAgIlBFU2NlcF9wZXNzb2FfX2NlcF9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGIjogIiAiLA0KICAgICJQRVNjZWx1bGFyXzFfcGVzc29hX19jZWx1bGFyXzFfcGVzc29hX3Byb3ByaWV0YXJpb19QRiI6ICIgIiwNCiAgICAiUEVTYmFpcnJvX3Blc3NvYV9fYmFpcnJvX3Blc3NvYV9wcm9wcmlldGFyaW9fUEYiOiAiICIsDQogICAgInRpcG9fZGVfdHJhbnNwb3J0YWRvciI6ICIxIiwNCiAgICAidGlwb19wcm9wcmlldGFyaW9fdmVpIjogIjIiLA0KICAgICJybnRyY19wcm9wcmlldGFyaW8iOiAiMDA1NzYyNDMiLA0KICAgICJwcm90b2NvbG9fY2FkYXN0cm9fcHJvcHJpZXRhcmlvX2VmcmV0ZSI6IDEzOTUxOTMsDQogICAgInByb3ByaWV0YXJpb19jYWRhc3RyYWRvX2VmcmV0ZSI6ICJzaW0iLA0KICAgICJwcm90b2NvbG9fY2FkYXN0cm9fdmVpY3Vsb19lZnJldGUiOiAiIiwNCiAgICAidmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZSI6ICJuYW8iLA0KICAgICJsb2ciOiAiXG4rPT09PT09PT09PT09PT09PT09IFZlw61jdWxvIEUtRnJldGUgPT09PT09PT09PT09PT09PT09K1xuKEVycm8pIE7Do28gZm9pIHBvc3PDrXZlbCBjYWRhc3RyYXIgUHJvcHJpZXTDoXJpbyBlIG1lbnNhZ2VyaWEgbsOjbyByZXRvcm5vdSBleGNlY8Ojby5cbis9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09K1xuIiwNCiAgICAiaW50ZWdyYXJfY29tX2VmcmV0ZSI6ICJzaW0iLA0KICAgICJpbnRlZ3Jhcl9jb21fZWZyZXRlX2Rlc2MiOiAiU2ltIiwNCiAgICAidGlwb19kZV9yb2RhZG9fdmVpX2Rlc2MiOiAiMDYgLSBPdXRyb3MiLA0KICAgICJ0aXBvX2RlX2NhcnJvY2VyaWFfdmVpX2Rlc2MiOiAiMDAgLSBOw6NvIEFwbGljw6F2ZWwiLA0KICAgICJ0aXBvX2RlX3RyYW5zcG9ydGFkb3JfZGVzYyI6ICJUQUMgRXF1aXBhcmFkbyIsDQogICAgInRpcG9fcHJvcHJpZXRhcmlvX3ZlaV9kZXNjIjogIk91dHJvcyIsDQogICAgIm9uZVRlbXBsYXRlVGl0bGUiOiAiIiwNCiAgICAicHJvcHJpZXRhcmlvX2NhZGFzdHJhZG9fZWZyZXRlX2Rlc2MiOiAiU2ltIiwNCiAgICAidmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV9kZXNjIjogIk7Do28iDQp9DQoNCmpzb25JbnB1dC5vbmVyZ3lfanNfY3R4ID0gew0KICAgICJhc3NfaWQiOiBqc29uSW5wdXQuYXNzaWQsDQogICAgImFzc2lkIjoganNvbklucHV0LmFzc2lkLA0KICAgICJlbWFpbCI6IGpzb25JbnB1dC5lbWFpbCwNCiAgICAiZmR0aWQiOiBqc29uSW5wdXQuZmR0aWQsDQogICAgInVzcmlkIjoganNvbklucHV0LnVzcmlkLA0KICAgICJmZWRpZCI6IGpzb25JbnB1dC5mZWRpZA0KfQ0KDQovLyBqc29uSW5wdXQub25lcmd5X2pzX2N0eCA9IHsNCi8vICAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQovLyAgICAgImZkdGlkIjogIjA3NWQ4ZGVkLTYxNGEtNDgxNC05NTAzLTU0OThhODI0MmYxYiIsDQovLyAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQovLyAgICAgImZlZGlkIjogIjQ4MDE3M2UxLTIyMDAtZDdlOC0yNjc3LTYwNmE3NzY1ZWFmMiINCi8vIH0NCg0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(CTE) - Anulaco copy.js", "isDirectory": false, "__KEY__": "38932320-8e33-849b-3308-e59f3fc1d505", "size": 40067, "dateModified": "2022-06-28T23:16:30.000Z", "content": "ZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KICAgIGxldCB0ZW1wbGF0ZWlkQ1RlID0gImJiNTU1YWE0LTI1MzYtNGFjMC1hNDhiLTBiZmYyMzRhYTc5OSI7DQogICAgbGV0IENhcmRVbmlkYWRlRW1pc3NhbyA9ICIyMzhhYmQ4ZC1jZTFiLTRkY2UtODBjZi1iYzdkZWU5MmY4Y2YiOw0KICAgIGxldCBDYXJkRW5kZXJlY29VbmlkYWRlRW1pc3NhbyA9ICI4ZGU4ODY5Mi0wODBmLTQ0ZmUtOWYwYy0yOWM4ZWE1MzdmNGYiOw0KDQogICAgbGV0IGZpbHRyb19pZF9jdGUgPSBKU09OLnN0cmluZ2lmeShbDQogICAgICAgIHsgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBkYXRhLklEX09ORV9SRUYgfQ0KICAgIF0pOw0KICAgIGxldCBvYmpjdGUgPSBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWRDVGUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9faWRfY3RlKTsNCg0KICAgIC8vVW5pZGFkZSBkZSBFbWlzc8Ojbw0KICAgIGxldCBGaWx0cm9VbmlkYWRlRW1pc3NhbyA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgeyBGaWVsTmFtZTogIl9pZCIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IG9iamN0ZVswXS5VcmxKc29uQ29udGV4dC5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkIH0NCiAgICBdKTsNCiAgICBsZXQgT2JqVW5pZGFkZUVtaXNzYW8gPSBnZXRPbmVyZ3lJdGVtKENhcmRVbmlkYWRlRW1pc3NhbywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb1VuaWRhZGVFbWlzc2FvKTsNCg0KICAgIC8vRW5kZXJlw6dvIGRhIFVuaWRhZGUgRW1pc3PDo28NCiAgICBsZXQgRmlsdHJvRW5kZXJlY29VbmlkYWRlRW1pc3NhbyA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCB9DQogICAgXSk7DQogICAgbGV0IE9iakVuZGVyZWNvVW5pZGFkZUVtaXNzYW8gPSBnZXRPbmVyZ3lJdGVtKENhcmRFbmRlcmVjb1VuaWRhZGVFbWlzc2FvLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvRW5kZXJlY29VbmlkYWRlRW1pc3Nhbyk7DQoNCiAgICBpZiAob2JqY3RlICE9PSBudWxsKSB7DQogICAgICAgIHZhciByZWdpc3Ryb0NUZSA9IG9iamN0ZVswXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgbGV0IGVycm8gPSBmYWxzZTsNCiAgICAgICAgbGV0IGxvZ0Vycm8gPSAnJzsNCiAgICAgICAgaWYgKHJlZ2lzdHJvQ1RlLnN0YXR1c19jdGVfY3RlID09PSAiZW1pdGlkbyIgJiYgcmVnaXN0cm9DVGUuZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGUgPT09ICJub3JtYWwiICYmIGRhdGEubW90aXZvX2FudWxhY2FvX2N0ZSAhPT0gbnVsbCAmJiBkYXRhLm1vdGl2b19hbnVsYWNhb19jdGUgIT09ICIiKSB7DQogICAgICAgICAgICBsZXQgdG9rZW5PYmogPSBQZWdhVG9rZW4ocmVnaXN0cm9DVGUpOw0KICAgICAgICAgICAgaWYgKHRva2VuT2JqLnRva2VuICE9PSBudWxsICYmIHRva2VuT2JqLnRva2VuICE9PSAiIikgew0KICAgICAgICAgICAgICAgIHZhciBlbnZpb2FudWxhY2FvY3RlT2JqID0gQ3JpYU9iamV0b0FudWxhY2FvQ3RlKHJlZ2lzdHJvQ1RlLCBkYXRhLm1vdGl2b19kb19jYW5jZWxhbWVudG9fY3RlLCBPYmpVbmlkYWRlRW1pc3NhbywgT2JqRW5kZXJlY29VbmlkYWRlRW1pc3Nhbyk7DQogICAgICAgICAgICAgICAgaWYgKGVudmlvYW51bGFjYW9jdGVPYmopIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHVybGFudWxhY2FvID0gImh0dHBzOi8vYXBpa2VlcHRydWVkZmUuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL0NUZS9BbnVsYXJDVGUiOw0KICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9zdGFNZW5zYWdlcmlhID0gRWZldHVhTWVuc2FnZXJpYShyZWdpc3Ryb0NUZSwgZW52aW9hbnVsYWNhb2N0ZU9iaiwgdG9rZW5PYmosIHVybGFudWxhY2FvKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLmhhc093blByb3BlcnR5KCJzdGF0dXMiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5zdGF0dXMgPT0gNDAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogdGVtcGxhdGVpZENUZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlZ2lzdHJvQ1RlLmZlZGlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ19jdGUnOiBgRXJybyBuYSBleGVjdcOnw6NvOiR7SlNPTi5zdHJpbmdpZnkocmVzcG9zdGFNZW5zYWdlcmlhLmVycm9ycyl9YA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRGVpeGEgYSBudW1lcmHDp8OjbyBkaXNwb27DrXZlbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRHVwbGljaWRhZGUnOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgZGF0YSwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYSAhPT0gbnVsbCAmJiByZXNwb3N0YU1lbnNhZ2VyaWEub2JqcyAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnByb3RvY29sb0F1dG9yaXphY2FvICE9PSAiIiAmJiByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5jaGF2ZUFjZXNzb0NUZSAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RlaXhhIGEgUHJveGltYSBOw7ptZXJhY2FvIERpc3BvbsOtdmVsLg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdPSycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm8nOiBlbnZpb2FudWxhY2FvY3RlT2JqLk51bWVyb0NUZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcmF2YSBvIEV2ZW50byBubyBDVGUgQW51bGFkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyYXZhRXZlbnRvKGRhdGEuSURfT05FX1JFRiwgIkFudWxhw6fDo28iLCByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5wcm90b2NvbG9BdXRvcml6YWNhbywgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuY2hhdmVBY2Vzc29DVGUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyYXZhY3RlZW1pdGlkbyA9IENyaWFPYmpldG9HcmF2YWNhb0NUZUFudWxhY2FvKGRhdGEsIHJlZ2lzdHJvQ1RlLCByZXNwb3N0YU1lbnNhZ2VyaWEpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9HcmF2YSBvIE5vdm8gQ1QtZSAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBJZHNhbHZvID0gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkQ1RlLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZ3JhdmFjdGVlbWl0aWRvLCAiIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSWRzYWx2byA9IEpTT04ucGFyc2UoSWRzYWx2byk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogdGVtcGxhdGVpZENUZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IElkc2Fsdm8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidXJsX3BkZl9jdGUiOiBgaHR0cHM6Ly9vbmVyZ3lkb2NzLmF6dXJld2Vic2l0ZXMubmV0LyMvZG9jdW1lbnRvcy9kYWN0ZS8ke2RhdGEub25lcmd5X2pzX2N0eC5hc3NpZH0vJHtkYXRhLm9uZXJneV9qc19jdHgudXNyaWR9LyR7SWRzYWx2b30vJHt0ZW1wbGF0ZWlkQ1RlfWANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcmF2YSBvIEV2ZW50byBubyBDVGUgZGUgQW51bGHDp8Ojbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyYXZhRXZlbnRvKElkc2Fsdm8sICJBdXRvcml6YcOnw6NvIiwgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMucHJvdG9jb2xvQXV0b3JpemFjYW8sIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLmNoYXZlQWNlc3NvQ1RlLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCkNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0dWFsaXphIG9zIERhZG9zIGRvIENUZSBBbnVsYWRvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogdGVtcGxhdGVpZENUZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlZ2lzdHJvQ1RlLmZlZGlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXR1c19jdGVfY3RlIjogImFudWxhZG8iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdGF0dXNfY3RlX2N0ZV9kZXNjIjogIkFudWxhZG8iDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0VtYWlsIFNJUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbWFpbEFudWxhY2FvSUQgPSAnNGYzZTVmYjMtZGIxYi00NmRjLWE3OGEtNTgwZGY2YmQ0YmI4JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV1ZG9FbWFpbCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInVybF9wZGZfREFDVEUiOiB1cmxwZGYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRW52aWFyRW1haWxTSVMoZGF0YSwgZW1haWxBbnVsYWNhb0lELCBncmF2YWN0ZWVtaXRpZG8udXJsX3htbCwgJ0FOVUxBQ0FPJywgZ3JhdmFjdGVlbWl0aWRvLm51bWVyb19jdGVfY3RlLCBjb250ZXVkb0VtYWlsKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjdXBlcmEgYXMgSW5mb3JtYcOnw7VlcyBkZSBDYXJnYSBubyBDVGUgZGUgQW51bGHDp8OjbyBwYXJhIG8gQ1RlIEFudWxhZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVpZGNhcmdhID0gIjMzZDljYzg4LTk5MmEtNDRkMC1iNjQ0LWVlMWJmN2VmZmJmYiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb19jYXJnYSA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBkYXRhLklEX09ORV9SRUYgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpjYXJnYSA9IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZGNhcmdhLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvX2NhcmdhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqY2FyZ2EgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbGNhcmdhIGluIG9iamNhcmdhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaXN0cm9jYXJnYSA9IG9iamNhcmdhW2xjYXJnYV0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpc3Ryb2NhcmdhLklEX09ORV9SRUYgPSBJZHNhbHZvOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkY2FyZ2EsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCByZWdpc3Ryb2NhcmdhLCAiIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjdXBlcmEgYXMgSW5mb3JtYcOnw7VlcyBkZSBORkVzIG5vIENUZSBkZSBBbnVsYcOnw6NvIHBhcmEgbyBDVGUgQW51bGFkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZWlkbmZlID0gImM0MjUwNTQ1LTk3ZGEtNGI2Mi1iNmM4LTkwMzc0OTE4YzgwMSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb19uZmUgPSBKU09OLnN0cmluZ2lmeShbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogZGF0YS5JRF9PTkVfUkVGIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqbmZlID0gZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkbmZlLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvX25mZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iam5mZSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsbmZlIGluIG9iam5mZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdHJvbmZlID0gb2JqbmZlW2xuZmVdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cm9uZmUuSURfT05FX1JFRiA9IElkc2Fsdm87DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRuZmUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCByZWdpc3Ryb25mZSwgIiIsICIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1JlY3VwZXJhIGFzIEluZm9ybWHDp8O1ZXMgZGUgT2JzIENvbnRyaWJ1aW50ZSBubyBDVGUgZGUgQW51bGHDp8OjbyBwYXJhIG8gQ1RlIEFudWxhZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVpZG9jID0gIjdmNTJmOTUwLTZkZDUtNDdkNC05Njk2LTA0MGZjOTQ4OGZmNiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb19vYyA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBkYXRhLklEX09ORV9SRUYgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpvYyA9IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZG9jLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvX29jKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Jqb2MgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbG9jIGluIG9iam9jKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaXN0cm9vYyA9IG9iam9jW2xvY10uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpc3Ryb29jLklEX09ORV9SRUYgPSBJZHNhbHZvOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkb2MsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCByZWdpc3Ryb29jLCAiIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjdXBlcmEgYXMgSW5mb3JtYcOnw7VlcyBkZSBhdXRvcml6YWRvcyBubyBDVGUgZGUgQW51bGHDp8OjbyBwYXJhIG8gQ1RlIEFudWxhZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVpZGF1ID0gIjMyNzYyNmU4LTI1OWMtNGRhNi04YjEzLWRkZmUzODgyZjEwZCI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb19hdSA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBkYXRhLklEX09ORV9SRUYgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmphdSA9IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZGF1LCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBmaWx0cm9fYXUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmphdSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsYXUgaW4gb2JqYXUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3Ryb2F1ID0gb2JqYXVbbGF1XS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJvYXUuSURfT05FX1JFRiA9IElkc2Fsdm87DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRhdSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIHJlZ2lzdHJvYXUsICIiLCAiIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJybyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nRXJybyA9IHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnJldG9ybm9TRUZBWjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXBsaWNpZGFkZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9nUmV0dXJuID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZW4gaW4gcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BlbiA9IHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zW2VuXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nUmV0dXJuLnB1c2goYCR7cmVzcGVuLmRlc2NyaWNhb31cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcGVuLmRlc2NyaWNhby5pbmRleE9mKCdEdXBsaWNpZGFkZScpICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXBsaWNpZGFkZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dFcnJvID0gbG9nUmV0dXJuLmxlbmd0aCA+IDAgPyBsb2dSZXR1cm4uam9pbignJykgOiAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkdXBsaWNpZGFkZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJzogJ05PSycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEdXBsaWNpZGFkZSc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXh0JzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm8nOiBlbnZpb2FudWxhY2FvY3RlT2JqLk51bWVyb0NUZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ2FsbEJhY2sgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9LJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2lkYWRlJzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXh0JzogZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGVycm8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBsb2dFcnJvID0gJ0Vycm8gbmEgRm9ybWHDp8OjbyBkbyBPYmpldG8gZGUgRW52aW8nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZXJybyA9IHRydWU7DQogICAgICAgICAgICAgICAgbG9nRXJybyA9ICdUb2tlbiBJbnbDoWxpZG8gb3UgRW1wcmVzYSBuw6NvIEF1dG9yaXphZGEgISc7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZXJybykgew0KICAgICAgICAgICAgICAgIG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWRDVGUsDQogICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGlkOiByZWdpc3Ryb0NUZS5mZWRpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2dfY3RlJzogbG9nRXJybw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCBkYXRhLCBmYWxzZSk7DQp9DQoNCmZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIHJldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnanNvbic6IEpTT04uc3RyaW5naWZ5KGpzb24pLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIHJldHVybiBvYmo7DQp9DQoNCmZ1bmN0aW9uIGRhdGVUb1N0cmluZyhkYXRhKSB7DQogICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShkYXRhKTsNCiAgICBsZXQgYW5vID0gZGF0ZS5nZXRGdWxsWWVhcigpOw0KICAgIGxldCBtZXMgPSAoKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgIGxldCBkaWEgPSAoZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfWANCn0NCg0KZnVuY3Rpb24gUGVnYVRva2VuKG9iaikgew0KICAgIGxldCB1c3JMb2dpbiA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVzdWFyaW9fZGZlIik7DQogICAgbGV0IHB3ZCA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInNlbmhhX2RmZSIpOw0KICAgIGxldCBzdHJSZXNwVG9rZW4gPSAiIjsNCiAgICBBamF4KHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvTG9naW4/cFVzZXJOYW1lPSIgKyB1c3JMb2dpbiArICImcFBhc3M9IiArIHB3ZCwNCiAgICAgICAgYXNzaWQ6IG9iai5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IG9iai51c3JpZCwNCiAgICAgICAgZmVkaWQ6IG9iai5mZWRpZCwNCiAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgZGF0YTogIiIsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQogICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBkYXRhOw0KICAgICAgICB9LA0KICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgIHN0clJlc3BUb2tlbiA9IGV4Y2VwdGlvbjsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3BUb2tlbik7DQp9DQoNCmZ1bmN0aW9uIENyaWFPYmpldG9BbnVsYWNhb0N0ZShvYmosIG1vdGl2bywgRW1pc3NvciwgRW5kRW1pc3Nvcikgew0KICAgIGxldCBJbmRpY2Fkb3JOZWdvY2lhdmVsID0gIiI7DQogICAgaWYgKG9iai5pbmRpY2Fkb3JfbmVnb2NpYXZlbF9jdGVfZGVzYyA9PSAiTsOjbyIpIHsNCiAgICAgICAgSW5kaWNhZG9yTmVnb2NpYXZlbCA9ICJOYW9OZWdvY2lhdmVsIjsNCiAgICB9IGVsc2Ugew0KICAgICAgICBJbmRpY2Fkb3JOZWdvY2lhdmVsID0gIk5lZ29jaWF2ZWwiOw0KICAgIH0NCg0KICAgIGxldCBFbWlzc29yVXJsSnNvbkNvbnRleHQgPSBFbWlzc29yWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQgPSBFbmRFbWlzc29yWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBVcmxDZXJ0aWZpY2FkbyA9IEVtaXNzb3JVcmxKc29uQ29udGV4dC5jZXJ0aWZpY2Fkb1swXS5Vcmw7DQoNCiAgICBsZXQgZ25DRk9QID0gIiI7DQogICAgbGV0IGduQ0ZPUERlc2MgPSAiIjsNCiAgICBpZiAob2JqLk1MT0Nlc3RhZG9fdWZfX3VmX29yaWdlbV9kYV9jYXJnYSA9PT0gb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EpIHsNCiAgICAgICAgZ25DRk9QID0gIjEyMDYiOw0KICAgICAgICBnbkNGT1BEZXNjID0gJ0FudWxhw6fDo28gZGUgdmFsb3IgcmVsYXRpdm8gw6AgcHJlc3Rhw6fDo28gZGUgc2VydmnDp28gZGUgdHJhbnNwb3J0ZSc7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZ25DRk9QID0gIjIyMDYiOw0KICAgICAgICBnbkNGT1BEZXNjID0gJ0FudWxhw6fDo28gZGUgdmFsb3IgcmVsYXRpdm8gw6AgcHJlc3Rhw6fDo28gZGUgc2VydmnDp28gZGUgdHJhbnNwb3J0ZSc7DQogICAgfQ0KDQogICAgbGV0IG9iak51bVNlcmllQ1RlID0gYnVzY2FyTnVtZXJhY2FvKG9iaiwgRW1pc3NvclswXS5JRCwgZmFsc2UsIG51bGwpOw0KICAgIHRyeSB7DQogICAgICAgIGxldCBlbnZpb2N0ZU9ianRtcCA9IHsNCiAgICAgICAgICAgICJMaW5rQ2VydGlmaWNhZG8iOiBVcmxDZXJ0aWZpY2FkbywNCiAgICAgICAgICAgICJTZW5oYUNlcnQiOiBFbWlzc29yVXJsSnNvbkNvbnRleHQuc2VuaGFfY2VydGlmaWNhZG8sDQogICAgICAgICAgICAiVGlwb0FtYmllbnRlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmFtYmllbnRlLA0KICAgICAgICAgICAgIlVGRW1pdGVudGVDVGUiOiBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2EsDQogICAgICAgICAgICAiQ05QSkVtaXRlbnRlQ1RlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmNucGosDQogICAgICAgICAgICAiSUVFbWl0ZW50ZUNUZSI6IEVtaXNzb3JVcmxKc29uQ29udGV4dC5pZS50b1N0cmluZygpLA0KICAgICAgICAgICAgIlJhemFvU29jaWFsTm9tZUVtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW1pc3NvclVybEpzb25Db250ZXh0LnJhemFvX3NvY2lhbCksDQogICAgICAgICAgICAiTm9tZUZhbnRhc2lhQXBlbGlkb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW1pc3NvclVybEpzb25Db250ZXh0Lm5vbWVfZXN0YWJlbGVjaW1lbm90KSwNCiAgICAgICAgICAgICJMb2dyYWRvdXJvRW1pdGVudGVDVGUiOiByZXRpcmFfYWNlbnRvcyhFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQubG9ncmFkb3Vyb19lbXByZXNhKSwNCiAgICAgICAgICAgICJOdW1lcm9Mb2dyYWRvdXJvRW1pdGVudGVDVGUiOiBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQubnVtZXJvX2VtcHJlc2EudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJDb21wbGVtZW50b0xvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5jb21wbGVtZW50b19lbXByZXNhKSwNCiAgICAgICAgICAgICJCYWlycm9Mb2dyYWRvdXJvRW1pdGVudGVDVGUiOiByZXRpcmFfYWNlbnRvcyhFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQuYmFpcnJvX2VtcHJlc2EpLA0KICAgICAgICAgICAgIkNvZE11bmljaXBpb0VtaXRlbnRlQ1RlIjogRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX2liZ2UsDQogICAgICAgICAgICAiTm9tZU11bmljaXBpb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhKSwNCiAgICAgICAgICAgICJDRVBMb2dyYWRvdXJvRW1pdGVudGVDVGUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5jZXBfZW1wcmVzYSksDQogICAgICAgICAgICAiVGVsZWZvbmVFbWl0ZW50ZUNUZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoRW1pc3NvclVybEpzb25Db250ZXh0LnRlbGVmb25lKSwNCiAgICAgICAgICAgICJDb2RpZ29NdW5pY2lwaW9JbmljaW9QcmVzdGFjYW8iOiBvYmouTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICAgICAiTm9tZU11bmljaXBpb0luaWNpb1ByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICAgICAiVUZJbmljaW9QcmVzdGFjYW8iOiBvYmouTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhLA0KICAgICAgICAgICAgIkNvZGlnb011bmljaXBpb0ZpbVByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX2liZ2VfX2Rlc3Rpbm9fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICAgICAiTm9tZU11bmljaXBpb0ZpbVByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhLA0KICAgICAgICAgICAgIlVGRmltUHJlc3RhY2FvIjogb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICAgICAiTW9kYWxpZGFkZSI6IE51bWJlcihvYmoubW9kYWxpZGFkZV9jdGUpLA0KICAgICAgICAgICAgIkNGT1AiOiBnbkNGT1AsDQogICAgICAgICAgICAiRGVzY3JpY2FvQ0ZPUCI6IGduQ0ZPUERlc2MsDQogICAgICAgICAgICAiRm9ybWF0b0ltcHJlc3Nhb0RBQ1RFIjogIk5vcm1hbFJldHJhdG8iLA0KICAgICAgICAgICAgIlNlcmllQ1RlIjogb2JqTnVtU2VyaWVDVGUuU2VyaWUsDQogICAgICAgICAgICAiTnVtZXJvQ1RlIjogb2JqTnVtU2VyaWVDVGUuTnVtZXJvLA0KICAgICAgICAgICAgIkRhdGFFbWlzc2FvIjogdXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiksDQogICAgICAgICAgICAiRmluYWxpZGFkZUVtaXNzYW9DVGUiOiAiQW51bGFjYW8iLA0KICAgICAgICAgICAgIklkZW50aWZpY2Fkb3JHbG9iYWxpemFkbyI6IHJldGlyYV9hY2VudG9zKG9iai5pZGVudGlmaWNhZG9yX2dsb2JhbGl6YWRvX2N0ZV9kZXNjKSwNCiAgICAgICAgICAgICJNb2RhbGlkYWRlVHJhbnNwb3J0ZSI6IG9iai5tb2RhbGlkYWRlX3RyYW5zcG9ydGVfY3RlLA0KICAgICAgICAgICAgIlRpcG9TZXJ2aWNvQ1RlIjogb2JqLnRpcG9fc2Vydmljb19jdGVfY3RlX2Rlc2MsDQogICAgICAgICAgICAiUmVjZWJlZG9yUmV0aXJhIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlY2ViZWRvcl9yZXRpcmFfY3RlX2Rlc2MpLA0KICAgICAgICAgICAgIkRldGFsaGVzUmV0aXJhZGEiOiBvYmouZGV0YWxoZXNfcmV0aXJhZGFfY3RlLA0KICAgICAgICAgICAgIkluZGljYWRvcklFVG9tYWRvciI6IG9iai5FTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSwNCiAgICAgICAgICAgICJSZXNwb25zYXZlbEZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlc3BvbnNhdmVsX2ZyZXRlX2N0ZV9kZXNjKSwNCiAgICAgICAgICAgICJUb21hZG9yQ05QSiI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUsDQogICAgICAgICAgICAiVG9tYWRvcklFIjogb2JqLkVNUGllX2VtcHJlc2FfX3RvbWFkb3JfaWVfY3RlLnRvU3RyaW5nKCkgPT0gJzAnID8gIiIgOiBvYmouRU1QaWVfZW1wcmVzYV9fdG9tYWRvcl9pZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJUb21hZG9yUmF6YW9Tb2NpYWxOb21lIjogb2JqLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX190b21hZG9yX3JhemFvX3NvY2lhbF9ub21lX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yTm9tZUZhbnRhc2lhIjogb2JqLkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fdG9tYWRvcl9ub21lX2ZhbnRhc2lhX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yRm9uZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUHRlbGVmb25lX2VtcHJlc2FfX3RvbWFkb3JfZm9uZV9jdGUpLA0KICAgICAgICAgICAgIlRvbWFkb3JMb2dyYWRvdXJvIjogb2JqLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fdG9tYWRvcl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yTnVtZXJvTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUG51bWVyb19lbXByZXNhX190b21hZG9yX251bWVyb19sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICAgICAiVG9tYWRvckNvbXBsZW1lbnRvTG9ncmFkb3VybyI6IG9iai5FTVBjb21wbGVtZW50b19lbXByZXNhX190b21hZG9yX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIlRvbWFkb3JCYWlycm9Mb2dyYWRvdXJvIjogb2JqLkVNUGJhaXJyb19lbXByZXNhX190b21hZG9yX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX190b21hZG9yX2NvZF9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJUb21hZG9yTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiVG9tYWRvckNFUExvZ3JhZG91cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVBjZXBfZW1wcmVzYV9fdG9tYWRvcl9jZXBfbG9ncmFkb3Vyb19jdGUpLA0KICAgICAgICAgICAgIlRvbWFkb3JVRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiVG9tYWRvckNvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX190b21hZG9yX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiVG9tYWRvck5vbWVQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIlRvbWFkb3JFbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX190b21hZG9yX2VtYWlsX2N0ZSwNCiAgICAgICAgICAgICJDYXJhY3RlcmlzdGljYXNBZFRyYW5zcG9ydGUiOiBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlICE9ICJOQU9TRUxFQ0lPTkFETyIgPyBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlIDogIiIsDQogICAgICAgICAgICAiQ2FyYWN0ZXJpc3RpY2FzQWRTZXJ2aWNvIjogb2JqLmNhcmFjdGVyaXN0aWNhc19hZF9zZXJ2aWNvX2N0ZSwNCiAgICAgICAgICAgICJGdW5jaW9uYXJpb0VtaXNzb3IiOiBvYmouZnVuY2lvbmFyaW9fZW1pc3Nvcl9jdGUsDQogICAgICAgICAgICAiU2lnbGFDb2RGaWxpYWxQb3J0b0VzdGFjYW9BZXJvT3JpZ2VtIjogb2JqLnNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX29yaWdlbV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJTaWdsYUNvZEZpbGlhbFBvcnRvRXN0YWNhb0Flcm9EZXN0aW5vIjogb2JqLnNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX2Rlc3Rpbm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiTXVuaWNpcGlvVUZPcmlnZW1DYWxjRnJldGUiOiByZXRpcmFfYWNlbnRvcyhvYmouTUxPQ211bmljaXBpb19ub21lX19tdW5pY2lwaW9fb3JpZ2VtX2RhX2NhcmdhKSArICcvJyArIG9iai5NTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICAgICAiTXVuaWNpcGlvVUZEZXN0aW5vQ2FsY0ZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EpICsgJy8nICsgb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICAgICAiT2JzZXJ2YWNvZXMiOiBvYmoub2JzZXJ2YWNvZXNfY3RlLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUNOUEoiOiBvYmouRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlSUUiOiBvYmouRU1QaWVfZW1wcmVzYV9fcmVtZXRlbnRlX2llX2N0ZS50b1N0cmluZygpID09ICcwJyA/ICIiIDogb2JqLkVNUGllX2VtcHJlc2FfX3JlbWV0ZW50ZV9pZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJSZW1ldGVudGVSYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlTm9tZUZhbnRhc2lhQXBlbGlkbyI6IG9iai5FTVBub21lX2ZhbnRhc2lhX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX2ZhbnRhc2lhX2FwZWxpZG9fY3RlLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUZvbmUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVB0ZWxlZm9uZV9lbXByZXNhX19yZW1ldGVudGVfZm9uZV9jdGUpLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUxvZ3JhZG91cm8iOiBvYmouRU1QbG9ncmFkb3Vyb19lbXByZXNhX19yZW1ldGVudGVfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlTnVtZXJvTG9ncmFkb3VybyI6IG9iai5FTVBudW1lcm9fZW1wcmVzYV9fcmVtZXRlbnRlX251bWVyb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUJhaXJyb0xvZ3JhZG91cm8iOiBvYmouRU1QYmFpcnJvX2VtcHJlc2FfX3JlbWV0ZW50ZV9iYWlycm9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX19yZW1ldGVudGVfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZU5vbWVNdW5pY2lwaW9Mb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlQ0VQTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUGNlcF9lbXByZXNhX19yZW1ldGVudGVfY2VwX2xvZ3JhZG91cm9fY3RlKSwNCiAgICAgICAgICAgICJSZW1ldGVudGVVRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJSZW1ldGVudGVDb2RQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfaWJnZV9fcmVtZXRlbnRlX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiUmVtZXRlbnRlTm9tZVBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfcGFpc19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJSZW1ldGVudGVFbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX19yZW1ldGVudGVfZW1haWxfY3RlLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb0NOUEoiOiBvYmouRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUsDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvSUUiOiBvYmouRU1QaWVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2llX2N0ZS50b1N0cmluZygpID09ICcwJyA/ICIiIDogb2JqLkVNUGllX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19pZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9SYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvRm9uZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUHRlbGVmb25lX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19mb25lX2N0ZSksDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvTG9ncmFkb3VybyI6IG9iai5FTVBsb2dyYWRvdXJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9OdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvQmFpcnJvTG9ncmFkb3VybyI6IG9iai5FTVBiYWlycm9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9Db2RNdW5pY2lwaW9Mb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX2Rlc3RpbmF0YXJpb19jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9DRVBMb2dyYWRvdXJvIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmouRU1QY2VwX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jZXBfbG9ncmFkb3Vyb19jdGUpLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb1VGTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX3VmX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb0NvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX19kZXN0aW5hdGFyaW9fY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9Ob21lUGFpc0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb0VtYWlsIjogb2JqLkVNUGVtYWlsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19lbWFpbF9jdGUsDQogICAgICAgICAgICAiVmFsb3JUb3RhbFByZXN0YWNhb1NlcnZpY29zIjogb2JqLnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUsDQogICAgICAgICAgICAiVmFsb3JSZWNlYmVyIjogb2JqLnZhbG9yX3JlY2ViZXJfY3RlLA0KICAgICAgICAgICAgIkNTVCI6IG9iai5jc3RfY3RlX2Rlc2MgPT09ICI5MCAtIE91dHJhcyBPcGVyYcOnw7JlcyIgPyAiT3V0cmFVRiIgOiBvYmouY3N0X2N0ZSwNCiAgICAgICAgICAgICJWYWxvckJhc2VDYWxjIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19jdGUsDQogICAgICAgICAgICAiUGVyY0lDTVMiOiBvYmoucGVyY19pY21zX2N0ZSwNCiAgICAgICAgICAgICJWYWxvcklDTVMiOiBvYmoudmFsb3JfaWNtc19jdGUsDQogICAgICAgICAgICAiUGVyY1JlZHVjYW9CYXNlQ2FsYyI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX2N0ZSA/IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX2N0ZSA6IDAsDQogICAgICAgICAgICAiVmFsb3JCYXNlQ2FsY1NUUmV0aWRvIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19zdF9yZXRpZG9fY3RlLA0KICAgICAgICAgICAgIlZhbG9ySUNNU1NUUmV0aWRvIjogb2JqLnZhbG9yX2ljbXNfc3RfcmV0aWRvX2N0ZSwNCiAgICAgICAgICAgICJQZXJjSUNNU1NUUmV0aWRvIjogb2JqLmFsaXF1b3RhX2ljbXNfc3RfcmV0aWRvLA0KICAgICAgICAgICAgIlZhbG9yQ3JlZGl0byI6IG9iai52YWxvcl9jcmVkaXRvX2N0ZSwNCiAgICAgICAgICAgICJQZXJjUmVkdWNhb0Jhc2VDYWxjT3V0cmFVRiI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX291dHJhX3VmX2N0ZSA/IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX291dHJhX3VmX2N0ZSA6IDAsDQogICAgICAgICAgICAiVmFsb3JCYXNlQ2FsY091dHJhVUYiOiBvYmoudmFsb3JfYmFzZV9jYWxjX291dHJhX3VmX2N0ZSwNCiAgICAgICAgICAgICJQZXJjSUNNU091dHJhVUYiOiBvYmoucGVyY19pY21zX291dHJhX3VmX2N0ZSwNCiAgICAgICAgICAgICJWYWxvcklDTVNPdXRyYVVGIjogb2JqLnZhbG9yX2ljbXNfb3V0cmFfdWZfY3RlLA0KICAgICAgICAgICAgIkNvbnRyaWJ1aW50ZVNpbXBsZXNOYWNpb25hbCI6IG9iai5FTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGVfZGVzYywNCiAgICAgICAgICAgICJWYWxvclRvdGFsVHJpYnV0b3MiOiBvYmoudmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlLA0KICAgICAgICAgICAgIlZhbG9yQmFzZUNhbGNVRkZpbSI6IG9iai52YWxvcl9iYXNlX2NhbGNfdWZfZmltX2N0ZSwNCiAgICAgICAgICAgICJQZXJjRkNQVUZGaW0iOiBvYmoucGVyY19mY3BfdWZfZmltX2N0ZSwNCiAgICAgICAgICAgICJQZXJjSUNNU1VGRmltIjogb2JqLnBlcmNfaWNtc191Zl9maW1fY3RlLA0KICAgICAgICAgICAgIkFsaXF1b3RhSW50ZXJlc3RhZHVhbCI6IG9iai5hbGlxdW90YV9pbnRlcl9lc3RhZHVhbF9jdGUsDQogICAgICAgICAgICAiUGVyY1Byb3Zpc29yaW9QYXJ0aWxoYSI6IG9iai5wZXJjX3Byb3Zpc29yaW9fcGFydGlsaGFfY3RlID8gb2JqLnBlcmNfcHJvdmlzb3Jpb19wYXJ0aWxoYV9jdGUgOiAwLA0KICAgICAgICAgICAgIlZhbG9yRkNQVUZGaW0iOiBvYmoudmFsb3JfZmNwX3VmX2ZpbV9jdGUsDQogICAgICAgICAgICAiVmFsb3JJQ01TVUZGaW0iOiBvYmoudmFsb3JfaWNtc191Zl9maW1fY3RlLA0KICAgICAgICAgICAgIlZhbG9ySUNNU1VGSW5pIjogb2JqLnZhbG9yX2ljbXNfdWZfaW5pX2N0ZSwNCiAgICAgICAgICAgICJWYWxvclRvdGFsQ2FyZ2EiOiBvYmoudmFsb3JfdG90YWxfY2FyZ2FfY3RlLA0KICAgICAgICAgICAgIlByb2R1dG9QcmVkb21pbmFudGUiOiByZXRpcmFfYWNlbnRvcyhvYmouUFBUZGVzY3JpY2FvX2RvX3Byb2R1dG9fX3Byb2R1dG9fcHJlZG9taW5hbnRlX2N0ZSksDQogICAgICAgICAgICAiT3V0cmFzQ2FyYWN0ZXJpc3RjYXNDYXJnYSI6IG9iai5DQ0djYXJhY3RlcmlzdGljYV9kYV9jYXJnYV9fb3V0cmFzX2NhcmFjdGVyaXN0Y2FzX2NhcmdhX2N0ZSwNCiAgICAgICAgICAgICJDT1RNIjogb2JqLmNvdG1fY3RlLA0KICAgICAgICAgICAgIkluZGljYWRvck5lZ29jaWF2ZWwiOiBJbmRpY2Fkb3JOZWdvY2lhdmVsLA0KICAgICAgICAgICAgIk5vbWVTZWd1cmFkb3JhIjogb2JqLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhLA0KICAgICAgICAgICAgIkNOUEpTZWd1cmFkb3JhIjogb2JqLkVNUGNucGpfZW1wcmVzYV9fY25wal9zZWd1cmFkb3JhX2N0ZSwNCiAgICAgICAgICAgICJOdW1lcm9BcG9saWNlIjogb2JqLm51bWVyb19hcG9saWNlX2N0ZSwNCiAgICAgICAgICAgICJOdW1lcm9BdmVyYmFjYW8iOiBvYmoubnVtZXJvX2F2ZXJiYWNhb19jdGUsDQogICAgICAgICAgICAiSW5mb3JtYWNvZXNBZGljaW9uYWlzRmlzY28iOiBvYmoubW90aXZvX2FudWxhY2FvX2N0ZSA/IG9iai5tb3Rpdm9fYW51bGFjYW9fY3RlIDogIiIsDQogICAgICAgICAgICAiQ2hhdmVDVGVPcmlnaW5hbEFTZXJBbnVsYWRvU3Vic3RpdHVpZG8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5jaGF2ZV9jdGVfY3RlKSwNCiAgICAgICAgICAgICJEYXRhRW1pc3Nhb0RlY2xhcmFjYW9Ub21hZG9yIjogZGF0YS5kYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZQ0KICAgICAgICB9Ow0KDQogICAgICAgIHJldHVybiBlbnZpb2N0ZU9ianRtcDsNCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgbGV0IG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgJ25leHQnOiBmYWxzZQ0KICAgICAgICB9DQogICAgICAgIGJ1c2Nhck51bWVyYWNhbyhvYmosIEVtaXNzb3JbMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBFZmV0dWFNZW5zYWdlcmlhKG9iaiwgb2JqZW52aW8sIHRva2VuT2JqLCBnbnVybCkgew0KICAgIGxldCBzdHJSZXNwQ1RlID0gIiI7DQogICAgYWpheCh7DQogICAgICAgIHVybDogZ251cmwsDQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgIGFzc2lkOiBvYmouYXNzaWQsDQogICAgICAgIHVzcmlkOiBvYmoudXNyaWQsDQogICAgICAgIGZlZGlkOiBvYmouZmVkaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG9iamVudmlvKSwNCiAgICAgICAgYXV0aG9yaXphdGlvbjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgdHlwZTogImJlYXJlciIsDQogICAgICAgICAgICB2YWx1ZTogdG9rZW5PYmoudG9rZW4NCiAgICAgICAgfSksDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgc3RyUmVzcENUZSA9IGRhdGE7DQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgc3RyUmVzcENUZSA9IGV4Y2VwdGlvbjsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3BDVGUpOw0KfQ0KDQpmdW5jdGlvbiBHcmF2YUV2ZW50byhwSURfT05FX1JFRiwgdGlwb2V2ZW50bywgcHByb3RvY29sbywgcGNoYXZlLCBwYXNzaWQsIHB1c3JpZCkgew0KICAgIGxldCBmZHRfZXZlbnRvID0gIjRkNjI0ODkzLWJiM2MtNGRkZi04MmVlLWE3OTE4ZjU2MmExMSI7DQogICAgbGV0IG9iamV2ZW50byA9IHsNCiAgICAgICAgSURfT05FX1JFRjogcElEX09ORV9SRUYsDQogICAgICAgIGRhdGFob3JhX2RvX2V2ZW50b19jdGU6IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpLA0KICAgICAgICB0aXBvX2RvX2V2ZW50b19jdGU6IHRpcG9ldmVudG8sDQogICAgICAgIHByb3RvY29sb19ldmVudG9fY3RlOiBwcHJvdG9jb2xvLA0KICAgICAgICBjaGF2ZV9ldmVudG9fY3RlOiBwY2hhdmUNCiAgICB9Ow0KICAgIHNlbmRJdGVtVG9PbmVyZ3koZmR0X2V2ZW50bywgcGFzc2lkLCBwdXNyaWQsIG9iamV2ZW50byk7DQogICAgcmV0dXJuDQp9DQoNCmZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgYXNzaWQsIHVzcmlkLCBkYXRhLCBmZWRpZCwgdWtGaWVsZCkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCg0KICAgIGlmIChmZWRpZCAhPT0gdW5kZWZpbmVkICYmIGZlZGlkICE9PSAnJykgew0KICAgICAgICBvbmVyZ3lTYXZlRGF0YS5pZCA9IGZlZGlkOw0KICAgIH0NCiAgICBpZiAodWtGaWVsZCAhPT0gdW5kZWZpbmVkICYmIHVrRmllbGQgIT09ICcnKSB7DQogICAgICAgIG9uZXJneVNhdmVEYXRhLnVrRmllbGQgPSB1a0ZpZWxkOw0KICAgIH0NCiAgICByZXR1cm4gb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQpmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBzdHJSZXNwID0gb25lcmd5X2dldCh7DQogICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGZpbHRlcjogZmlsdHJvDQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcCk7DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgbGV0IHN0cnJldCA9IHN0cnJlYy50b1N0cmluZygpLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgIHJldHVybiBzdHJyZXQ7DQp9DQoNCmZ1bmN0aW9uIHJldGlyYV9hY2VudG9zKHN0cikgew0KICAgIGxldCBjb21fYWNlbnRvID0gIsOAw4HDgsODw4TDhcOGw4fDiMOJw4rDi8OMw43DjsOPw5DDkcOSw5PDlMOVw5bDmMOZw5rDm8Ocw53FlMOew5/DoMOhw6LDo8Okw6XDpsOnw6jDqcOqw6vDrMOtw67Dr8Oww7HDssOzw7TDtcO2w7jDucO6w7vDvMO9w77Dv8WVIjsNCiAgICBsZXQgc2VtX2FjZW50byA9ICJBQUFBQUFBQ0VFRUVJSUlJRE5PT09PT09VVVVVWVJzQmFhYWFhYWFjZWVlZWlpaWlvbm9vb29vb3V1dXV5YnlyIjsNCiAgICBsZXQgbm92YXN0ciA9ICIiOw0KICAgIGlmIChzdHIpIHsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdHJvY2EgPSBmYWxzZTsNCiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBjb21fYWNlbnRvLmxlbmd0aDsgYSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHN0ci5zdWJzdHIoaSwgMSkgPT0gY29tX2FjZW50by5zdWJzdHIoYSwgMSkpIHsNCiAgICAgICAgICAgICAgICAgICAgbm92YXN0ciArPSBzZW1fYWNlbnRvLnN1YnN0cihhLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgdHJvY2EgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHJvY2EgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgbm92YXN0ciArPSBzdHIuc3Vic3RyKGksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBub3Zhc3RyOw0KfQ0KDQpmdW5jdGlvbiByZXRpcmFlc3BhY29zKHN0cmNvbWVzcGFjbykgew0KICAgIGxldCBzdHJzZW1lc3BhY28gPSBzdHJjb21lc3BhY28udG9TdHJpbmcoKS5yZXBsYWNlKC9ccy9nLCAnJyk7DQogICAgcmV0dXJuIHN0cnNlbWVzcGFjbzsNCn0NCg0KZnVuY3Rpb24gQ3JpYU9iamV0b0dyYXZhY2FvQ1RlQW51bGFjYW8oZGF0YSwgb2Jqb3JpZ2luYWwsIG9iamVtaXRpZG8pIHsNCiAgICBsZXQgb2JqQ1RFQW51bGFkYSA9IEpTT04uc3RyaW5naWZ5KG9iam9yaWdpbmFsKTsNCiAgICBvYmpDVEVBbnVsYWRhID0gSlNPTi5wYXJzZShvYmpDVEVBbnVsYWRhKTsNCiAgICBsZXQgZ25DRk9QID0gIiI7DQogICAgbGV0IElkQ0ZPUCA9ICIiOw0KICAgIGxldCBEZXNjckNGT1AgPSAiQW51bGHDp8OjbyBkZSB2YWxvciByZWxhdGl2byDDoCBwcmVzdGHDp8OjbyBkZSBzZXJ2acOnbyBkZSB0cmFuc3BvcnRlIjsNCiAgICBpZiAob2Jqb3JpZ2luYWwuRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSA9PT0gb2Jqb3JpZ2luYWwuRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb191Zl9sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkNGT1AgPSAiMTIwNiI7DQogICAgICAgIElkQ0ZPUCA9ICJjZmRiY2NlNi1jNWZiLTQxODYtOWQ4NC0xMGVlNzg4YjI0M2MiOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGduQ0ZPUCA9ICIyMjA2IjsNCiAgICAgICAgSWRDRk9QID0gIjEzZDhhYTdkLWM1NmMtNDM0Yi05Y2IwLWM2N2I5NzI4NmNiMiI7DQogICAgfQ0KDQogICAgdmFyIGZpbGV0ZW1wID0gZmlsZXV0aWxzLkNyZWF0ZUZpbGUob2JqZW1pdGlkby5vYmpzLmpzb25BdXRvcml6YWRvLCAiLnhtbCIpOw0KICAgIHZhciB1cmx4bWwgPSBmaWxldXRpbHMuVXBsb2FkRmlsZShmaWxldGVtcCk7DQogICAgdmFyIGpzb25jdGUgPSBmaWxldXRpbHMuQ29udmVydFhtbFVybFRvSnNvbih1cmx4bWwpOw0KDQogICAgb2JqQ1RFQW51bGFkYS5wb3NzdWlfZGVjbGFyYWNhbyA9IGRhdGEucG9zc3VpX2RlY2xhcmFjYW87DQogICAgb2JqQ1RFQW51bGFkYS5wb3NzdWlfZGVjbGFyYWNhb19kZXNjID0gZGF0YS5wb3NzdWlfZGVjbGFyYWNhb19kZXNjOw0KICAgIG9iakNURUFudWxhZGEudXJsX3BkZl9jdGUgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLmxvZ19tb3Rvcl9kZV9jYWxjdWxvID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5tb3Rpdm9fYW51bGFjYW9fY3RlID0gZGF0YS5tb3Rpdm9fYW51bGFjYW9fY3RlOw0KICAgIG9iakNURUFudWxhZGEubnVtZXJvX2N0ZV9hbnVsYWRvX2N0ZSA9IG9iam9yaWdpbmFsLm51bWVyb19jdGVfY3RlOw0KICAgIG9iakNURUFudWxhZGEuc2VyaWVfY3RlX2FudWxhZG9fY3RlID0gb2Jqb3JpZ2luYWwuc2VyaWVfY3RlX2N0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLmNoYXZlX2RvX2N0ZV9hbnVsYWRvX2N0ZSA9IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2Jqb3JpZ2luYWwuY2hhdmVfY3RlX2N0ZSk7DQogICAgb2JqQ1RFQW51bGFkYS5kYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZSA9IGRhdGEuZGF0YV9kZV9lbWlzc2FvX2RhX2RlY2xhcmFjYW9fZG9fdG9tYWRvcl9jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5kYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZURhdGUgPSBkYXRhLmRhdGFfZGVfZW1pc3Nhb19kYV9kZWNsYXJhY2FvX2RvX3RvbWFkb3JfY3RlRGF0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLm1vdGl2b19hbnVsYWNhb19jdGUgPSBkYXRhLm1vdGl2b19hbnVsYWNhb19jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5jaGF2ZV9jdGVfY3RlID0gb2JqZW1pdGlkby5vYmpzLmNoYXZlQWNlc3NvQ1RlOw0KICAgIG9iakNURUFudWxhZGEubnVtZXJvX2N0ZV9jdGUgPSBvYmplbWl0aWRvLm9ianMubnVtZXJvQ1RlOw0KICAgIG9iakNURUFudWxhZGEuc2VyaWVfY3RlX2N0ZSA9IG9iamVtaXRpZG8ub2Jqcy5zZXJpZUNUZTsNCiAgICBvYmpDVEVBbnVsYWRhLmRhdGFfZW1pc3Nhb19jdGVEYXRlID0gb2JqZW1pdGlkby5vYmpzLmRhdGFFbWlzc2FvOw0KICAgIG9iakNURUFudWxhZGEuZGF0YV9lbWlzc2FvX2N0ZSA9IG9iamVtaXRpZG8ub2Jqcy5kYXRhRW1pc3NhbzsNCiAgICBvYmpDVEVBbnVsYWRhLnN0YXR1c19jdGVfY3RlID0gJ2VtaXRpZG8nOw0KICAgIG9iakNURUFudWxhZGEuc3RhdHVzX2N0ZV9jdGVfZGVzYyA9ICdFbWl0aWRvJzsNCiAgICBvYmpDVEVBbnVsYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID0gb2JqZW1pdGlkby5vYmpzLmZpbmFsaWRhZGVFbWlzc2FvQ1RlLnRvTG93ZXJDYXNlKCk7DQogICAgb2JqQ1RFQW51bGFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZV9kZXNjID0gb2JqZW1pdGlkby5vYmpzLmZpbmFsaWRhZGVFbWlzc2FvQ1RlOw0KICAgIG9iakNURUFudWxhZGEuQ0ZPUF9jZm9wX2N0ZV9pZCA9IElkQ0ZPUDsNCiAgICBvYmpDVEVBbnVsYWRhLkNGT1BfY29kaWdvX2Nmb3BfX2Nmb3BfY3RlID0gZ25DRk9QOw0KICAgIG9iakNURUFudWxhZGEuQ0ZPUF9kZXNjcmljYW9fY2ZvcCA9IERlc2NyQ0ZPUDsNCiAgICBvYmpDVEVBbnVsYWRhLkNURUdlcmFkYVBhcmFNREZFID0gJ25hbyc7DQogICAgb2JqQ1RFQW51bGFkYS5qc29uX2F1dG9yaXphY2FvX3NlZmF6X2N0ZSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlID0gIk5BT1NFTEVDSU9OQURPIjsNCiAgICBvYmpDVEVBbnVsYWRhLmNhcmFjdGVyaXN0aWNhc19hZF90cmFuc3BvcnRlX2N0ZV9kZXNjID0gIk7Do28gU2VsZWNpb25hZG8iOw0KICAgIG9iakNURUFudWxhZGEuYW5leG9fYW51bGFjYW9fY3RlID0gZGF0YS5hbmV4b19hbnVsYWNhb19jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5udW1lcm9fY3RlX29yaWdpbmFsX2N0ZSA9IG9iam9yaWdpbmFsLm51bWVyb19jdGVfY3RlOw0KICAgIG9iakNURUFudWxhZGEuc2VyaWVfY3RlX29yaWdpbmFsX2N0ZSA9IG9iam9yaWdpbmFsLnNlcmllX2N0ZV9jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5jaGF2ZV9jdGVfb3JpZ2luYWxfY3RlID0gb2Jqb3JpZ2luYWwuY2hhdmVfY3RlX2N0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLmNoYXZlX2N0ZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLmNoYXZlX25mZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLlRQUmNvZGlnb190cHJfX3RhYmVsYV9kZV9wcmVjb19pdGVucyA9IFtdOw0KICAgIG9iakNURUFudWxhZGEuVFBSaXRlbnNfdGFiZWxhX2RlX3ByZWNvX2lkID0gW107DQogICAgb2JqQ1RFQW51bGFkYS5UUFJkZXNjcmljYW9fX2l0ZW5zX3RhYmVsYV9kZV9wcmVjbyA9IFtdOw0KICAgIG9iakNURUFudWxhZGEuVFBSZGVzY3JpY2FvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5UUFJ0YWJlbGFfZGVfcHJlY29faWQgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLnVybF94bWwgPSB1cmx4bWw7DQogICAgb2JqQ1RFQW51bGFkYS5ndWlhc19kb290YXggPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLmluZm9ybWFyID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5pbmZvcm1hcl9kZXNjID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5sb2dfY3RlID0gJyc7DQogICAgb2JqQ1RFQW51bGFkYS5hcnF1aXZvX2ducmUgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLnVybEdOUkUgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLnBhZ2FtZW50b0dOUkUgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLnByb3RvY29sb19jdGVfY3RlID0gb2JqZW1pdGlkby5vYmpzLnByb3RvY29sb0F1dG9yaXphY2FvOw0KICAgIG9iakNURUFudWxhZGEuT1ZTRmRhdGFfZGVfZmF0dXJhbWVudG9fb3JkZW1fZGVfdmVuZGEgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLk9WU0ZkYXRhX2RlX3ZlbmNpbWVudG9fZGFfcGFyY2VsYSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuT1ZTRm51bWVyb19vcmRlbV9kZV92ZW5kYSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuT1ZTRm51bWVyb19vcmRlbV9kZV92ZW5kYV9fb3JkZW1fZGVfdmVuZGEgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLk9WU0ZzZl9vdl9pZCA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuZmF0dXJhbWVudG9fcGVuZGVudGUgPSAibmFvIjsNCiAgICBvYmpDVEVBbnVsYWRhLmZhdHVyYW1lbnRvX3BlbmRlbnRlX2Rlc2MgPSAiTsOjbyI7DQogICAgb2JqQ1RFQW51bGFkYS5mYXR1cmFkb19jdGUgPSAibmFvIjsNCiAgICBvYmpDVEVBbnVsYWRhLmZhdHVyYWRvX2N0ZV9kZXNjID0gIk7Do28iOw0KICAgIG9iakNURUFudWxhZGEubnVtZXJvX2RhX2ZhdHVyYV9jdGUgPSAwOw0KICAgIG9iakNURUFudWxhZGEudmFsb3Jfb3JpZ2luYWxfZmF0dXJhX2N0ZSA9IDA7DQogICAgb2JqQ1RFQW51bGFkYS52YWxvcl9kZXNjb250b19mYXR1cmFfY3RlID0gMDsNCiAgICBvYmpDVEVBbnVsYWRhLnZhbG9yX2xpcXVpZG9fZmF0dXJhX2N0ZSA9IDA7DQoNCiAgICByZXR1cm4gb2JqQ1RFQW51bGFkYTsNCn0NCg0KZnVuY3Rpb24gRW52aWFyRW1haWxTSVMoZGF0YSwgVGVtcGxhdGVFbWFpbCwgdXJsWE1MLCBGaW5hbGlkYWRlLCBudW1lcm9DVEUsIGNvbnRldWRvKSB7DQogICAgbGV0IGVtaXNzYW9EZUNURUVtYWlsSUQgPSBUZW1wbGF0ZUVtYWlsOw0KICAgIGxldCBlbWFpbFNpcyA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoImVtYWlsX1NJUyIpOw0KICAgIGxldCBjb250ZXVkb0lEID0gbnVsbDsNCiAgICB2YXIgdGVtcGxhdGVDb250ZXVkb0VtYWlsID0gJzE3MGQ3ZGQxLWQ0MmUtNDA2NC1hY2Y5LTlhN2M3MjI2MWFjYyc7DQogICAgLy8gc2UgbyBlbWFpbCB0aXZlciBjb250ZcO6ZG8sIGV1IHNhbHZvIGVtIHVtIHRlbXBsYXRlIHBhcmEgc2VyIHVzYWRvIG5vIGVtYWlsLg0KICAgIGlmIChjb250ZXVkbykgew0KICAgICAgICBjb250ZXVkb0lEID0gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZUNvbnRldWRvRW1haWwsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBjb250ZXVkbyk7DQogICAgfQ0KDQogICAgbGV0IEFuZXhvcyA9IFt7DQogICAgICAgICJVcmwiOiB1cmxYTUwsDQogICAgICAgICJVcmxBenVyZSI6IHVybFhNTCwNCiAgICAgICAgIk5hbWUiOiBgWE1MXyR7RmluYWxpZGFkZX1fQ1RFXyR7bnVtZXJvQ1RFfS54bWxgDQogICAgfV07DQoNCiAgICBzZW5kbWFpbCh7DQogICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgIGlkOiBjb250ZXVkb0lELA0KICAgICAgICB0bXBpZDogZW1pc3Nhb0RlQ1RFRW1haWxJRCwNCiAgICAgICAgZW1haWxfdG86IGVtYWlsU2lzLA0KICAgICAgICBsc3RBbmV4b3M6IEpTT04uc3RyaW5naWZ5KEFuZXhvcykNCiAgICB9KTsNCn0NCg0KZnVuY3Rpb24gYnVzY2FyTnVtZXJhY2FvKGRhdGEsIGVzdGFiZWxlY2ltZW50bywgY2FsbGJhY2ssIGNhbGxiYWNrT0JKKSB7DQogICAgbGV0IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlID0gIjIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZiI7DQogICAgaWYgKCFjYWxsYmFjaykgew0KICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IDMwOyBzKyspIHsNCiAgICAgICAgICAgIGxldCBleGlzdCA9IG1lbW9yeS5UcnlBZGQoZXN0YWJlbGVjaW1lbnRvLCBlc3RhYmVsZWNpbWVudG8sIDIwKTsNCiAgICAgICAgICAgIGlmIChleGlzdCB8fCBzID09IDI5KSB7DQogICAgICAgICAgICAgICAgbGV0IEZpbHRyb1VuaWRhZGVFbWlzc2FvID0gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBlc3RhYmVsZWNpbWVudG8gfV0pOw0KICAgICAgICAgICAgICAgIGxldCBvYmpFc3RhYmVsZWNpbWVudG8gPSBnZXRPbmVyZ3lJdGVtKGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBGaWx0cm9VbmlkYWRlRW1pc3Nhbyk7DQogICAgICAgICAgICAgICAgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsDQogICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZSc6ICdwcm9jZXNzYW5kbycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlX2Rlc2MnOiAnUFJPQ0VTU0FORE8nDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgJ051bWVybyc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fc2VxdWVuY2lhbF9kb19jdGUsDQogICAgICAgICAgICAgICAgICAgICdTZXJpZSc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fZGFfc2VyaWVfZG9fY3RlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB1dGlscy5zbGVlcCg1MDAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGlmIChjYWxsYmFja09CSi5zdGF0dXMgPT0gJ09LJykgew0KICAgICAgICAgICAgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZSc6ICdkaXNwb25pdmVsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZV9kZXNjJzogJ0RJU1BPTsONVkVMJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm9fc2VxdWVuY2lhbF9kb19jdGUnOiBjYWxsYmFja09CSi5udW1lcm8gKyAxDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIG1lbW9yeS5SZW1vdmUoZXN0YWJlbGVjaW1lbnRvKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmIChjYWxsYmFja09CSi5uZXh0KSB7DQogICAgICAgICAgICAgICAgb2JqRXN0YWJlbGVjaW1lbnRvID0gZ2V0T25lcmd5SXRlbShlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgRmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KICAgICAgICAgICAgICAgIG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtZXJvX3NlcXVlbmNpYWxfZG9fY3RlJzogb2JqRXN0YWJlbGVjaW1lbnRvWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19zZXF1ZW5jaWFsX2RvX2N0ZSArIDENCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIGlkOiBlc3RhYmVsZWNpbWVudG8NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAnTnVtZXJvJzogb2JqRXN0YWJlbGVjaW1lbnRvWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19zZXF1ZW5jaWFsX2RvX2N0ZSArIDEsDQogICAgICAgICAgICAgICAgICAgICdTZXJpZSc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fZGFfc2VyaWVfZG9fY3RlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxsYmFja09CSi5EdXBsaWNpZGFkZSkgew0KICAgICAgICAgICAgICAgIG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGUnOiAnZGlzcG9uaXZlbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlX2Rlc2MnOiAnRElTUE9Ow41WRUwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm9fc2VxdWVuY2lhbF9kb19jdGUnOiBjYWxsYmFja09CSi5udW1lcm8gKyAxDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgbWVtb3J5LlJlbW92ZShlc3RhYmVsZWNpbWVudG8pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlJzogJ2Rpc3Bvbml2ZWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZV9kZXNjJzogJ0RJU1BPTsONVkVMJywNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIGlkOiBlc3RhYmVsZWNpbWVudG8NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBtZW1vcnkuUmVtb3ZlKGVzdGFiZWxlY2ltZW50byk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQo=" }, { "name": "(CTE) - Anulaco.js", "isDirectory": false, "__KEY__": "957e3bc6-0dd3-d543-c2ce-51e4d553a23b", "size": 45443, "dateModified": "2024-03-05T13:16:27.451Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQphc3luYyBmdW5jdGlvbiBpbml0KGpzb24pIHsNCiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQogICAgbGV0IHRlbXBsYXRlaWRDVGUgPSAiYmI1NTVhYTQtMjUzNi00YWMwLWE0OGItMGJmZjIzNGFhNzk5IjsNCiAgICBsZXQgQ2FyZFVuaWRhZGVFbWlzc2FvID0gIjIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZiI7DQogICAgbGV0IENhcmRFbmRlcmVjb1VuaWRhZGVFbWlzc2FvID0gIjhkZTg4NjkyLTA4MGYtNDRmZS05ZjBjLTI5YzhlYTUzN2Y0ZiI7DQoNCiAgICBsZXQgZmlsdHJvX2lkX2N0ZSA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgeyBGaWVsTmFtZTogIl9pZCIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEuSURfT05FX1JFRiB9DQogICAgXSk7DQogICAgbGV0IG9iamN0ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZENUZSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb19pZF9jdGUpOw0KDQogICAgLy9VbmlkYWRlIGRlIEVtaXNzw6NvDQogICAgbGV0IEZpbHRyb1VuaWRhZGVFbWlzc2FvID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICB7IEZpZWxOYW1lOiAiX2lkIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogb2JqY3RlWzBdLlVybEpzb25Db250ZXh0LkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQgfQ0KICAgIF0pOw0KICAgIGxldCBPYmpVbmlkYWRlRW1pc3NhbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oQ2FyZFVuaWRhZGVFbWlzc2FvLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KDQogICAgLy9FbmRlcmXDp28gZGEgVW5pZGFkZSBFbWlzc8Ojbw0KICAgIGxldCBGaWx0cm9FbmRlcmVjb1VuaWRhZGVFbWlzc2FvID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IE9ialVuaWRhZGVFbWlzc2FvWzBdLklEIH0NCiAgICBdKTsNCiAgICBsZXQgT2JqRW5kZXJlY29VbmlkYWRlRW1pc3NhbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oQ2FyZEVuZGVyZWNvVW5pZGFkZUVtaXNzYW8sIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBGaWx0cm9FbmRlcmVjb1VuaWRhZGVFbWlzc2FvKTsNCg0KICAgIGlmIChvYmpjdGUgIT09IG51bGwpIHsNCiAgICAgICAgdmFyIHJlZ2lzdHJvQ1RlID0gb2JqY3RlWzBdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICBsZXQgZXJybyA9IGZhbHNlOw0KICAgICAgICBsZXQgbG9nRXJybyA9ICcnOw0KICAgICAgICBpZiAocmVnaXN0cm9DVGUuc3RhdHVzX2N0ZV9jdGUgPT09ICJlbWl0aWRvIiAmJiByZWdpc3Ryb0NUZS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PT0gIm5vcm1hbCIgJiYgZGF0YS5tb3Rpdm9fYW51bGFjYW9fY3RlICE9PSBudWxsICYmIGRhdGEubW90aXZvX2FudWxhY2FvX2N0ZSAhPT0gIiIpIHsNCiAgICAgICAgICAgIGxldCB0b2tlbk9iaiA9IGF3YWl0IFBlZ2FUb2tlbihyZWdpc3Ryb0NUZSk7DQogICAgICAgICAgICBpZiAodG9rZW5PYmoudG9rZW4gIT09IG51bGwgJiYgdG9rZW5PYmoudG9rZW4gIT09ICIiKSB7DQogICAgICAgICAgICAgICAgdmFyIGVudmlvYW51bGFjYW9jdGVPYmogPSBhd2FpdCBDcmlhT2JqZXRvQW51bGFjYW9DdGUocmVnaXN0cm9DVGUsIGRhdGEsIE9ialVuaWRhZGVFbWlzc2FvLCBPYmpFbmRlcmVjb1VuaWRhZGVFbWlzc2FvKTsNCiAgICAgICAgICAgICAgICBpZiAoZW52aW9hbnVsYWNhb2N0ZU9iaikgew0KICAgICAgICAgICAgICAgICAgICBsZXQgdXJsYW51bGFjYW8gPSAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvQ1RlL0FudWxhckNUZSI7DQogICAgICAgICAgICAgICAgICAgIGxldCByZXNwb3N0YU1lbnNhZ2VyaWEgPSBhd2FpdCBFZmV0dWFNZW5zYWdlcmlhKHJlZ2lzdHJvQ1RlLCBlbnZpb2FudWxhY2FvY3RlT2JqLCB0b2tlbk9iaiwgdXJsYW51bGFjYW8pOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLnN0YXR1cyA9PSA0MDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkQ1RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVnaXN0cm9DVGUuZmVkaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbG9nX2N0ZSc6IGBFcnJvIG5hIGV4ZWN1w6fDo286JHtKU09OLnN0cmluZ2lmeShyZXNwb3N0YU1lbnNhZ2VyaWEuZXJyb3JzKX1gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9EZWl4YSBhIG51bWVyYcOnw6NvIGRpc3BvbsOtdmVsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJzogJ05PSycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEdXBsaWNpZGFkZSc6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCwgdHJ1ZSwgb2JqQ2FsbEJhY2spOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCBkYXRhLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhICE9PSBudWxsICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLm9ianMucHJvdG9jb2xvQXV0b3JpemFjYW8gIT09ICIiICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLmNoYXZlQWNlc3NvQ1RlICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRGVpeGEgYSBQcm94aW1hIE7Dum1lcmFjYW8gRGlzcG9uw612ZWwuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJzogJ09LJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ251bWVybyc6IGVudmlvYW51bGFjYW9jdGVPYmouTnVtZXJvQ1RlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCwgdHJ1ZSwgb2JqQ2FsbEJhY2spOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYXZhIG8gRXZlbnRvIG5vIENUZSBBbnVsYWRvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgR3JhdmFFdmVudG8oZGF0YS5JRF9PTkVfUkVGLCAiQW51bGHDp8OjbyIsIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnByb3RvY29sb0F1dG9yaXphY2FvLCByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5jaGF2ZUFjZXNzb0NUZSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JhdmFjdGVlbWl0aWRvID0gQ3JpYU9iamV0b0dyYXZhY2FvQ1RlQW51bGFjYW8oZGF0YSwgcmVnaXN0cm9DVGUsIHJlc3Bvc3RhTWVuc2FnZXJpYSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0dyYXZhIG8gTm92byBDVC1lICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IElkc2Fsdm8gPSBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRDVGUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBncmF2YWN0ZWVtaXRpZG8sICIiLCAiIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZHNhbHZvID0gSlNPTi5wYXJzZShJZHNhbHZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkQ1RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogSWRzYWx2bywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ1cmxfcGRmX2N0ZSI6IGBodHRwczovL29uZXJneWRvY3MuYXp1cmV3ZWJzaXRlcy5uZXQvIy9kb2N1bWVudG9zL2RhY3RlLyR7ZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkfS8ke2RhdGEub25lcmd5X2pzX2N0eC51c3JpZH0vJHtJZHNhbHZvfS8ke3RlbXBsYXRlaWRDVGV9YA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYXZhIG8gRXZlbnRvIG5vIENUZSBkZSBBbnVsYcOnw6NvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgR3JhdmFFdmVudG8oSWRzYWx2bywgIkF1dG9yaXphw6fDo28iLCByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5wcm90b2NvbG9BdXRvcml6YWNhbywgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuY2hhdmVBY2Vzc29DVGUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR1YWxpemEgb3MgRGFkb3MgZG8gQ1RlIEFudWxhZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkQ1RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVnaXN0cm9DVGUuZmVkaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhdHVzX2N0ZV9jdGUiOiAiYW51bGFkbyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXR1c19jdGVfY3RlX2Rlc2MiOiAiQW51bGFkbyINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRW1haWwgU0lTDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVtYWlsQW51bGFjYW9JRCA9ICc0ZjNlNWZiMy1kYjFiLTQ2ZGMtYTc4YS01ODBkZjZiZDRiYjgnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXVkb0VtYWlsID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidXJsX3BkZl9EQUNURSI6IHVybHBkZg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBFbnZpYXJFbWFpbFNJUyhkYXRhLCBlbWFpbEFudWxhY2FvSUQsIGdyYXZhY3RlZW1pdGlkby51cmxfeG1sLCAnQU5VTEFDQU8nLCBncmF2YWN0ZWVtaXRpZG8ubnVtZXJvX2N0ZV9jdGUsIGNvbnRldWRvRW1haWwpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZWN1cGVyYSBhcyBJbmZvcm1hw6fDtWVzIGRlIENhcmdhIG5vIENUZSBkZSBBbnVsYcOnw6NvIHBhcmEgbyBDVGUgQW51bGFkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZWlkY2FyZ2EgPSAiMzNkOWNjODgtOTkyYS00NGQwLWI2NDQtZWUxYmY3ZWZmYmZiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvX2NhcmdhID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEuSURfT05FX1JFRiB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iamNhcmdhID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkY2FyZ2EsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9fY2FyZ2EpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpjYXJnYSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsY2FyZ2EgaW4gb2JqY2FyZ2EpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3Ryb2NhcmdhID0gb2JqY2FyZ2FbbGNhcmdhXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJvY2FyZ2EuSURfT05FX1JFRiA9IElkc2Fsdm87DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRjYXJnYSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIHJlZ2lzdHJvY2FyZ2EsICIiLCAiIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZWN1cGVyYSBhcyBJbmZvcm1hw6fDtWVzIGRlIE5GRXMgbm8gQ1RlIGRlIEFudWxhw6fDo28gcGFyYSBvIENUZSBBbnVsYWRvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBsYXRlaWRuZmUgPSAiYzQyNTA1NDUtOTdkYS00YjYyLWI2YzgtOTAzNzQ5MThjODAxIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvX25mZSA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBkYXRhLklEX09ORV9SRUYgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpuZmUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWRuZmUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9fbmZlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqbmZlICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGxuZmUgaW4gb2JqbmZlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaXN0cm9uZmUgPSBvYmpuZmVbbG5mZV0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpc3Ryb25mZS5JRF9PTkVfUkVGID0gSWRzYWx2bzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZG5mZSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIHJlZ2lzdHJvbmZlLCAiIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVjdXBlcmEgYXMgSW5mb3JtYcOnw7VlcyBkZSBPYnMgQ29udHJpYnVpbnRlIG5vIENUZSBkZSBBbnVsYcOnw6NvIHBhcmEgbyBDVGUgQW51bGFkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZWlkb2MgPSAiN2Y1MmY5NTAtNmRkNS00N2Q0LTk2OTYtMDQwZmM5NDg4ZmY2IjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvX29jID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEuSURfT05FX1JFRiB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iam9jID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkb2MsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9fb2MpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpvYyAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsb2MgaW4gb2Jqb2MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3Ryb29jID0gb2Jqb2NbbG9jXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJvb2MuSURfT05FX1JFRiA9IElkc2Fsdm87DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRvYywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIHJlZ2lzdHJvb2MsICIiLCAiIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZWN1cGVyYSBhcyBJbmZvcm1hw6fDtWVzIGRlIGF1dG9yaXphZG9zIG5vIENUZSBkZSBBbnVsYcOnw6NvIHBhcmEgbyBDVGUgQW51bGFkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZWlkYXUgPSAiMzI3NjI2ZTgtMjU5Yy00ZGE2LThiMTMtZGRmZTM4ODJmMTBkIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvX2F1ID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEuSURfT05FX1JFRiB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iamF1ID0gZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkYXUsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGZpbHRyb19hdSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iamF1ICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGxhdSBpbiBvYmphdSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdHJvYXUgPSBvYmphdVtsYXVdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cm9hdS5JRF9PTkVfUkVGID0gSWRzYWx2bzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZGF1LCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgcmVnaXN0cm9hdSwgIiIsICIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dFcnJvID0gcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMucmV0b3Jub1NFRkFaOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGR1cGxpY2lkYWRlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMgJiYgcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb2dSZXR1cm4gPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlbiBpbiByZXNwb3N0YU1lbnNhZ2VyaWEuZXhjZXB0aW9ucykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcGVuID0gcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnNbZW5dOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dSZXR1cm4ucHVzaChgJHtyZXNwZW4uZGVzY3JpY2FvfVxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwZW4uZGVzY3JpY2FvLmluZGV4T2YoJ0R1cGxpY2lkYWRlJykgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cGxpY2lkYWRlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0Vycm8gPSBsb2dSZXR1cm4ubGVuZ3RoID4gMCA/IGxvZ1JldHVybi5qb2luKCcnKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNhbGxCYWNrOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGR1cGxpY2lkYWRlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ2FsbEJhY2sgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9LJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2lkYWRlJzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ251bWVybyc6IGVudmlvYW51bGFjYW9jdGVPYmouTnVtZXJvQ1RlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRHVwbGljaWRhZGUnOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCwgdHJ1ZSwgb2JqQ2FsbEJhY2spOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZXJybyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGxvZ0Vycm8gPSAnRXJybyBuYSBGb3JtYcOnw6NvIGRvIE9iamV0byBkZSBFbnZpbyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBlcnJvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBsb2dFcnJvID0gJ1Rva2VuIEludsOhbGlkbyBvdSBFbXByZXNhIG7Do28gQXV0b3JpemFkYSAhJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlcnJvKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogdGVtcGxhdGVpZENUZSwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlZ2lzdHJvQ1RlLmZlZGlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvZ19jdGUnOiBsb2dFcnJvDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIGRhdGEsIGZhbHNlKTsNCn0NCg0KZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpDQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQoNCiAgICB2YXIgb2JqID0gew0KICAgICAgICAnY29uZCc6IGNvbmQsDQogICAgICAgICdqc29uJzogSlNPTi5zdHJpbmdpZnkoanNvbiksDQogICAgICAgICdXYWl0aW5nV2ViSG9vayc6IFdhaXRpbmdXZWJIb29rLA0KICAgIH07DQogICAgcmV0dXJuIG9iajsNCn0NCg0KZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGEpIHsNCiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGEpOw0KICAgIGxldCBhbm8gPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgbGV0IG1lcyA9ICgoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgbGV0IGRpYSA9IChkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9YA0KfQ0KDQphc3luYyBmdW5jdGlvbiBQZWdhVG9rZW4ob2JqKSB7DQoNCiAgICBsZXQgdXNyTG9naW4gPSAicHIzc3QzeCI7DQogICAgbGV0IHB3ZCA9ICJwcjNzdDN4Y3QzMjAyMSI7DQogICAgbGV0IHN0clJlc3BUb2tlbiA9ICIiOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvTG9naW4/cFVzZXJOYW1lPSIgKyB1c3JMb2dpbiArICImcFBhc3M9IiArIHB3ZCwNCiAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgZGF0YTogIiIsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgc3RyUmVzcFRva2VuID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LCAoZXJyb3IpID0+IHsNCiAgICAgICAgc3RyUmVzcFRva2VuID0gJycNCiAgICB9KTsNCiAgICByZXR1cm4gc3RyUmVzcFRva2VuOw0KICAgIC8qDQogICAgbGV0IHVzckxvZ2luID0gb25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygidXN1YXJpb19kZmUiKTsNCiAgICBsZXQgcHdkID0gb25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygic2VuaGFfZGZlIik7DQogICAgbGV0IHN0clJlc3BUb2tlbiA9ICIiOw0KICAgIEFqYXgoew0KICAgICAgICB1cmw6ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Mb2dpbj9wVXNlck5hbWU9IiArIHVzckxvZ2luICsgIiZwUGFzcz0iICsgcHdkLA0KICAgICAgICBhc3NpZDogb2JqLmFzc2lkLA0KICAgICAgICB1c3JpZDogb2JqLnVzcmlkLA0KICAgICAgICBmZWRpZDogb2JqLmZlZGlkLA0KICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICBkYXRhOiAiIiwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgc3RyUmVzcFRva2VuID0gZGF0YTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgIHN0clJlc3BUb2tlbiA9IGV4Y2VwdGlvbjsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3BUb2tlbik7DQogICAgKi8NCn0NCg0KYXN5bmMgZnVuY3Rpb24gQ3JpYU9iamV0b0FudWxhY2FvQ3RlKG9iaiwgZGF0YSwgRW1pc3NvciwgRW5kRW1pc3Nvcikgew0KICAgIGxldCBJbmRpY2Fkb3JOZWdvY2lhdmVsID0gIiI7DQogICAgaWYgKG9iai5pbmRpY2Fkb3JfbmVnb2NpYXZlbF9jdGVfZGVzYyA9PSAiTsOjbyIpIHsNCiAgICAgICAgSW5kaWNhZG9yTmVnb2NpYXZlbCA9ICJOYW9OZWdvY2lhdmVsIjsNCiAgICB9IGVsc2Ugew0KICAgICAgICBJbmRpY2Fkb3JOZWdvY2lhdmVsID0gIk5lZ29jaWF2ZWwiOw0KICAgIH0NCg0KICAgIGxldCBFbWlzc29yVXJsSnNvbkNvbnRleHQgPSBFbWlzc29yWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQgPSBFbmRFbWlzc29yWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBVcmxDZXJ0aWZpY2FkbyA9IEVtaXNzb3JVcmxKc29uQ29udGV4dC5jZXJ0aWZpY2Fkb1swXS5Vcmw7DQoNCiAgICBsZXQgZ25DRk9QID0gIiI7DQogICAgbGV0IGduQ0ZPUERlc2MgPSAiIjsNCiAgICBpZiAob2JqLk1MT0Nlc3RhZG9fdWZfX3VmX29yaWdlbV9kYV9jYXJnYSA9PT0gb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EpIHsNCiAgICAgICAgZ25DRk9QID0gIjEyMDYiOw0KICAgICAgICBnbkNGT1BEZXNjID0gJ0FudWxhw6fDo28gZGUgdmFsb3IgcmVsYXRpdm8gw6AgcHJlc3Rhw6fDo28gZGUgc2VydmnDp28gZGUgdHJhbnNwb3J0ZSc7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZ25DRk9QID0gIjIyMDYiOw0KICAgICAgICBnbkNGT1BEZXNjID0gJ0FudWxhw6fDo28gZGUgdmFsb3IgcmVsYXRpdm8gw6AgcHJlc3Rhw6fDo28gZGUgc2VydmnDp28gZGUgdHJhbnNwb3J0ZSc7DQogICAgfQ0KDQogICAgbGV0IG9iak51bVNlcmllQ1RlID0gYXdhaXQgYnVzY2FyTnVtZXJhY2FvKG9iaiwgRW1pc3NvclswXS5JRCwgZmFsc2UsIG51bGwpOw0KICAgIHRyeSB7DQogICAgICAgIGxldCBlbnZpb2N0ZU9ianRtcCA9IHsNCiAgICAgICAgICAgICJMaW5rQ2VydGlmaWNhZG8iOiBVcmxDZXJ0aWZpY2FkbywNCiAgICAgICAgICAgICJTZW5oYUNlcnQiOiBFbWlzc29yVXJsSnNvbkNvbnRleHQuc2VuaGFfY2VydGlmaWNhZG8sDQogICAgICAgICAgICAiVGlwb0FtYmllbnRlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmFtYmllbnRlLA0KICAgICAgICAgICAgIlVGRW1pdGVudGVDVGUiOiBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2EsDQogICAgICAgICAgICAiQ05QSkVtaXRlbnRlQ1RlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmNucGosDQogICAgICAgICAgICAiSUVFbWl0ZW50ZUNUZSI6IEVtaXNzb3JVcmxKc29uQ29udGV4dC5pZS50b1N0cmluZygpLA0KICAgICAgICAgICAgIlJhemFvU29jaWFsTm9tZUVtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW1pc3NvclVybEpzb25Db250ZXh0LnJhemFvX3NvY2lhbCksDQogICAgICAgICAgICAiTm9tZUZhbnRhc2lhQXBlbGlkb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW1pc3NvclVybEpzb25Db250ZXh0Lm5vbWVfZXN0YWJlbGVjaW1lbm90KSwNCiAgICAgICAgICAgICJMb2dyYWRvdXJvRW1pdGVudGVDVGUiOiByZXRpcmFfYWNlbnRvcyhFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQubG9ncmFkb3Vyb19lbXByZXNhKSwNCiAgICAgICAgICAgICJOdW1lcm9Mb2dyYWRvdXJvRW1pdGVudGVDVGUiOiBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQubnVtZXJvX2VtcHJlc2EudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJDb21wbGVtZW50b0xvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5jb21wbGVtZW50b19lbXByZXNhKSwNCiAgICAgICAgICAgICJCYWlycm9Mb2dyYWRvdXJvRW1pdGVudGVDVGUiOiByZXRpcmFfYWNlbnRvcyhFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQuYmFpcnJvX2VtcHJlc2EpLA0KICAgICAgICAgICAgIkNvZE11bmljaXBpb0VtaXRlbnRlQ1RlIjogRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX2liZ2UsDQogICAgICAgICAgICAiTm9tZU11bmljaXBpb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhKSwNCiAgICAgICAgICAgICJDRVBMb2dyYWRvdXJvRW1pdGVudGVDVGUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5jZXBfZW1wcmVzYSksDQogICAgICAgICAgICAiVGVsZWZvbmVFbWl0ZW50ZUNUZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoRW1pc3NvclVybEpzb25Db250ZXh0LnRlbGVmb25lKSwNCiAgICAgICAgICAgICJDb2RpZ29NdW5pY2lwaW9JbmljaW9QcmVzdGFjYW8iOiBvYmouTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICAgICAiTm9tZU11bmljaXBpb0luaWNpb1ByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICAgICAiVUZJbmljaW9QcmVzdGFjYW8iOiBvYmouTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhLA0KICAgICAgICAgICAgIkNvZGlnb011bmljaXBpb0ZpbVByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX2liZ2VfX2Rlc3Rpbm9fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICAgICAiTm9tZU11bmljaXBpb0ZpbVByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhLA0KICAgICAgICAgICAgIlVGRmltUHJlc3RhY2FvIjogb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICAgICAiTW9kYWxpZGFkZSI6IE51bWJlcihvYmoubW9kYWxpZGFkZV9jdGUpLA0KICAgICAgICAgICAgIkNGT1AiOiBnbkNGT1AsDQogICAgICAgICAgICAiRGVzY3JpY2FvQ0ZPUCI6IGduQ0ZPUERlc2MsDQogICAgICAgICAgICAiRm9ybWF0b0ltcHJlc3Nhb0RBQ1RFIjogIk5vcm1hbFJldHJhdG8iLA0KICAgICAgICAgICAgIlNlcmllQ1RlIjogb2JqTnVtU2VyaWVDVGUuU2VyaWUsDQogICAgICAgICAgICAiTnVtZXJvQ1RlIjogb2JqTnVtU2VyaWVDVGUuTnVtZXJvLA0KICAgICAgICAgICAgIkRhdGFFbWlzc2FvIjogdXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiksDQogICAgICAgICAgICAiRmluYWxpZGFkZUVtaXNzYW9DVGUiOiAiQW51bGFjYW8iLA0KICAgICAgICAgICAgIklkZW50aWZpY2Fkb3JHbG9iYWxpemFkbyI6IHJldGlyYV9hY2VudG9zKG9iai5pZGVudGlmaWNhZG9yX2dsb2JhbGl6YWRvX2N0ZV9kZXNjKSwNCiAgICAgICAgICAgICJNb2RhbGlkYWRlVHJhbnNwb3J0ZSI6IG9iai5tb2RhbGlkYWRlX3RyYW5zcG9ydGVfY3RlLA0KICAgICAgICAgICAgIlRpcG9TZXJ2aWNvQ1RlIjogb2JqLnRpcG9fc2Vydmljb19jdGVfY3RlX2Rlc2MsDQogICAgICAgICAgICAiUmVjZWJlZG9yUmV0aXJhIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlY2ViZWRvcl9yZXRpcmFfY3RlX2Rlc2MpLA0KICAgICAgICAgICAgIkRldGFsaGVzUmV0aXJhZGEiOiBvYmouZGV0YWxoZXNfcmV0aXJhZGFfY3RlLA0KICAgICAgICAgICAgIkluZGljYWRvcklFVG9tYWRvciI6IG9iai5FTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSwNCiAgICAgICAgICAgICJSZXNwb25zYXZlbEZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlc3BvbnNhdmVsX2ZyZXRlX2N0ZV9kZXNjKSwNCiAgICAgICAgICAgICJUb21hZG9yQ05QSiI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUsDQogICAgICAgICAgICAiVG9tYWRvcklFIjogb2JqLkVNUGllX2VtcHJlc2FfX3RvbWFkb3JfaWVfY3RlLnRvU3RyaW5nKCkgPT0gJzAnID8gIiIgOiBvYmouRU1QaWVfZW1wcmVzYV9fdG9tYWRvcl9pZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJUb21hZG9yUmF6YW9Tb2NpYWxOb21lIjogb2JqLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX190b21hZG9yX3JhemFvX3NvY2lhbF9ub21lX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yTm9tZUZhbnRhc2lhIjogb2JqLkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fdG9tYWRvcl9ub21lX2ZhbnRhc2lhX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yRm9uZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUHRlbGVmb25lX2VtcHJlc2FfX3RvbWFkb3JfZm9uZV9jdGUpLA0KICAgICAgICAgICAgIlRvbWFkb3JMb2dyYWRvdXJvIjogb2JqLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fdG9tYWRvcl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yTnVtZXJvTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUG51bWVyb19lbXByZXNhX190b21hZG9yX251bWVyb19sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICAgICAiVG9tYWRvckNvbXBsZW1lbnRvTG9ncmFkb3VybyI6IG9iai5FTVBjb21wbGVtZW50b19lbXByZXNhX190b21hZG9yX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIlRvbWFkb3JCYWlycm9Mb2dyYWRvdXJvIjogb2JqLkVNUGJhaXJyb19lbXByZXNhX190b21hZG9yX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJUb21hZG9yQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX190b21hZG9yX2NvZF9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJUb21hZG9yTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiVG9tYWRvckNFUExvZ3JhZG91cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVBjZXBfZW1wcmVzYV9fdG9tYWRvcl9jZXBfbG9ncmFkb3Vyb19jdGUpLA0KICAgICAgICAgICAgIlRvbWFkb3JVRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiVG9tYWRvckNvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX190b21hZG9yX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiVG9tYWRvck5vbWVQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIlRvbWFkb3JFbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX190b21hZG9yX2VtYWlsX2N0ZSwNCiAgICAgICAgICAgICJDYXJhY3RlcmlzdGljYXNBZFRyYW5zcG9ydGUiOiBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlICE9ICJOQU9TRUxFQ0lPTkFETyIgPyBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlIDogIiIsDQogICAgICAgICAgICAiQ2FyYWN0ZXJpc3RpY2FzQWRTZXJ2aWNvIjogb2JqLmNhcmFjdGVyaXN0aWNhc19hZF9zZXJ2aWNvX2N0ZSwNCiAgICAgICAgICAgICJGdW5jaW9uYXJpb0VtaXNzb3IiOiBvYmouZnVuY2lvbmFyaW9fZW1pc3Nvcl9jdGUsDQogICAgICAgICAgICAiU2lnbGFDb2RGaWxpYWxQb3J0b0VzdGFjYW9BZXJvT3JpZ2VtIjogb2JqLnNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX29yaWdlbV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJTaWdsYUNvZEZpbGlhbFBvcnRvRXN0YWNhb0Flcm9EZXN0aW5vIjogb2JqLnNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX2Rlc3Rpbm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiTXVuaWNpcGlvVUZPcmlnZW1DYWxjRnJldGUiOiByZXRpcmFfYWNlbnRvcyhvYmouTUxPQ211bmljaXBpb19ub21lX19tdW5pY2lwaW9fb3JpZ2VtX2RhX2NhcmdhKSArICcvJyArIG9iai5NTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICAgICAiTXVuaWNpcGlvVUZEZXN0aW5vQ2FsY0ZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EpICsgJy8nICsgb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICAgICAiT2JzZXJ2YWNvZXMiOiBvYmoub2JzZXJ2YWNvZXNfY3RlLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUNOUEoiOiBvYmouRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlSUUiOiBvYmouRU1QaWVfZW1wcmVzYV9fcmVtZXRlbnRlX2llX2N0ZS50b1N0cmluZygpID09ICcwJyA/ICIiIDogb2JqLkVNUGllX2VtcHJlc2FfX3JlbWV0ZW50ZV9pZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJSZW1ldGVudGVSYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlTm9tZUZhbnRhc2lhQXBlbGlkbyI6IG9iai5FTVBub21lX2ZhbnRhc2lhX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX2ZhbnRhc2lhX2FwZWxpZG9fY3RlLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUZvbmUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVB0ZWxlZm9uZV9lbXByZXNhX19yZW1ldGVudGVfZm9uZV9jdGUpLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUxvZ3JhZG91cm8iOiBvYmouRU1QbG9ncmFkb3Vyb19lbXByZXNhX19yZW1ldGVudGVfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlTnVtZXJvTG9ncmFkb3VybyI6IG9iai5FTVBudW1lcm9fZW1wcmVzYV9fcmVtZXRlbnRlX251bWVyb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZUJhaXJyb0xvZ3JhZG91cm8iOiBvYmouRU1QYmFpcnJvX2VtcHJlc2FfX3JlbWV0ZW50ZV9iYWlycm9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX19yZW1ldGVudGVfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAgICAgIlJlbWV0ZW50ZU5vbWVNdW5pY2lwaW9Mb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICAgICAiUmVtZXRlbnRlQ0VQTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUGNlcF9lbXByZXNhX19yZW1ldGVudGVfY2VwX2xvZ3JhZG91cm9fY3RlKSwNCiAgICAgICAgICAgICJSZW1ldGVudGVVRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJSZW1ldGVudGVDb2RQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfaWJnZV9fcmVtZXRlbnRlX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiUmVtZXRlbnRlTm9tZVBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfcGFpc19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJSZW1ldGVudGVFbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX19yZW1ldGVudGVfZW1haWxfY3RlLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb0NOUEoiOiBvYmouRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUsDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvSUUiOiBvYmouRU1QaWVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2llX2N0ZS50b1N0cmluZygpID09ICcwJyA/ICIiIDogb2JqLkVNUGllX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19pZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9SYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvRm9uZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUHRlbGVmb25lX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19mb25lX2N0ZSksDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvTG9ncmFkb3VybyI6IG9iai5FTVBsb2dyYWRvdXJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9OdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvQmFpcnJvTG9ncmFkb3VybyI6IG9iai5FTVBiYWlycm9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9Db2RNdW5pY2lwaW9Mb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX2Rlc3RpbmF0YXJpb19jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiRGVzdGluYXRhcmlvTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9DRVBMb2dyYWRvdXJvIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmouRU1QY2VwX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jZXBfbG9ncmFkb3Vyb19jdGUpLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb1VGTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX3VmX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb0NvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX19kZXN0aW5hdGFyaW9fY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJEZXN0aW5hdGFyaW9Ob21lUGFpc0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAgICAgIkRlc3RpbmF0YXJpb0VtYWlsIjogb2JqLkVNUGVtYWlsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19lbWFpbF9jdGUsDQogICAgICAgICAgICAiVmFsb3JUb3RhbFByZXN0YWNhb1NlcnZpY29zIjogb2JqLnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUsDQogICAgICAgICAgICAiVmFsb3JSZWNlYmVyIjogb2JqLnZhbG9yX3JlY2ViZXJfY3RlLA0KICAgICAgICAgICAgIkNTVCI6IG9iai5jc3RfY3RlX2Rlc2MgPT09ICI5MCAtIE91dHJhcyBPcGVyYcOnw7JlcyIgPyAiT3V0cmFVRiIgOiBvYmouY3N0X2N0ZSwNCiAgICAgICAgICAgICJWYWxvckJhc2VDYWxjIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19jdGUsDQogICAgICAgICAgICAiUGVyY0lDTVMiOiBvYmoucGVyY19pY21zX2N0ZSwNCiAgICAgICAgICAgICJWYWxvcklDTVMiOiBvYmoudmFsb3JfaWNtc19jdGUsDQogICAgICAgICAgICAiUGVyY1JlZHVjYW9CYXNlQ2FsYyI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX2N0ZSA/IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX2N0ZSA6IDAsDQogICAgICAgICAgICAiVmFsb3JCYXNlQ2FsY1NUUmV0aWRvIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19zdF9yZXRpZG9fY3RlLA0KICAgICAgICAgICAgIlZhbG9ySUNNU1NUUmV0aWRvIjogb2JqLnZhbG9yX2ljbXNfc3RfcmV0aWRvX2N0ZSwNCiAgICAgICAgICAgICJQZXJjSUNNU1NUUmV0aWRvIjogb2JqLmFsaXF1b3RhX2ljbXNfc3RfcmV0aWRvLA0KICAgICAgICAgICAgIlZhbG9yQ3JlZGl0byI6IG9iai52YWxvcl9jcmVkaXRvX2N0ZSwNCiAgICAgICAgICAgICJQZXJjUmVkdWNhb0Jhc2VDYWxjT3V0cmFVRiI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX291dHJhX3VmX2N0ZSA/IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX291dHJhX3VmX2N0ZSA6IDAsDQogICAgICAgICAgICAiVmFsb3JCYXNlQ2FsY091dHJhVUYiOiBvYmoudmFsb3JfYmFzZV9jYWxjX291dHJhX3VmX2N0ZSwNCiAgICAgICAgICAgICJQZXJjSUNNU091dHJhVUYiOiBvYmoucGVyY19pY21zX291dHJhX3VmX2N0ZSwNCiAgICAgICAgICAgICJWYWxvcklDTVNPdXRyYVVGIjogb2JqLnZhbG9yX2ljbXNfb3V0cmFfdWZfY3RlLA0KICAgICAgICAgICAgIkNvbnRyaWJ1aW50ZVNpbXBsZXNOYWNpb25hbCI6IG9iai5FTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGVfZGVzYywNCiAgICAgICAgICAgICJWYWxvclRvdGFsVHJpYnV0b3MiOiBvYmoudmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlLA0KICAgICAgICAgICAgIlZhbG9yQmFzZUNhbGNVRkZpbSI6IG9iai52YWxvcl9iYXNlX2NhbGNfdWZfZmltX2N0ZSwNCiAgICAgICAgICAgICJQZXJjRkNQVUZGaW0iOiBvYmoucGVyY19mY3BfdWZfZmltX2N0ZSwNCiAgICAgICAgICAgICJQZXJjSUNNU1VGRmltIjogb2JqLnBlcmNfaWNtc191Zl9maW1fY3RlLA0KICAgICAgICAgICAgIkFsaXF1b3RhSW50ZXJlc3RhZHVhbCI6IG9iai5hbGlxdW90YV9pbnRlcl9lc3RhZHVhbF9jdGUsDQogICAgICAgICAgICAiUGVyY1Byb3Zpc29yaW9QYXJ0aWxoYSI6IG9iai5wZXJjX3Byb3Zpc29yaW9fcGFydGlsaGFfY3RlID8gb2JqLnBlcmNfcHJvdmlzb3Jpb19wYXJ0aWxoYV9jdGUgOiAwLA0KICAgICAgICAgICAgIlZhbG9yRkNQVUZGaW0iOiBvYmoudmFsb3JfZmNwX3VmX2ZpbV9jdGUsDQogICAgICAgICAgICAiVmFsb3JJQ01TVUZGaW0iOiBvYmoudmFsb3JfaWNtc191Zl9maW1fY3RlLA0KICAgICAgICAgICAgIlZhbG9ySUNNU1VGSW5pIjogb2JqLnZhbG9yX2ljbXNfdWZfaW5pX2N0ZSwNCiAgICAgICAgICAgICJWYWxvclRvdGFsQ2FyZ2EiOiBvYmoudmFsb3JfdG90YWxfY2FyZ2FfY3RlLA0KICAgICAgICAgICAgIlByb2R1dG9QcmVkb21pbmFudGUiOiByZXRpcmFfYWNlbnRvcyhvYmouUFBUZGVzY3JpY2FvX2RvX3Byb2R1dG9fX3Byb2R1dG9fcHJlZG9taW5hbnRlX2N0ZSksDQogICAgICAgICAgICAiT3V0cmFzQ2FyYWN0ZXJpc3RjYXNDYXJnYSI6IG9iai5DQ0djYXJhY3RlcmlzdGljYV9kYV9jYXJnYV9fb3V0cmFzX2NhcmFjdGVyaXN0Y2FzX2NhcmdhX2N0ZSwNCiAgICAgICAgICAgICJDT1RNIjogb2JqLmNvdG1fY3RlLA0KICAgICAgICAgICAgIkluZGljYWRvck5lZ29jaWF2ZWwiOiBJbmRpY2Fkb3JOZWdvY2lhdmVsLA0KICAgICAgICAgICAgIk5vbWVTZWd1cmFkb3JhIjogb2JqLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhLA0KICAgICAgICAgICAgIkNOUEpTZWd1cmFkb3JhIjogb2JqLkVNUGNucGpfZW1wcmVzYV9fY25wal9zZWd1cmFkb3JhX2N0ZSwNCiAgICAgICAgICAgICJOdW1lcm9BcG9saWNlIjogb2JqLm51bWVyb19hcG9saWNlX2N0ZSwNCiAgICAgICAgICAgICJOdW1lcm9BdmVyYmFjYW8iOiBvYmoubnVtZXJvX2F2ZXJiYWNhb19jdGUsDQogICAgICAgICAgICAiSW5mb3JtYWNvZXNBZGljaW9uYWlzRmlzY28iOiBvYmoubW90aXZvX2FudWxhY2FvX2N0ZSA/IG9iai5tb3Rpdm9fYW51bGFjYW9fY3RlIDogIiIsDQogICAgICAgICAgICAiQ2hhdmVDVGVPcmlnaW5hbEFTZXJBbnVsYWRvU3Vic3RpdHVpZG8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5jaGF2ZV9jdGVfY3RlKSwNCiAgICAgICAgICAgICJEYXRhRW1pc3Nhb0RlY2xhcmFjYW9Ub21hZG9yIjogZGF0YS5kYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZSA/IGRhdGVUb1N0cmluZyhkYXRhLmRhdGFfZGVfZW1pc3Nhb19kYV9kZWNsYXJhY2FvX2RvX3RvbWFkb3JfY3RlKSA6IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCIpDQogICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIGVudmlvY3RlT2JqdG1wOw0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBsZXQgT3JpZ2VtID0gIihFUlJPIC0gRW51bGFyIENURSkgZnVuY3Rpb24gQ3JpYU9iamV0b0FudWxhY2FvQ3RlIg0KICAgICAgICBsZXQgY29udGVudCA9IHsNCiAgICAgICAgICAgICJtZW5zYWdlbSI6IGVyci5tZXNzYWdlLA0KICAgICAgICAgICAgInBpbGhhIjogZXJyLnN0YWNrDQogICAgICAgIH0NCiAgICAgICAgb25lcmd5LmxvZyhKU09OLnN0cmluZ2lmeShjb250ZW50KSwgT3JpZ2VtKTsNCg0KICAgICAgICBsZXQgb2JqQ2FsbEJhY2sgPSB7DQogICAgICAgICAgICAnc3RhdHVzJzogJ05PSycsDQogICAgICAgICAgICAnbmV4dCc6IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgYXdhaXQgYnVzY2FyTnVtZXJhY2FvKG9iaiwgRW1pc3NvclswXS5JRCwgdHJ1ZSwgb2JqQ2FsbEJhY2spOw0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQp9DQovL2FxdWkNCg0KDQphc3luYyBmdW5jdGlvbiBFZmV0dWFNZW5zYWdlcmlhKG9iaiwgb2JqZW52aW8sIHRva2VuT2JqLCBnbnVybCkgew0KDQogICAgbGV0IHJldG9ybm87DQogICAgYXdhaXQgYXhpb3Moew0KICAgICAgICB1cmw6IGdudXJsLA0KICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnYmVhcmVyICcgKyB0b2tlbk9iai50b2tlbg0KICAgICAgICB9LA0KICAgICAgICBkYXRhOiBvYmplbnZpbywNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICByZXRvcm5vID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LCAoZXJyb3IpID0+IHsNCiAgICAgICAgcmV0b3JubyA9IGVycm9yLnJlc3BvbnNlLmRhdGENCiAgICB9KTsNCiAgICByZXR1cm4gcmV0b3Jubw0KDQogICAgLyoNCiAgICBsZXQgc3RyUmVzcENUZSA9ICIiOw0KICAgIGFqYXgoew0KICAgICAgICB1cmw6IGdudXJsLA0KICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICBhc3NpZDogb2JqLmFzc2lkLA0KICAgICAgICB1c3JpZDogb2JqLnVzcmlkLA0KICAgICAgICBmZWRpZDogb2JqLmZlZGlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShvYmplbnZpbyksDQogICAgICAgIGF1dGhvcml6YXRpb246IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgIHR5cGU6ICJiZWFyZXIiLA0KICAgICAgICAgICAgdmFsdWU6IHRva2VuT2JqLnRva2VuDQogICAgICAgIH0pLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgc3RyUmVzcENUZSA9IGRhdGE7DQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICBzdHJSZXNwQ1RlID0gZXhjZXB0aW9uOw0KICAgICAgICB9DQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcENUZSk7DQogICAgKi8NCg0KfQ0KDQphc3luYyBmdW5jdGlvbiBHcmF2YUV2ZW50byhwSURfT05FX1JFRiwgdGlwb2V2ZW50bywgcHByb3RvY29sbywgcGNoYXZlLCBwYXNzaWQsIHB1c3JpZCkgew0KICAgIGxldCBmZHRfZXZlbnRvID0gIjRkNjI0ODkzLWJiM2MtNGRkZi04MmVlLWE3OTE4ZjU2MmExMSI7DQogICAgbGV0IG9iamV2ZW50byA9IHsNCiAgICAgICAgSURfT05FX1JFRjogcElEX09ORV9SRUYsDQogICAgICAgIGRhdGFob3JhX2RvX2V2ZW50b19jdGU6IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpLA0KICAgICAgICB0aXBvX2RvX2V2ZW50b19jdGU6IHRpcG9ldmVudG8sDQogICAgICAgIHByb3RvY29sb19ldmVudG9fY3RlOiBwcHJvdG9jb2xvLA0KICAgICAgICBjaGF2ZV9ldmVudG9fY3RlOiBwY2hhdmUNCiAgICB9Ow0KICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3koZmR0X2V2ZW50bywgcGFzc2lkLCBwdXNyaWQsIG9iamV2ZW50byk7DQogICAgcmV0dXJuDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgYXNzaWQsIHVzcmlkLCBkYXRhLCBmZWRpZCwgdWtGaWVsZCkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCg0KICAgIGlmIChmZWRpZCAhPT0gdW5kZWZpbmVkICYmIGZlZGlkICE9PSAnJykgew0KICAgICAgICBvbmVyZ3lTYXZlRGF0YS5pZCA9IGZlZGlkOw0KICAgIH0NCiAgICBpZiAodWtGaWVsZCAhPT0gdW5kZWZpbmVkICYmIHVrRmllbGQgIT09ICcnKSB7DQogICAgICAgIG9uZXJneVNhdmVEYXRhLnVrRmllbGQgPSB1a0ZpZWxkOw0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBzdHJSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGZpbHRlcjogZmlsdHJvDQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcCk7DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgbGV0IHN0cnJldCA9IHN0cnJlYy50b1N0cmluZygpLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgIHJldHVybiBzdHJyZXQ7DQp9DQoNCmZ1bmN0aW9uIHJldGlyYV9hY2VudG9zKHN0cikgew0KICAgIGxldCBjb21fYWNlbnRvID0gIsOAw4HDgsODw4TDhcOGw4fDiMOJw4rDi8OMw43DjsOPw5DDkcOSw5PDlMOVw5bDmMOZw5rDm8Ocw53FlMOew5/DoMOhw6LDo8Okw6XDpsOnw6jDqcOqw6vDrMOtw67Dr8Oww7HDssOzw7TDtcO2w7jDucO6w7vDvMO9w77Dv8WVIjsNCiAgICBsZXQgc2VtX2FjZW50byA9ICJBQUFBQUFBQ0VFRUVJSUlJRE5PT09PT09VVVVVWVJzQmFhYWFhYWFjZWVlZWlpaWlvbm9vb29vb3V1dXV5YnlyIjsNCiAgICBsZXQgbm92YXN0ciA9ICIiOw0KICAgIGlmIChzdHIpIHsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdHJvY2EgPSBmYWxzZTsNCiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBjb21fYWNlbnRvLmxlbmd0aDsgYSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHN0ci5zdWJzdHIoaSwgMSkgPT0gY29tX2FjZW50by5zdWJzdHIoYSwgMSkpIHsNCiAgICAgICAgICAgICAgICAgICAgbm92YXN0ciArPSBzZW1fYWNlbnRvLnN1YnN0cihhLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgdHJvY2EgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHJvY2EgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgbm92YXN0ciArPSBzdHIuc3Vic3RyKGksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBub3Zhc3RyOw0KfQ0KDQpmdW5jdGlvbiByZXRpcmFlc3BhY29zKHN0cmNvbWVzcGFjbykgew0KICAgIGxldCBzdHJzZW1lc3BhY28gPSBzdHJjb21lc3BhY28udG9TdHJpbmcoKS5yZXBsYWNlKC9ccy9nLCAnJyk7DQogICAgcmV0dXJuIHN0cnNlbWVzcGFjbzsNCn0NCg0KZnVuY3Rpb24gQ3JpYU9iamV0b0dyYXZhY2FvQ1RlQW51bGFjYW8oZGF0YSwgb2Jqb3JpZ2luYWwsIG9iamVtaXRpZG8pIHsNCiAgICBsZXQgb2JqQ1RFQW51bGFkYSA9IEpTT04uc3RyaW5naWZ5KG9iam9yaWdpbmFsKTsNCiAgICBvYmpDVEVBbnVsYWRhID0gSlNPTi5wYXJzZShvYmpDVEVBbnVsYWRhKTsNCiAgICBsZXQgZ25DRk9QID0gIiI7DQogICAgbGV0IElkQ0ZPUCA9ICIiOw0KICAgIGxldCBEZXNjckNGT1AgPSAiQW51bGHDp8OjbyBkZSB2YWxvciByZWxhdGl2byDDoCBwcmVzdGHDp8OjbyBkZSBzZXJ2acOnbyBkZSB0cmFuc3BvcnRlIjsNCiAgICBpZiAob2Jqb3JpZ2luYWwuRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSA9PT0gb2Jqb3JpZ2luYWwuRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb191Zl9sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkNGT1AgPSAiMTIwNiI7DQogICAgICAgIElkQ0ZPUCA9ICJjZmRiY2NlNi1jNWZiLTQxODYtOWQ4NC0xMGVlNzg4YjI0M2MiOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGduQ0ZPUCA9ICIyMjA2IjsNCiAgICAgICAgSWRDRk9QID0gIjEzZDhhYTdkLWM1NmMtNDM0Yi05Y2IwLWM2N2I5NzI4NmNiMiI7DQogICAgfQ0KDQogICAgdmFyIGZpbGV0ZW1wID0gIiI7IC8vZmlsZXV0aWxzLkNyZWF0ZUZpbGUob2JqZW1pdGlkby5vYmpzLmpzb25BdXRvcml6YWRvLCAiLnhtbCIpOw0KICAgIHZhciB1cmx4bWwgPSAiIjsgLy9maWxldXRpbHMuVXBsb2FkRmlsZShmaWxldGVtcCk7DQogICAgdmFyIGpzb25jdGUgPSAie30iOyAvL2ZpbGV1dGlscy5Db252ZXJ0WG1sVXJsVG9Kc29uKHVybHhtbCk7DQoNCiAgICBvYmpDVEVBbnVsYWRhLnBvc3N1aV9kZWNsYXJhY2FvID0gZGF0YS5wb3NzdWlfZGVjbGFyYWNhbzsNCiAgICBvYmpDVEVBbnVsYWRhLnBvc3N1aV9kZWNsYXJhY2FvX2Rlc2MgPSBkYXRhLnBvc3N1aV9kZWNsYXJhY2FvX2Rlc2M7DQogICAgb2JqQ1RFQW51bGFkYS51cmxfcGRmX2N0ZSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEubG9nX21vdG9yX2RlX2NhbGN1bG8gPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLm1vdGl2b19hbnVsYWNhb19jdGUgPSBkYXRhLm1vdGl2b19hbnVsYWNhb19jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5udW1lcm9fY3RlX2FudWxhZG9fY3RlID0gb2Jqb3JpZ2luYWwubnVtZXJvX2N0ZV9jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5zZXJpZV9jdGVfYW51bGFkb19jdGUgPSBvYmpvcmlnaW5hbC5zZXJpZV9jdGVfY3RlOw0KICAgIG9iakNURUFudWxhZGEuY2hhdmVfZG9fY3RlX2FudWxhZG9fY3RlID0gcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmpvcmlnaW5hbC5jaGF2ZV9jdGVfY3RlKTsNCiAgICBvYmpDVEVBbnVsYWRhLmRhdGFfZGVfZW1pc3Nhb19kYV9kZWNsYXJhY2FvX2RvX3RvbWFkb3JfY3RlID0gZGF0YS5kYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLmRhdGFfZGVfZW1pc3Nhb19kYV9kZWNsYXJhY2FvX2RvX3RvbWFkb3JfY3RlRGF0ZSA9IGRhdGEuZGF0YV9kZV9lbWlzc2FvX2RhX2RlY2xhcmFjYW9fZG9fdG9tYWRvcl9jdGVEYXRlOw0KICAgIG9iakNURUFudWxhZGEubW90aXZvX2FudWxhY2FvX2N0ZSA9IGRhdGEubW90aXZvX2FudWxhY2FvX2N0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLmNoYXZlX2N0ZV9jdGUgPSBvYmplbWl0aWRvLm9ianMuY2hhdmVBY2Vzc29DVGU7DQogICAgb2JqQ1RFQW51bGFkYS5udW1lcm9fY3RlX2N0ZSA9IG9iamVtaXRpZG8ub2Jqcy5udW1lcm9DVGU7DQogICAgb2JqQ1RFQW51bGFkYS5zZXJpZV9jdGVfY3RlID0gb2JqZW1pdGlkby5vYmpzLnNlcmllQ1RlOw0KICAgIG9iakNURUFudWxhZGEuZGF0YV9lbWlzc2FvX2N0ZURhdGUgPSBvYmplbWl0aWRvLm9ianMuZGF0YUVtaXNzYW87DQogICAgb2JqQ1RFQW51bGFkYS5kYXRhX2VtaXNzYW9fY3RlID0gb2JqZW1pdGlkby5vYmpzLmRhdGFFbWlzc2FvOw0KICAgIG9iakNURUFudWxhZGEuc3RhdHVzX2N0ZV9jdGUgPSAnZW1pdGlkbyc7DQogICAgb2JqQ1RFQW51bGFkYS5zdGF0dXNfY3RlX2N0ZV9kZXNjID0gJ0VtaXRpZG8nOw0KICAgIG9iakNURUFudWxhZGEuZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGUgPSBvYmplbWl0aWRvLm9ianMuZmluYWxpZGFkZUVtaXNzYW9DVGUudG9Mb3dlckNhc2UoKTsNCiAgICBvYmpDVEVBbnVsYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlX2Rlc2MgPSBvYmplbWl0aWRvLm9ianMuZmluYWxpZGFkZUVtaXNzYW9DVGU7DQogICAgb2JqQ1RFQW51bGFkYS5DRk9QX2Nmb3BfY3RlX2lkID0gSWRDRk9QOw0KICAgIG9iakNURUFudWxhZGEuQ0ZPUF9jb2RpZ29fY2ZvcF9fY2ZvcF9jdGUgPSBnbkNGT1A7DQogICAgb2JqQ1RFQW51bGFkYS5DRk9QX2Rlc2NyaWNhb19jZm9wID0gRGVzY3JDRk9QOw0KICAgIG9iakNURUFudWxhZGEuQ1RFR2VyYWRhUGFyYU1ERkUgPSAnbmFvJzsNCiAgICBvYmpDVEVBbnVsYWRhLmpzb25fYXV0b3JpemFjYW9fc2VmYXpfY3RlID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5jYXJhY3RlcmlzdGljYXNfYWRfdHJhbnNwb3J0ZV9jdGUgPSAiTkFPU0VMRUNJT05BRE8iOw0KICAgIG9iakNURUFudWxhZGEuY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlX2Rlc2MgPSAiTsOjbyBTZWxlY2lvbmFkbyI7DQogICAgb2JqQ1RFQW51bGFkYS5hbmV4b19hbnVsYWNhb19jdGUgPSBkYXRhLmFuZXhvX2FudWxhY2FvX2N0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLm51bWVyb19jdGVfb3JpZ2luYWxfY3RlID0gb2Jqb3JpZ2luYWwubnVtZXJvX2N0ZV9jdGU7DQogICAgb2JqQ1RFQW51bGFkYS5zZXJpZV9jdGVfb3JpZ2luYWxfY3RlID0gb2Jqb3JpZ2luYWwuc2VyaWVfY3RlX2N0ZTsNCiAgICBvYmpDVEVBbnVsYWRhLmNoYXZlX2N0ZV9vcmlnaW5hbF9jdGUgPSBvYmpvcmlnaW5hbC5jaGF2ZV9jdGVfY3RlOw0KICAgIG9iakNURUFudWxhZGEuY2hhdmVfY3RlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuY2hhdmVfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuVFBSY29kaWdvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvX2l0ZW5zID0gW107DQogICAgb2JqQ1RFQW51bGFkYS5UUFJpdGVuc190YWJlbGFfZGVfcHJlY29faWQgPSBbXTsNCiAgICBvYmpDVEVBbnVsYWRhLlRQUmRlc2NyaWNhb19faXRlbnNfdGFiZWxhX2RlX3ByZWNvID0gW107DQogICAgb2JqQ1RFQW51bGFkYS5UUFJkZXNjcmljYW9fdHByX190YWJlbGFfZGVfcHJlY28gPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLlRQUnRhYmVsYV9kZV9wcmVjb19pZCA9ICIiOw0KICAgIG9iakNURUFudWxhZGEudXJsX3htbCA9IHVybHhtbDsNCiAgICBvYmpDVEVBbnVsYWRhLmd1aWFzX2Rvb3RheCA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuaW5mb3JtYXIgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLmluZm9ybWFyX2Rlc2MgPSAiIjsNCiAgICBvYmpDVEVBbnVsYWRhLmxvZ19jdGUgPSAnJzsNCiAgICBvYmpDVEVBbnVsYWRhLmFycXVpdm9fZ25yZSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEudXJsR05SRSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEucGFnYW1lbnRvR05SRSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEucHJvdG9jb2xvX2N0ZV9jdGUgPSBvYmplbWl0aWRvLm9ianMucHJvdG9jb2xvQXV0b3JpemFjYW87DQogICAgb2JqQ1RFQW51bGFkYS5PVlNGZGF0YV9kZV9mYXR1cmFtZW50b19vcmRlbV9kZV92ZW5kYSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuT1ZTRmRhdGFfZGVfdmVuY2ltZW50b19kYV9wYXJjZWxhID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5PVlNGbnVtZXJvX29yZGVtX2RlX3ZlbmRhID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5PVlNGbnVtZXJvX29yZGVtX2RlX3ZlbmRhX19vcmRlbV9kZV92ZW5kYSA9ICIiOw0KICAgIG9iakNURUFudWxhZGEuT1ZTRnNmX292X2lkID0gIiI7DQogICAgb2JqQ1RFQW51bGFkYS5mYXR1cmFtZW50b19wZW5kZW50ZSA9ICJuYW8iOw0KICAgIG9iakNURUFudWxhZGEuZmF0dXJhbWVudG9fcGVuZGVudGVfZGVzYyA9ICJOw6NvIjsNCiAgICBvYmpDVEVBbnVsYWRhLmZhdHVyYWRvX2N0ZSA9ICJuYW8iOw0KICAgIG9iakNURUFudWxhZGEuZmF0dXJhZG9fY3RlX2Rlc2MgPSAiTsOjbyI7DQogICAgb2JqQ1RFQW51bGFkYS5udW1lcm9fZGFfZmF0dXJhX2N0ZSA9IDA7DQogICAgb2JqQ1RFQW51bGFkYS52YWxvcl9vcmlnaW5hbF9mYXR1cmFfY3RlID0gMDsNCiAgICBvYmpDVEVBbnVsYWRhLnZhbG9yX2Rlc2NvbnRvX2ZhdHVyYV9jdGUgPSAwOw0KICAgIG9iakNURUFudWxhZGEudmFsb3JfbGlxdWlkb19mYXR1cmFfY3RlID0gMDsNCg0KICAgIHJldHVybiBvYmpDVEVBbnVsYWRhOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBFbnZpYXJFbWFpbFNJUyhkYXRhLCBUZW1wbGF0ZUVtYWlsLCB1cmxYTUwsIEZpbmFsaWRhZGUsIG51bWVyb0NURSwgY29udGV1ZG8pIHsNCiAgICBsZXQgZW1pc3Nhb0RlQ1RFRW1haWxJRCA9IFRlbXBsYXRlRW1haWw7DQogICAgbGV0IGVtYWlsU2lzID0gb25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygiZW1haWxfU0lTIik7DQogICAgbGV0IGNvbnRldWRvSUQgPSBudWxsOw0KICAgIHZhciB0ZW1wbGF0ZUNvbnRldWRvRW1haWwgPSAnMTcwZDdkZDEtZDQyZS00MDY0LWFjZjktOWE3YzcyMjYxYWNjJzsNCiAgICAvLyBzZSBvIGVtYWlsIHRpdmVyIGNvbnRlw7pkbywgZXUgc2Fsdm8gZW0gdW0gdGVtcGxhdGUgcGFyYSBzZXIgdXNhZG8gbm8gZW1haWwuDQogICAgaWYgKGNvbnRldWRvKSB7DQogICAgICAgIGNvbnRldWRvSUQgPSBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlQ29udGV1ZG9FbWFpbCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGNvbnRldWRvKTsNCiAgICB9DQoNCiAgICBsZXQgQW5leG9zID0gW3sNCiAgICAgICAgIlVybCI6IHVybFhNTCwNCiAgICAgICAgIlVybEF6dXJlIjogdXJsWE1MLA0KICAgICAgICAiTmFtZSI6IGBYTUxfJHtGaW5hbGlkYWRlfV9DVEVfJHtudW1lcm9DVEV9LnhtbGANCiAgICB9XTsNCg0KICAgIGF3YWl0IHNlbmRtYWlsKHsNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgaWQ6IGNvbnRldWRvSUQsDQogICAgICAgIHRtcGlkOiBlbWlzc2FvRGVDVEVFbWFpbElELA0KICAgICAgICBlbWFpbF90bzogZW1haWxTaXMsDQogICAgICAgIGxzdEFuZXhvczogSlNPTi5zdHJpbmdpZnkoQW5leG9zKQ0KICAgIH0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBidXNjYXJOdW1lcmFjYW8oZGF0YSwgZXN0YWJlbGVjaW1lbnRvLCBjYWxsYmFjaywgY2FsbGJhY2tPQkopIHsNCiAgICBsZXQgZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUgPSAiMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmIjsNCiAgICBpZiAoIWNhbGxiYWNrKSB7DQogICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgMzA7IHMrKykgew0KICAgICAgICAgICAgbGV0IGV4aXN0ID0gbWVtb3J5LlRyeUFkZCgiQ0hBVkUiLCAiVkFMT1IiLCAyMCk7DQogICAgICAgICAgICBpZiAoZXhpc3QgfHwgcyA9PSAyOSkgew0KICAgICAgICAgICAgICAgIGxldCBGaWx0cm9VbmlkYWRlRW1pc3NhbyA9IEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiAiX2lkIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogZXN0YWJlbGVjaW1lbnRvIH1dKTsNCiAgICAgICAgICAgICAgICBsZXQgb2JqRXN0YWJlbGVjaW1lbnRvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgRmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KICAgICAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGUnOiAncHJvY2Vzc2FuZG8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZV9kZXNjJzogJ1BST0NFU1NBTkRPJw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICdOdW1lcm8nOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX3NlcXVlbmNpYWxfZG9fY3RlLA0KICAgICAgICAgICAgICAgICAgICAnU2VyaWUnOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX2RhX3NlcmllX2RvX2N0ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdXRpbHMuc2xlZXAoNTAwMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoY2FsbGJhY2tPQkouc3RhdHVzID09ICdPSycpIHsNCiAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICBmZHRpZDogZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsDQogICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGUnOiAnZGlzcG9uaXZlbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGVfZGVzYyc6ICdESVNQT07DjVZFTCcsDQogICAgICAgICAgICAgICAgICAgICAgICAnbnVtZXJvX3NlcXVlbmNpYWxfZG9fY3RlJzogY2FsbGJhY2tPQkoubnVtZXJvICsgMQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBtZW1vcnkuUmVtb3ZlKGVzdGFiZWxlY2ltZW50byk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAoY2FsbGJhY2tPQkoubmV4dCkgew0KICAgICAgICAgICAgICAgIG9iakVzdGFiZWxlY2ltZW50byA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIEZpbHRyb1VuaWRhZGVFbWlzc2FvKTsNCiAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ251bWVyb19zZXF1ZW5jaWFsX2RvX2N0ZSc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fc2VxdWVuY2lhbF9kb19jdGUgKyAxDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgJ051bWVybyc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fc2VxdWVuY2lhbF9kb19jdGUgKyAxLA0KICAgICAgICAgICAgICAgICAgICAnU2VyaWUnOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX2RhX3NlcmllX2RvX2N0ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2tPQkouRHVwbGljaWRhZGUpIHsNCiAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlJzogJ2Rpc3Bvbml2ZWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZV9kZXNjJzogJ0RJU1BPTsONVkVMJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtZXJvX3NlcXVlbmNpYWxfZG9fY3RlJzogY2FsbGJhY2tPQkoubnVtZXJvICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIG1lbW9yeS5SZW1vdmUoZXN0YWJlbGVjaW1lbnRvKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsDQogICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZSc6ICdkaXNwb25pdmVsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGVfZGVzYyc6ICdESVNQT07DjVZFTCcsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgbWVtb3J5LlJlbW92ZShlc3RhYmVsZWNpbWVudG8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgIm1vdGl2b19hbnVsYWNhb19jdGUiOiAiYXNkYXNkIGFzZGFzZGEgc2Rhc2Rhc2RhIHNhZGFzZGFzZGFzIHNhZGFzZGEiLA0KICAgICJwb3NzdWlfZGVjbGFyYWNhbyI6ICJzaW0iLA0KICAgICJwb3NzdWlfZGVjbGFyYWNhb19kZXNjIjogIlNpbSIsDQogICAgImFuZXhvX2FudWxhY2FvX2N0ZSI6IFt7DQogICAgICAgICJVcmwiOiAiaHR0cHM6Ly9vbmViYWNrdXBzZXJ2aWNlcy5ibG9iLmNvcmUud2luZG93cy5uZXQvMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1LzU1ODA3M2JhLWE5NTUtNDU2Yy04M2IzLWI0MDA4YzhlYjBjMmFwaS1ndWlkZS5odG1sLmh0bWw/c3Y9MjAxOC0wMy0yOCZzcj1iJnNpZz1HTUZrcFRIakx5SjFZc1BsR0tYMVhBRUZlOGVKQURHbUNQUWE4cVB6RkljJTNEJnNlPTIwMjItMTItMTJUMTglM0ExNSUzQTM0WiZzcD1yIiwNCiAgICAgICAgIlVybEF6dXJlIjogImh0dHBzOi8vb25lYmFja3Vwc2VydmljZXMuYmxvYi5jb3JlLndpbmRvd3MubmV0LzBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNS81NTgwNzNiYS1hOTU1LTQ1NmMtODNiMy1iNDAwOGM4ZWIwYzJhcGktZ3VpZGUuaHRtbC5odG1sP3N2PTIwMTgtMDMtMjgmc3I9YiZzaWc9R01Ga3BUSGpMeUoxWXNQbEdLWDFYQUVGZThlSkFER21DUFFhOHFQekZJYyUzRCZzZT0yMDIyLTEyLTEyVDE4JTNBMTUlM0EzNFomc3A9ciIsDQogICAgICAgICJOYW1lIjogImFwaS1ndWlkZS5odG1sIg0KICAgIH1dLA0KICAgICJkYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZURhdGUiOiAiMjAyMi0wNS0yNiAwMzowMDowMCIsDQogICAgImRhdGFfZGVfZW1pc3Nhb19kYV9kZWNsYXJhY2FvX2RvX3RvbWFkb3JfY3RlIjogIjIwMjItMDUtMjYgMDA6MDA6MDAiLA0KICAgICJuZmVfYW51bGFjYW9fY3RlIjogIiIsDQogICAgIklEX09ORV9SRUYiOiAiZTlkMjE1ZGItNGIyNS00ODNiLWFhNzItYzFlZjZhNGE5OTQ1IiwNCiAgICAib25lVGVtcGxhdGVUaXRsZSI6ICIiLA0KICAgICJhc3NfaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAiZmR0aWQiOiAiM2RjOWM2MzUtMWZkZS00ODJmLTlmYmYtZTUyYjFjMDE2MjE0IiwNCiAgICAiZmVkaWQiOiAiNjcyZGY0ZDEtZDljYi01Y2NiLTM4NzUtNmJjMzA5NTZlN2Q1IiwNCiAgICAib25lcmd5X3JvbGlkIjogIiIsDQogICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIg0KfQ0KDQoNCmpzb25JbnB1dC5vbmVyZ3lfanNfY3R4ID0gew0KICAgICJhc3NfaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAiZmR0aWQiOiAiYmQyNzgzN2ItZDkyOS00NzdjLTlkZTMtNjUzZGZkMzdlOTE0IiwNCiAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAiZmVkaWQiOiAiNjcyZGY0ZDEtZDljYi01Y2NiLTM4NzUtNmJjMzA5NTZlN2Q1IiwNCn0NCg0KaW5pdChKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(CTE) - Emisso copy.js", "isDirectory": false, "__KEY__": "eb09887a-34ba-bc55-a463-36b51347deb9", "size": 109741, "dateModified": "2022-08-11T16:27:35.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBpZiAoZGF0YS5lbnZpYXJfY3RlID09PSAic2ltIikgew0KICAgICAgICBsZXQgY2hhdmVvcmlnaW5hbCA9IGRhdGEuY2hhdmVfY3RlX29yaWdpbmFsX2N0ZTsNCiAgICAgICAgbGV0IG51bWVyb29yaWdpbmFsID0gZGF0YS5udW1lcm9fY3RlX29yaWdpbmFsX2N0ZTsNCiAgICAgICAgbGV0IHNlcmllb3JpZ2luYWwgPSBkYXRhLnNlcmllX2N0ZV9vcmlnaW5hbF9jdGU7DQoNCiAgICAgICAgLy9VbmlkYWRlIGRlIEVtaXNzw6NvDQogICAgICAgIGxldCBDYXJkVW5pZGFkZUVtaXNzYW8gPSAiMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmIjsNCiAgICAgICAgbGV0IEZpbHRyb1VuaWRhZGVFbWlzc2FvID0gZ2VyYXJGaWx0cm8oIl9pZCIsIGRhdGEuTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCk7DQogICAgICAgIGxldCBPYmpVbmlkYWRlRW1pc3NhbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oQ2FyZFVuaWRhZGVFbWlzc2FvLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBGaWx0cm9VbmlkYWRlRW1pc3Nhbyk7DQoNCiAgICAgICAgLy9FbmRlcmXDp28gZGEgVW5pZGFkZSBFbWlzc8Ojbw0KICAgICAgICBsZXQgQ2FyZEVuZGVyZWNvVW5pZGFkZUVtaXNzYW8gPSAiOGRlODg2OTItMDgwZi00NGZlLTlmMGMtMjljOGVhNTM3ZjRmIjsNCiAgICAgICAgbGV0IEZpbHRyb0VuZGVyZWNvVW5pZGFkZUVtaXNzYW8gPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIE9ialVuaWRhZGVFbWlzc2FvWzBdLklEKTsNCiAgICAgICAgbGV0IE9iakVuZGVyZWNvVW5pZGFkZUVtaXNzYW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKENhcmRFbmRlcmVjb1VuaWRhZGVFbWlzc2FvLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBGaWx0cm9FbmRlcmVjb1VuaWRhZGVFbWlzc2FvKTsNCg0KICAgICAgICBpZiAoZGF0YS5zdGF0dXNfY3RlX2N0ZSA9PT0gIm5hb2VtaXRpZG8iKSB7DQogICAgICAgICAgICBsZXQgZ25Mb2cgPSBhd2FpdCBWYWxpZGFJbmZvcm1hY29lc0VtaXNzYW9DVGUoZGF0YSk7DQogICAgICAgICAgICBpZiAoZ25Mb2cgPT09ICIiKSB7DQogICAgICAgICAgICAgICAgbGV0IHRva2VuT2JqID0gYXdhaXQgUGVnYVRva2VuKGRhdGEpOw0KICAgICAgICAgICAgICAgIGlmICh0b2tlbk9iai50b2tlbiAhPT0gbnVsbCAmJiB0b2tlbk9iai50b2tlbiAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbnZpb2N0ZU9iaiA9IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9CdXNjYSBOdW1lcmHDp8Ojbw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IE51bWVyb0NURSA9IGF3YWl0IGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCwgZmFsc2UsIG51bGwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGUgPT09ICJzdWJzdGl0dXRvIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlvY3RlT2JqID0gYXdhaXQgQ3JpYU9iamV0b0VtaXNzYW9TdWJzdGl0dWljYW9DdGUoZGF0YSwgTnVtZXJvQ1RFLk51bWVybywgTnVtZXJvQ1RFLlNlcmllLCBPYmpVbmlkYWRlRW1pc3NhbywgT2JqRW5kZXJlY29VbmlkYWRlRW1pc3Nhbyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlvY3RlT2JqID0gYXdhaXQgQ3JpYU9iamV0b0VtaXNzYW9DdGUoZGF0YSwgTnVtZXJvQ1RFLk51bWVybywgTnVtZXJvQ1RFLlNlcmllLCBPYmpVbmlkYWRlRW1pc3NhbywgT2JqRW5kZXJlY29VbmlkYWRlRW1pc3Nhbyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW52aW9jdGVPYmogIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsZW1pc3NhbyA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09PSAic3Vic3RpdHV0byIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsZW1pc3NhbyA9ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9DVGUvU3Vic3RpdHVpckNUZSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsZW1pc3NhbyA9ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9DVGUvRW52aWFyQ1RlIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3Bvc3RhTWVuc2FnZXJpYSA9IGF3YWl0IEVmZXR1YU1lbnNhZ2VyaWEoZGF0YSwgZW52aW9jdGVPYmosIHRva2VuT2JqLCB1cmxlbWlzc2FvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNoYXZlX2N0ZV9vcmlnaW5hbF9jdGUgPSBjaGF2ZW9yaWdpbmFsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubnVtZXJvX2N0ZV9vcmlnaW5hbF9jdGUgPSBudW1lcm9vcmlnaW5hbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNlcmllX2N0ZV9vcmlnaW5hbF9jdGUgPSBzZXJpZW9yaWdpbmFsOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5oYXNPd25Qcm9wZXJ0eSgic3RhdHVzIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5zdGF0dXMgPT0gNDAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxvZ19jdGUgPSBgRXJybyBuYSBleGVjdcOnw6NvOiR7SlNPTi5zdHJpbmdpZnkocmVzcG9zdGFNZW5zYWdlcmlhLmVycm9ycyl9YDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRGVpeGEgYSBudW1lcmHDp8OjbyBkaXNwb27DrXZlbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9LJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRHVwbGljaWRhZGUnOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCBkYXRhLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5wcm90b2NvbG9BdXRvcml6YWNhbyAhPT0gIiIgJiYgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuY2hhdmVBY2Vzc29DVGUgIT09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RlaXhhIGEgUHJveGltYSBOw7ptZXJhY2FvIERpc3BvbsOtdmVsLg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm8nOiBOdW1lcm9DVEUuTnVtZXJvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5udW1lcm9fY3RlX2N0ZSA9IE51bWVyb0NURS5OdW1lcm87DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNlcmllX2N0ZV9jdGUgPSBOdW1lcm9DVEUuU2VyaWU7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3RhdHVzX2N0ZV9jdGUgPSAiZW1pdGlkbyI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN0YXR1c19jdGVfY3RlX2Rlc2MgPSAiRW1pdGlkbyI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLkNhbGNfQ2FjaGUgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZW1pdGlkb190bXAgPSBkYXRhLnN0YXR1c19jdGVfY3RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5lbWl0aWRvX3RtcF9kZXNjID0gZGF0YS5zdGF0dXNfY3RlX2N0ZV9kZXNjOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhdmFFdmVudG8oZGF0YS5mZWRpZCwgIkF1dG9yaXphw6fDo28iLCByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5wcm90b2NvbG9BdXRvcml6YWNhbywgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuY2hhdmVBY2Vzc29DVGUsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGV0ZW1wID0gZmlsZXV0aWxzLkNyZWF0ZUZpbGUocmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuanNvbkF1dG9yaXphZG8sICIueG1sIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJseG1sID0gZmlsZXV0aWxzLlVwbG9hZEZpbGUoZmlsZXRlbXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb25jdGUgPSBKU09OLnBhcnNlKGZpbGV1dGlscy5Db252ZXJ0WG1sVXJsVG9Kc29uKHVybHhtbCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmpzb25fYXV0b3JpemFjYW9fc2VmYXpfY3RlID0gSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZW1pdGVudGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieEZhbnQiOiBqc29uY3RlLmN0ZVByb2MuQ1RlLmluZkN0ZS5lbWl0LnhGYW50LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNOUEoiOiBqc29uY3RlLmN0ZVByb2MuQ1RlLmluZkN0ZS5lbWl0LkNOUEosDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSUUiOiBqc29uY3RlLmN0ZVByb2MuQ1RlLmluZkN0ZS5lbWl0LklFLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInhMZ3IiOiBqc29uY3RlLmN0ZVByb2MuQ1RlLmluZkN0ZS5lbWl0LmVuZGVyRW1pdC54TGdyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm5ybyI6IGpzb25jdGUuY3RlUHJvYy5DVGUuaW5mQ3RlLmVtaXQuZW5kZXJFbWl0Lm5ybywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4QmFpcnJvIjoganNvbmN0ZS5jdGVQcm9jLkNUZS5pbmZDdGUuZW1pdC5lbmRlckVtaXQueEJhaXJybywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4TXVuIjoganNvbmN0ZS5jdGVQcm9jLkNUZS5pbmZDdGUuZW1pdC5lbmRlckVtaXQueE11biwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVRiI6IGpzb25jdGUuY3RlUHJvYy5DVGUuaW5mQ3RlLmVtaXQuZW5kZXJFbWl0LlVGLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNFUCI6IGpzb25jdGUuY3RlUHJvYy5DVGUuaW5mQ3RlLmVtaXQuZW5kZXJFbWl0LkNFUA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW1wIjoganNvbmN0ZS5jdGVQcm9jLkNUZS5pbmZDdGUuaW1wLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2hDVGUiOiBqc29uY3RlLmN0ZVByb2MucHJvdENUZS5pbmZQcm90LmNoQ1RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicXJDb2RDVGUiOiBqc29uY3RlLmN0ZVByb2MuQ1RlLmluZkNUZVN1cGwucXJDb2RDVGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbmZRIjoganNvbmN0ZS5jdGVQcm9jLkNUZS5pbmZDdGUuaW5mQ1RlTm9ybS5pbmZDYXJnYS5pbmZRLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAieE9icyI6IGpzb25jdGUuY3RlUHJvYy5DVGUuaW5mQ3RlLmNvbXBsLnhPYnMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2UHJlc3QiOiBqc29uY3RlLmN0ZVByb2MuQ1RlLmluZkN0ZS52UHJlc3QNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJneS5sb2coYFtFbWlzc8OjbyBkZSBDVEVdXG5FcnJvIG5hIGZvcm1hw6fDo28gZG8ganNvbl9hdXRvcml6YWNhb19zZWZhel9jdGVcbkVycm86JHtlcnJ9YCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXJsX3htbCA9IHVybHhtbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2hhdmVfY3RlX2N0ZSA9IHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLmNoYXZlQWNlc3NvQ1RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm90b2NvbG9fY3RlX2N0ZSA9IHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnByb3RvY29sb0F1dG9yaXphY2FvOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxvZ19jdGUgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXJsX3BkZl9jdGUgPSBgaHR0cHM6Ly9kb2NzLm9uZXJneS5jb20uYnIvZG9jdW1lbnRvcy9kYWN0ZS8ke2RhdGEuYXNzaWR9LyR7ZGF0YS51c3JpZH0vJHtkYXRhLmZlZGlkfS8ke2RhdGEuZmR0aWR9YDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YV9lbWlzc2FvX2N0ZURhdGUgPSB6ZXJhckhvcmEobmV3IERhdGUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdGFfZW1pc3Nhb19jdGUgPSB6ZXJhckhvcmEobmV3IERhdGUoKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gQXZlcmJhY2FvIENURSA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZGF0YS5zdGF0dXNfY3RlX2N0ZSA9PSAnZW1pdGlkbycgJiYgZGF0YS5jdGVfYXZlcmJhZG8gPT0gJ25hbycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGF0YSA9IEF2ZXJiYXJDVEUoZGF0YSwgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuanNvbkF1dG9yaXphZG8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRhdGEubG9nX2N0ZSA9IGBFcnJvIG5hIGF2ZXJiYcOnw6NvOiR7ZXJyfWA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVtYWlsIFNpcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVtYWlsRW1pc3Nhb1RlbXBsYXRlSUQgPSAnM2ZlMTE0MDMtYWJjNy00NGRmLWEyZjEtNmM5YTc5MDhkZWQwJzsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBkZkRBQ1RFID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ1cmxfZGFjdGUiOiBkYXRhLnVybF9wZGZfY3RlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVUZW1wREFDVEUgPSBmaWxldXRpbHMuQ3JlYXRlRmlsZShKU09OLnN0cmluZ2lmeShwZGZEQUNURSksICIuanNvbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybEZpbGVUZW1wREFDVEUgPSBmaWxldXRpbHMuVXBsb2FkRmlsZShmaWxlVGVtcERBQ1RFKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudmlhckVtYWlsU0lTKGRhdGEsIGVtYWlsRW1pc3Nhb1RlbXBsYXRlSUQsIHVybHhtbCwgdXJsRmlsZVRlbXBEQUNURSwgJ0VNSVNTQU8nLCBkYXRhLm51bWVyb19jdGVfY3RlLCBudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PSBHZXJhw6fDo28gT3JkZW0gZGUgVmVuZGEgPT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgT3JkZW1EZVZlbmRhU0YoZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkYXRhLmxvZ19jdGUgPSBgRXJybyBHZXJhw6fDo28gT3JkZW0gZGUgVmVuZGFcbkVycm86JHtlcnJ9YDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09IEVudmlvIGRlIGVtYWlsIENvbnRhdG9zID09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZUVtaXNzYW9DVEUgPSAiNzg1YWM4OTAtZGMyNC00NGUwLWFhZTYtMjEwODMyZWUyMmU3IjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVDb250ZXVkb0VtYWlsID0gJzE3MGQ3ZGQxLWQ0MmUtNDA2NC1hY2Y5LTlhN2M3MjI2MWFjYyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBsZXRlRW1haWxzID0gIjJjYzk0OWYyLWZhMjYtNGMwZS04N2YwLWQ2MWEwOTIzMTY1YSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IEVtcHJlc2FJRCA9ICJhZjY2ZmIyZC05NjBlLTRlMWItOWE2Ni00NDRjZGFkNjRmNjMiOzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvVG9tYWRvciA9IGdlcmFyRmlsdHJvKCJjbnBqX2VtcHJlc2EiLCBkYXRhLkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9ialRvbWFkb3IgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKEVtcHJlc2FJRCwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgZmlsdHJvVG9tYWRvcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb0VtYWlsc1RvYW1kb3IgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIG9ialRvbWFkb3JbMF0uSUQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbWFpbHNUb21hZG9yID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGV0ZUVtYWlscywgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgZmlsdHJvRW1haWxzVG9hbWRvcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFFbWlzc2FvID0gbmV3IERhdGUoZGF0YS5kYXRhX2VtaXNzYW9fY3RlRGF0ZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWxzVG9tYWRvci5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXVkb0VtYWlsID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm51bWVyb19jdGUiOiBkYXRhLm51bWVyb19jdGVfY3RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNucGpfdG9tYWRvciI6IGRhdGEuRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJhemFvX3NvY2lhbF90b21hZG9yIjogZGF0YS5FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fdG9tYWRvcl9yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRHRFbWlzc2FvIjogKChkYXRhRW1pc3Nhby5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSkpICsgIi8iICsgKChkYXRhRW1pc3Nhby5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSkgKyAiLyIgKyBkYXRhRW1pc3Nhby5nZXRGdWxsWWVhcigpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbG9yX3RvdGFsIjogZGF0YS52YWxvcl90b3RhbF9wcmVzdGFjYW9fc2Vydmljb3NfY3RlLnRvRml4ZWQoMiksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2hhdmVfY3RlIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhkYXRhLmNoYXZlX2N0ZV9jdGUpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxpbmtfZGFjdGUiOiBkYXRhLnVybF9wZGZfY3RlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IEFuZXhvcyA9IFt7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsIjogdXJseG1sLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEF6dXJlIjogdXJseG1sLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiBgWE1MX0VNSVNTQU9fQ1RFXyR7ZGF0YS5udW1lcm9fY3RlX2N0ZX0ueG1sYA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsIjogZGF0YS51cmxfcGRmX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxBenVyZSI6IGRhdGEudXJsX3BkZl9jdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6IGBEQUNURV8ke2RhdGEubnVtZXJvX2N0ZV9jdGV9LnBkZmANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV1ZG9FbWFpbElEID0gYXdhaXQgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZUNvbnRldWRvRW1haWwsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBjb250ZXVkb0VtYWlsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBlbWFpbHNUb21hZG9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWxzVG9tYWRvcltzXS5VcmxKc29uQ29udGV4dC5oYXNPd25Qcm9wZXJ0eSgnZW52aWFyX2N0ZW1kZmVfJykgJiYgZW1haWxzVG9tYWRvcltzXS5VcmxKc29uQ29udGV4dC5lbnZpYXJfY3RlbWRmZV8gPT0gJ3NpbScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kbWFpbCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcGlkOiB0ZW1wbGF0ZUVtaXNzYW9DVEUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsX3RvOiBlbWFpbHNUb21hZG9yW3NdLlVybEpzb25Db250ZXh0LmVtYWlsX3VzdSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbnRldWRvRW1haWxJRCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbHN0QW5leG9zOiBKU09OLnN0cmluZ2lmeShBbmV4b3MpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVyZ3kubG9nKGBFcnJvIG5vIGVudmlvIGRlIGVtYWlsIENURSBcbiBFcnJvOiR7ZXJyfWApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHVwbGljaWRhZGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb2dSZXR1cm4gPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGVuIGluIHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BlbiA9IHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zW2VuXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dSZXR1cm4ucHVzaChgJHtyZXNwZW4uZGVzY3JpY2FvfVxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Blbi5kZXNjcmljYW8uaW5kZXhPZignRHVwbGljaWRhZGUnKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXBsaWNpZGFkZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5sb2dfY3RlID0gbG9nUmV0dXJuLmxlbmd0aCA+IDAgPyBsb2dSZXR1cm4uam9pbignJykgOiAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqQ2FsbEJhY2s7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkdXBsaWNpZGFkZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ2FsbEJhY2sgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEdXBsaWNpZGFkZSc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtZXJvJzogTnVtZXJvQ1RFLk51bWVybw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ2FsbEJhY2sgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEdXBsaWNpZGFkZSc6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXh0JzogZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCwgdHJ1ZSwgb2JqQ2FsbEJhY2spOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubG9nX2N0ZSA9ICJGYWxoYSBubyBlbnZpbyBhIFNFRkFaIC0gVGVudGUgbm92YW1lbnRlIGRhcXVpIGEgcG91Y28gISI7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm8pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJzogJ05PSycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYnVzY2FyTnVtZXJhY2FvKGRhdGEsIE9ialVuaWRhZGVFbWlzc2FvWzBdLklELCB0cnVlLCBvYmpDYWxsQmFjayk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBkYXRhLmxvZ19jdGUgPSAiVG9rZW4gSW52w6FsaWRvIG91IEVtcHJlc2EgbsOjbyBBdXRvcml6YWRhICEiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZGF0YS5sb2dfY3RlID0gZ25Mb2c7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgbWVtb3J5LlJlbW92ZShkYXRhLmZlZGlkKTsNCiAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgZGF0YSwgZmFsc2UpOw0KfQ0KDQpmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQogICAgbGV0IGFkaWNpb25hZG8gPSBtZW1vcnkuVHJ5QWRkKGRhdGEuZmVkaWQsIGRhdGEuZmVkaWQsIDYwKTsNCiAgICBvbmVyZ3kubG9nKGBBZGljaW9uYWRvOiR7YWRpY2lvbmFkb31gKTsNCiAgICBpZiAoYWRpY2lvbmFkbykgew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgYXNzaWQsIHVzcmlkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfTsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBzdHJSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGZpbHRlcjogZmlsdHJvDQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcCk7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpDQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQoNCiAgICB2YXIgb2JqID0gew0KICAgICAgICAnY29uZCc6IGNvbmQsDQogICAgICAgICdqc29uJzogSlNPTi5zdHJpbmdpZnkoanNvbiksDQogICAgICAgICdXYWl0aW5nV2ViSG9vayc6IFdhaXRpbmdXZWJIb29rLA0KICAgIH07DQogICAgcmV0dXJuIG9iajsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gVmFsaWRhSW5mb3JtYWNvZXNFbWlzc2FvQ1RlKGRhdGEpIHsNCiAgICBsZXQgZ25Mb2cgPSBbXTsNCiAgICBsZXQgY2hpbGRyZW5GaWx0ZXIgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogIklEX09ORV9SRUYiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiBkYXRhLmZlZGlkDQogICAgfV0pOw0KICAgIGlmICghZGF0YS5DRk9QX2NvZGlnb19jZm9wX19jZm9wX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJDRk9QIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLnJlc3BvbnNhdmVsX2ZyZXRlX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJSZXNwb25zw6F2ZWwgcGVsbyBGcmV0ZSBJbnbDoWxpZG8gIVxuIik7DQogICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKGRhdGEucmVzcG9uc2F2ZWxfZnJldGVfY3RlID09ICJkZXN0aW5hdGFyaW8iICYmICFkYXRhLkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX2Rlc3RpbmF0YXJpbykgew0KICAgICAgICAgICAgZ25Mb2cucHVzaCgiSW5kaWNhZG9yIGRvIElFIERlc3RpbmF0w6FyaW8gUmVzcG9uc8OhdmVsIHBlbG8gRnJldGUgSW52w6FsaWRvICFcbiIpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKCFkYXRhLkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX3JlbWV0ZW50ZSkgew0KICAgICAgICAgICAgICAgIGduTG9nLnB1c2goIkluZGljYWRvciBkbyBJRSBSZW1ldGVudGUgUmVzcG9uc8OhdmVsIHBlbG8gRnJldGUgSW52w6FsaWRvICFcbiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmICghZGF0YS50aXBvX3NlcnZpY29fY3RlX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJUaXBvIGRlIFNlcnZpw6dvIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLmNhcmFjdGVyaXN0aWNhc19hZF9zZXJ2aWNvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJDYXJhY3RlcsOtc3RpY2EgQWRpY2lvbmFsIGRvIFNlcnZpw6dvIGRlIFRyYW5zcG9ydGUgSW52w6FsaWRhICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuc2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fb3JpZ2VtX2N0ZSAmJiBkYXRhLm1vZGFsaWRhZGVfdHJhbnNwb3J0ZV9jdGVfZGVzYyA9PT0gIk11bHRpbW9kYWwiKSB7DQogICAgICAgIGduTG9nLnB1c2goIlNpZ2xhIG91IGPDs2RpZ28gaW50ZXJubyBkYSBGaWxpYWwvUG9ydG8vRXN0YcOnw6NvL0Flcm9wb3J0byBkZSBPcmlnZW0gSW52w6FsaWRhICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuc2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fZGVzdGlub19jdGUgJiYgZGF0YS5tb2RhbGlkYWRlX3RyYW5zcG9ydGVfY3RlX2Rlc2MgPT09ICJNdWx0aW1vZGFsIikgew0KICAgICAgICBnbkxvZy5wdXNoKCJTaWdsYSBvdSBjw7NkaWdvIGludGVybm8gZGEgRmlsaWFsL1BvcnRvL0VzdGHDp8Ojby9BZXJvcG9ydG8gZGUgRGVzdGlubyBJbnbDoWxpZGEgIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk11bmljw61waW8gLyBVRiBkZSBPcmlnZW0gcGFyYSBDw6FsY3VsbyBkbyBGcmV0ZSBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk11bmljw61waW8gLyBVRiBkZSBEZXN0aW5vIHBhcmEgQ8OhbGN1bG8gZG8gRnJldGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQ05QSiBkbyBSZW1ldGVudGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiUmF6w6NvIFNvY2lhbCBkbyBSZW1ldGVudGUgSW52w6FsaWRhICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX19yZW1ldGVudGVfbm9tZV9mYW50YXNpYV9hcGVsaWRvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJOb21lIEZhbnRhc2lhIGRvIFJlbWV0ZW50ZSBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVB0ZWxlZm9uZV9lbXByZXNhX19yZW1ldGVudGVfZm9uZV9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiVGVsZWZvbmUgZG8gUmVtZXRlbnRlIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fcmVtZXRlbnRlX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIkxvZ3JhZG91cm8gZG8gUmVtZXRlbnRlIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUG51bWVyb19lbXByZXNhX19yZW1ldGVudGVfbnVtZXJvX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk7Dum1lcm8gZG8gTG9ncmFkb3VybyBkbyBSZW1ldGVudGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QYmFpcnJvX2VtcHJlc2FfX3JlbWV0ZW50ZV9iYWlycm9fbG9ncmFkb3Vyb19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQmFpcnJvIGRvIExvZ3JhZG91cm8gZG8gUmVtZXRlbnRlIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX3JlbWV0ZW50ZV9jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIkPDs2RpZ28gZG8gTXVuaWPDrXBpbyBkbyBMb2dyYWRvdXJvIGRvIFJlbWV0ZW50ZSBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk5vbWUgZG8gTXVuaWPDrXBpbyBkbyBMb2dyYWRvdXJvIGRvIFJlbWV0ZW50ZSBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBjZXBfZW1wcmVzYV9fcmVtZXRlbnRlX2NlcF9sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJDRVAgZG8gTG9ncmFkb3VybyBkbyBSZW1ldGVudGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJVRiBkbyBMb2dyYWRvdXJvIGRvIFJlbWV0ZW50ZSBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBNTE9DWnBhaXNfaWJnZV9fcmVtZXRlbnRlX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIkPDs2RpZ28gZG8gUGHDrXMgZG8gTG9ncmFkb3VybyBkbyBSZW1ldGVudGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk5vbWUgZG8gUGHDrXMgZG8gTG9ncmFkb3VybyBkbyBSZW1ldGVudGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQ05QSiBkbyBEZXN0aW5hdMOhcmlvIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19kZXN0aW5hdGFyaW9fcmF6YW9fc29jaWFsX25vbWVfY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIlJhesOjbyBTb2NpYWwgZG8gRGVzdGluYXTDoXJpbyBJbnbDoWxpZGEgIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBub21lX2ZhbnRhc2lhX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX2ZhbnRhc2lhX2FwZWxpZG9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk5vbWUgRmFudGFzaWEgZG8gRGVzdGluYXTDoXJpbyBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVB0ZWxlZm9uZV9lbXByZXNhX19kZXN0aW5hdGFyaW9fZm9uZV9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiVGVsZWZvbmUgZG8gRGVzdGluYXTDoXJpbyBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBsb2dyYWRvdXJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJMb2dyYWRvdXJvIGRvIERlc3RpbmF0w6FyaW8gSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QbnVtZXJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19udW1lcm9fbG9ncmFkb3Vyb19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiTsO6bWVybyBkbyBMb2dyYWRvdXJvIGRvIERlc3RpbmF0w6FyaW8gSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QYmFpcnJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19iYWlycm9fbG9ncmFkb3Vyb19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQmFpcnJvIGRvIExvZ3JhZG91cm8gZG8gRGVzdGluYXTDoXJpbyBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBNTE9DWm11bmljaXBpb19pYmdlX19kZXN0aW5hdGFyaW9fY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJDw7NkaWdvIGRvIE11bmljw61waW8gZG8gTG9ncmFkb3VybyBkbyBEZXN0aW5hdMOhcmlvIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiTm9tZSBkbyBNdW5pY8OtcGlvIGRvIExvZ3JhZG91cm8gZG8gRGVzdGluYXTDoXJpbyBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBjZXBfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NlcF9sb2dyYWRvdXJvX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJDRVAgZG8gTG9ncmFkb3VybyBkbyBEZXN0aW5hdMOhcmlvIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19kZXN0aW5hdGFyaW9fdWZfbG9ncmFkb3Vyb19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiVUYgZG8gTG9ncmFkb3VybyBkbyBEZXN0aW5hdMOhcmlvIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUE1MT0NacGFpc19pYmdlX19kZXN0aW5hdGFyaW9fY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQ8OzZGlnbyBkbyBQYcOtcyBkbyBMb2dyYWRvdXJvIGRvIERlc3RpbmF0w6FyaW8gSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIk5vbWUgZG8gUGHDrXMgZG8gTG9ncmFkb3VybyBkbyBEZXN0aW5hdMOhcmlvIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiVmFsb3IgVG90YWwgZGEgUHJlc3Rhw6fDo28gSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEudmFsb3JfcmVjZWJlcl9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiVmFsb3Igw6AgUmVjZWJlciBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5jc3RfY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIkNTVCBkZSBJQ01TIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19wcm9kdXRvX3ByZWRvbWluYW50ZV9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiUHJvZHV0byBQcmVkb21pbmFudGUgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9kZXN0aW5hdGFyaW8pIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiU2ltcGxlcyBOYWNpb25hbCBkbyBEZXN0aW50YXTDoXJpbyBpbnbDoWxpZG8uXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfcmVtZXRlbnRlKSB7DQogICAgICAgIGduTG9nLnB1c2goIlNpbXBsZXMgTmFjaW9uYWwgZG8gUmVtZXRlbnRlIGludsOhbGlkby5cbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX3NpbXBsZXNfbmFjaW9uYWxfY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIlNpbXBsZXMgTmFjaW9uYWwgZG8gVG9tYWRvciBpbnbDoWxpZG8uXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhKSB7DQogICAgICAgIGduTG9nLnB1c2goIk5vbWUgZGEgU2VndXJhZG9yYSBJbnbDoWxpZG8gIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5FTVBjbnBqX2VtcHJlc2FfX2NucGpfc2VndXJhZG9yYV9jdGUpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQ05QSiBkYSBTZWd1cmFkb3JhIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLm51bWVyb19hcG9saWNlX2N0ZSkgew0KICAgICAgICBnbkxvZy5wdXNoKCJOw7ptZXJvIGRhIEFww7NsaWNlIGRhIFNlZ3VyYWRvcmEgSW52w6FsaWRvICFcbiIpOw0KICAgIH0NCiAgICBpZiAocmV0b3JuYV9zb21lbnRlbnVtZXJvcyhkYXRhLkVNUGNlcF9lbXByZXNhX19yZW1ldGVudGVfY2VwX2xvZ3JhZG91cm9fY3RlKS5sZW5ndGggPCA4KSB7DQogICAgICAgIGduTG9nLnB1c2goIkNFUCBkbyBSZW1ldGVudGUgaW52w6FsaWRvIVxuIik7DQogICAgfQ0KICAgIGlmIChyZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEuRU1QY2VwX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jZXBfbG9ncmFkb3Vyb19jdGUpLmxlbmd0aCA8IDgpIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiQ0VQIGRvIERlc3RpbmF0w6FyaW8gaW52w6FsaWRvIVxuIik7DQogICAgfQ0KICAgIGlmIChyZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEuRU1QY2VwX2VtcHJlc2FfX3RvbWFkb3JfY2VwX2xvZ3JhZG91cm9fY3RlKS5sZW5ndGggPCA4KSB7DQogICAgICAgIGduTG9nLnB1c2goIkNFUCBkbyBUb21hZG9yIGludsOhbGlkbyFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEudmFsb3JfdG90YWxfY2FyZ2FfY3RlKSB7DQogICAgICAgIGduTG9nLnB1c2goIlZhbG9yIFRvdGFsIGRhIENhcmdhIEludsOhbGlkbyAhXG4iKTsNCiAgICB9DQogICAgaWYgKGRhdGEubW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZSA9PSAibXVsdGltb2RhbCIpIHsNCiAgICAgICAgaWYgKCFkYXRhLmNvdG1fY3RlKSB7DQogICAgICAgICAgICBnbkxvZy5wdXNoKCJDT1RNIEludsOhbGlkbyAhXG4iKTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSBpZiAoZGF0YS5tb2RhbGlkYWRlX3RyYW5zcG9ydGVfY3RlID09ICJyb2RvdmlhcmlvIikgew0KICAgICAgICBpZiAoIWRhdGEucm50cmNfY3RlKSB7DQogICAgICAgICAgICBnbkxvZy5wdXNoKCJSTlRSQyBJbnbDoWxpZG8gIVxuIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsZXQgcm50cmNTcGxpdCA9IGRhdGEucm50cmNfY3RlLnNwbGl0KCcnKTsNCiAgICAgICAgICAgIGlmIChybnRyY1NwbGl0Lmxlbmd0aCA+IDgpIHsNCiAgICAgICAgICAgICAgICBnbkxvZy5wdXNoKCJSTlRSQyBkZXZlIHRlciA4IGNhcmFjdGVyZXMhXG4iKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocm50cmNTcGxpdC5sZW5ndGggPCA4KSB7DQogICAgICAgICAgICAgICAgZ25Mb2cucHVzaCgiUk5UUkMgZGV2ZSB0ZXIgOCBjYXJhY3RlcmVzIVxuIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKGRhdGEuZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGUgIT09ICJjb21wbGVtZW50YXIiKSB7DQogICAgICAgIGxldCBmZHRfaWRfcXRkZWNhcmdhdmFsaWRhciA9ICIzM2Q5Y2M4OC05OTJhLTQ0ZDAtYjY0NC1lZTFiZjdlZmZiZmIiOw0KICAgICAgICBsZXQgb2JqZHRvcXRkZWNhcmdhdmFsaWRhciA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZmR0X2lkX3F0ZGVjYXJnYXZhbGlkYXIsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICAgICAgaWYgKG9iamR0b3F0ZGVjYXJnYXZhbGlkYXIubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgIGduTG9nLnB1c2goIlF1YW50aWRhZGUgUmVsYXRpdmEgYSBDYXJnYSBJbnbDoWxpZGEgIVxuIik7DQogICAgICAgIH0NCiAgICAgICAgLy9sZXQgZmR0X2lkX25mZXZhbGlkYXIgPSAiYzQyNTA1NDUtOTdkYS00YjYyLWI2YzgtOTAzNzQ5MThjODAxIjsNCiAgICAgICAgLy9sZXQgb2JqZHRvbmZldmFsaWRhciA9IGdldE9uZXJneUl0ZW0oZmR0X2lkX25mZXZhbGlkYXIsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICAgICAgLy9pZiAob2JqZHRvbmZldmFsaWRhci5sZW5ndGggPiAwKSB7DQoNCiAgICAgICAgLy99DQogICAgfQ0KICAgIGxldCByZXRvcm5vID0gJyc7DQogICAgaWYgKGduTG9nLmxlbmd0aCA+IDApIHsNCiAgICAgICAgcmV0b3JubyA9IGduTG9nLmpvaW4oJycpOw0KICAgIH0NCiAgICByZXR1cm4gcmV0b3JubzsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gUGVnYVRva2VuKG9iaikgew0KICAgIGxldCB1c3JMb2dpbiA9ICJwcjNzdDN4IjsNCiAgICBsZXQgcHdkID0gInByM3N0M3hjdDMyMDIxIjsNCiAgICBsZXQgc3RyUmVzcFRva2VuID0gIiI7DQogICAgYXdhaXQgYXhpb3Moew0KICAgICAgICB1cmw6ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Mb2dpbj9wVXNlck5hbWU9IiArIHVzckxvZ2luICsgIiZwUGFzcz0iICsgcHdkLA0KICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICBkYXRhOiAiIiwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSAnJw0KICAgIH0pOw0KICAgIHJldHVybiBzdHJSZXNwVG9rZW47DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIENyaWFPYmpldG9FbWlzc2FvU3Vic3RpdHVpY2FvQ3RlKG9iaiwgTnVtZXJvQ1RlLCBTZXJpZUNUZSwgRW1pc3NvciwgRW5kRW1pc3Nvcikgew0KICAgIGxldCBJbmRpY2Fkb3JOZWdvY2lhdmVsID0gIiI7DQogICAgaWYgKG9iai5pbmRpY2Fkb3JfbmVnb2NpYXZlbF9jdGVfZGVzYyA9PSAiTsOjbyIpIHsNCiAgICAgICAgSW5kaWNhZG9yTmVnb2NpYXZlbCA9ICJOYW9OZWdvY2lhdmVsIjsNCiAgICB9IGVsc2Ugew0KICAgICAgICBJbmRpY2Fkb3JOZWdvY2lhdmVsID0gIk5lZ29jaWF2ZWwiOw0KICAgIH0NCg0KICAgIGxldCBFbWlzc29yVXJsSnNvbkNvbnRleHQgPSBFbWlzc29yWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBFbmRFbWlzc29yVXJsSnNvbkNvbnRleHQgPSBFbmRFbWlzc29yWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBVcmxDZXJ0aWZpY2FkbyA9IEVtaXNzb3JbMF0uVXJsSnNvbkNvbnRleHQuY2VydGlmaWNhZG9bMF0uVXJsOw0KDQogICAgbGV0IGVudmlvY3RlT2JqdG1wID0gew0KICAgICAgICAiTGlua0NlcnRpZmljYWRvIjogVXJsQ2VydGlmaWNhZG8sDQogICAgICAgICJTZW5oYUNlcnQiOiBFbWlzc29yVXJsSnNvbkNvbnRleHQuc2VuaGFfY2VydGlmaWNhZG8sDQogICAgICAgICJUaXBvQW1iaWVudGUiOiBFbWlzc29yVXJsSnNvbkNvbnRleHQuYW1iaWVudGUsDQogICAgICAgICJVRkVtaXRlbnRlQ1RlIjogRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhLA0KICAgICAgICAiQ05QSkVtaXRlbnRlQ1RlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmNucGosDQogICAgICAgICJJRUVtaXRlbnRlQ1RlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmllLnRvU3RyaW5nKCksDQogICAgICAgICJSYXphb1NvY2lhbE5vbWVFbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVtaXNzb3JVcmxKc29uQ29udGV4dC5yYXphb19zb2NpYWwpLA0KICAgICAgICAiTm9tZUZhbnRhc2lhQXBlbGlkb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW1pc3NvclVybEpzb25Db250ZXh0Lm5vbWVfZXN0YWJlbGVjaW1lbm90KSwNCiAgICAgICAgIkxvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5sb2dyYWRvdXJvX2VtcHJlc2EpLA0KICAgICAgICAiTnVtZXJvTG9ncmFkb3Vyb0VtaXRlbnRlQ1RlIjogRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lm51bWVyb19lbXByZXNhLnRvU3RyaW5nKCksDQogICAgICAgICJDb21wbGVtZW50b0xvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5jb21wbGVtZW50b19lbXByZXNhKSwNCiAgICAgICAgIkJhaXJyb0xvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5iYWlycm9fZW1wcmVzYSksDQogICAgICAgICJDb2RNdW5pY2lwaW9FbWl0ZW50ZUNUZSI6IEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19pYmdlLA0KICAgICAgICAiTm9tZU11bmljaXBpb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhKSwNCiAgICAgICAgIkNFUExvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoRW5kRW1pc3NvclVybEpzb25Db250ZXh0LmNlcF9lbXByZXNhKSwNCiAgICAgICAgIlRlbGVmb25lRW1pdGVudGVDVGUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKEVtaXNzb3JVcmxKc29uQ29udGV4dC50ZWxlZm9uZSksDQogICAgICAgICJDb2RpZ29NdW5pY2lwaW9JbmljaW9QcmVzdGFjYW8iOiBvYmouTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICJOb21lTXVuaWNpcGlvSW5pY2lvUHJlc3RhY2FvIjogb2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgIlVGSW5pY2lvUHJlc3RhY2FvIjogb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgIkNvZGlnb011bmljaXBpb0ZpbVByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX2liZ2VfX2Rlc3Rpbm9fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICJOb21lTXVuaWNpcGlvRmltUHJlc3RhY2FvIjogb2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICJVRkZpbVByZXN0YWNhbyI6IG9iai5NTE9DZXN0YWRvX3VmX191Zl9kZXN0aW5vX2RhX2NhcmdhLA0KICAgICAgICAiTW9kYWxpZGFkZSI6IE51bWJlcihvYmoubW9kYWxpZGFkZV9jdGUpLA0KICAgICAgICAiQ0ZPUCI6IG9iai5DRk9QX2NvZGlnb19jZm9wX19jZm9wX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiRGVzY3JpY2FvQ0ZPUCI6IG9iai5DRk9QX2Rlc2NyaWNhb19jZm9wLA0KICAgICAgICAiRm9ybWF0b0ltcHJlc3Nhb0RBQ1RFIjogIk5vcm1hbFJldHJhdG8iLA0KICAgICAgICAiU2VyaWVDVGUiOiBTZXJpZUNUZSwNCiAgICAgICAgIk51bWVyb0NUZSI6IE51bWVyb0NUZSwNCiAgICAgICAgIkRhdGFFbWlzc2FvIjogemVyYXJIb3JhKG5ldyBEYXRlKCkpLA0KICAgICAgICAiRmluYWxpZGFkZUVtaXNzYW9DVGUiOiAiU3Vic3RpdHVpY2FvIiwNCiAgICAgICAgIklkZW50aWZpY2Fkb3JHbG9iYWxpemFkbyI6IHJldGlyYV9hY2VudG9zKG9iai5pZGVudGlmaWNhZG9yX2dsb2JhbGl6YWRvX2N0ZV9kZXNjKSwNCiAgICAgICAgIk1vZGFsaWRhZGVUcmFuc3BvcnRlIjogcmV0aXJhX2FjZW50b3Mob2JqLm1vZGFsaWRhZGVfdHJhbnNwb3J0ZV9jdGVfZGVzYyksDQogICAgICAgICJUaXBvU2Vydmljb0NUZSI6IG9iai50aXBvX3NlcnZpY29fY3RlX2N0ZV9kZXNjLA0KICAgICAgICAiUmVjZWJlZG9yUmV0aXJhIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlY2ViZWRvcl9yZXRpcmFfY3RlX2Rlc2MpLA0KICAgICAgICAiRGV0YWxoZXNSZXRpcmFkYSI6IG9iai5kZXRhbGhlc19yZXRpcmFkYV9jdGUsDQogICAgICAgICJJbmRpY2Fkb3JJRVRvbWFkb3IiOiBvYmouRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGUsDQogICAgICAgICJSZXNwb25zYXZlbEZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlc3BvbnNhdmVsX2ZyZXRlX2N0ZV9kZXNjKSwNCiAgICAgICAgIlRvbWFkb3JDTlBKIjogb2JqLkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSwNCiAgICAgICAgIlRvbWFkb3JJRSI6IG9iai5FTVBpZV9lbXByZXNhX190b21hZG9yX2llX2N0ZS50b1N0cmluZygpID09ICcwJyA/ICIiIDogb2JqLkVNUGllX2VtcHJlc2FfX3RvbWFkb3JfaWVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJUb21hZG9yUmF6YW9Tb2NpYWxOb21lIjogb2JqLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX190b21hZG9yX3JhemFvX3NvY2lhbF9ub21lX2N0ZSwNCiAgICAgICAgIlRvbWFkb3JOb21lRmFudGFzaWEiOiBvYmouRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX190b21hZG9yX25vbWVfZmFudGFzaWFfY3RlLA0KICAgICAgICAiVG9tYWRvckZvbmUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVB0ZWxlZm9uZV9lbXByZXNhX190b21hZG9yX2ZvbmVfY3RlKSwNCiAgICAgICAgIlRvbWFkb3JMb2dyYWRvdXJvIjogb2JqLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fdG9tYWRvcl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIlRvbWFkb3JOdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX190b21hZG9yX251bWVyb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiVG9tYWRvckNvbXBsZW1lbnRvTG9ncmFkb3VybyI6IG9iai5FTVBjb21wbGVtZW50b19lbXByZXNhX190b21hZG9yX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiVG9tYWRvckJhaXJyb0xvZ3JhZG91cm8iOiBvYmouRU1QYmFpcnJvX2VtcHJlc2FfX3RvbWFkb3JfYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiVG9tYWRvckNvZE11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9faWJnZV9fdG9tYWRvcl9jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJUb21hZG9yTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJUb21hZG9yQ0VQTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUGNlcF9lbXByZXNhX190b21hZG9yX2NlcF9sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICJUb21hZG9yVUZMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX190b21hZG9yX3VmX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiVG9tYWRvckNvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX190b21hZG9yX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJUb21hZG9yTm9tZVBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fdG9tYWRvcl9ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJUb21hZG9yRW1haWwiOiBvYmouRU1QZW1haWxfZW1wcmVzYV9fdG9tYWRvcl9lbWFpbF9jdGUsDQogICAgICAgICJDYXJhY3RlcmlzdGljYXNBZFRyYW5zcG9ydGUiOiBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlICE9ICJOQU9TRUxFQ0lPTkFETyIgPyBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlIDogIiIsDQogICAgICAgICJDYXJhY3RlcmlzdGljYXNBZFNlcnZpY28iOiBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3NlcnZpY29fY3RlLA0KICAgICAgICAiRnVuY2lvbmFyaW9FbWlzc29yIjogb2JqLmZ1bmNpb25hcmlvX2VtaXNzb3JfY3RlLA0KICAgICAgICAiU2lnbGFDb2RGaWxpYWxQb3J0b0VzdGFjYW9BZXJvT3JpZ2VtIjogb2JqLnNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX29yaWdlbV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIlNpZ2xhQ29kRmlsaWFsUG9ydG9Fc3RhY2FvQWVyb0Rlc3Rpbm8iOiBvYmouc2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fZGVzdGlub19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIk11bmljaXBpb1VGT3JpZ2VtQ2FsY0ZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSkgKyAnLycgKyBvYmouTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhLA0KICAgICAgICAiTXVuaWNpcGlvVUZEZXN0aW5vQ2FsY0ZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EpICsgJy8nICsgb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICJPYnNlcnZhY29lcyI6IGAuJHtvYmoub2JzZXJ2YWNvZXNfY3RlfSR7b2JqLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID8gKCcgfCAnICsgb2JqLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlKSA6ICIifS5gLA0KICAgICAgICAiUmVtZXRlbnRlQ05QSiI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX3JlbWV0ZW50ZV9jbnBqX2N0ZSwNCiAgICAgICAgIlJlbWV0ZW50ZUlFIjogb2JqLkVNUGllX2VtcHJlc2FfX3JlbWV0ZW50ZV9pZV9jdGUudG9TdHJpbmcoKSA9PSAnMCcgPyAiIiA6IG9iai5FTVBpZV9lbXByZXNhX19yZW1ldGVudGVfaWVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJSZW1ldGVudGVSYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICJSZW1ldGVudGVOb21lRmFudGFzaWFBcGVsaWRvIjogb2JqLkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfZmFudGFzaWFfYXBlbGlkb19jdGUsDQogICAgICAgICJSZW1ldGVudGVGb25lIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmouRU1QdGVsZWZvbmVfZW1wcmVzYV9fcmVtZXRlbnRlX2ZvbmVfY3RlKSwNCiAgICAgICAgIlJlbWV0ZW50ZUxvZ3JhZG91cm8iOiBvYmouRU1QbG9ncmFkb3Vyb19lbXByZXNhX19yZW1ldGVudGVfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJSZW1ldGVudGVOdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX19yZW1ldGVudGVfbnVtZXJvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJSZW1ldGVudGVCYWlycm9Mb2dyYWRvdXJvIjogb2JqLkVNUGJhaXJyb19lbXByZXNhX19yZW1ldGVudGVfYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiUmVtZXRlbnRlQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX19yZW1ldGVudGVfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiUmVtZXRlbnRlTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIlJlbWV0ZW50ZUNFUExvZ3JhZG91cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVBjZXBfZW1wcmVzYV9fcmVtZXRlbnRlX2NlcF9sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICJSZW1ldGVudGVVRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIlJlbWV0ZW50ZUNvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX19yZW1ldGVudGVfY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIlJlbWV0ZW50ZU5vbWVQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJSZW1ldGVudGVFbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX19yZW1ldGVudGVfZW1haWxfY3RlLA0KICAgICAgICAiRGVzdGluYXRhcmlvQ05QSiI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jbnBqX2N0ZSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0lFIjogb2JqLkVNUGllX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19pZV9jdGUudG9TdHJpbmcoKSA9PSAnMCcgPyAiIiA6IG9iai5FTVBpZV9lbXByZXNhX19kZXN0aW5hdGFyaW9faWVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJEZXN0aW5hdGFyaW9SYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICJEZXN0aW5hdGFyaW9Gb25lIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmouRU1QdGVsZWZvbmVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2ZvbmVfY3RlKSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0xvZ3JhZG91cm8iOiBvYmouRU1QbG9ncmFkb3Vyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJEZXN0aW5hdGFyaW9OdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJEZXN0aW5hdGFyaW9CYWlycm9Mb2dyYWRvdXJvIjogb2JqLkVNUGJhaXJyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiRGVzdGluYXRhcmlvQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX19kZXN0aW5hdGFyaW9fY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiRGVzdGluYXRhcmlvTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0NFUExvZ3JhZG91cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVBjZXBfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NlcF9sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICJEZXN0aW5hdGFyaW9VRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb191Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0NvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX19kZXN0aW5hdGFyaW9fY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb05vbWVQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJEZXN0aW5hdGFyaW9FbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX19kZXN0aW5hdGFyaW9fZW1haWxfY3RlLA0KICAgICAgICAiVmFsb3JUb3RhbFByZXN0YWNhb1NlcnZpY29zIjogb2JqLnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUsDQogICAgICAgICJWYWxvclJlY2ViZXIiOiBvYmoudmFsb3JfcmVjZWJlcl9jdGUsDQogICAgICAgICJDU1QiOiBvYmouY3N0X2N0ZV9kZXNjID09PSAiOTAgLSBPdXRyYXMgT3BlcmHDp8OyZXMiID8gIk91dHJhVUYiIDogb2JqLmNzdF9jdGUsDQogICAgICAgICJWYWxvckJhc2VDYWxjIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19jdGUsDQogICAgICAgICJQZXJjSUNNUyI6IG9iai5wZXJjX2ljbXNfY3RlLA0KICAgICAgICAiVmFsb3JJQ01TIjogb2JqLnZhbG9yX2ljbXNfY3RlLA0KICAgICAgICAiUGVyY1JlZHVjYW9CYXNlQ2FsYyI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX2N0ZSwNCiAgICAgICAgIlZhbG9yQmFzZUNhbGNTVFJldGlkbyI6IG9iai52YWxvcl9iYXNlX2NhbGNfc3RfcmV0aWRvX2N0ZSwNCiAgICAgICAgIlZhbG9ySUNNU1NUUmV0aWRvIjogb2JqLnZhbG9yX2ljbXNfc3RfcmV0aWRvX2N0ZSwNCiAgICAgICAgIlBlcmNJQ01TU1RSZXRpZG8iOiBvYmouYWxpcXVvdGFfaWNtc19zdF9yZXRpZG8sDQogICAgICAgICJWYWxvckNyZWRpdG8iOiBvYmoudmFsb3JfY3JlZGl0b19jdGUsDQogICAgICAgICJQZXJjUmVkdWNhb0Jhc2VDYWxjT3V0cmFVRiI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX291dHJhX3VmX2N0ZSwNCiAgICAgICAgIlZhbG9yQmFzZUNhbGNPdXRyYVVGIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19vdXRyYV91Zl9jdGUsDQogICAgICAgICJQZXJjSUNNU091dHJhVUYiOiBvYmoucGVyY19pY21zX291dHJhX3VmX2N0ZSwNCiAgICAgICAgIlZhbG9ySUNNU091dHJhVUYiOiBvYmoudmFsb3JfaWNtc19vdXRyYV91Zl9jdGUsDQogICAgICAgICJDb250cmlidWludGVTaW1wbGVzTmFjaW9uYWwiOiBvYmouRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX3NpbXBsZXNfbmFjaW9uYWxfY3RlX2Rlc2MsDQogICAgICAgICJWYWxvclRvdGFsVHJpYnV0b3MiOiBvYmoudmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlLA0KICAgICAgICAiVmFsb3JCYXNlQ2FsY1VGRmltIjogb2JqLnZhbG9yX2Jhc2VfY2FsY191Zl9maW1fY3RlLA0KICAgICAgICAiUGVyY0ZDUFVGRmltIjogb2JqLnBlcmNfZmNwX3VmX2ZpbV9jdGUsDQogICAgICAgICJQZXJjSUNNU1VGRmltIjogb2JqLnBlcmNfaWNtc191Zl9maW1fY3RlLA0KICAgICAgICAiQWxpcXVvdGFJbnRlcmVzdGFkdWFsIjogb2JqLmFsaXF1b3RhX2ludGVyX2VzdGFkdWFsX2N0ZSwNCiAgICAgICAgIlBlcmNQcm92aXNvcmlvUGFydGlsaGEiOiBvYmoucGVyY19wcm92aXNvcmlvX3BhcnRpbGhhX2N0ZSwNCiAgICAgICAgIlZhbG9yRkNQVUZGaW0iOiBvYmoudmFsb3JfZmNwX3VmX2ZpbV9jdGUsDQogICAgICAgICJWYWxvcklDTVNVRkZpbSI6IG9iai52YWxvcl9pY21zX3VmX2ZpbV9jdGUsDQogICAgICAgICJWYWxvcklDTVNVRkluaSI6IG9iai52YWxvcl9pY21zX3VmX2luaV9jdGUsDQogICAgICAgICJWYWxvclRvdGFsQ2FyZ2EiOiBvYmoudmFsb3JfdG90YWxfY2FyZ2FfY3RlLA0KICAgICAgICAiUHJvZHV0b1ByZWRvbWluYW50ZSI6IHJldGlyYV9hY2VudG9zKG9iai5QUFRkZXNjcmljYW9fZG9fcHJvZHV0b19fcHJvZHV0b19wcmVkb21pbmFudGVfY3RlKSwNCiAgICAgICAgIk91dHJhc0NhcmFjdGVyaXN0Y2FzQ2FyZ2EiOiByZXRpcmFfYWNlbnRvcyhvYmouQ0NHY2FyYWN0ZXJpc3RpY2FfZGFfY2FyZ2FfX291dHJhc19jYXJhY3RlcmlzdGNhc19jYXJnYV9jdGUpLA0KICAgICAgICAiQ09UTSI6IG9iai5jb3RtX2N0ZSwNCiAgICAgICAgIkluZGljYWRvck5lZ29jaWF2ZWwiOiBJbmRpY2Fkb3JOZWdvY2lhdmVsLA0KICAgICAgICAiTm9tZVNlZ3VyYWRvcmEiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2EsDQogICAgICAgICJDTlBKU2VndXJhZG9yYSI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX2NucGpfc2VndXJhZG9yYV9jdGUsDQogICAgICAgICJOdW1lcm9BcG9saWNlIjogb2JqLm51bWVyb19hcG9saWNlX2N0ZSwNCiAgICAgICAgIk51bWVyb0F2ZXJiYWNhbyI6IG9iai5udW1lcm9fYXZlcmJhY2FvX2N0ZSwNCiAgICAgICAgIkNoYXZlQ1RlQVNlclN1YnN0aXR1aWRvIjogb2JqLmNoYXZlX2N0ZV9vcmlnaW5hbF9jdGUuc3Vic3RyaW5nKDMsIDQ3KSwNCiAgICAgICAgIlJlZkNoYXZlQ1RlQW51bGFjYW8iOiBvYmouY2hhdmVfZG9fY3RlX2FudWxhZG9fY3RlID8gb2JqLmNoYXZlX2RvX2N0ZV9hbnVsYWRvX2N0ZSA6ICIiLA0KICAgICAgICAiQ2hhdmVORmVFbWl0aWRhVG9tYWRvciI6IG9iai5jaGF2ZV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlLA0KICAgICAgICAiQ2hhdmVDVGVFbWl0aWRhVG9tYWRvciI6IG9iai5jaGF2ZV9jdGVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlLA0KICAgICAgICAicm50cmMiOiBvYmoucm50cmNfY3RlID8gb2JqLnJudHJjX2N0ZS50b1N0cmluZygpIDogJycsDQoNCiAgICAgICAgIkNOUEpFbWl0ZW50ZU5GZVRvbWFkb3IiOiBvYmouRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlLA0KICAgICAgICAiTW9kZWxvRG9jdG9FbWl0ZW50ZU5GZVRvbWFkb3IiOiAiNTUiLA0KICAgICAgICAiU2VyaWVEb2N0b0VtaXRlbnRlTkZlVG9tYWRvciI6IG9iai5zZXJpZV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJTdWJTZXJpZURvY3RvRW1pdGVudGVORmVUb21hZG9yIjogb2JqLnN1YnNlcmllX25mZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIk51bWVyb0RvY3RvRW1pdGVudGVORmVUb21hZG9yIjogTnVtYmVyKG9iai5udW1lcm9fZGFfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSksDQogICAgICAgICJWYWxvckRvY3RvRW1pdGVudGVORmVUb21hZG9yIjogb2JqLnZhbG9yX2RhX25mZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUsDQogICAgICAgICJEYXRhRW1pc3Nhb0RvY3RvRW1pdGVudGVORmVUb21hZG9yIjogb2JqLmRhdGFfZGVfZW1pc3Nhb19kYV9kZWNsYXJhY2FvX2RvX3RvbWFkb3JfY3RlRGF0ZSwNCiAgICB9Ow0KDQoNCg0KICAgIGxldCBjaGlsZHJlbkZpbHRlciA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgIEZpZWxOYW1lOiAiSURfT05FX1JFRiIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IG9iai5mZWRpZA0KICAgIH1dKTsNCg0KICAgIGxldCBmZHRfaWRfb2JzY29udCA9ICI3ZjUyZjk1MC02ZGQ1LTQ3ZDQtOTY5Ni0wNDBmYzk0ODhmZjYiOw0KICAgIHZhciBEVE9PYnNDb250ID0gW107DQogICAgbGV0IG9iamR0b29ic2NvbnR0bXAgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGZkdF9pZF9vYnNjb250LCBvYmouYXNzaWQsIG9iai51c3JpZCwgY2hpbGRyZW5GaWx0ZXIpOw0KICAgIGlmIChvYmpkdG9vYnNjb250dG1wICE9PSBudWxsKSB7DQogICAgICAgIGlmIChvYmpkdG9vYnNjb250dG1wLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICAgICAgZm9yICh2YXIgciBpbiBvYmpkdG9vYnNjb250dG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IG9iamR0b29ic2NvbnR0bXBbcl0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPT2JzQ29udC5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgInhDYW1wbyI6IHJlY29yZC54Y2FtcG9fb2JzY29udCwNCiAgICAgICAgICAgICAgICAgICAgInhUZXh0byI6IHJlY29yZC54dGV4dG9fb2JzY29udA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGZvciAodmFyIG9iYyBpbiBEVE9PYnNDb250KSB7DQogICAgICAgIGlmIChvYmMueENhbXBvICE9PSAiIikgew0KICAgICAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPT2JzQ29udCA9IERUT09ic0NvbnQ7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmZHRfaWRfcXRkZWNhcmdhID0gIjMzZDljYzg4LTk5MmEtNDRkMC1iNjQ0LWVlMWJmN2VmZmJmYiI7DQogICAgdmFyIERUT1F0ZGVzQ2FyZ2EgPSBbXTsNCiAgICBsZXQgb2JqZHRvcXRkZWNhcmdhdG1wID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmZHRfaWRfcXRkZWNhcmdhLCBvYmouYXNzaWQsIG9iai51c3JpZCwgY2hpbGRyZW5GaWx0ZXIpOw0KICAgIGlmIChvYmpkdG9xdGRlY2FyZ2F0bXAgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKG9iamR0b3F0ZGVjYXJnYXRtcC5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgIGZvciAodmFyIHEgaW4gb2JqZHRvcXRkZWNhcmdhdG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZHEgPSBvYmpkdG9xdGRlY2FyZ2F0bXBbcV0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPUXRkZXNDYXJnYS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgIkNvZGlnb1VuaWRhZGVNZWRpZGEiOiByZWNvcmRxLmNvZGlnb191bmlkYWRlX21lZGlkYV9jdGVfZGVzYywNCiAgICAgICAgICAgICAgICAgICAgIlRpcG9NZWRpZGEiOiByZWNvcmRxLlRNRHRpcG9fZGVfbWVkaWRhX190aXBvX21lZGlkYV9jdGUsDQogICAgICAgICAgICAgICAgICAgICJRdWFudGlkYWRlQ2FyZ2EiOiByZWNvcmRxLnF1YW50aWRhZGVfY2FyZ2FfY3RlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3IgKHZhciBxYyBpbiBEVE9RdGRlc0NhcmdhKSB7DQogICAgICAgICAgICAgICAgaWYgKHFjLkNvZGlnb1VuaWRhZGVNZWRpZGEgIT09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgIGVudmlvY3RlT2JqdG1wLkRUT1F0ZGVzQ2FyZ2EgPSBEVE9RdGRlc0NhcmdhOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmR0X2lkX25mZSA9ICJjNDI1MDU0NS05N2RhLTRiNjItYjZjOC05MDM3NDkxOGM4MDEiOw0KICAgIHZhciBEVE9JbmZORmUgPSBbXTsNCiAgICBsZXQgb2JqZHRvbmZldG1wID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmZHRfaWRfbmZlLCBvYmouYXNzaWQsIG9iai51c3JpZCwgY2hpbGRyZW5GaWx0ZXIpOw0KICAgIGlmIChvYmpkdG9uZmV0bXAgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKG9iamR0b25mZXRtcC5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gb2JqZHRvbmZldG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZG4gPSBvYmpkdG9uZmV0bXBbbl0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPSW5mTkZlLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAiQ2hhdmVORmUiOiByZWNvcmRuLmNoYXZlX25mZV9jdGUNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIG5mIGluIERUT0luZk5GZSkgew0KICAgICAgICAgICAgICAgIGlmIChuZi5DaGF2ZUNUZSAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPSW5mTkZlID0gRFRPSW5mTkZlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmR0X2lkX2R1cCA9ICIyOGI3MTg3YS02NDVjLTQ3YjAtOWYzMy0yMmU1ZWM4NGM2YjEiOw0KICAgIHZhciBEVE9EdXBsaWNhdGFzID0gW107DQogICAgbGV0IG9iamR0b2R1cHRtcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZmR0X2lkX2R1cCwgb2JqLmFzc2lkLCBvYmoudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICBpZiAob2JqZHRvZHVwdG1wICE9PSBudWxsKSB7DQogICAgICAgIGlmIChvYmpkdG9kdXB0bXAubGVuZ3RoICE9PSAwKSB7DQogICAgICAgICAgICBpZiAob2JqLm51bWVyb19kYV9mYXR1cmFfY3RlICE9PSAwICYmIG9iai52YWxvcl9vcmlnaW5hbF9mYXR1cmFfY3RlICE9PSAwKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZCBpbiBvYmpkdG9kdXB0bXApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZGQgPSBvYmpkdG9kdXB0bXBbZF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgIERUT0R1cGxpY2F0YXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAiTnVtZXJvRHVwbGljYXRhIjogcmVjb3JkZC5udW1lcm9fZGFfZHVwbGljYXRhX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJWZW5jaW1lbnRvIjogcmVjb3JkZC52ZW5jaW1lbnRvX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWxvckR1cGxpY2F0YSI6IHJlY29yZGQudmFsb3JfZHVwbGljYXRhX2N0ZQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZHUgaW4gRFRPRHVwbGljYXRhcykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZHUuTnVtZXJvRHVwbGljYXRhICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPRHVwbGljYXRhcyA9IERUT0R1cGxpY2F0YXM7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmZHRfaWRfYXV0ID0gIjMyNzYyNmU4LTI1OWMtNGRhNi04YjEzLWRkZmUzODgyZjEwZCI7DQogICAgdmFyIERUT0F1dG9yaXphZG9zID0gW107DQogICAgbGV0IG9iamR0b2F1dHRtcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZmR0X2lkX2F1dCwgb2JqLmFzc2lkLCBvYmoudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICBpZiAob2JqZHRvYXV0dG1wICE9PSBudWxsKSB7DQogICAgICAgIGlmIChvYmpkdG9hdXR0bXAubGVuZ3RoICE9PSAwKSB7DQogICAgICAgICAgICBmb3IgKHZhciBhIGluIG9iamR0b2F1dHRtcCkgew0KICAgICAgICAgICAgICAgIHZhciByZWNvcmRhID0gb2JqZHRvYXV0dG1wW2FdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgIERUT0F1dG9yaXphZG9zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAiQ05QSkF1dG9yaXphZG8iOiByZWNvcmRhLmNucGpfYXV0b3JpemFkb19jdGUsDQogICAgICAgICAgICAgICAgICAgICJDUEZBdXRvcml6YWRvIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhyZWNvcmRhLmNwZl9hdXRvcml6YWRvX2N0ZSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIGF1IGluIERUT0F1dG9yaXphZG9zKSB7DQogICAgICAgICAgICAgICAgaWYgKGF1LkNOUEpBdXRvcml6YWRvICE9PSAiIiB8fCBhdS5DUEZBdXRvcml6YWRvICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICBlbnZpb2N0ZU9ianRtcC5EVE9BdXRvcml6YWRvcyA9IERUT0F1dG9yaXphZG9zOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmR0X2lkX2NvbXAgPSAiZTJiZGNmZTUtMTU4Ny00ZWY0LWI3NmItYjdiMGVmM2IwNGQyIjsNCiAgICB2YXIgRFRPQ29tcG9uZW50ZXNGcmV0ZSA9IFtdOw0KICAgIGxldCBvYmpkdG9jb21wdG1wID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmZHRfaWRfY29tcCwgb2JqLmFzc2lkLCBvYmoudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KCdlZF92YWxvcmVuJykgJiYgb2JqLmVkX3ZhbG9yZW4gPiAwKSB7DQogICAgICAgIERUT0NvbXBvbmVudGVzRnJldGUucHVzaCh7DQogICAgICAgICAgICAiTm9tZUNvbXBvbmVudGVWYWxvclByZXN0YWNhbyI6ICdBRCBWQUxPUkVNJywNCiAgICAgICAgICAgICJWYWxvckNvbXBvbmVudGVQcmVzdGFjYW8iOiBvYmouZWRfdmFsb3Jlbg0KICAgICAgICB9KTsNCiAgICB9DQogICAgaWYgKG9iamR0b2NvbXB0bXAgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKG9iamR0b2NvbXB0bXAubGVuZ3RoICE9PSAwKSB7DQogICAgICAgICAgICBmb3IgKHZhciBjbyBpbiBvYmpkdG9jb21wdG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZGNvID0gb2JqZHRvY29tcHRtcFtjb10uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPQ29tcG9uZW50ZXNGcmV0ZS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgIk5vbWVDb21wb25lbnRlVmFsb3JQcmVzdGFjYW8iOiByZWNvcmRjby5UWG5vbWVfZGFfdGF4YV9fdGF4YSwNCiAgICAgICAgICAgICAgICAgICAgIlZhbG9yQ29tcG9uZW50ZVByZXN0YWNhbyI6IHJlY29yZGNvLnZhbG9ydGF4YQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChEVE9Db21wb25lbnRlc0ZyZXRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPQ29tcG9uZW50ZXNGcmV0ZSA9IERUT0NvbXBvbmVudGVzRnJldGU7DQogICAgfQ0KDQogICAgcmV0dXJuIGVudmlvY3RlT2JqdG1wOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBDcmlhT2JqZXRvRW1pc3Nhb0N0ZShvYmosIE51bWVyb0NUZSwgU2VyaWVDVGUsIEVtaXNzb3IsIEVuZEVtaXNzb3IpIHsNCiAgICBsZXQgZW52aW9jdGVPYmp0bXAgPSBbXTsNCiAgICBsZXQgSW5kaWNhZG9yTmVnb2NpYXZlbCA9ICIiOw0KICAgIGlmIChvYmouaW5kaWNhZG9yX25lZ29jaWF2ZWxfY3RlX2Rlc2MgPT0gIk7Do28iKSB7DQogICAgICAgIEluZGljYWRvck5lZ29jaWF2ZWwgPSAiTmFvTmVnb2NpYXZlbCI7DQogICAgfSBlbHNlIHsNCiAgICAgICAgSW5kaWNhZG9yTmVnb2NpYXZlbCA9ICJOZWdvY2lhdmVsIjsNCiAgICB9DQoNCiAgICBsZXQgRW1pc3NvclVybEpzb25Db250ZXh0ID0gRW1pc3NvclswXS5VcmxKc29uQ29udGV4dDsNCiAgICBsZXQgRW5kRW1pc3NvclVybEpzb25Db250ZXh0ID0gRW5kRW1pc3NvclswXS5VcmxKc29uQ29udGV4dDsNCiAgICBsZXQgVXJsQ2VydGlmaWNhZG8gPSBFbWlzc29yWzBdLlVybEpzb25Db250ZXh0LmNlcnRpZmljYWRvWzBdLlVybDsNCg0KICAgIGVudmlvY3RlT2JqdG1wID0gew0KICAgICAgICAiTGlua0NlcnRpZmljYWRvIjogVXJsQ2VydGlmaWNhZG8sDQogICAgICAgICJTZW5oYUNlcnQiOiBFbWlzc29yVXJsSnNvbkNvbnRleHQuc2VuaGFfY2VydGlmaWNhZG8sDQogICAgICAgICJUaXBvQW1iaWVudGUiOiBFbWlzc29yVXJsSnNvbkNvbnRleHQuYW1iaWVudGUsDQogICAgICAgICJVRkVtaXRlbnRlQ1RlIjogRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhLA0KICAgICAgICAiQ05QSkVtaXRlbnRlQ1RlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmNucGosDQogICAgICAgICJJRUVtaXRlbnRlQ1RlIjogRW1pc3NvclVybEpzb25Db250ZXh0LmllLnRvU3RyaW5nKCksDQogICAgICAgICJSYXphb1NvY2lhbE5vbWVFbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVtaXNzb3JVcmxKc29uQ29udGV4dC5yYXphb19zb2NpYWwpLA0KICAgICAgICAiTm9tZUZhbnRhc2lhQXBlbGlkb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW1pc3NvclVybEpzb25Db250ZXh0Lm5vbWVfZXN0YWJlbGVjaW1lbm90KSwNCiAgICAgICAgIkxvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5sb2dyYWRvdXJvX2VtcHJlc2EpLA0KICAgICAgICAiTnVtZXJvTG9ncmFkb3Vyb0VtaXRlbnRlQ1RlIjogRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lm51bWVyb19lbXByZXNhLnRvU3RyaW5nKCksDQogICAgICAgICJDb21wbGVtZW50b0xvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5jb21wbGVtZW50b19lbXByZXNhKSwNCiAgICAgICAgIkJhaXJyb0xvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldGlyYV9hY2VudG9zKEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5iYWlycm9fZW1wcmVzYSksDQogICAgICAgICJDb2RNdW5pY2lwaW9FbWl0ZW50ZUNUZSI6IEVuZEVtaXNzb3JVcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19pYmdlLA0KICAgICAgICAiTm9tZU11bmljaXBpb0VtaXRlbnRlQ1RlIjogcmV0aXJhX2FjZW50b3MoRW5kRW1pc3NvclVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhKSwNCiAgICAgICAgIkNFUExvZ3JhZG91cm9FbWl0ZW50ZUNUZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoRW5kRW1pc3NvclVybEpzb25Db250ZXh0LmNlcF9lbXByZXNhKSwNCiAgICAgICAgIlRlbGVmb25lRW1pdGVudGVDVGUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKEVtaXNzb3JVcmxKc29uQ29udGV4dC50ZWxlZm9uZSksDQogICAgICAgICJDb2RpZ29NdW5pY2lwaW9JbmljaW9QcmVzdGFjYW8iOiBvYmouTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICJOb21lTXVuaWNpcGlvSW5pY2lvUHJlc3RhY2FvIjogb2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgIlVGSW5pY2lvUHJlc3RhY2FvIjogb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgIkNvZGlnb011bmljaXBpb0ZpbVByZXN0YWNhbyI6IG9iai5NTE9DbXVuaWNpcGlvX2liZ2VfX2Rlc3Rpbm9fbXVuaWNpcGlvX2liZ2UsDQogICAgICAgICJOb21lTXVuaWNpcGlvRmltUHJlc3RhY2FvIjogb2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICJVRkZpbVByZXN0YWNhbyI6IG9iai5NTE9DZXN0YWRvX3VmX191Zl9kZXN0aW5vX2RhX2NhcmdhLA0KICAgICAgICAiTW9kYWxpZGFkZSI6IE51bWJlcihvYmoubW9kYWxpZGFkZV9jdGUpLA0KICAgICAgICAiQ0ZPUCI6IG9iai5DRk9QX2NvZGlnb19jZm9wX19jZm9wX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiRGVzY3JpY2FvQ0ZPUCI6IG9iai5DRk9QX2Rlc2NyaWNhb19jZm9wLA0KICAgICAgICAiRm9ybWF0b0ltcHJlc3Nhb0RBQ1RFIjogIk5vcm1hbFJldHJhdG8iLA0KICAgICAgICAiU2VyaWVDVGUiOiBTZXJpZUNUZSwNCiAgICAgICAgIk51bWVyb0NUZSI6IE51bWVyb0NUZSwNCiAgICAgICAgIkRhdGFFbWlzc2FvIjogemVyYXJIb3JhKG5ldyBEYXRlKCkpLA0KICAgICAgICAiRmluYWxpZGFkZUVtaXNzYW9DVGUiOiBvYmouZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGVfZGVzYywNCiAgICAgICAgIklkZW50aWZpY2Fkb3JHbG9iYWxpemFkbyI6IHJldGlyYV9hY2VudG9zKG9iai5pZGVudGlmaWNhZG9yX2dsb2JhbGl6YWRvX2N0ZV9kZXNjKSwNCiAgICAgICAgIk1vZGFsaWRhZGVUcmFuc3BvcnRlIjogcmV0aXJhX2FjZW50b3Mob2JqLm1vZGFsaWRhZGVfdHJhbnNwb3J0ZV9jdGVfZGVzYyksDQogICAgICAgICJUaXBvU2Vydmljb0NUZSI6IG9iai50aXBvX3NlcnZpY29fY3RlX2N0ZV9kZXNjLA0KICAgICAgICAiUmVjZWJlZG9yUmV0aXJhIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlY2ViZWRvcl9yZXRpcmFfY3RlX2Rlc2MpLA0KICAgICAgICAiRGV0YWxoZXNSZXRpcmFkYSI6IG9iai5kZXRhbGhlc19yZXRpcmFkYV9jdGUsDQogICAgICAgICJJbmRpY2Fkb3JJRVRvbWFkb3IiOiBvYmouRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGUsDQogICAgICAgICJSZXNwb25zYXZlbEZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLnJlc3BvbnNhdmVsX2ZyZXRlX2N0ZV9kZXNjKSwNCiAgICAgICAgIlRvbWFkb3JDTlBKIjogb2JqLkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSwNCiAgICAgICAgIlRvbWFkb3JJRSI6IG9iai5FTVBpZV9lbXByZXNhX190b21hZG9yX2llX2N0ZS50b1N0cmluZygpID09ICcwJyA/ICIiIDogb2JqLkVNUGllX2VtcHJlc2FfX3RvbWFkb3JfaWVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJUb21hZG9yUmF6YW9Tb2NpYWxOb21lIjogb2JqLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX190b21hZG9yX3JhemFvX3NvY2lhbF9ub21lX2N0ZSwNCiAgICAgICAgIlRvbWFkb3JOb21lRmFudGFzaWEiOiBvYmouRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX190b21hZG9yX25vbWVfZmFudGFzaWFfY3RlLA0KICAgICAgICAiVG9tYWRvckZvbmUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVB0ZWxlZm9uZV9lbXByZXNhX190b21hZG9yX2ZvbmVfY3RlKSwNCiAgICAgICAgIlRvbWFkb3JMb2dyYWRvdXJvIjogb2JqLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fdG9tYWRvcl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIlRvbWFkb3JOdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX190b21hZG9yX251bWVyb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiVG9tYWRvckNvbXBsZW1lbnRvTG9ncmFkb3VybyI6IG9iai5FTVBjb21wbGVtZW50b19lbXByZXNhX190b21hZG9yX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiVG9tYWRvckJhaXJyb0xvZ3JhZG91cm8iOiBvYmouRU1QYmFpcnJvX2VtcHJlc2FfX3RvbWFkb3JfYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiVG9tYWRvckNvZE11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9faWJnZV9fdG9tYWRvcl9jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJUb21hZG9yTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJUb21hZG9yQ0VQTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3Mob2JqLkVNUGNlcF9lbXByZXNhX190b21hZG9yX2NlcF9sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICJUb21hZG9yVUZMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX190b21hZG9yX3VmX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiVG9tYWRvckNvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX190b21hZG9yX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJUb21hZG9yTm9tZVBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fdG9tYWRvcl9ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJUb21hZG9yRW1haWwiOiBvYmouRU1QZW1haWxfZW1wcmVzYV9fdG9tYWRvcl9lbWFpbF9jdGUsDQogICAgICAgICJDYXJhY3RlcmlzdGljYXNBZFRyYW5zcG9ydGUiOiBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlICE9ICJOQU9TRUxFQ0lPTkFETyIgPyBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlIDogIiIsDQogICAgICAgICJDYXJhY3RlcmlzdGljYXNBZFNlcnZpY28iOiBvYmouY2FyYWN0ZXJpc3RpY2FzX2FkX3NlcnZpY29fY3RlLA0KICAgICAgICAiRnVuY2lvbmFyaW9FbWlzc29yIjogb2JqLmZ1bmNpb25hcmlvX2VtaXNzb3JfY3RlLA0KICAgICAgICAiU2lnbGFDb2RGaWxpYWxQb3J0b0VzdGFjYW9BZXJvT3JpZ2VtIjogb2JqLnNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX29yaWdlbV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIlNpZ2xhQ29kRmlsaWFsUG9ydG9Fc3RhY2FvQWVyb0Rlc3Rpbm8iOiBvYmouc2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fZGVzdGlub19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIk11bmljaXBpb1VGT3JpZ2VtQ2FsY0ZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSkgKyAnLycgKyBvYmouTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhLA0KICAgICAgICAiTXVuaWNpcGlvVUZEZXN0aW5vQ2FsY0ZyZXRlIjogcmV0aXJhX2FjZW50b3Mob2JqLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EpICsgJy8nICsgb2JqLk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICJPYnNlcnZhY29lcyI6IGAuJHtvYmoub2JzZXJ2YWNvZXNfY3RlfSR7b2JqLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID8gKCcgfCAnICsgb2JqLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlKSA6ICIifS5gLA0KICAgICAgICAiUmVtZXRlbnRlQ05QSiI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX3JlbWV0ZW50ZV9jbnBqX2N0ZSwNCiAgICAgICAgIlJlbWV0ZW50ZUlFIjogb2JqLkVNUGllX2VtcHJlc2FfX3JlbWV0ZW50ZV9pZV9jdGUudG9TdHJpbmcoKSA9PSAnMCcgPyAiIiA6IG9iai5FTVBpZV9lbXByZXNhX19yZW1ldGVudGVfaWVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJSZW1ldGVudGVSYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICJSZW1ldGVudGVOb21lRmFudGFzaWFBcGVsaWRvIjogb2JqLkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfZmFudGFzaWFfYXBlbGlkb19jdGUsDQogICAgICAgICJSZW1ldGVudGVGb25lIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmouRU1QdGVsZWZvbmVfZW1wcmVzYV9fcmVtZXRlbnRlX2ZvbmVfY3RlKSwNCiAgICAgICAgIlJlbWV0ZW50ZUxvZ3JhZG91cm8iOiBvYmouRU1QbG9ncmFkb3Vyb19lbXByZXNhX19yZW1ldGVudGVfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJSZW1ldGVudGVOdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX19yZW1ldGVudGVfbnVtZXJvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJSZW1ldGVudGVCYWlycm9Mb2dyYWRvdXJvIjogb2JqLkVNUGJhaXJyb19lbXByZXNhX19yZW1ldGVudGVfYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiUmVtZXRlbnRlQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX19yZW1ldGVudGVfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiUmVtZXRlbnRlTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIlJlbWV0ZW50ZUNFUExvZ3JhZG91cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVBjZXBfZW1wcmVzYV9fcmVtZXRlbnRlX2NlcF9sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICJSZW1ldGVudGVVRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIlJlbWV0ZW50ZUNvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX19yZW1ldGVudGVfY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIlJlbWV0ZW50ZU5vbWVQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJSZW1ldGVudGVFbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX19yZW1ldGVudGVfZW1haWxfY3RlLA0KICAgICAgICAiRGVzdGluYXRhcmlvQ05QSiI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jbnBqX2N0ZSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0lFIjogb2JqLkVNUGllX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19pZV9jdGUudG9TdHJpbmcoKSA9PSAnMCcgPyAiIiA6IG9iai5FTVBpZV9lbXByZXNhX19kZXN0aW5hdGFyaW9faWVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJEZXN0aW5hdGFyaW9SYXphb1NvY2lhbE5vbWUiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19yYXphb19zb2NpYWxfbm9tZV9jdGUsDQogICAgICAgICJEZXN0aW5hdGFyaW9Gb25lIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhvYmouRU1QdGVsZWZvbmVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2ZvbmVfY3RlKSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0xvZ3JhZG91cm8iOiBvYmouRU1QbG9ncmFkb3Vyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJEZXN0aW5hdGFyaW9OdW1lcm9Mb2dyYWRvdXJvIjogb2JqLkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJEZXN0aW5hdGFyaW9CYWlycm9Mb2dyYWRvdXJvIjogb2JqLkVNUGJhaXJyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fYmFpcnJvX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiRGVzdGluYXRhcmlvQ29kTXVuaWNpcGlvTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWm11bmljaXBpb19pYmdlX19kZXN0aW5hdGFyaW9fY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZS50b1N0cmluZygpLA0KICAgICAgICAiRGVzdGluYXRhcmlvTm9tZU11bmljaXBpb0xvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0NFUExvZ3JhZG91cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iai5FTVBjZXBfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NlcF9sb2dyYWRvdXJvX2N0ZSksDQogICAgICAgICJEZXN0aW5hdGFyaW9VRkxvZ3JhZG91cm8iOiBvYmouRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb191Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb0NvZFBhaXNMb2dyYWRvdXJvIjogb2JqLkVNUE1MT0NacGFpc19pYmdlX19kZXN0aW5hdGFyaW9fY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgIkRlc3RpbmF0YXJpb05vbWVQYWlzTG9ncmFkb3VybyI6IG9iai5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJEZXN0aW5hdGFyaW9FbWFpbCI6IG9iai5FTVBlbWFpbF9lbXByZXNhX19kZXN0aW5hdGFyaW9fZW1haWxfY3RlLA0KICAgICAgICAiVmFsb3JUb3RhbFByZXN0YWNhb1NlcnZpY29zIjogb2JqLnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUsDQogICAgICAgICJWYWxvclJlY2ViZXIiOiBvYmoudmFsb3JfcmVjZWJlcl9jdGUsDQogICAgICAgICJDU1QiOiBvYmouY3N0X2N0ZV9kZXNjID09PSAiOTAgLSBPdXRyYXMgT3BlcmHDp8OyZXMiID8gIk91dHJhVUYiIDogb2JqLmNzdF9jdGUsDQogICAgICAgICJWYWxvckJhc2VDYWxjIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19jdGUsDQogICAgICAgICJQZXJjSUNNUyI6IG9iai5wZXJjX2ljbXNfY3RlLA0KICAgICAgICAiVmFsb3JJQ01TIjogb2JqLnZhbG9yX2ljbXNfY3RlLA0KICAgICAgICAiUGVyY1JlZHVjYW9CYXNlQ2FsYyI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX2N0ZSwNCiAgICAgICAgIlZhbG9yQmFzZUNhbGNTVFJldGlkbyI6IG9iai52YWxvcl9iYXNlX2NhbGNfc3RfcmV0aWRvX2N0ZSwNCiAgICAgICAgIlZhbG9ySUNNU1NUUmV0aWRvIjogb2JqLnZhbG9yX2ljbXNfc3RfcmV0aWRvX2N0ZSwNCiAgICAgICAgIlBlcmNJQ01TU1RSZXRpZG8iOiBvYmouYWxpcXVvdGFfaWNtc19zdF9yZXRpZG8sDQogICAgICAgICJWYWxvckNyZWRpdG8iOiBvYmoudmFsb3JfY3JlZGl0b19jdGUsDQogICAgICAgICJQZXJjUmVkdWNhb0Jhc2VDYWxjT3V0cmFVRiI6IG9iai5wZXJjX3JlZHVjYW9fYmFzZV9jYWxjX291dHJhX3VmX2N0ZSwNCiAgICAgICAgIlZhbG9yQmFzZUNhbGNPdXRyYVVGIjogb2JqLnZhbG9yX2Jhc2VfY2FsY19vdXRyYV91Zl9jdGUsDQogICAgICAgICJQZXJjSUNNU091dHJhVUYiOiBvYmoucGVyY19pY21zX291dHJhX3VmX2N0ZSwNCiAgICAgICAgIlZhbG9ySUNNU091dHJhVUYiOiBvYmoudmFsb3JfaWNtc19vdXRyYV91Zl9jdGUsDQogICAgICAgICJDb250cmlidWludGVTaW1wbGVzTmFjaW9uYWwiOiBvYmouRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX3NpbXBsZXNfbmFjaW9uYWxfY3RlX2Rlc2MsDQogICAgICAgICJWYWxvclRvdGFsVHJpYnV0b3MiOiBvYmoudmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlLA0KICAgICAgICAiVmFsb3JCYXNlQ2FsY1VGRmltIjogb2JqLnZhbG9yX2Jhc2VfY2FsY191Zl9maW1fY3RlLA0KICAgICAgICAiUGVyY0ZDUFVGRmltIjogb2JqLnBlcmNfZmNwX3VmX2ZpbV9jdGUsDQogICAgICAgICJQZXJjSUNNU1VGRmltIjogb2JqLnBlcmNfaWNtc191Zl9maW1fY3RlLA0KICAgICAgICAiQWxpcXVvdGFJbnRlcmVzdGFkdWFsIjogb2JqLmFsaXF1b3RhX2ludGVyX2VzdGFkdWFsX2N0ZSwNCiAgICAgICAgIlBlcmNQcm92aXNvcmlvUGFydGlsaGEiOiBvYmoucGVyY19wcm92aXNvcmlvX3BhcnRpbGhhX2N0ZSwNCiAgICAgICAgIlZhbG9yRkNQVUZGaW0iOiBvYmoudmFsb3JfZmNwX3VmX2ZpbV9jdGUsDQogICAgICAgICJWYWxvcklDTVNVRkZpbSI6IG9iai52YWxvcl9pY21zX3VmX2ZpbV9jdGUsDQogICAgICAgICJWYWxvcklDTVNVRkluaSI6IG9iai52YWxvcl9pY21zX3VmX2luaV9jdGUsDQogICAgICAgICJWYWxvclRvdGFsQ2FyZ2EiOiBvYmoudmFsb3JfdG90YWxfY2FyZ2FfY3RlLA0KICAgICAgICAiUHJvZHV0b1ByZWRvbWluYW50ZSI6IHJldGlyYV9hY2VudG9zKG9iai5QUFRkZXNjcmljYW9fZG9fcHJvZHV0b19fcHJvZHV0b19wcmVkb21pbmFudGVfY3RlKSwNCiAgICAgICAgIk91dHJhc0NhcmFjdGVyaXN0Y2FzQ2FyZ2EiOiByZXRpcmFfYWNlbnRvcyhvYmouQ0NHY2FyYWN0ZXJpc3RpY2FfZGFfY2FyZ2FfX291dHJhc19jYXJhY3RlcmlzdGNhc19jYXJnYV9jdGUpLA0KICAgICAgICAiQ09UTSI6IG9iai5jb3RtX2N0ZSwNCiAgICAgICAgIkluZGljYWRvck5lZ29jaWF2ZWwiOiBJbmRpY2Fkb3JOZWdvY2lhdmVsLA0KICAgICAgICAiTm9tZVNlZ3VyYWRvcmEiOiBvYmouRU1QcmF6YW9fc29jaWFsX2VtcHJlc2EsDQogICAgICAgICJDTlBKU2VndXJhZG9yYSI6IG9iai5FTVBjbnBqX2VtcHJlc2FfX2NucGpfc2VndXJhZG9yYV9jdGUsDQogICAgICAgICJOdW1lcm9BcG9saWNlIjogb2JqLm51bWVyb19hcG9saWNlX2N0ZSwNCiAgICAgICAgIk51bWVyb0F2ZXJiYWNhbyI6IG9iai5udW1lcm9fYXZlcmJhY2FvX2N0ZSwNCiAgICAgICAgInJudHJjIjogb2JqLnJudHJjX2N0ZSA/IG9iai5ybnRyY19jdGUudG9TdHJpbmcoKSA6ICcnDQogICAgfTsNCg0KICAgIGxldCBjaGlsZHJlbkZpbHRlciA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgIEZpZWxOYW1lOiAiSURfT05FX1JFRiIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IG9iai5mZWRpZA0KICAgIH1dKTsNCg0KICAgIGxldCBmZHRfaWRfb2JzY29udCA9ICI3ZjUyZjk1MC02ZGQ1LTQ3ZDQtOTY5Ni0wNDBmYzk0ODhmZjYiOw0KICAgIHZhciBEVE9PYnNDb250ID0gW107DQogICAgbGV0IG9iamR0b29ic2NvbnR0bXAgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGZkdF9pZF9vYnNjb250LCBvYmouYXNzaWQsIG9iai51c3JpZCwgY2hpbGRyZW5GaWx0ZXIpOw0KICAgIGlmIChvYmpkdG9vYnNjb250dG1wICE9PSBudWxsKSB7DQogICAgICAgIGlmIChvYmpkdG9vYnNjb250dG1wLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICAgICAgZm9yICh2YXIgciBpbiBvYmpkdG9vYnNjb250dG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IG9iamR0b29ic2NvbnR0bXBbcl0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPT2JzQ29udC5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgInhDYW1wbyI6IHJlY29yZC54Y2FtcG9fb2JzY29udCwNCiAgICAgICAgICAgICAgICAgICAgInhUZXh0byI6IHJlY29yZC54dGV4dG9fb2JzY29udA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGZvciAodmFyIG9iYyBpbiBEVE9PYnNDb250KSB7DQogICAgICAgIGlmIChvYmMueENhbXBvICE9PSAiIikgew0KICAgICAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPT2JzQ29udCA9IERUT09ic0NvbnQ7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmZHRfaWRfcXRkZWNhcmdhID0gIjMzZDljYzg4LTk5MmEtNDRkMC1iNjQ0LWVlMWJmN2VmZmJmYiI7DQogICAgdmFyIERUT1F0ZGVzQ2FyZ2EgPSBbXTsNCiAgICBsZXQgb2JqZHRvcXRkZWNhcmdhdG1wID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmZHRfaWRfcXRkZWNhcmdhLCBvYmouYXNzaWQsIG9iai51c3JpZCwgY2hpbGRyZW5GaWx0ZXIpOw0KICAgIGlmIChvYmpkdG9xdGRlY2FyZ2F0bXAgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKG9iamR0b3F0ZGVjYXJnYXRtcC5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgIGZvciAodmFyIHEgaW4gb2JqZHRvcXRkZWNhcmdhdG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZHEgPSBvYmpkdG9xdGRlY2FyZ2F0bXBbcV0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPUXRkZXNDYXJnYS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgIkNvZGlnb1VuaWRhZGVNZWRpZGEiOiByZWNvcmRxLmNvZGlnb191bmlkYWRlX21lZGlkYV9jdGVfZGVzYywNCiAgICAgICAgICAgICAgICAgICAgIlRpcG9NZWRpZGEiOiByZWNvcmRxLlRNRHRpcG9fZGVfbWVkaWRhX190aXBvX21lZGlkYV9jdGUsDQogICAgICAgICAgICAgICAgICAgICJRdWFudGlkYWRlQ2FyZ2EiOiByZWNvcmRxLnF1YW50aWRhZGVfY2FyZ2FfY3RlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3IgKHZhciBxYyBpbiBEVE9RdGRlc0NhcmdhKSB7DQogICAgICAgICAgICAgICAgaWYgKHFjLkNvZGlnb1VuaWRhZGVNZWRpZGEgIT09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgIGVudmlvY3RlT2JqdG1wLkRUT1F0ZGVzQ2FyZ2EgPSBEVE9RdGRlc0NhcmdhOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmR0X2lkX25mZSA9ICJjNDI1MDU0NS05N2RhLTRiNjItYjZjOC05MDM3NDkxOGM4MDEiOw0KICAgIHZhciBEVE9JbmZORmUgPSBbXTsNCiAgICBsZXQgb2JqZHRvbmZldG1wID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmZHRfaWRfbmZlLCBvYmouYXNzaWQsIG9iai51c3JpZCwgY2hpbGRyZW5GaWx0ZXIpOw0KICAgIGlmIChvYmpkdG9uZmV0bXAgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKG9iamR0b25mZXRtcC5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gb2JqZHRvbmZldG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZG4gPSBvYmpkdG9uZmV0bXBbbl0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPSW5mTkZlLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAiQ2hhdmVORmUiOiByZWNvcmRuLmNoYXZlX25mZV9jdGUNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIG5mIGluIERUT0luZk5GZSkgew0KICAgICAgICAgICAgICAgIGlmIChuZi5DaGF2ZUNUZSAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPSW5mTkZlID0gRFRPSW5mTkZlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmR0X2lkX2R1cCA9ICIyOGI3MTg3YS02NDVjLTQ3YjAtOWYzMy0yMmU1ZWM4NGM2YjEiOw0KICAgIHZhciBEVE9EdXBsaWNhdGFzID0gW107DQogICAgbGV0IG9iamR0b2R1cHRtcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZmR0X2lkX2R1cCwgb2JqLmFzc2lkLCBvYmoudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICBpZiAob2JqZHRvZHVwdG1wICE9PSBudWxsKSB7DQogICAgICAgIGlmIChvYmpkdG9kdXB0bXAubGVuZ3RoICE9PSAwKSB7DQogICAgICAgICAgICBpZiAob2JqLm51bWVyb19kYV9mYXR1cmFfY3RlICE9PSAwICYmIG9iai52YWxvcl9vcmlnaW5hbF9mYXR1cmFfY3RlICE9PSAwKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZCBpbiBvYmpkdG9kdXB0bXApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZGQgPSBvYmpkdG9kdXB0bXBbZF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgIERUT0R1cGxpY2F0YXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAiTnVtZXJvRHVwbGljYXRhIjogcmVjb3JkZC5udW1lcm9fZGFfZHVwbGljYXRhX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJWZW5jaW1lbnRvIjogcmVjb3JkZC52ZW5jaW1lbnRvX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJWYWxvckR1cGxpY2F0YSI6IHJlY29yZGQudmFsb3JfZHVwbGljYXRhX2N0ZQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZHUgaW4gRFRPRHVwbGljYXRhcykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZHUuTnVtZXJvRHVwbGljYXRhICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPRHVwbGljYXRhcyA9IERUT0R1cGxpY2F0YXM7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmZHRfaWRfYXV0ID0gIjMyNzYyNmU4LTI1OWMtNGRhNi04YjEzLWRkZmUzODgyZjEwZCI7DQogICAgdmFyIERUT0F1dG9yaXphZG9zID0gW107DQogICAgbGV0IG9iamR0b2F1dHRtcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZmR0X2lkX2F1dCwgb2JqLmFzc2lkLCBvYmoudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICBpZiAob2JqZHRvYXV0dG1wICE9PSBudWxsKSB7DQogICAgICAgIGlmIChvYmpkdG9hdXR0bXAubGVuZ3RoICE9PSAwKSB7DQogICAgICAgICAgICBmb3IgKHZhciBhIGluIG9iamR0b2F1dHRtcCkgew0KICAgICAgICAgICAgICAgIHZhciByZWNvcmRhID0gb2JqZHRvYXV0dG1wW2FdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgIERUT0F1dG9yaXphZG9zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAiQ05QSkF1dG9yaXphZG8iOiByZWNvcmRhLmNucGpfYXV0b3JpemFkb19jdGUsDQogICAgICAgICAgICAgICAgICAgICJDUEZBdXRvcml6YWRvIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhyZWNvcmRhLmNwZl9hdXRvcml6YWRvX2N0ZSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIGF1IGluIERUT0F1dG9yaXphZG9zKSB7DQogICAgICAgICAgICAgICAgaWYgKGF1LkNOUEpBdXRvcml6YWRvICE9PSAiIiB8fCBhdS5DUEZBdXRvcml6YWRvICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICBlbnZpb2N0ZU9ianRtcC5EVE9BdXRvcml6YWRvcyA9IERUT0F1dG9yaXphZG9zOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmR0X2lkX2NvbXAgPSAiZTJiZGNmZTUtMTU4Ny00ZWY0LWI3NmItYjdiMGVmM2IwNGQyIjsNCiAgICB2YXIgRFRPQ29tcG9uZW50ZXNGcmV0ZSA9IFtdOw0KICAgIGxldCBvYmpkdG9jb21wdG1wID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmZHRfaWRfY29tcCwgb2JqLmFzc2lkLCBvYmoudXNyaWQsIGNoaWxkcmVuRmlsdGVyKTsNCiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KCdlZF92YWxvcmVuJykgJiYgb2JqLmVkX3ZhbG9yZW4gPiAwKSB7DQogICAgICAgIERUT0NvbXBvbmVudGVzRnJldGUucHVzaCh7DQogICAgICAgICAgICAiTm9tZUNvbXBvbmVudGVWYWxvclByZXN0YWNhbyI6ICdBRCBWQUxPUkVNJywNCiAgICAgICAgICAgICJWYWxvckNvbXBvbmVudGVQcmVzdGFjYW8iOiBvYmouZWRfdmFsb3Jlbg0KICAgICAgICB9KTsNCiAgICB9DQogICAgaWYgKG9iamR0b2NvbXB0bXAgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKG9iamR0b2NvbXB0bXAubGVuZ3RoICE9PSAwKSB7DQogICAgICAgICAgICBmb3IgKHZhciBjbyBpbiBvYmpkdG9jb21wdG1wKSB7DQogICAgICAgICAgICAgICAgdmFyIHJlY29yZGNvID0gb2JqZHRvY29tcHRtcFtjb10uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgRFRPQ29tcG9uZW50ZXNGcmV0ZS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgIk5vbWVDb21wb25lbnRlVmFsb3JQcmVzdGFjYW8iOiByZWNvcmRjby5UWG5vbWVfZGFfdGF4YV9fdGF4YSwNCiAgICAgICAgICAgICAgICAgICAgIlZhbG9yQ29tcG9uZW50ZVByZXN0YWNhbyI6IHJlY29yZGNvLnZhbG9ydGF4YQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChEVE9Db21wb25lbnRlc0ZyZXRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZW52aW9jdGVPYmp0bXAuRFRPQ29tcG9uZW50ZXNGcmV0ZSA9IERUT0NvbXBvbmVudGVzRnJldGU7DQogICAgfQ0KDQogICAgcmV0dXJuIGVudmlvY3RlT2JqdG1wOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBidXNjYXJOdW1lcmFjYW8oZGF0YSwgZXN0YWJlbGVjaW1lbnRvLCBjYWxsYmFjaywgY2FsbGJhY2tPQkopIHsNCiAgICBsZXQgZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUgPSAiMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmIjsNCiAgICBpZiAoIWNhbGxiYWNrKSB7DQogICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgMzA7IHMrKykgew0KICAgICAgICAgICAgbGV0IGV4aXN0ID0gbWVtb3J5LlRyeUFkZChlc3RhYmVsZWNpbWVudG8sIGVzdGFiZWxlY2ltZW50bywgMjApOw0KICAgICAgICAgICAgaWYgKGV4aXN0IHx8IHMgPT0gMjkpIHsNCiAgICAgICAgICAgICAgICBsZXQgRmlsdHJvVW5pZGFkZUVtaXNzYW8gPSBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogIl9pZCIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGVzdGFiZWxlY2ltZW50byB9XSk7DQogICAgICAgICAgICAgICAgbGV0IG9iakVzdGFiZWxlY2ltZW50byA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIEZpbHRyb1VuaWRhZGVFbWlzc2FvKTsNCiAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlJzogJ3Byb2Nlc3NhbmRvJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGVfZGVzYyc6ICdQUk9DRVNTQU5ETycNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIGlkOiBlc3RhYmVsZWNpbWVudG8NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAnTnVtZXJvJzogb2JqRXN0YWJlbGVjaW1lbnRvWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19zZXF1ZW5jaWFsX2RvX2N0ZSwNCiAgICAgICAgICAgICAgICAgICAgJ1NlcmllJzogb2JqRXN0YWJlbGVjaW1lbnRvWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19kYV9zZXJpZV9kb19jdGUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9uZXJneS5sb2coIltFbWl0aXIgQ1RFXSBzbGVlcCIpOw0KICAgICAgICAgICAgICAgIHV0aWxzLnNsZWVwKDUwMDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKGNhbGxiYWNrT0JKLnN0YXR1cyA9PSAnT0snKSB7DQogICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlJzogJ2Rpc3Bvbml2ZWwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlX2Rlc2MnOiAnRElTUE9Ow41WRUwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ251bWVyb19zZXF1ZW5jaWFsX2RvX2N0ZSc6IGNhbGxiYWNrT0JKLm51bWVybyArIDENCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIGlkOiBlc3RhYmVsZWNpbWVudG8NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgbWVtb3J5LlJlbW92ZShlc3RhYmVsZWNpbWVudG8pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKGNhbGxiYWNrT0JKLm5leHQpIHsNCiAgICAgICAgICAgICAgICBvYmpFc3RhYmVsZWNpbWVudG8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBGaWx0cm9VbmlkYWRlRW1pc3Nhbyk7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsDQogICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm9fc2VxdWVuY2lhbF9kb19jdGUnOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX3NlcXVlbmNpYWxfZG9fY3RlICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICdOdW1lcm8nOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX3NlcXVlbmNpYWxfZG9fY3RlICsgMSwNCiAgICAgICAgICAgICAgICAgICAgJ1NlcmllJzogb2JqRXN0YWJlbGVjaW1lbnRvWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19kYV9zZXJpZV9kb19jdGUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrT0JKLkR1cGxpY2lkYWRlKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsDQogICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX2N0ZSc6ICdkaXNwb25pdmVsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGVfZGVzYyc6ICdESVNQT07DjVZFTCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ251bWVyb19zZXF1ZW5jaWFsX2RvX2N0ZSc6IGNhbGxiYWNrT0JKLm51bWVybyArIDENCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIGlkOiBlc3RhYmVsZWNpbWVudG8NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBtZW1vcnkuUmVtb3ZlKGVzdGFiZWxlY2ltZW50byk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19jdGUnOiAnZGlzcG9uaXZlbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fY3RlX2Rlc2MnOiAnRElTUE9Ow41WRUwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIG1lbW9yeS5SZW1vdmUoZXN0YWJlbGVjaW1lbnRvKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gcmV0aXJhX2FjZW50b3Moc3RyKSB7DQogICAgbGV0IGNvbV9hY2VudG8gPSAiw4DDgcOCw4PDhMOFw4bDh8OIw4nDisOLw4zDjcOOw4/DkMORw5LDk8OUw5XDlsOYw5nDmsObw5zDncWUw57Dn8Ogw6HDosOjw6TDpcOmw6fDqMOpw6rDq8Osw63DrsOvw7DDscOyw7PDtMO1w7bDuMO5w7rDu8O8w73DvsO/xZUiOw0KICAgIGxldCBzZW1fYWNlbnRvID0gIkFBQUFBQUFDRUVFRUlJSUlETk9PT09PT1VVVVVZUnNCYWFhYWFhYWNlZWVlaWlpaW9ub29vb29vdXV1dXlieXIiOw0KICAgIGxldCBub3Zhc3RyID0gIiI7DQogICAgaWYgKHN0ciAhPT0gIiIpIHsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdHJvY2EgPSBmYWxzZTsNCiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBjb21fYWNlbnRvLmxlbmd0aDsgYSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHN0ci5zdWJzdHIoaSwgMSkgPT0gY29tX2FjZW50by5zdWJzdHIoYSwgMSkpIHsNCiAgICAgICAgICAgICAgICAgICAgbm92YXN0ciArPSBzZW1fYWNlbnRvLnN1YnN0cihhLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgdHJvY2EgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHJvY2EgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgbm92YXN0ciArPSBzdHIuc3Vic3RyKGksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBub3Zhc3RyOw0KfQ0KDQpmdW5jdGlvbiByZXRpcmFlc3BhY29zKHN0cmNvbWVzcGFjbykgew0KICAgIGxldCBzdHJzZW1lc3BhY28gPSBzdHJjb21lc3BhY28ucmVwbGFjZSgvXHMvZywgJycpOw0KICAgIHJldHVybiBzdHJzZW1lc3BhY287DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgaWYgKHN0cnJlYykgew0KICAgICAgICBsZXQgc3RycmV0ID0gc3RycmVjLnRvU3RyaW5nKCkucmVwbGFjZSgvW15cZF0rL2csICcnLCAnJyk7DQogICAgICAgIHJldHVybiBzdHJyZXQ7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICIiOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gRWZldHVhTWVuc2FnZXJpYShvYmosIG9iamVudmlvLCB0b2tlbk9iaiwgZ251cmwpIHsNCiAgICBsZXQgcmV0b3JubzsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogZ251cmwsDQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdiZWFyZXIgJyArIHRva2VuT2JqLnRva2VuDQogICAgICAgIH0sDQogICAgICAgIGRhdGE6IG9iamVudmlvLA0KICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICByZXRvcm5vID0gZXJyb3IucmVzcG9uc2UuZGF0YQ0KICAgIH0pOw0KICAgIHJldHVybiByZXRvcm5vDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEdyYXZhRXZlbnRvKHBJRF9PTkVfUkVGLCB0aXBvZXZlbnRvLCBwcHJvdG9jb2xvLCBwY2hhdmUsIHBhc3NpZCwgcHVzcmlkKSB7DQogICAgbGV0IGZkdF9ldmVudG8gPSAiNGQ2MjQ4OTMtYmIzYy00ZGRmLTgyZWUtYTc5MThmNTYyYTExIjsNCiAgICBsZXQgb2JqZXZlbnRvID0gew0KICAgICAgICBJRF9PTkVfUkVGOiBwSURfT05FX1JFRiwNCiAgICAgICAgZGF0YWhvcmFfZG9fZXZlbnRvX2N0ZTogbmV3IERhdGUoKSwNCiAgICAgICAgdGlwb19kb19ldmVudG9fY3RlOiB0aXBvZXZlbnRvLA0KICAgICAgICBwcm90b2NvbG9fZXZlbnRvX2N0ZTogcHByb3RvY29sbywNCiAgICAgICAgY2hhdmVfZXZlbnRvX2N0ZTogcGNoYXZlDQogICAgfTsNCiAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KGZkdF9ldmVudG8sIHBhc3NpZCwgcHVzcmlkLCBvYmpldmVudG8pOw0KICAgIHJldHVybg0KfQ0KDQpmdW5jdGlvbiBnZXJhckZpbHRybyhmaWVsTmFtZVAsIHZhbHVlUCkgew0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogZmllbE5hbWVQLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiB2YWx1ZVANCiAgICB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldFNlcmlhbEtleShkYXRhLCBkYXRhQXR1YWwpIHsNCiAgICBsZXQga2V5ID0gYXdhaXQgaW5jcmVtZW50KHsNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAga2V5X25hbWU6ICJPViINCiAgICB9KTsNCiAgICBsZXQga2V5TnVtYmVyID0ga2V5LnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgJzAnKTsNCiAgICByZXR1cm4ga2V5TnVtYmVyID0gYE9WLSR7ZGF0YUF0dWFsLmdldFVUQ0Z1bGxZZWFyKCl9LSR7a2V5TnVtYmVyfWANCn0NCg0KZnVuY3Rpb24gemVyYXJIb3JhKGRhdGEpIHsNCiAgICBsZXQgaW1wdXREYXRhID0gbmV3IERhdGUoZGF0YSk7DQogICAgaW1wdXREYXRhLnNldEhvdXJzKDAwKTsNCiAgICBpbXB1dERhdGEuc2V0TWludXRlcygwMCk7DQogICAgaW1wdXREYXRhLnNldFNlY29uZHMoMDApOw0KICAgIGltcHV0RGF0YS5zZXRNaWxsaXNlY29uZHMoMDApOw0KICAgIHJldHVybiBpbXB1dERhdGE7DQp9DQoNCmZ1bmN0aW9uIE9yZGVtRGVWZW5kYVNGKGRhdGEpIHsNCiAgICBsZXQgQ1RFc05hb0VNaXRpZG9zID0gImJlMzAyMTI4LTQ0ZGUtNDJlNy04NzRkLTc3YjA4NjdmYjU1NyI7DQogICAgbGV0IEVtcHJlc2FJRCA9ICJhZjY2ZmIyZC05NjBlLTRlMWItOWE2Ni00NDRjZGFkNjRmNjMiOw0KICAgIGxldCBUb21hZG9yRG9FeHRlcmlvciA9IGRhdGEuaGFzT3duUHJvcGVydHkoJ0VNUHRpcG9fZW1wcmVzYV9fdG9tYWRvcl90aXBvX2VtcHJlc2EnKSAmJiBkYXRhLkVNUHRpcG9fZW1wcmVzYV9fdG9tYWRvcl90aXBvX2VtcHJlc2EgPT0gJ0ludGVybmFjaW9uYWwnOw0KDQogICAgLyogU2UgYSBDVEUgbmFvIGZvciBkZSBzdWJzdGl0dWljYW8gdHJpYnV0YXJpYSBlIG8gdG9tYWRvciBuYW8gZm9yIGRvIGV4dGVyaW9yICovDQogICAgaWYgKGRhdGEuY3N0X2N0ZSAhPSAnNjAnICYmICFUb21hZG9yRG9FeHRlcmlvcikgew0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLSBUT01BRE9SIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcDQogICAgICAgIGxldCBmaWx0cm9Ub21hZG9yID0gZ2VyYXJGaWx0cm8oImNucGpfZW1wcmVzYSIsIGRhdGEuRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlKTsNCiAgICAgICAgbGV0IG9ialRvbWFkb3IgPSBnZXRPbmVyZ3lJdGVtKEVtcHJlc2FJRCwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgZmlsdHJvVG9tYWRvcik7DQogICAgICAgIGxldCB0b21hZG9yID0gb2JqVG9tYWRvclswXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXA0KDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIENURSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXA0KICAgICAgICBsZXQgZmlsdHJvQ1RFID0gZ2VyYXJGaWx0cm8oIl9pZCIsIGRhdGEuZmVkaWQpOw0KICAgICAgICBsZXQgQ1RFID0gZ2V0T25lcmd5SXRlbShDVEVzTmFvRU1pdGlkb3MsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGZpbHRyb0NURSk7DQogICAgICAgIENURVswXS5VcmxKc29uQ29udGV4dCA9IGRhdGE7DQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFwNCiAgICAgICAgLyogU2UgbyBtZWlvIGRlIHBhZ2FtZW50byBkbyB0b21hZG9yIGZvciBib2xldG8gKi8NCiAgICAgICAgaWYgKHRvbWFkb3IuaGFzT3duUHJvcGVydHkoJ01FSVBBR2Rlc2NyaWNhb19fZW1wcmVzYV9tZWlvX2RlX3BhZ2FtZW50bycpICYmIHRvbWFkb3IuTUVJUEFHZGVzY3JpY2FvX19lbXByZXNhX21laW9fZGVfcGFnYW1lbnRvID09ICJCb2xldG8iKSB7DQogICAgICAgICAgICBjcmlhckVzcGVsaG9PVlNvZnRGaW4oZGF0YSwgQ1RFLCB0b21hZG9yKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gRW52aWFyRW1haWxTSVMoZGF0YSwgVGVtcGxhdGVFbWFpbCwgdXJsWE1MLCB1cmxGaWxlVGVtcERBQ1RFLCBGaW5hbGlkYWRlLCBudW1lcm9DVEUsIGNvbnRldWRvKSB7DQogICAgbGV0IGVtaXNzYW9EZUNURUVtYWlsSUQgPSBUZW1wbGF0ZUVtYWlsOw0KICAgIGxldCBlbWFpbFNpcyA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoImVtYWlsX1NJUyIpOw0KICAgIGxldCBjb250ZXVkb0lEID0gbnVsbDsNCiAgICB2YXIgdGVtcGxhdGVDb250ZXVkb0VtYWlsID0gJzE3MGQ3ZGQxLWQ0MmUtNDA2NC1hY2Y5LTlhN2M3MjI2MWFjYyc7DQogICAgLy8gc2UgbyBlbWFpbCB0aXZlciBjb250ZcO6ZG8sIGV1IHNhbHZvIGVtIHVtIHRlbXBsYXRlIHBhcmEgc2VyIHVzYWRvIG5vIGVtYWlsLg0KICAgIGlmIChjb250ZXVkbykgew0KICAgICAgICBjb250ZXVkb0lEID0gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZUNvbnRldWRvRW1haWwsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBjb250ZXVkbyk7DQogICAgfQ0KDQogICAgbGV0IEFuZXhvcyA9IFt7DQogICAgICAgICJVcmwiOiB1cmxYTUwsDQogICAgICAgICJVcmxBenVyZSI6IHVybFhNTCwNCiAgICAgICAgIk5hbWUiOiBgWE1MXyR7RmluYWxpZGFkZX1fQ1RFXyR7bnVtZXJvQ1RFfS54bWxgDQogICAgfSwNCiAgICB7DQogICAgICAgICJVcmwiOiB1cmxGaWxlVGVtcERBQ1RFLA0KICAgICAgICAiVXJsQXp1cmUiOiB1cmxGaWxlVGVtcERBQ1RFLA0KICAgICAgICAiTmFtZSI6IGBKU09OX1BERl8ke0ZpbmFsaWRhZGV9X0NURV8ke251bWVyb0NURX0uanNvbmANCiAgICB9DQogICAgXTsNCiAgICBsZXQgcG9zdEluZm9FbWFpbCA9IHsNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgdG1waWQ6IGVtaXNzYW9EZUNURUVtYWlsSUQsDQogICAgICAgIGVtYWlsX3RvOiBlbWFpbFNpcywNCiAgICAgICAgbHN0QW5leG9zOiBKU09OLnN0cmluZ2lmeShBbmV4b3MpDQogICAgfTsNCiAgICBjb250ZXVkb0lEID8gKHBvc3RJbmZvRW1haWwuaWQgPSBjb250ZXVkb0lEKSA6IChwb3N0SW5mb0VtYWlsLmlkID0gZGF0YS5mZWRpZCkNCiAgICBzZW5kbWFpbChwb3N0SW5mb0VtYWlsKTsNCn0NCg0KZnVuY3Rpb24gY3JpYXJFc3BlbGhvT1ZTb2Z0RmluKGRhdGEsIENURUxvdGUsIHRvbWFkb3IpIHsNCg0KICAgIGxldCB1bmlkYWRlRW1pc3Nhb0lEID0gIjIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZiI7DQogICAgbGV0IGJhbmNvc0lEID0gImIzZTk1MjViLTY4NmMtNDBhYS05YTYxLWRlYzRkMTVjZmE5MiI7DQogICAgbGV0IG9yZGVtVmVuZGFJRCA9ICIyZTI3N2NiOC1hN2Q0LTRkYzctODQ5YS02MDI0YmQ0NjJlNDYiOw0KDQogICAgLy89PT09PT09PSBEaXZpc8OjbyBkb3MgTG90ZXMgZGUgQ1RFcyBwb3IgVW5pZGFkZSBkZSBFbWlzc8OjbyA9PT09PT09PT1cXA0KICAgIGxldCByZWdpc3Ryb1VuaWRhZGVFbWlzc2FvQ2F4aWFzID0gIjIxY2RlYjUwLWRjY2EtNGI0NC05ZWQ3LTBlMzM3ODEzNzdhYSI7DQogICAgbGV0IHJlZ2lzdHJvVW5pZGFkZUVtaXNzYW9TYW9QYXVsbyA9ICJiYzJhMDgxNi05MzdmLWUyY2QtMWNlNS04ZjAwOWQ1YTNhOTkiDQoNCiAgICAvLz09PT0gQ2F4aWFzID09PT1cXA0KICAgIGxldCBmaWx0cm9VbmlkYWRlRW1pc3Nhb0NheGlhcyA9IGdlcmFyRmlsdHJvKCJfaWQiLCByZWdpc3Ryb1VuaWRhZGVFbWlzc2FvQ2F4aWFzKTsNCiAgICBsZXQgb2JqVW5pZGFkZUVtaXNzYW9DYXhpYXM7DQogICAgbGV0IG9iakJhbmNvVW5pZGFkZUNheGlhczsNCiAgICBsZXQgdmFsb3JUb3RhbFVuaWRhZGVDYXhpYXMgPSAwOw0KICAgIGxldCBkZXNjcmljYW9Mb3RlQ2F4aWFzT25lcmd5ID0gIiI7DQogICAgbGV0IGRlc2NyaWNhb0xvdGVDYXhpYXNfU0YgPSAiIjsNCiAgICBsZXQgQ1RFc0lkc0NheGlhcyA9ICIiOw0KICAgIGxldCBsb3RlQ2F4aWFzID0gQ1RFTG90ZS5maWx0ZXIoQ1RFID0+IHsNCiAgICAgICAgaWYgKCFDVEUuTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCB8fCBDVEUuTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCA9PSByZWdpc3Ryb1VuaWRhZGVFbWlzc2FvQ2F4aWFzKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIGlmIChsb3RlQ2F4aWFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgb2JqVW5pZGFkZUVtaXNzYW9DYXhpYXMgPSBnZXRPbmVyZ3lJdGVtKHVuaWRhZGVFbWlzc2FvSUQsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGZpbHRyb1VuaWRhZGVFbWlzc2FvQ2F4aWFzKTsNCiAgICAgICAgbGV0IGZpbHRyb0JhbmNvVW5pZGFkZUNheGlhcyA9IGdlcmFyRmlsdHJvKCJMRVNUQWlkIiwgb2JqVW5pZGFkZUVtaXNzYW9DYXhpYXNbMF0uSUQpOw0KICAgICAgICBvYmpCYW5jb1VuaWRhZGVDYXhpYXMgPSBnZXRPbmVyZ3lJdGVtKGJhbmNvc0lELCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBmaWx0cm9CYW5jb1VuaWRhZGVDYXhpYXMpOw0KICAgICAgICBmb3IgKGxldCBzIGluIGxvdGVDYXhpYXMpIHsNCiAgICAgICAgICAgIHZhbG9yVG90YWxVbmlkYWRlQ2F4aWFzICs9IGxvdGVDYXhpYXNbc10uVXJsSnNvbkNvbnRleHQudmFsb3JfdG90YWxfcHJlc3RhY2FvX3NlcnZpY29zX2N0ZTsNCiAgICAgICAgICAgIGRlc2NyaWNhb0xvdGVDYXhpYXNPbmVyZ3kgKz0gYE7Dum1lcm8gZGEgQ1RFOiAke2xvdGVDYXhpYXNbc10uVXJsSnNvbkNvbnRleHQubnVtZXJvX2N0ZV9jdGV9XG5VUkwgZGEgQ1RFOiAke2xvdGVDYXhpYXNbc10uVXJsSnNvbkNvbnRleHQudXJsX3BkZl9jdGV9XG5cbmANCiAgICAgICAgICAgIGRlc2NyaWNhb0xvdGVDYXhpYXNfU0YgKz0gYE7Dum1lcm8gZGEgQ1RFOiAke2xvdGVDYXhpYXNbc10uVXJsSnNvbkNvbnRleHQubnVtZXJvX2N0ZV9jdGV9XG5gDQogICAgICAgICAgICBDVEVzSWRzQ2F4aWFzICs9IGAke2xvdGVDYXhpYXNbc10uSUR9LyR7bG90ZUNheGlhc1tzXS50ZW1wbGF0ZWlkfTtgDQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PVxcDQoNCiAgICAvLz09PT1Tw6NvIFBhdWxvPT09PVxcDQogICAgbGV0IGZpbHRyb1VuaWRhZGVFbWlzc2FvU2FvUGF1bG8gPSBnZXJhckZpbHRybygiX2lkIiwgcmVnaXN0cm9VbmlkYWRlRW1pc3Nhb1Nhb1BhdWxvKTsNCiAgICBsZXQgb2JqVW5pZGFkZUVtaXNzYW9TYW9QYXVsbzsNCiAgICBsZXQgb2JqQmFuY29VbmlkYWRlU2FvUGF1bG87DQogICAgbGV0IHZhbG9yVG90YWxVbmlkYWRlU2FvUGF1bG8gPSAwOw0KICAgIGxldCBkZXNjcmljYW9Mb3RlU2FvUGF1bG9PbmVyZ3kgPSAiIjsNCiAgICBsZXQgZGVzY3JpY2FvTG90ZVNhb1BhdWxvX1NGID0gIiI7DQogICAgbGV0IENURXNJZHNTYW9QYXVsbyA9ICIiOw0KICAgIGxldCBsb3RlU2FvUGF1bG8gPSBDVEVMb3RlLmZpbHRlcihDVEUgPT4gew0KICAgICAgICBpZiAoQ1RFLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQgJiYgQ1RFLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQgPT0gcmVnaXN0cm9VbmlkYWRlRW1pc3Nhb1Nhb1BhdWxvKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIGlmIChsb3RlU2FvUGF1bG8ubGVuZ3RoID4gMCkgew0KICAgICAgICBvYmpVbmlkYWRlRW1pc3Nhb1Nhb1BhdWxvID0gZ2V0T25lcmd5SXRlbSh1bmlkYWRlRW1pc3Nhb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvVW5pZGFkZUVtaXNzYW9TYW9QYXVsbyk7DQogICAgICAgIGxldCBmaWx0cm9CYW5jb1VuaWRhZGVTYW9QYXVsbyA9IGdlcmFyRmlsdHJvKCJMRVNUQWlkIiwgb2JqVW5pZGFkZUVtaXNzYW9TYW9QYXVsb1swXS5JRCk7DQogICAgICAgIG9iakJhbmNvVW5pZGFkZVNhb1BhdWxvID0gZ2V0T25lcmd5SXRlbShiYW5jb3NJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0JhbmNvVW5pZGFkZVNhb1BhdWxvKTsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBsb3RlU2FvUGF1bG8pIHsNCiAgICAgICAgICAgIHZhbG9yVG90YWxVbmlkYWRlU2FvUGF1bG8gKz0gbG90ZVNhb1BhdWxvW3NdLlVybEpzb25Db250ZXh0LnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGU7DQogICAgICAgICAgICBkZXNjcmljYW9Mb3RlU2FvUGF1bG9PbmVyZ3kgKz0gYE7Dum1lcm8gZGEgQ1RFOiAke2xvdGVTYW9QYXVsb1tzXS5VcmxKc29uQ29udGV4dC5udW1lcm9fY3RlX2N0ZX1cblVSTCBkYSBDVEU6ICR7bG90ZVNhb1BhdWxvW3NdLlVybEpzb25Db250ZXh0LnVybF9wZGZfY3RlfSBcblxuYA0KICAgICAgICAgICAgZGVzY3JpY2FvTG90ZVNhb1BhdWxvX1NGICs9IGBOw7ptZXJvIGRhIENURTogJHtsb3RlU2FvUGF1bG9bc10uVXJsSnNvbkNvbnRleHQubnVtZXJvX2N0ZV9jdGV9XG5gDQogICAgICAgICAgICBDVEVzSWRzU2FvUGF1bG8gKz0gYCR7bG90ZVNhb1BhdWxvW3NdLklEfS8ke2xvdGVTYW9QYXVsb1tzXS50ZW1wbGF0ZWlkfTtgDQogICAgICAgIH0NCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgZGF0YUF0dWFsID0gemVyYXJIb3JhKG5ldyBEYXRlKCkpOw0KICAgIGxldCBzdGF0dXNQYXJjZWxhSUQgPSA0Ow0KICAgIGlmICh0b21hZG9yLmVtcHJlc2FfbmVjZXNzaXRhX3BlZGlkb19kZV9jb21wcmFzX2Rlc2MgPT0gIlNpbSIpIHsNCiAgICAgICAgc3RhdHVzUGFyY2VsYUlEID0gMTE7DQogICAgfQ0KICAgIGlmICh0b21hZG9yLmVtcHJlc2FfZmF0dXJhX2F1dG9tYXRpY2FtZW50ZV9kZXNjID09ICJTaW0iKSB7DQogICAgICAgIHN0YXR1c1BhcmNlbGFJRCA9IDE7DQogICAgfQ0KDQogICAgbGV0IHBvc3RFc3BlbGhvID0gew0KICAgICAgICAiRU5WSUFSX1NPRlRfRklOIjogdHJ1ZSwNCiAgICAgICAgIkZBVFVSQU1FTlRPX0FVVE9NQVRJQ08iOiB0cnVlLA0KICAgICAgICAiTE9URV9GQVRVUkFETyI6IGZhbHNlLA0KICAgICAgICAic3RhdHVzUGFyY2VsYUlEIjogc3RhdHVzUGFyY2VsYUlELA0KICAgICAgICAiZW1wcmVzYV9zb2Z0ZmluX2lkIjogdG9tYWRvci5lbXByZXNhX3NvZnRmaW5faWQsDQogICAgICAgICJkZXNjcmljYW9fb3JkZW1fZGVfdmVuZGEiOiBgRmF0dXJhbWVudG8gUGVuZGVudGVgLA0KICAgICAgICAiRU1QZmF0dXJhcl9wYXJhX2lkIjogdG9tYWRvci5mZWRpZCwNCiAgICAgICAgIkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fZmF0dXJhcl9wYXJhIjogdG9tYWRvci5ub21lX2ZhbnRhc2lhX2VtcHJlc2EsDQogICAgICAgICJFTVBlbXByZXNhX2lkX2VycCI6ICIiLA0KICAgICAgICAiZGF0YV9kZV9mYXR1cmFtZW50b19vcmRlbV9kZV92ZW5kYSI6ICIiLA0KICAgICAgICAiZGF0YV9kZV9mYXR1cmFtZW50b19vcmRlbV9kZV92ZW5kYURhdGUiOiAiIiwNCiAgICAgICAgImRhdGFfZGVfdmVuY2ltZW50b19kYV9wYXJjZWxhIjogIiIsDQogICAgICAgICJkYXRhX2RlX3ZlbmNpbWVudG9fZGFfcGFyY2VsYURhdGUiOiAiIiwNCiAgICAgICAgInEiOiAiIiwNCiAgICAgICAgInRpcG9fZGVfZmF0dXJhbWVudG8iOiAiMCIsDQogICAgICAgICJ0aXBvX2RlX2ZhdHVyYW1lbnRvX2Rlc2MiOiAiTkZTLWUiLA0KICAgICAgICAvL09wZXJhw6fDo28gT3JkZW0gZGUgVmVuZGEgKg0KICAgICAgICAiTVRUQlNFUm1hdHJpel9jb2RpZ29fX29wZXJhY2FvX29yZGVtX2RlX3ZlbmRhIjogIlNQWFNQIiwNCiAgICAgICAgIk1UVEJTRVJvcGVyYWNhb19vcmRlbV9kZV92ZW5kYV9pZCI6ICJjYmRkZmJhMy0wMjU1LTFiZTYtMzVkZC1iY2FkOWQzNDg4ZTMiLA0KICAgICAgICAiTVRUQlNFUm1hdHJpel9zZl9pZCI6IDg5OTQsDQogICAgICAgIC8vVW5pZGFkZSBkZSBOZWfDs2NpbyBPcmRlbSBkZSBWZW5kYQ0KICAgICAgICAiVU5FR091bmlkYWRlX191bmlkYWRlX2RlX25lZ29jaW9fb3JkZW1fZGVfdmVuZGEiOiAiQWRtaW5pc3RyYXRpdm8iLA0KICAgICAgICAiVU5FR091bmlkYWRlX2RlX25lZ29jaW9fb3JkZW1fZGVfdmVuZGFfaWQiOiAiODEyN2I1ZTgtMDQ1My00ZWIyLWUwMmEtYzdmNGVjYWM3N2I2IiwNCiAgICAgICAgIlVORUdPaWRfc29mdF9maW4iOiA1MTEsDQogICAgICAgIC8vTWVpbyBkZSBwYWdhbWVudG8gT3JkZW0gZGUgVmVuZGENCiAgICAgICAgIk1FSVBBR2Rlc2NyaWNhb19fbWVpb19kZV9wYWdhbWVudG9fb3JkZW1fZGVfdmVuZGEiOiB0b21hZG9yLk1FSVBBR2Rlc2NyaWNhb19fZW1wcmVzYV9tZWlvX2RlX3BhZ2FtZW50bywNCiAgICAgICAgIk1FSVBBR21laW9fZGVfcGFnYW1lbnRvX29yZGVtX2RlX3ZlbmRhX2lkIjogdG9tYWRvci5NRUlQQUdlbXByZXNhX21laW9fZGVfcGFnYW1lbnRvX2lkLA0KICAgICAgICAiTUVJUEFHbWVpb3NfZGVfcGFnYW1lbnRvX2lkZXJwIjogdG9tYWRvci5NRUlQQUdtZWlvc19kZV9wYWdhbWVudG9faWRlcnAsDQogICAgICAgIC8vVGlwbyBkZSBDb250cmF0byBPcmRlbSBkZSBWZW5kYSAgICANCiAgICAgICAgIlRDT1RSdGlwb19kZV9jb250cmF0b19vcmRlbV9kZV92ZW5kYV9pZCI6ICI0NjQzMmE4My1kNjhjLWJhOWItZTkyYi0zODlmMDlmMTU1NDIiLA0KICAgICAgICAiVENPVFJ0aXBvX2RlX2NvbnRyYXRvX190aXBvX2RlX2NvbnRyYXRvX29yZGVtX2RlX3ZlbmRhIjogIlJlY29ycmVudGUiLA0KICAgICAgICAiVENPVFJpZF9zb2Z0X2ZpbiI6IDI1NiwNCiAgICAgICAgLy8gQ8OzZGlnbyBkZSBTZXJ2acOnbyBPcmRlbSBkZSBWZW5kYSANCiAgICAgICAgIkNTUFJFRmRlc2NyaWNhb19zZXJ2aWNvX19jb2RpZ29fZGVfc2Vydmljb19vcmRlbV9kZV92ZW5kYSI6ICJUcmFuc3BvcnRlIGRlIGJlbnMgb3UgdmFsb3JlcywgZGVudHJvIGRvIHRlcnJpdMOzcmlvIGRvIE11bmljw61waW8gKGluY2x1c2l2ZSB0cmFucy0gcG9ydGUgZGUgdmXDrWN1bG9zKS4gQWNyZXNjZW50YWRvIHBlbGEgSW5zdHJ1w6fDo28gTm9ybWF0aXZhIFNGL1NVUkVNIG7CsCAwMjMvMjAxNyAoRE9NIGRlIDIzLjEyLjIwMTcpLCBlZmVpdG9zIGEgcGFydGlyIGRlIDE1LjExLjIwMTciLA0KICAgICAgICAiQ1NQUkVGTEVTVEFpZF9lc3RhYmVsZWNpbWVudG9fc2ZfX2lkX2VzdGFiZWxlY2ltZW50b3NmIjogMjE4LA0KICAgICAgICAiQ1NQUkVGY29kaWdvX2RlX3NlcnZpY29fb3JkZW1fZGVfdmVuZGFfaWQiOiAiNTkzZjA4MmUtNTU1Yy01YTZmLWE2MWItMmM5MmRlNzc4OTM5IiwNCiAgICAgICAgIkNTUFJFRmlkX3NvZnRfZmluIjogMTczLA0KICAgIH0NCg0KICAgIGlmIChsb3RlU2FvUGF1bG8ubGVuZ3RoID4gMCkgew0KICAgICAgICBwb3N0RXNwZWxoby5udW1lcm9fb3JkZW1fZGVfdmVuZGEgPSBnZXRTZXJpYWxLZXkoZGF0YSwgZGF0YUF0dWFsKTsNCiAgICAgICAgcG9zdEVzcGVsaG8uTEVTVEFTRmVzdGFiZWxlY2ltZW50b19pZF9vcmRlbV9kZV92ZW5kYV9pZCA9IG9ialVuaWRhZGVFbWlzc2FvU2FvUGF1bG9bMF0uSUQ7DQogICAgICAgIHBvc3RFc3BlbGhvLkxFU1RBU0ZyYXphb19zb2NpYWxfX2VzdGFiZWxlY2ltZW50b19pZF9vcmRlbV9kZV92ZW5kYSA9IG9ialVuaWRhZGVFbWlzc2FvU2FvUGF1bG9bMF0uVXJsSnNvbkNvbnRleHQucmF6YW9fc29jaWFsOw0KICAgICAgICBwb3N0RXNwZWxoby5MRVNUQVNGaWRfZXN0YWJlbGVjaW1lbnRvX3NmID0gb2JqVW5pZGFkZUVtaXNzYW9TYW9QYXVsb1swXS5VcmxKc29uQ29udGV4dC5pZF9lc3RhYmVsZWNpbWVudG9fc2Y7DQogICAgICAgIHBvc3RFc3BlbGhvLkxFU1RBU0ZpZF9lbXByZXNhX3NvZnRfZmluID0gb2JqVW5pZGFkZUVtaXNzYW9TYW9QYXVsb1swXS5VcmxKc29uQ29udGV4dC5pZF9lbXByZXNhX3NvZnRfZmluOw0KICAgICAgICBwb3N0RXNwZWxoby52YWxvcl9vcmRlbV9kZV92ZW5kYSA9IHZhbG9yVG90YWxVbmlkYWRlU2FvUGF1bG87DQogICAgICAgIHBvc3RFc3BlbGhvLkNCQU5DYmFuY29fb3JkZW1fZGVfdmVuZGFfaWQgPSBvYmpCYW5jb1VuaWRhZGVTYW9QYXVsb1swXS5JRDsNCiAgICAgICAgcG9zdEVzcGVsaG8uQ0JBTkNpZF9zb2Z0X2ZpbiA9IG9iakJhbmNvVW5pZGFkZVNhb1BhdWxvWzBdLlVybEpzb25Db250ZXh0LmlkX3NvZnRfZmluOw0KICAgICAgICBwb3N0RXNwZWxoby5DQkFOQ25vbWVfYmFuY29fX2JhbmNvX29yZGVtX2RlX3ZlbmRhID0gb2JqQmFuY29VbmlkYWRlU2FvUGF1bG9bMF0uVXJsSnNvbkNvbnRleHQubm9tZV9iYW5jbzsNCiAgICAgICAgcG9zdEVzcGVsaG8ub2JzZXJ2YWNvZXNfb3JkZW1fZGVfdmVuZGEgPSBkZXNjcmljYW9Mb3RlU2FvUGF1bG9PbmVyZ3k7DQogICAgICAgIHBvc3RFc3BlbGhvLm9ic2VydmFjb2VzX29yZGVtX2RlX3ZlbmRhX1NGID0gZGVzY3JpY2FvTG90ZVNhb1BhdWxvX1NGOw0KICAgICAgICBwb3N0RXNwZWxoby5DVEVzSWRzID0gQ1RFc0lkc1Nhb1BhdWxvOw0KDQogICAgICAgIHNlbmRJdGVtVG9PbmVyZ3kob3JkZW1WZW5kYUlELCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBwb3N0RXNwZWxobyk7DQogICAgfQ0KDQogICAgaWYgKGxvdGVDYXhpYXMubGVuZ3RoID4gMCkgew0KICAgICAgICBwb3N0RXNwZWxoby5udW1lcm9fb3JkZW1fZGVfdmVuZGEgPSBnZXRTZXJpYWxLZXkoZGF0YSwgZGF0YUF0dWFsKTsNCiAgICAgICAgcG9zdEVzcGVsaG8uTEVTVEFTRmVzdGFiZWxlY2ltZW50b19pZF9vcmRlbV9kZV92ZW5kYV9pZCA9IG9ialVuaWRhZGVFbWlzc2FvQ2F4aWFzWzBdLklEOw0KICAgICAgICBwb3N0RXNwZWxoby5MRVNUQVNGcmF6YW9fc29jaWFsX19lc3RhYmVsZWNpbWVudG9faWRfb3JkZW1fZGVfdmVuZGEgPSBvYmpVbmlkYWRlRW1pc3Nhb0NheGlhc1swXS5VcmxKc29uQ29udGV4dC5yYXphb19zb2NpYWw7DQogICAgICAgIHBvc3RFc3BlbGhvLkxFU1RBU0ZpZF9lc3RhYmVsZWNpbWVudG9fc2YgPSBvYmpVbmlkYWRlRW1pc3Nhb0NheGlhc1swXS5VcmxKc29uQ29udGV4dC5pZF9lc3RhYmVsZWNpbWVudG9fc2Y7DQogICAgICAgIHBvc3RFc3BlbGhvLkxFU1RBU0ZpZF9lbXByZXNhX3NvZnRfZmluID0gb2JqVW5pZGFkZUVtaXNzYW9DYXhpYXNbMF0uVXJsSnNvbkNvbnRleHQuaWRfZW1wcmVzYV9zb2Z0X2ZpbjsNCiAgICAgICAgcG9zdEVzcGVsaG8udmFsb3Jfb3JkZW1fZGVfdmVuZGEgPSB2YWxvclRvdGFsVW5pZGFkZUNheGlhczsNCiAgICAgICAgcG9zdEVzcGVsaG8uQ0JBTkNiYW5jb19vcmRlbV9kZV92ZW5kYV9pZCA9IG9iakJhbmNvVW5pZGFkZUNheGlhc1swXS5JRDsNCiAgICAgICAgcG9zdEVzcGVsaG8uQ0JBTkNpZF9zb2Z0X2ZpbiA9IG9iakJhbmNvVW5pZGFkZUNheGlhc1swXS5VcmxKc29uQ29udGV4dC5pZF9zb2Z0X2ZpbjsNCiAgICAgICAgcG9zdEVzcGVsaG8uQ0JBTkNub21lX2JhbmNvX19iYW5jb19vcmRlbV9kZV92ZW5kYSA9IG9iakJhbmNvVW5pZGFkZUNheGlhc1swXS5VcmxKc29uQ29udGV4dC5ub21lX2JhbmNvOw0KICAgICAgICBwb3N0RXNwZWxoby5vYnNlcnZhY29lc19vcmRlbV9kZV92ZW5kYSA9IGRlc2NyaWNhb0xvdGVDYXhpYXNPbmVyZ3k7DQogICAgICAgIHBvc3RFc3BlbGhvLm9ic2VydmFjb2VzX29yZGVtX2RlX3ZlbmRhX1NGID0gZGVzY3JpY2FvTG90ZUNheGlhc19TRjsNCiAgICAgICAgcG9zdEVzcGVsaG8uQ1RFc0lkcyA9IENURXNJZHNDYXhpYXM7DQoNCiAgICAgICAgc2VuZEl0ZW1Ub09uZXJneShvcmRlbVZlbmRhSUQsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIHBvc3RFc3BlbGhvKTsNCiAgICB9DQoNCn0NCg0KZnVuY3Rpb24gQXZlcmJhckNURShkYXRhLCB4bWwpIHsNCiAgICBsZXQgdG9rZW5BVE0gPSBKU09OLnBhcnNlKFBlZ2FUb2tlbkFUTShkYXRhKSk7DQogICAgLy9WYWxpZGFjYW8gZGEgY2hhbWFkYQ0KICAgIGxldCBlcnJvVG9rZW4gPSB0b2tlbkFUTSAmJg0KICAgICAgICB0b2tlbkFUTS5oYXNPd25Qcm9wZXJ0eSgnRXJyb3MnKSAmJg0KICAgICAgICB0b2tlbkFUTS5FcnJvcy5oYXNPd25Qcm9wZXJ0eSgnRXJybycpICYmDQogICAgICAgIHRva2VuQVRNLkVycm9zLkVycm8ubGVuZ3RoID4gMDsNCg0KICAgIC8vQ3JpYWNhbyBkZSBsb2cgRXJybw0KICAgIGlmIChlcnJvVG9rZW4pIHsNCiAgICAgICAgbGV0IGxvZ1Rva2VuID0gWydFUlJPIE5BIE9CVEVOQ8ODTyBETyBUT0tFTiBBVCZNXG4nXTsNCiAgICAgICAgZm9yIChsZXQgaiBpbiB0b2tlbkFUTS5FcnJvcy5FcnJvKSB7DQogICAgICAgICAgICBsb2dUb2tlbi5wdXNoKGAgICAgQ8OzZGlnbzoke3Rva2VuQVRNLkVycm9zLkVycm9bal0uQ29kaWdvfSB8IERlc2NyacOnw6NvOiR7dG9rZW5BVE0uRXJyb3MuRXJyb1tqXS5EZXNjcmljYW99XG5gKQ0KICAgICAgICB9DQogICAgICAgIGxldCBsb2dNc2cgPSBsb2dUb2tlbi5qb2luKCcnKTsNCiAgICAgICAgZGF0YS5sb2dfY3RlICs9IGBcbiR7bG9nTXNnfWA7DQogICAgICAgIHJldHVybiBkYXRhOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGxldCB0b2tlbiA9IHRva2VuQVRNLkJlYXJlcjsNCiAgICAgICAgbGV0IHJldG9ybm9BdmVyYmFjYW8gPSBKU09OLnBhcnNlKHNvbGljaXRhckF2ZXJiYWNhbyhkYXRhLCB4bWwsIHRva2VuKSk7DQoNCiAgICAgICAgLy9WYWxpZGFjYW8gZGEgY2hhbWFkYQ0KICAgICAgICBsZXQgZXJyb0F2ZXJiYWNhbyA9IHJldG9ybm9BdmVyYmFjYW8gJiYNCiAgICAgICAgICAgIHJldG9ybm9BdmVyYmFjYW8uaGFzT3duUHJvcGVydHkoJ0Vycm9zJykgJiYNCiAgICAgICAgICAgIHJldG9ybm9BdmVyYmFjYW8uRXJyb3MuaGFzT3duUHJvcGVydHkoJ0Vycm8nKSAmJg0KICAgICAgICAgICAgcmV0b3Jub0F2ZXJiYWNhby5FcnJvcy5FcnJvLmxlbmd0aCA+IDA7DQoNCiAgICAgICAgLy9DcmlhY2FvIGRlIGxvZyBFcnJvDQogICAgICAgIGlmIChlcnJvQXZlcmJhY2FvKSB7DQogICAgICAgICAgICBsZXQgbG9nQXZlcmJhY2FvID0gWydFUlJPIE5BIEFWRVJCQcOHw4NPIERBIENURS5cbiddOw0KICAgICAgICAgICAgZm9yIChsZXQgaiBpbiByZXRvcm5vQXZlcmJhY2FvLkVycm9zLkVycm8pIHsNCiAgICAgICAgICAgICAgICBsb2dBdmVyYmFjYW8ucHVzaChgICAgIEPDs2RpZ286JHtyZXRvcm5vQXZlcmJhY2FvLkVycm9zLkVycm9bal0uQ29kaWdvfSB8IERlc2NyacOnw6NvOiR7cmV0b3Jub0F2ZXJiYWNhby5FcnJvcy5FcnJvW2pdLkRlc2NyaWNhb31cbmApDQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgbG9nTXNnID0gbG9nQXZlcmJhY2FvLmpvaW4oJycpOw0KICAgICAgICAgICAgZGF0YS5sb2dfY3RlICs9IGBcbiR7bG9nTXNnfWA7DQogICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIFJldG9ybm8gZGEgQXZlcmJhw6fDo28NCiAgICAgICAgICAgIGxldCBkYXRhQXZlcmJhY2FvID0gcmV0b3Jub0F2ZXJiYWNhby5BdmVyYmFkby5kaEF2ZXJiYWNhbzsNCiAgICAgICAgICAgIGxldCBwcm90b2NvbG9BdmVyYmFjYW8gPSByZXRvcm5vQXZlcmJhY2FvLkF2ZXJiYWRvLlByb3RvY29sbzsNCiAgICAgICAgICAgIGRhdGEuY3RlX2F2ZXJiYWRvID0gJ3NpbScNCiAgICAgICAgICAgIGRhdGEuY3RlX2F2ZXJiYWRvX2Rlc2MgPSAnU2ltJw0KICAgICAgICAgICAgZGF0YS5udW1lcm9fYXZlcmJhY2FvX2N0ZSA9IHJldG9ybm9BdmVyYmFjYW8uQXZlcmJhZG8uRGFkb3NTZWd1cm9bMF0uTnVtZXJvQXZlcmJhY2FvOw0KICAgICAgICAgICAgbGV0IGxvZ0F2ZXJiYWNhbyA9IFsnSU5GT1JNQcOHw4NPIENPTVBMRU1FTlRBUiBBIEFWRVJCQcOHw4NPLlxuJ107DQoNCiAgICAgICAgICAgIC8vIENhc28gcmV0b3JuZSBhbGd1bWEgaW5mb3JtYcOnw6NvIGFkaWNpb25hbCANCiAgICAgICAgICAgIGlmIChyZXRvcm5vQXZlcmJhY2FvLkluZm9zKSB7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiByZXRvcm5vQXZlcmJhY2FvLkluZm9zLkluZm8pIHsNCiAgICAgICAgICAgICAgICAgICAgbG9nQXZlcmJhY2FvLnB1c2goYCAgICBDw7NkaWdvOiAke3JldG9ybm9BdmVyYmFjYW8uSW5mb3MuSW5mb1tzXS5Db2RpZ299IHwgRGVzY3Jpw6fDo286ICR7cmV0b3Jub0F2ZXJiYWNhby5JbmZvcy5JbmZvW3NdLkRlc2NyaWNhb31cbmApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxldCBsb2dNc2cgPSBsb2dBdmVyYmFjYW8uam9pbignJyk7DQogICAgICAgICAgICAgICAgZGF0YS5sb2dfY3RlICs9IGBcbiR7bG9nTXNnfWA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gUGVnYVRva2VuQVRNKGRhdGEsIG9iaikgew0KICAgIGxldCB1cmxBVE0gPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJ1cmxBVE0iKSArICJBdXRoIjsNCiAgICBsZXQgdXN1YXJpb0FUTSA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVzdWFyaW9BVE0iKTsNCiAgICBsZXQgc2VuaGFBVE0gPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJzZW5oYUFUTSIpOw0KICAgIC8vbGV0IGNvZGlnb0FUTSA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoImNvZGlnb0FUTSIpOw0KICAgIGxldCBjb2RpZ29BVE0gPSBkYXRhLmNvZGlnb19hdG0NCg0KICAgIGxldCBzdHJSZXNwVG9rZW4gPSB7fTsNCg0KICAgIGFqYXgoew0KICAgICAgICB1cmw6IHVybEFUTSwNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgY29udGVudFR5cGVDaGFyU2V0OiAiIiwNCiAgICAgICAgaGVhZGVyczogSlNPTi5zdHJpbmdpZnkoeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pLA0KICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAidXN1YXJpbyI6IHVzdWFyaW9BVE0sDQogICAgICAgICAgICAic2VuaGEiOiBzZW5oYUFUTSwNCiAgICAgICAgICAgICJjb2RpZ29hdG0iOiBjb2RpZ29BVE0NCiAgICAgICAgfSksDQogICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgZmVkaWQ6IGRhdGEuZmVkaWQsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChib2R5KSB7DQogICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBib2R5Ow0KICAgICAgICB9LA0KICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGJvZHkpIHsNCiAgICAgICAgICAgIHN0clJlc3BUb2tlbiA9IGJvZHkucmVzcG9uc2UuZGF0YTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBzdHJSZXNwVG9rZW47DQp9DQoNCmZ1bmN0aW9uIHNvbGljaXRhckF2ZXJiYWNhbyhkYXRhLCB4bWwsIHRva2VuKSB7DQogICAgbGV0IHVybEFUTSA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVybEFUTSIpICsgIkNURSI7DQoNCiAgICBsZXQgc3RyUmVzcFRva2VuID0ge307DQoNCiAgICBhamF4KHsNCiAgICAgICAgdXJsOiB1cmxBVE0sDQogICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24veG1sJywNCiAgICAgICAgY29udGVudFR5cGVDaGFyU2V0OiAiIiwNCiAgICAgICAgaGVhZGVyczogSlNPTi5zdHJpbmdpZnkoeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pLA0KICAgICAgICBhdXRob3JpemF0aW9uOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICB0eXBlOiAiYmVhcmVyIiwNCiAgICAgICAgICAgIHZhbHVlOiB0b2tlbg0KICAgICAgICB9KSwNCiAgICAgICAgZGF0YXR5cGU6ICJqc29uIiwNCiAgICAgICAgZGF0YTogeG1sLA0KICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgIGZlZGlkOiBkYXRhLmZlZGlkLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoYm9keSkgew0KICAgICAgICAgICAgc3RyUmVzcFRva2VuID0gYm9keTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChib2R5KSB7DQogICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBlcnJvci5yZXNwb25zZS5kYXRhOw0KICAgICAgICB9DQogICAgfSk7DQogICAgcmV0dXJuIHN0clJlc3BUb2tlbjsNCn0NCg0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovL1RPRE8gREFUQQ0KdmFyIGpzb25JbnB1dCA9IHsNCiAgICAic3RhdHVzX2N0ZV9jdGUiOiAibmFvZW1pdGlkbyIsDQogICAgInN0YXR1c19jdGVfY3RlX2Rlc2MiOiAiTsOjbyBFbWl0aWRvIiwNCiAgICAibW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZSI6ICJtdWx0aW1vZGFsIiwNCiAgICAibW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZV9kZXNjIjogIk11bHRpbW9kYWwiLA0KICAgICJmaW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSI6ICJub3JtYWwiLA0KICAgICJmaW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZV9kZXNjIjogIk5vcm1hbCIsDQogICAgInRpcG9fc2Vydmljb19jdGVfY3RlIjogIjEiLA0KICAgICJ0aXBvX3NlcnZpY29fY3RlX2N0ZV9kZXNjIjogIk5vcm1hbCIsDQogICAgIm1vZGFsaWRhZGVfY3RlIjogIjU3IiwNCiAgICAibW9kYWxpZGFkZV9jdGVfZGVzYyI6ICI1NyAtIFRyYW5zcG9ydGUgZGUgQ2FyZ2EiLA0KICAgICJpZGVudGlmaWNhZG9yX2dsb2JhbGl6YWRvX2N0ZSI6ICJuYW8iLA0KICAgICJpZGVudGlmaWNhZG9yX2dsb2JhbGl6YWRvX2N0ZV9kZXNjIjogIk7Do28iLA0KICAgICJyZWNlYmVkb3JfcmV0aXJhX2N0ZSI6ICJuYW8iLA0KICAgICJyZWNlYmVkb3JfcmV0aXJhX2N0ZV9kZXNjIjogIk7Do28iLA0KICAgICJyZWNlYmVkb3JfcmV0aXJhX2N0ZV9SRVNVTU8iOiAibmFvIiwNCiAgICAicmVjZWJlZG9yX3JldGlyYV9jdGVfUkVTVU1PX2Rlc2MiOiAiTsOjbyIsDQogICAgImRldGFsaGVzX3JldGlyYWRhX2N0ZSI6ICIiLA0KICAgICJyZXNwb25zYXZlbF9mcmV0ZV9jdGUiOiAicmVtZXRlbnRlIiwNCiAgICAicmVzcG9uc2F2ZWxfZnJldGVfY3RlX2Rlc2MiOiAiUmVtZXRlbnRlIiwNCiAgICAibnVtZXJvX2RvX3BlZGlkbyI6ICJQTzgwMDIzNDc2MTgiLA0KICAgICJTRVJkZXNjcmljYW9fc2VyX190aXBvX2RlX3NlcnZpY28iOiAiWFAiLA0KICAgICJTRVJ0aXBvX2RlX3NlcnZpY29faWQiOiAiOWIzNWU2MTktZjMxMC1kZGNmLTI0MDctY2Q0ZDYwMTUzNGZhIiwNCiAgICAiU0VSdGlwb19kZV9zZXJ2aWNvIjogIlhQIiwNCiAgICAiUEFJU19PUklHRU0iOiAiQlJBU0lMIiwNCiAgICAiVUZfT1JJR0VNIjogIlNQIiwNCiAgICAiTVVOSUNJUElPX09SSUdFTSI6ICJMT1VWRUlSQSIsDQogICAgIk1MT0NwYWlzX29yaWdlbV9jYXJnYV9pZCI6ICJkYTBkODRkMy03OTJhLTQ5NjctYTI0Mi01MDI2ZDJlMWU0ODIiLA0KICAgICJNTE9DcGFpc19ub21lX19wYWlzX29yaWdlbV9jYXJnYSI6ICJCUkFTSUwiLA0KICAgICJNTE9DcGFpc19ub21lX19vcmlnZW1fcGFpc19ub21lIjogIkJSQVNJTCIsDQogICAgIk1MT0N1Zl9vcmlnZW1fZGFfY2FyZ2FfaWQiOiAiYWE5NzQ1ODktNjQ4MC00YjcxLTkxNzctNjA0YzMwNTkyNWQ1IiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhIjogIlNQIiwNCiAgICAiTUxPQ2VzdGFkb191ZiI6ICJTUCIsDQogICAgIk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSI6ICJMT1VWRUlSQSIsDQogICAgIk1MT0NtdW5pY2lwaW9fbm9tZV9fb3JpZ2VtX211bmljaXBpb19ub21lIjogIkxPVVZFSVJBIiwNCiAgICAiTUxPQ211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2FfaWQiOiAiYmNlYjdjNWYtZTI1YS00ZGE4LWE1ZTEtOTkzZjdiYzU0M2Y4IiwNCiAgICAiTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UiOiAzNTI3MzA2LA0KICAgICJQQUlTX0RFU1RJTk8iOiAiQlJBU0lMIiwNCiAgICAiVUZfREVTVElOTyI6ICJTUCIsDQogICAgIk1VTklDSVBJT19ERVNUSU5PIjogIkpBQk9USUNBQkFMIiwNCiAgICAiTUxPQ3BhaXNfZGVzdGlub19kYV9jYXJnYV9pZCI6ICJkYTBkODRkMy03OTJhLTQ5NjctYTI0Mi01MDI2ZDJlMWU0ODIiLA0KICAgICJNTE9DcGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fZGFfY2FyZ2EiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ3BhaXNfbm9tZV9fZGVzdGlub19wYWlzX25vbWUiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ3VmX2Rlc3Rpbm9fZGFfY2FyZ2FfaWQiOiAiYWE5NzQ1ODktNjQ4MC00YjcxLTkxNzctNjA0YzMwNTkyNWQ1IiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fdWZfZGVzdGlub19kYV9jYXJnYSI6ICJTUCIsDQogICAgIk1MT0Nlc3RhZG9fdWZfX2Rlc3Rpbm9fZXN0YWRvX3VmIjogIlNQIiwNCiAgICAiTUxPQ211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhX2lkIjogImM2ZDYyZTllLTgyN2UtNGFlOC1iMDFmLWIwNzk5MDIxMjU1OCIsDQogICAgIk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EiOiAiSkFCT1RJQ0FCQUwiLA0KICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX2Rlc3Rpbm9fbXVuaWNpcGlvX25vbWUiOiAiSkFCT1RJQ0FCQUwiLA0KICAgICJNTE9DbXVuaWNpcGlvX2liZ2VfX2Rlc3Rpbm9fbXVuaWNpcGlvX2liZ2UiOiAzNTI0MzAzLA0KICAgICJMRVNUQVNGbm9tZV9lc3RhYmVsZWNpbWVub3RfX3VuaWRhZGVfZGVfZW1pc3NhbyI6ICJQcmVzdGV4IENheGlhcyIsDQogICAgIkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQiOiAiMjFjZGViNTAtZGNjYS00YjQ0LTllZDctMGUzMzc4MTM3N2FhIiwNCiAgICAiTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90IjogIlByZXN0ZXggQ2F4aWFzIiwNCiAgICAiY290bV9jdGUiOiAiNTA1MDgxMiIsDQogICAgInJudHJjX2N0ZSI6ICI1NDA5MzExMSIsDQogICAgIkNGT1BfY2ZvcF9jdGVfaWQiOiAiOGU3Y2RiYmYtNGI0OS00OGI2LWJjZTctNGY4MjczZWYxYzRhIiwNCiAgICAiQ0ZPUF9kZXNjcmljYW9fY2ZvcCI6ICJQcmVzdGHDp8OjbyBkZSBzZXJ2acOnbyBkZSB0cmFuc3BvcnRlIGluaWNpYWRhIGVtIHVuaWRhZGUgZGEgRmVkZXJhw6fDo28gZGl2ZXJzYSBkYXF1ZWxhIG9uZGUgaW5zY3JpdG8gbyBwcmVzdGFkb3IiLA0KICAgICJDRk9QX2NvZGlnb19jZm9wX19jZm9wX2N0ZSI6ICI1OTMyIiwNCiAgICAiaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUiOiAiUklDTVNJQ01TIFJFQ09MSElETyBQT1IgR05SRSIsDQogICAgIkVNUHRvbWFkb3JfY25wal9jdGVfaWQiOiAiZGI3OTM1NzgtZTUzMC00ZTZmLTg2NWEtYTA0YmE0NTcyYWJiIiwNCiAgICAiRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlIjogIjAxMzU4ODc0MDAxNjY0IiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3RvbWFkb3JfcmF6YW9fc29jaWFsX25vbWVfY3RlIjogIlBST0NURVIgR0FNQkxFIElORFVTVFJJQUwgRSBDT01FUkNJQUwgTFQiLA0KICAgICJFTVBub21lX2ZhbnRhc2lhX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9mYW50YXNpYV9jdGUiOiAiUFJPQ1RFUiBHQU1CTEUiLA0KICAgICJFTVBpZV9lbXByZXNhX190b21hZG9yX2llX2N0ZSI6ICI0MjEwODU3NjQxMTkiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlIjogIkNvbnRyaWJ1aW50ZUlDTVMiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlX2Rlc2MiOiAiQ29udHJpYnVpbnRlIGRlIElDTVMiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSI6ICJDb250cmlidWludGVJQ01TIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGVfZGVzYyI6ICJDb250cmlidWludGUgZGUgSUNNUyIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSI6ICJuYW8iLA0KICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGVfZGVzYyI6ICJOw6NvIiwNCiAgICAiRU1QZW1haWxfZW1wcmVzYV9fdG9tYWRvcl9lbWFpbF9jdGUiOiAicm9nZXJpby5hbm51bmNpYXRhQHByZXN0ZXguY29tLmJyIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fdG9tYWRvcl9mb25lX2N0ZSI6ICIxMTQ1NzIyNjQwIiwNCiAgICAiRU1QY3BmX2VtcHJlc2FfX3RvbWFkb3JfY3BmX2N0ZSI6ICIiLA0KICAgICJFTVBsb2dyYWRvdXJvX2VtcHJlc2FfX3RvbWFkb3JfbG9ncmFkb3Vyb19jdGUiOiAiRlJBTkNJU0NPIFBFUkVJUkEgRFVUUkEiLA0KICAgICJFTVBudW1lcm9fZW1wcmVzYV9fdG9tYWRvcl9udW1lcm9fbG9ncmFkb3Vyb19jdGUiOiAiMjQwNSIsDQogICAgIkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX3RvbWFkb3JfY29tcGxlbWVudG9fbG9ncmFkb3Vyb19jdGUiOiAiUEFSVEUgRCIsDQogICAgIkVNUGJhaXJyb19lbXByZXNhX190b21hZG9yX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSI6ICJFU1RJVkEiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fdG9tYWRvcl9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICJMT1VWRUlSQSIsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX3RvbWFkb3JfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICIzNTI3MzA2IiwNCiAgICAiRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUiOiAiU1AiLA0KICAgICJFTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlIjogIkJSQVNJTCIsDQogICAgIkVNUE1MT0NacGFpc19pYmdlX190b21hZG9yX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlIjogIjEwNTgiLA0KICAgICJFTVBjZXBfZW1wcmVzYV9fdG9tYWRvcl9jZXBfbG9ncmFkb3Vyb19jdGUiOiAiMTMyOTAtMDAwIiwNCiAgICAiRU1QcmVtZXRlbnRlX2NucGpfY3RlX2lkIjogImRiNzkzNTc4LWU1MzAtNGU2Zi04NjVhLWEwNGJhNDU3MmFiYiIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlIjogIjAxMzU4ODc0MDAxNjY0IiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUiOiAiUFJPQ1RFUiBHQU1CTEUgSU5EVVNUUklBTCBFIENPTUVSQ0lBTCBMVCIsDQogICAgIkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfZmFudGFzaWFfYXBlbGlkb19jdGUiOiAiUFJPQ1RFUiBHQU1CTEUiLA0KICAgICJFTVBpZV9lbXByZXNhX19yZW1ldGVudGVfaWVfY3RlIjogIjQyMTA4NTc2NDExOSIsDQogICAgIkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX3JlbWV0ZW50ZSI6ICJOYW9Db250cmlidWludGUiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9kZV9pZV9yZW1ldGVudGVfZGVzYyI6ICJOw6NvIENvbnRyaWJ1aW50ZSIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfcmVtZXRlbnRlIjogIm5hbyIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfcmVtZXRlbnRlX2Rlc2MiOiAiTsOjbyIsDQogICAgIkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fcmVtZXRlbnRlX2xvZ3JhZG91cm9fY3RlIjogIkZSQU5DSVNDTyBQRVJFSVJBIERVVFJBIiwNCiAgICAiRU1QbnVtZXJvX2VtcHJlc2FfX3JlbWV0ZW50ZV9udW1lcm9fbG9ncmFkb3Vyb19jdGUiOiAiMjQwNSIsDQogICAgIkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX3JlbWV0ZW50ZV9jb21wbGVtZW50b19sb2dyYWRvdXJvX2N0ZSI6ICJQQVJURSBEIiwNCiAgICAiRU1QYmFpcnJvX2VtcHJlc2FfX3JlbWV0ZW50ZV9iYWlycm9fbG9ncmFkb3Vyb19jdGUiOiAiRVNUSVZBIiwNCiAgICAiRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICJMT1VWRUlSQSIsDQogICAgIkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19yZW1ldGVudGVfdWZfbG9ncmFkb3Vyb19jdGUiOiAiU1AiLA0KICAgICJFTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUiOiAiQlJBU0lMIiwNCiAgICAiRU1QY2VwX2VtcHJlc2FfX3JlbWV0ZW50ZV9jZXBfbG9ncmFkb3Vyb19jdGUiOiAiMTMyOTAtMDAwIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fcmVtZXRlbnRlX2ZvbmVfY3RlIjogIjExNDU3MjI2NDAiLA0KICAgICJFTVBjcGZfZW1wcmVzYV9fcmVtZXRlbnRlX2NwZl9jdGUiOiAiIiwNCiAgICAiRU1QZW1haWxfZW1wcmVzYV9fcmVtZXRlbnRlX2VtYWlsX2N0ZSI6ICJyb2dlcmlvLmFubnVuY2lhdGFAcHJlc3RleC5jb20uYnIiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19pYmdlX19yZW1ldGVudGVfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICIzNTI3MzA2IiwNCiAgICAiRU1QTUxPQ1pwYWlzX2liZ2VfX3JlbWV0ZW50ZV9jb2RfcGFpc19sb2dyYWRvdXJvX2N0ZSI6ICIxMDU4IiwNCiAgICAiRU1QZGVzdGluYXRhcmlvX2NucGpfY3RlX2lkIjogIjRjZTk4Y2IzLTYwODAtNGQ1Ni1hMDFlLTNhZTk0NGIxN2QzZSIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NucGpfY3RlIjogIjY1NDcyNzE0MDAwMTQ4IiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19yYXphb19zb2NpYWxfbm9tZV9jdGUiOiAiSU5URVJFTkcgQVVUT01BQ0FPIElORFVTVFJJQUwgTFREQSIsDQogICAgIkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfZmFudGFzaWFfYXBlbGlkb19jdGUiOiAiSU5URVJFTkcgUkFPIiwNCiAgICAiRU1QaWVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2llX2N0ZSI6ICIzOTEwMzA4ODkxMTMiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9kZV9pZV9kZXN0aW5hdGFyaW8iOiAiQ29udHJpYnVpbnRlSUNNUyIsDQogICAgIkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX2Rlc3RpbmF0YXJpb19kZXNjIjogIkNvbnRyaWJ1aW50ZSBkZSBJQ01TIiwNCiAgICAiRU1QbG9ncmFkb3Vyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbG9ncmFkb3Vyb19jdGUiOiAiQVYgQ0FSTE9TIEJFUkNISUVSSSIsDQogICAgIkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlIjogIjEwOCIsDQogICAgIkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jb21wbGVtZW50b19sb2dyYWRvdXJvX2N0ZSI6ICIgIiwNCiAgICAiRU1QYmFpcnJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19iYWlycm9fbG9ncmFkb3Vyb19jdGUiOiAiSkFSRElNIFNBTlRBIFJJVEEiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlIjogIkpBQk9USUNBQkFMIiwNCiAgICAiRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb191Zl9sb2dyYWRvdXJvX2N0ZSI6ICJTUCIsDQogICAgIkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfcGFpc19sb2dyYWRvdXJvX2N0ZSI6ICJCUkFTSUwiLA0KICAgICJFTVBjZXBfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NlcF9sb2dyYWRvdXJvX2N0ZSI6ICIxNDg3MC0wMTAiLA0KICAgICJFTVB0ZWxlZm9uZV9lbXByZXNhX19kZXN0aW5hdGFyaW9fZm9uZV9jdGUiOiAiMTYzMjA5MTcwMCIsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX2Rlc3RpbmF0YXJpb19jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlIjogIjM1MjQzMDMiLA0KICAgICJFTVBNTE9DWnBhaXNfaWJnZV9fZGVzdGluYXRhcmlvX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlIjogIjEwNTgiLA0KICAgICJjc3RfY3RlIjogIjkwIiwNCiAgICAiY3N0X2N0ZV9kZXNjIjogIjkwIC0gT3V0cmFzIE9wZXJhw6fDsmVzIiwNCiAgICAidmFsb3JfYmFzZV9jYWxjX2N0ZSI6IDAsDQogICAgInBlcmNfaWNtc19jdGUiOiAwLA0KICAgICJ2YWxvcl9pY21zX2N0ZSI6IDAsDQogICAgInZhbG9yX3RvdGFsX3RyaWJ1dG9zX2N0ZSI6IDE3LjU2MDk3NTYwOTc1NjA4NSwNCiAgICAidmFsb3JfdG90YWxfY2FyZ2FfY3RlIjogMzk1MC4xMiwNCiAgICAiUFBUcHJvZHV0b19wcmVkb21pbmFudGVfY3RlX2lkIjogIjUyODVkMmNiLTI4ZjItYjUxYy1lOTI4LTk0MjZlYWYxZDQ5MSIsDQogICAgIlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19wcm9kdXRvX3ByZWRvbWluYW50ZV9jdGUiOiAiUEVDQVMgRElWRVJTQVMiLA0KICAgICJDQ0dvdXRyYXNfY2FyYWN0ZXJpc3RjYXNfY2FyZ2FfY3RlX2lkIjogImMxMGE0NDEyLTdhYTAtYjg5OC1jOGU0LTA3MjNmOWY3MDRmZSIsDQogICAgIkNDR2NhcmFjdGVyaXN0aWNhX2RhX2NhcmdhX19vdXRyYXNfY2FyYWN0ZXJpc3RjYXNfY2FyZ2FfY3RlIjogIkNhcmdhIEdlcmFsIiwNCiAgICAiY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlIjogIlJFRU5UUkVHQSIsDQogICAgImNhcmFjdGVyaXN0aWNhc19hZF9zZXJ2aWNvX2N0ZSI6ICIzMjIwMTciLA0KICAgICJmdW5jaW9uYXJpb19lbWlzc29yX2N0ZSI6ICJzYW5kcmEuc2FudG9zIiwNCiAgICAic2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fb3JpZ2VtX2N0ZSI6IDM1MjczMDYsDQogICAgInNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX2Rlc3Rpbm9fY3RlIjogMzUyNDMwMywNCiAgICAib2JzZXJ2YWNvZXNfY3RlIjogIi5SZWVudHJlZ2EgZG8gQ1RFOiA0MzIyMDcwNTU1NjE1OTAwMDEwMDU3MDAxMDAwMTA0NTAyMTIxNjQyNjY2OC4iLA0KICAgICJpbmRpY2Fkb3JfbmVnb2NpYXZlbF9jdGUiOiAibmFvIiwNCiAgICAiaW5kaWNhZG9yX25lZ29jaWF2ZWxfY3RlX2Rlc2MiOiAiTsOjbyIsDQogICAgImxvZ19jdGUiOiAiIiwNCiAgICAiZW52aWFyX2N0ZSI6ICJzaW0iLA0KICAgICJlbnZpYXJfY3RlX2Rlc2MiOiAiU2ltIiwNCiAgICAibnVtZXJvX2Fwb2xpY2VfY3RlIjogIjEwMDIxMDAwMDMzMjIiLA0KICAgICJudW1lcm9fYXZlcmJhY2FvX2N0ZSI6ICJBRVJFTz09PT09PT09PT09PT09IiwNCiAgICAiY29kaWdvX2F0bSI6ICIxMTQyMTMzMSIsDQogICAgIkVNUGNucGpfc2VndXJhZG9yYV9jdGVfaWQiOiAiNjRhMjk0OWUtYjIxMi00YThkLWFhY2UtNTE2OTI2ZTJkNTBmIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19jbnBqX3NlZ3VyYWRvcmFfY3RlIjogIjMzMDY1Njk5MDAwMTI3IiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX25vbWVfc2VndXJhZG9yYV9jdGUiOiAiU0VHVVJPUyBTVVJBIFNBIiwNCiAgICAiVFBSY29kaWdvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvX2l0ZW5zIjogWw0KICAgICAgICAiMzZjNDQzZGEtZTFhOC01NTEwLWU5Y2UtZWJhNDliZmMwMDE2Ig0KICAgIF0sDQogICAgIlRQUml0ZW5zX3RhYmVsYV9kZV9wcmVjb19pZCI6IFsNCiAgICAgICAgIjM2YzQ0M2RhLWUxYTgtNTUxMC1lOWNlLWViYTQ5YmZjMDAxNiINCiAgICBdLA0KICAgICJUUFJkZXNjcmljYW9fX2l0ZW5zX3RhYmVsYV9kZV9wcmVjbyI6IFsNCiAgICAgICAgIkNvbGV0YSBpbnRlcmlvciB4IEVudHJlZ2EgSW50ZXJpb3IiDQogICAgXSwNCiAgICAiVFBSZGVzY3JpY2FvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvIjogIlRBQkVMQSBQJkcgVkVSU0FPIElJIiwNCiAgICAiVFBSdGFiZWxhX2RlX3ByZWNvX2lkIjogIjE4ZWQ4ZTIzLTMzYmUtNzk1ZC0xNWE2LWY4YjdhYmQyZTg3MiIsDQogICAgInZhbG9yX2RvX2ZyZXRlIjogODAsDQogICAgImVkX3ZhbG9yZW4iOiAwLA0KICAgICJhZF92YWxvcmVtX3BvcmNlbnRhbmdlbSI6IDAsDQogICAgInZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUiOiA5Ny41NjA5NzU2MDk3NTYwOCwNCiAgICAidmFsb3JfcmVjZWJlcl9jdGUiOiA5Ny41NjA5NzU2MDk3NTYwOCwNCiAgICAibG9nX21vdG9yX2RlX2NhbGN1bG8iOiAiVmFsb3IgZG8gRnJldGUgRGVmaW5pZG86IDgwXG4rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuSUNNUyBjYWxjdWxhZG86IDE3LjU2MSBcblZhbG9yIEJhc2UgZGUgQ8OhbGN1bG86IDk3LjU2MSBcblZhbG9yIFRvdGFsIGRhIFByZXN0YcOnw6NvIGRvIFNlcnZpw6dvOiA5Ny41NjEgXG5WYWxvciBUb3RhbCBhIHJlY2ViZXI6IDk3LjU2MSBcbiIsDQogICAgIkNhbGNfQ2FjaGUiOiAie1wiRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZVwiOlwiU1BcIixcIkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGVcIjpcIkxPVVZFSVJBXCIsXCJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX3VmX2xvZ3JhZG91cm9fY3RlXCI6XCJTUFwiLFwiRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZVwiOlwiSkFCT1RJQ0FCQUxcIixcIkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZVwiOlwiMDEzNTg4NzQwMDE2NjRcIixcIkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlXCI6XCIwMTM1ODg3NDAwMTY2NFwiLFwiRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGVcIjpcIjY1NDcyNzE0MDAwMTQ4XCIsXCJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZVwiOlwiQ29udHJpYnVpbnRlSUNNU1wiLFwiRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZVwiOlwiQ29udHJpYnVpbnRlSUNNU1wiLFwiRU1QdG9tYWRvcl9jbnBqX2N0ZV9pZFwiOlwiZGI3OTM1NzgtZTUzMC00ZTZmLTg2NWEtYTA0YmE0NTcyYWJiXCIsXCJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZVwiOlwiU1BcIixcIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZVwiOlwibmFvXCIsXCJyZXNwb25zYXZlbF9mcmV0ZV9jdGVcIjpcInJlbWV0ZW50ZVwiLFwiTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhXCI6XCJTUFwiLFwiTUxPQ211bmljaXBpb19ub21lX19tdW5pY2lwaW9fb3JpZ2VtX2RhX2NhcmdhXCI6XCJMT1VWRUlSQVwiLFwiVUZfT1JJR0VNXCI6XCJTUFwiLFwiTVVOSUNJUElPX09SSUdFTVwiOlwiTE9VVkVJUkFcIixcIk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2FcIjpcIlNQXCIsXCJNTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhXCI6XCJKQUJPVElDQUJBTFwiLFwiVUZfREVTVElOT1wiOlwiU1BcIixcIk1VTklDSVBJT19ERVNUSU5PXCI6XCJKQUJPVElDQUJBTFwiLFwiTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZFwiOlwiMjFjZGViNTAtZGNjYS00YjQ0LTllZDctMGUzMzc4MTM3N2FhXCIsXCJMRVNUQVNGbm9tZV9lc3RhYmVsZWNpbWVub3RfX3VuaWRhZGVfZGVfZW1pc3Nhb1wiOlwiUHJlc3RleCBDYXhpYXNcIixcImpzRGF0YVwiOntcIkNsaWVudGVSZXRpcmFcIjpcIjBcIixcIk5GRXNcIjpbe1wiVmFsb3JOb3RhRmlzY2FsXCI6XCIzOTUwLjEyXCJ9XSxcIlF1YW50aWRhZGVzQ2FyZ2FcIjpbe1wiVGlwb01lZGlkYVwiOlwiQ2FpeGFzXCIsXCJVbmlkYWRlTWVkaWRhXCI6XCJVTklEQURFXCIsXCJRdWFudGlkYWRlQ2FyZ2FcIjoxfSx7XCJUaXBvTWVkaWRhXCI6XCJQZXNvIEN1YmFkb1wiLFwiVW5pZGFkZU1lZGlkYVwiOlwiS0dcIixcIlF1YW50aWRhZGVDYXJnYVwiOjd9XSxcIk1vZGFsaWRhZGVUcmFuc3BvcnRlXCI6XCJNdWx0aW1vZGFsXCIsXCJUaXBvU2Vydmljb1wiOlwiWFBcIixcIlZhbG9yRnJldGVcIjo4MCxcIkNOUEpSZW1ldGVudGVcIjpcIjAxMzU4ODc0MDAxNjY0XCIsXCJDTlBKRGVzdGluYXRhcmlvXCI6XCI2NTQ3MjcxNDAwMDE0OFwiLFwiUG9yY2VudGFnZW1BZFZhbG9yZW1cIjowfX0iLA0KICAgICJvbmVUZW1wbGF0ZVRpdGxlIjogIiIsDQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICJiZTMwMjEyOC00NGRlLTQyZTctODc0ZC03N2IwODY3ZmI1NTciLA0KICAgICJmZWRpZCI6ICI5OTdmNmE3MS1lY2NjLTRjY2MtYjJhNS01N2VkYmU2ODE2NjYiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJDVEVHZXJhZGFQYXJhTURGRSI6ICIiLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX01MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX01MT0NabXVuaWNpcGlvX2liZ2VfZXhwZWRpZG9yX2N0ZSI6IDAsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX01MT0NabXVuaWNpcGlvX2liZ2VfcmVjZWJlZG9yX2N0ZSI6IDAsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19NTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QTUxPQ1pwYWlzX2liZ2VfX01MT0NacGFpc19pYmdlX2V4cGVkaWRvcl9jdGUiOiAwLA0KICAgICJFTVBNTE9DWnBhaXNfaWJnZV9fTUxPQ1pwYWlzX2liZ2VfcmVjZWJlZG9yX2N0ZSI6IDAsDQogICAgIkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGJhaXJyb19lbXByZXNhX19iYWlycm9fZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBiYWlycm9fZW1wcmVzYV9fYmFpcnJvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QY2VwX2VtcHJlc2FfX2NlcF9lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNlcF9lbXByZXNhX19jZXBfZW1wcmVzYV9yZWNlYmVkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjbnBqX2RvX2V4cGVkaWRvcl9jdGVfaWQiOiAiICIsDQogICAgIkVNUGNucGpfZG9fcmVjZWJlZG9yX2N0ZV9pZCI6ICIgIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19jbnBqX2RvX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fY25wal9kb19yZWNlYmVkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjb21wbGVtZW50b19lbXByZXNhX19jb21wbGVtZW50b19lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX2NvbXBsZW1lbnRvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9kZXN0aW5hdGFyaW8iOiAibmFvIiwNCiAgICAiRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNwZl9lbXByZXNhX19jcGZfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjcGZfZW1wcmVzYV9fY3BmX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QY3BmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jcGZfY3RlIjogIiIsDQogICAgIkVNUGVtYWlsX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19lbWFpbF9jdGUiOiAiIiwNCiAgICAiRU1QZW1haWxfZW1wcmVzYV9fZW1haWxfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBlbWFpbF9lbXByZXNhX19lbWFpbF9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19kZXN0aW5hdGFyaW9fZW1wcmVzYV90YXhfaWQiOiAiICIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19leHBlZGlkb3JfZW1wcmVzYV90YXhfaWQiOiAiICIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19yZWNlYmVkb3JfZW1wcmVzYV90YXhfaWQiOiAiICIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19yZW1ldGVudGVfZW1wcmVzYV90YXhfaWQiOiAiIiwNCiAgICAiRU1QZW1wcmVzYV90YXhfaWRfX3RvbWFkb3JfZW1wcmVzYV90YXhfaWQiOiAiIiwNCiAgICAiRU1QaWVfZW1wcmVzYV9faWVfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogMCwNCiAgICAiRU1QaWVfZW1wcmVzYV9faWVfZW1wcmVzYV9yZWNlYmVkb3JfY3RlIjogMCwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfZGVfaWVfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfZGVfaWVfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QbG9ncmFkb3Vyb19lbXByZXNhX19sb2dyYWRvdXJvX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QbG9ncmFkb3Vyb19lbXByZXNhX19sb2dyYWRvdXJvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX19ub21lX2ZhbnRhc2lhX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX19ub21lX2ZhbnRhc2lhX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QbnVtZXJvX2VtcHJlc2FfX251bWVyb19lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAwLA0KICAgICJFTVBudW1lcm9fZW1wcmVzYV9fbnVtZXJvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6IDAsDQogICAgIkVNUHJhemFvX3NvY2lhbF9lbXByZXNhIjogIlNFR1VST1MgU1VSQSBTQSIsDQogICAgIkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19yYXphb19zb2NpYWxfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fdGVsZWZvbmVfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVB0ZWxlZm9uZV9lbXByZXNhX190ZWxlZm9uZV9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUHRpcG9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX3RpcG9fZW1wcmVzYSI6ICJOYWNpb25hbCIsDQogICAgIkVNUHRpcG9fZW1wcmVzYV9fZXhwZWRpZG9yX3RpcG9fZW1wcmVzYSI6ICIgIiwNCiAgICAiRU1QdGlwb19lbXByZXNhX19yZWNlYmVkb3JfdGlwb19lbXByZXNhIjogIiAiLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX3JlbWV0ZW50ZV90aXBvX2VtcHJlc2EiOiAiTmFjaW9uYWwiLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX3RvbWFkb3JfdGlwb19lbXByZXNhIjogIiIsDQogICAgIk9WU0ZkYXRhX2RlX2ZhdHVyYW1lbnRvX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgIk9WU0ZkYXRhX2RlX3ZlbmNpbWVudG9fZGFfcGFyY2VsYSI6ICIiLA0KICAgICJPVlNGbnVtZXJvX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgIk9WU0ZudW1lcm9fb3JkZW1fZGVfdmVuZGFfX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgIk9WU0ZzZl9vdl9pZCI6ICIiLA0KICAgICJhbGlxdW90YV9pY21zX3N0X3JldGlkbyI6IDAsDQogICAgImFsaXF1b3RhX2ludGVyX2VzdGFkdWFsX2N0ZSI6IDAsDQogICAgImFuZXhvX2FudWxhY2FvX2N0ZSI6ICIgIiwNCiAgICAiYXZlcmJhY2FvX2NhbmNlbGFkbyI6ICIgIiwNCiAgICAiY2FyYWN0ZXJpc3RpY2FzX2FkX3NlcnZpY29fY3RlX1JFU1VNTyI6ICIzMjIwMTciLA0KICAgICJjYXJhY3RlcmlzdGljYXNfYWRfdHJhbnNwb3J0ZV9jdGVfZGVzYyI6ICJSZWVudHJlZ2EiLA0KICAgICJjYXJ0YWNvcnJlY2FvIjogIiAiLA0KICAgICJjaGF2ZV9jdGVfY3RlIjogIiIsDQogICAgImNoYXZlX2N0ZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUiOiAiICIsDQogICAgImNoYXZlX2N0ZV9vcmlnaW5hbF9jdGUiOiAiICIsDQogICAgImNoYXZlX2RvX2N0ZV9hbnVsYWRvX2N0ZSI6ICIgIiwNCiAgICAiY2hhdmVfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSI6ICIgIiwNCiAgICAiY29kaWdvX3JvdGFfZW50cmVnYV9jdGUiOiAiIiwNCiAgICAiY3RlX2F2ZXJiYWRvIjogIm5hbyIsDQogICAgImN0ZV9hdmVyYmFkb19kZXNjIjogIk7Do28iLA0KICAgICJjdGVnZXJhZGFwYXJhY29uZW1iIjogIm5hbyIsDQogICAgImN0ZWdlcmFkYXBhcmFkb3RheCI6ICJuYW8iLA0KICAgICJkYWRvc2R1cGxpY2F0YXMiOiAiIiwNCiAgICAiZGF0YV9kZV9lbWlzc2FvX2RhX2RlY2xhcmFjYW9fZG9fdG9tYWRvcl9jdGVEYXRlIjogIjIwMjItMDctMDkgMDM6MDA6MDAiLA0KICAgICJkYXRhX2RlX2VtaXNzYW9fZGFfZGVjbGFyYWNhb19kb190b21hZG9yX2N0ZSI6ICIyMDIyLTA3LTA5IDAwOjAwOjAwIiwNCiAgICAiZGF0YV9kZV9lbWlzc2FvX25mZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUiOiAiICIsDQogICAgImRhdGFfZGVfZW50cmFkYURhdGUiOiAiMjAyMi0wNi0wMiAwMzowMDowMCIsDQogICAgImRhdGFfZGVfZW50cmFkYSI6ICIyMDIyLTA2LTAyIDAwOjAwOjAwIiwNCiAgICAiZGF0YV9lbWlzc2FvX2N0ZURhdGUiOiAiMjAyMi0wNy0wOSAwMzowMDowMCIsDQogICAgImRhdGFfZW1pc3Nhb19jdGUiOiAiMjAyMi0wNy0wOSAwMDowMDowMCIsDQogICAgImRldGFsaGVzX3JldGlyYWRhX2N0ZV9SRVNVTU8iOiAiIiwNCiAgICAiZG9jdW1lbnRvc19jdGUiOiAiIiwNCiAgICAiZmF0dXJhZG9fY3RlIjogIm5hbyIsDQogICAgImZhdHVyYWRvX2N0ZV9kZXNjIjogIk7Do28iLA0KICAgICJmYXR1cmFtZW50b19wZW5kZW50ZSI6ICJuYW8iLA0KICAgICJmYXR1cmFtZW50b19wZW5kZW50ZV9kZXNjIjogIk7Do28iLA0KICAgICJndWlhc19kb290YXgiOiBudWxsLA0KICAgICJpbmZvcm1hciI6ICIgIiwNCiAgICAibW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZV9SRVNVTU8iOiAibXVsdGltb2RhbCIsDQogICAgIm1vZGFsaWRhZGVfdHJhbnNwb3J0ZV9jdGVfUkVTVU1PX2Rlc2MiOiAiTXVsdGltb2RhbCIsDQogICAgIm1vdGl2b19hbnVsYWNhb19jdGUiOiAiICIsDQogICAgIm1vdGl2b19kb19jYW5jZWxhbWVudG9fY3RlIjogIiAiLA0KICAgICJtdW5pY2lwaW9fdWZfZGVzdGlub19jYWxjX2ZyZXRlX2N0ZSI6ICIiLA0KICAgICJtdW5pY2lwaW9fdWZfb3JpZ2VtX2NhbGNfZnJldGVfY3RlIjogIiIsDQogICAgIm5mZV9hbnVsYWNhb19jdGUiOiAiICIsDQogICAgIm5mZXMiOiAiIiwNCiAgICAibmZlc19jb3B5IjogIiIsDQogICAgIm51bWVyb19jdGVfYW51bGFkb19jdGUiOiAwLA0KICAgICJudW1lcm9fY3RlX2N0ZSI6IG51bGwsDQogICAgIm51bWVyb19jdGVfb3JpZ2luYWxfY3RlIjogMCwNCiAgICAibnVtZXJvX2RhX2ZhdHVyYV9jdGUiOiAwLA0KICAgICJudW1lcm9fZGFfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSI6IDAsDQogICAgIm51bWVyb19kb19wZWRpZG9fUkVTVU1PIjogIlBPODAwMjM0NzYxOCIsDQogICAgIm9ic2VydmFjb2VzX2N0ZV9SRVNVTU8iOiAiLlJlZW50cmVnYSBkbyBDVEU6IDQzMjIwNzA1NTU2MTU5MDAwMTAwNTcwMDEwMDAxMDQzNzUxODY4NDExNzU3LiIsDQogICAgIm9ic2VydmFjb2VzY29udHJpYnVpbnRlIjogIiIsDQogICAgIm9ic2VydmFjb2VzZmlzY28iOiAiIiwNCiAgICAicGVyY19mY3BfdWZfZmltX2N0ZSI6IDAsDQogICAgInBlcmNfaWNtc19vdXRyYV91Zl9jdGUiOiAxOCwNCiAgICAicGVyY19pY21zX3VmX2ZpbV9jdGUiOiAwLA0KICAgICJwcm90b2NvbG9fZGVfY2FuY2VsYW1lbnRvIjogIiAiLA0KICAgICJxdWFuQ2FyZ2FfY29weSI6ICIiLA0KICAgICJxdWFudGlkYWRlc2NhcmdhIjogIiIsDQogICAgInJlY2FsY3VsYXIiOiAiIiwNCiAgICAicmVzcG9uc2F2ZWxfZnJldGVfY3RlX1JFU1VNTyI6ICJyZW1ldGVudGUiLA0KICAgICJyZXNwb25zYXZlbF9mcmV0ZV9jdGVfUkVTVU1PX2Rlc2MiOiAiUmVtZXRlbnRlIiwNCiAgICAic2VyaWVfY3RlX2FudWxhZG9fY3RlIjogMCwNCiAgICAic2VyaWVfY3RlX2N0ZSI6IG51bGwsDQogICAgInNlcmllX2N0ZV9vcmlnaW5hbF9jdGUiOiAwLA0KICAgICJzZXJpZV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlIjogMCwNCiAgICAic3Vic2VyaWVfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSI6IDAsDQogICAgInRheGFzX2NvbXBvbmVudGVzIjogIiIsDQogICAgInRpcG9fZGVfY3RlX1JFU1VNTyI6IG51bGwsDQogICAgInZhbG9yX2Jhc2VfY2FsY19vdXRyYV91Zl9jdGUiOiA5Ny41NjA5NzU2MDk3NTYwOCwNCiAgICAidmFsb3JfYmFzZV9jYWxjX3N0X3JldGlkb19jdGUiOiAwLA0KICAgICJ2YWxvcl9iYXNlX2NhbGNfdWZfZmltX2N0ZSI6IDAsDQogICAgInZhbG9yX2NyZWRpdG9fY3RlIjogMCwNCiAgICAidmFsb3JfZGFfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSI6IDAsDQogICAgInZhbG9yX2Rlc2NvbnRvX2ZhdHVyYV9jdGUiOiAwLA0KICAgICJ2YWxvcl9mY3BfdWZfZmltX2N0ZSI6IDAsDQogICAgInZhbG9yX2ljbXNfb3V0cmFfdWZfY3RlIjogMTcuNTYwOTc1NjA5NzU2MDg1LA0KICAgICJ2YWxvcl9pY21zX3N0X3JldGlkb19jdGUiOiAwLA0KICAgICJ2YWxvcl9pY21zX3VmX2ZpbV9jdGUiOiAwLA0KICAgICJ2YWxvcl9pY21zX3VmX2luaV9jdGUiOiAwLA0KICAgICJ2YWxvcl9saXF1aWRvX2ZhdHVyYV9jdGUiOiAwLA0KICAgICJ2YWxvcl9vcmlnaW5hbF9mYXR1cmFfY3RlIjogMCwNCiAgICAiRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9kZXN0aW5hdGFyaW9fZGVzYyI6ICJOw6NvIiwNCiAgICAiRU1QdGlwb19lbXByZXNhX19kZXN0aW5hdGFyaW9fdGlwb19lbXByZXNhX2Rlc2MiOiAiTmFjaW9uYWwiLA0KICAgICJlbWl0aWRvX3RtcCI6ICJlbWl0aWRvIiwNCiAgICAiZW1pdGlkb190bXBfZGVzYyI6ICJFbWl0aWRvIiwNCiAgICAianNvbl9hdXRvcml6YWNhb19zZWZhel9jdGUiOiAie1wiZW1pdGVudGVcIjp7XCJ4RmFudFwiOlwiUHJlc3RleCBDYXhpYXNcIixcIkNOUEpcIjpcIjA1NTU2MTU5MDAwMTAwXCIsXCJJRVwiOlwiMjkwNDA1MDA5XCIsXCJ4TGdyXCI6XCJBdmVuaWRhIFJ1YmVuIEJlbnRvIEFsdmVzXCIsXCJucm9cIjpcIjY3NTBcIixcInhCYWlycm9cIjpcIk1hcmVjaGFsIEZsb3JpYW5vXCIsXCJ4TXVuXCI6XCJDQVhJQVMgRE8gU1VMXCIsXCJVRlwiOlwiUlNcIixcIkNFUFwiOlwiOTUwMTMwMzhcIn0sXCJpbXBcIjp7XCJJQ01TXCI6e1wiSUNNU091dHJhVUZcIjp7XCJDU1RcIjpcIjkwXCIsXCJ2QkNPdXRyYVVGXCI6XCIxOTUuMTJcIixcInBJQ01TT3V0cmFVRlwiOlwiMTguMDBcIixcInZJQ01TT3V0cmFVRlwiOlwiMzUuMTJcIn19LFwidlRvdFRyaWJcIjpcIjM1LjEyXCJ9LFwiY2hDVGVcIjpcIjQzMjIwNzA1NTU2MTU5MDAwMTAwNTcwMDEwMDAxMDQ1MDIxMjE2NDI2NjY4XCIsXCJxckNvZENUZVwiOlwiaHR0cHM6Ly9kZmUtcG9ydGFsLnN2cnMucnMuZ292LmJyL2N0ZS9xckNvZGU/Y2hDVGU9NDMyMjA3MDU1NTYxNTkwMDAxMDA1NzAwMTAwMDEwNDUwMjEyMTY0MjY2NjgmdHBBbWI9MlwiLFwiaW5mUVwiOlt7XCJjVW5pZFwiOlwiMDNcIixcInRwTWVkXCI6XCJDYWl4YXNcIixcInFDYXJnYVwiOlwiMS4wMDAwXCJ9LHtcImNVbmlkXCI6XCIwMVwiLFwidHBNZWRcIjpcIlBlc28gQ3ViYWRvXCIsXCJxQ2FyZ2FcIjpcIjcuMDAwMFwifV0sXCJ4T2JzXCI6XCIuLlJlZW50cmVnYSBkbyBDVEU6IDQzMjIwNzA1NTU2MTU5MDAwMTAwNTcwMDEwMDAxMDQzNzUxODY4NDExNzU3LiB8IFJJQ01TSUNNUyBSRUNPTEhJRE8gUE9SIEdOUkUuXCIsXCJ2UHJlc3RcIjp7XCJ2VFByZXN0XCI6XCIxOTUuMTJcIixcInZSZWNcIjpcIjE5NS4xMlwifX0iLA0KICAgICJwcm90b2NvbG9fY3RlX2N0ZSI6ICIxNDMyMjAwMDA1MTk2MzYiLA0KICAgICJ1cmxfcGRmX2N0ZSI6ICJodHRwczovL2RvY3Mub25lcmd5LmNvbS5ici9kb2N1bWVudG9zL2RhY3RlLzBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNS84NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMvOWFmYzIxNDMtMTBiNC00NmVjLWE4YWMtNGE1MDcxZjBiZGY0L2JlMzAyMTI4LTQ0ZGUtNDJlNy04NzRkLTc3YjA4NjdmYjU1NyIsDQogICAgInVybF94bWwiOiAiaHR0cHM6Ly9vbmViYWNrdXBzZXJ2aWNlcy5ibG9iLmNvcmUud2luZG93cy5uZXQvMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1L2Q2ZTlmMzViLTIyZmYtNGYxMy1hZjY3LTVkZDcxMTU0MzZhMC54bWw/c3Y9MjAxOC0wMy0yOCZzcj1iJnNpZz1KJTJCMEx4VGhlbkhOTmlmQXJPWUR6bXZKVFhuUHJXRyUyRmNVOVN6czVERkwlMkZRJTNEJnNlPTIwMjMtMDEtMjVUMjElM0E1MCUzQTEzWiZzcD1yIiwNCiAgICAib25lX2NvcGllZF90aW1lcyI6IDIsDQogICAgInRpcG9fZGVfY3RlIjogInJlZW50cmVnYSIsDQogICAgInRpcG9fZGVfY3RlX2Rlc2MiOiAiUmVlbnRyZWdhIiwNCiAgICAiYXJxdWl2b19nbnJlIjogW10sDQogICAgInVybEdOUkUiOiAiIiwNCiAgICAicGFnYW1lbnRvR05SRSI6IGZhbHNlLA0KICAgICJPVlNGb3JkZW1fZGVfdmVuZGFfaWQiOiAiIiwNCiAgICAiVmFsb3JGcmV0ZSI6IDgwLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX3JlbWV0ZW50ZV90aXBvX2VtcHJlc2FfZGVzYyI6ICJOYWNpb25hbCIsDQogICAgImFudWxhZG9fYW50ZXJpcm8iOiAibmFvIiwNCiAgICAicG9zc3VpX2RlY2xhcmFjYW8iOiAiICIsDQogICAgIkVNUFRMT0dSdGlwb19sb2dyYWRvdXJvX19lbXByZXNhX3RpcG9fZGVfbG9ncmFkb3VybyI6ICJSdWEiDQp9DQoNCg0KanNvbklucHV0Lm9uZXJneV9qc19jdHggPSB7DQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICI4MzZlYjY2Yi04M2YyLTQ2ODgtOTRjZi0yNTY1NDE1Y2JhNmMiLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJmZWRpZCI6ICJmYjI5YWNkZC1jMGU1LTRmMzUtODhhOC03YWQ2YWM0Y2MwZGQiLA0KfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(CTE) - Recalculo Motor de Calculo.js", "isDirectory": false, "__KEY__": "12c67a41-947d-3a28-1d67-ea0cad5d2139", "size": 101075, "dateModified": "2022-09-21T17:24:49.000Z", "content": "Y29uc3Qgew0KICAgIEpTRE9NDQp9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsNCiAgICB3aW5kb3cNCn0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsNCiAgICBkYXRlDQp9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsNCiAgICB0eXBlDQp9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsNCiAgICBmb3JtYXREYXRlDQp9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCg0KDQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQpmdW5jdGlvbiBpbml0KGpzb24pIHsNCiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQoNCiAgICAvL3JldHVybiB0cnVlOw0KICAgIC8vcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIGRhdGEsIHRydWUpOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnanNvbic6IEpTT04uc3RyaW5naWZ5KGpzb24pLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIHJldHVybiBvYmo7DQp9DQoNCnZhciBDVEVzTmFvRW1pdGlkYXNJRCA9ICJiZTMwMjEyOC00NGRlLTQyZTctODc0ZC03N2IwODY3ZmI1NTciOw0KdmFyIFRBQkVMQV9ERV9QUkVDTyA9ICIzY2ViOTNiMi0yNDQyLTRmYzctYjg2Zi1iYWQ1NTEwOWUxOWYiOw0KdmFyIElURU5TX1RBQkVMQV9QUkVDTyA9ICI0NTcwOWEwMi0wMzg0LTRhM2QtYmNjMC02Mjg1YjAwYmIyNDciOw0KdmFyIFZBTE9SRVNfSVRFTlNfVEFCRUxBX1BSRUNPID0gIjIyNTU1YjE4LTAyOGYtNDQ2Yi04M2M5LWMwOWIwMmQxNjMwMyI7DQp2YXIgdGVtcGxhdGVFbXByZXNhVGFiZWxhUHJlY28gPSAnOTgxZDkyZmEtMTE0Yi00YWUzLTliMTAtNDljMTExMTI5MmY3JzsNCnZhciBNVU5JQ0lQSU9TID0gIjFjYWE3NGU3LTdiNGQtNDY3Yi1iN2Q3LTczNTRlNjk1MTU0OSI7DQp2YXIgVEFCRUxBX0lDTVMgPSAiMzc3ZDcwMTItYzIwYi00ZmVlLWIzMTYtYTE4ZDJlY2RhNWEzIjsNCnZhciB0ZW1wbGF0ZUxvY2FpcyA9ICdjNjBiMDg2Mi0zNzBlLTQ1MGQtODU4Zi0yOGUyMmU5MzhiYWMnOw0KdmFyIGVzdGFiZWxlY2ltZW50b0lEID0gJzIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZic7DQp2YXIgZW5kZXJlY29Fc3RhYmVsZWNpbWVudG9JRCA9ICc4ZGU4ODY5Mi0wODBmLTQ0ZmUtOWYwYy0yOWM4ZWE1MzdmNGYnOw0KdmFyIHRlbXBsYXRlaWRFbXByZXNhID0gImFmNjZmYjJkLTk2MGUtNGUxYi05YTY2LTQ0NGNkYWQ2NGY2MyI7DQp2YXIgdGVtcGxhdGVjZm9wID0gImI0MTVmN2IxLWJlNzYtNDZmNS1hOGJmLTQ1NzcyNDQyYjQ5YSI7DQp2YXIgVEFYQVNJRCA9ICdlMmJkY2ZlNS0xNTg3LTRlZjQtYjc2Yi1iN2IwZWYzYjA0ZDInOw0KdmFyIERBRE9TX1BBSVNfRVNUQURPID0gImYxY2NmMWY4LWJiYTQtNGZmMy1hNWUyLTU4ZWYyYWE0MjU3YSI7DQp2YXIgZGlEYXRhR2xvYmFsID0gW107DQoNCnZhciBvYmpDVGVOYW9FbWl0aWRvID0gbnVsbDsNCnZhciBqc0RhdGEgPSBudWxsOw0KDQp2YXIgdG9tYWRvckNhY2hlOw0KDQphc3luYyBmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQogICAgY29uc3Qgb2JqQ1RlTmFvRW1pdGlkb0NhY2hlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7DQogICAgY29uc3Qgc2NyZWVuU2Vzc2lvbklEID0gZGF0YS5zY3JlZW5TZXNzaW9uSUQ7DQoNCiAgICBvYmpDVGVOYW9FbWl0aWRvID0gZGF0YTsNCiAgICBqc0RhdGEgPSBkYXRhLmpzRGF0YTsNCiAgICBvYmpDVGVOYW9FbWl0aWRvID0gYXdhaXQgZGVmaW5pckNGT1Aob2JqQ1RlTmFvRW1pdGlkbyk7DQoNCiAgICBpZiAob2JqQ1RlTmFvRW1pdGlkbyAhPSBudWxsICYmIGpzRGF0YSAhPSBudWxsKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBhd2FpdCBDYWxjdWxvMihqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8pOw0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICBsZXQgRXJyb1JldHVybiA9IHsNCiAgICAgICAgICAgICAgICAnc3RhdHVzJzogJ05PSycsDQogICAgICAgICAgICAgICAgJ2xvZ19tb3Rvcl9kZV9jYWxjdWxvJzogYEVycm8gZGUgZXhlY3XDp8Ojbzoke2V9YA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGxldCBtc2dSZXR1cm4gPSAiIjsNCiAgICAgICAgICAgIGxldCBzdHJFcnJvUmV0dXJuID0gSlNPTi5zdHJpbmdpZnkoRXJyb1JldHVybik7DQogICAgICAgICAgICBpZiAoc2NyZWVuU2Vzc2lvbklEKSB7DQogICAgICAgICAgICAgICAgcHVzaGVyKHsNCiAgICAgICAgICAgICAgICAgICAgc3Via2V5OiAic3ViLWMtYzE4NTg5NDQtZWVlYy0xMWVhLWEzYTAtOTY3ZDI3MjUwZWZhIiwNCiAgICAgICAgICAgICAgICAgICAgcHVia2V5OiAicHViLWMtMTc5NjIzZDMtNzJhMS00MDc0LWEyNjYtZGQ5OWY2YTkzMjBmIiwNCiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDogc2NyZWVuU2Vzc2lvbklELA0KICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBzdHJFcnJvUmV0dXJuLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBtc2dSZXR1cm4gPSBzdHJFcnJvUmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHsgY29uZDogZmFsc2UsIG1zZ19yZXN1bHQ6IG1zZ1JldHVybiB9Ow0KDQogICAgICAgIH0NCiAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmpDVGVOYW9FbWl0aWRvQ2FjaGUpIHsNCiAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkgew0KICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpDVGVOYW9FbWl0aWRvW3Byb3BlcnR5XTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBsZXQgbXNnUmV0dXJuID0gIiI7DQogICAgICAgIGxldCBzdHJPYmpSZXR1cm4gPSBKU09OLnN0cmluZ2lmeShvYmpDVGVOYW9FbWl0aWRvKTsNCiAgICAgICAgaWYgKHNjcmVlblNlc3Npb25JRCkgew0KICAgICAgICAgICAgcHVzaGVyKHsNCiAgICAgICAgICAgICAgICBzdWJrZXk6ICJzdWItYy1jMTg1ODk0NC1lZWVjLTExZWEtYTNhMC05NjdkMjcyNTBlZmEiLA0KICAgICAgICAgICAgICAgIHB1YmtleTogInB1Yi1jLTE3OTYyM2QzLTcyYTEtNDA3NC1hMjY2LWRkOTlmNmE5MzIwZiIsDQogICAgICAgICAgICAgICAgY2hhbm5lbDogc2NyZWVuU2Vzc2lvbklELA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN0ck9ialJldHVybiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbXNnUmV0dXJuID0gc3RyT2JqUmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHsgY29uZDogZmFsc2UsIG1zZ19yZXN1bHQ6IG1zZ1JldHVybiB9Ow0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gZGVmaW5pckNGT1Aob2JqQ1RlTmFvRW1pdGlkbykgew0KICAgIC8vRXN0YWJlbGVjaW1lbnRvDQogICAgdmFyIGZpbHRyb0VzdGFiZWxlY2ltZW50byA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgIEZpZWxOYW1lOiAiX2lkIiwNCiAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgIFZhbHVlMTogb2JqQ1RlTmFvRW1pdGlkby5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkDQogICAgfSxdKTsNCiAgICBsZXQgb2JqVW5pZGFkZUVtaXNzYW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGVzdGFiZWxlY2ltZW50b0lELCBvYmpDVGVOYW9FbWl0aWRvLmFzc2lkLCBvYmpDVGVOYW9FbWl0aWRvLnVzcmlkLCBmaWx0cm9Fc3RhYmVsZWNpbWVudG8pOw0KICAgIC8vRW5kZXJlY28NCiAgICB2YXIgZmlsdHJvRW5kZXJlY29Fc3RhYmVsZWNpbWVudG8gPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogIklEX09ORV9SRUYiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiBvYmpDVGVOYW9FbWl0aWRvLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQNCiAgICB9LF0pOw0KICAgIGxldCBvYmpFbmRlcmVjb1VuaWRhZGVFbWlzc2FvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlbmRlcmVjb0VzdGFiZWxlY2ltZW50b0lELCBvYmpDVGVOYW9FbWl0aWRvLmFzc2lkLCBvYmpDVGVOYW9FbWl0aWRvLnVzcmlkLCBmaWx0cm9FbmRlcmVjb0VzdGFiZWxlY2ltZW50byk7DQogICAgLy90b21hZG9yDQogICAgdmFyIGZpbHRyb1RvbWFkb3IgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogImNucGpfZW1wcmVzYSIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlDQogICAgfSxdKTsNCiAgICBsZXQgb2JqRW1wcmVzYVRvbWFkb3IgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWRFbXByZXNhLCBvYmpDVGVOYW9FbWl0aWRvLmFzc2lkLCBvYmpDVGVOYW9FbWl0aWRvLnVzcmlkLCBmaWx0cm9Ub21hZG9yKTsNCiAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHRvbWFkb3JfY25wal9jdGVfaWQgPSBvYmpFbXByZXNhVG9tYWRvclswXS5JRDsNCiAgICB0b21hZG9yQ2FjaGUgPSBvYmpFbXByZXNhVG9tYWRvcjsNCg0KICAgIC8vQ0ZPUA0KICAgIGxldCBuZXdDZm9wID0ganNEYXRhLkNGT1A7DQogICAgaWYgKGpzRGF0YS5DRk9QID09ICIiIHx8IGpzRGF0YS5DRk9QID09IHVuZGVmaW5lZCkgew0KICAgICAgICBsZXQgVUZfT1JJR0VNID0gb2JqQ1RlTmFvRW1pdGlkby5VRl9PUklHRU07DQogICAgICAgIGxldCBVRl9ERVNUSU5PID0gb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5POw0KDQogICAgICAgIG5ld0Nmb3AgPSAnJzsNCiAgICAgICAgaWYgKFVGX0RFU1RJTk8gPT0gIkVYIikgew0KICAgICAgICAgICAgbmV3Q2ZvcCA9ICI3MzU4IjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vUHJpbWVpcm8gRMOtZ2l0byA+IFNlIFVGX09SSUdFTSA9PSBVRl9ERVNUSU5PIENGT1AsIGluaWNpYSBjb20gNiA+IFNFIFVGX09SSUdFTSAhPSBVRl9ERVNUSU5PLCBDRk9QIGluaWNpYSBjb20gNS4NCiAgICAgICAgICAgIGlmIChVRl9PUklHRU0gPT0gVUZfREVTVElOTykgew0KICAgICAgICAgICAgICAgIG5ld0Nmb3AgKz0gJzUnOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBuZXdDZm9wICs9ICc2JzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gUXVhbmRvIGEgdW5pZGFkZSBkZSBlbWlzc2FvIGZvciBuYW8gY29udHJpYnVpbnRlIG5vIGVzdGFkbyBkZSBvcmlnZW0uDQogICAgICAgICAgICBsZXQgQ0ZPUF85MzIgPSAoDQogICAgICAgICAgICAgICAgKG9ialVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LmluZGljYWRvcl9pZSA9PSAnbmFvQ29udHJpYnVpbnRlJykgfHwNCiAgICAgICAgICAgICAgICAob2JqRW5kZXJlY29VbmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYSAhPSBVRl9PUklHRU0pDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgLy9RdWFuZG8gYSB1bmlkYWRlIGRlIGVtaXNzYW8gZm9yIGNvbnRyaWJ1aW50ZSBubyBlc3RhZG8gZGUgZW1pc3NhbyBlIHRvbWFkb3IgbmFvIGNvbnRyaWJ1aW50ZSBubyBlc3RhZG8gZGVsZS4NCiAgICAgICAgICAgIGxldCBDRk9QXzM1NyA9ICgNCiAgICAgICAgICAgICAgICAob2JqRW5kZXJlY29VbmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYSA9PSBVRl9PUklHRU0pICYmDQogICAgICAgICAgICAgICAgKG9ialVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LmluZGljYWRvcl9pZSA9PSAnY29udHJpYnVpbnRlJykgJiYNCiAgICAgICAgICAgICAgICAob2JqRW1wcmVzYVRvbWFkb3JbMF0uVXJsSnNvbkNvbnRleHQuaW5kaWNhZG9yX2RlX2llID09ICdOYW9Db250cmlidWludGUnKQ0KICAgICAgICAgICAgKTsNCg0KICAgICAgICAgICAgaWYgKENGT1BfOTMyKSB7DQogICAgICAgICAgICAgICAgbmV3Q2ZvcCArPSAnOTMyJzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZPUF8zNTcpIHsNCiAgICAgICAgICAgICAgICBuZXdDZm9wICs9ICczNTcnOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBsZXQgdGlwb0VzdGFiZWxlY2ltZW50byA9IG9iakVtcHJlc2FUb21hZG9yWzBdLlVybEpzb25Db250ZXh0LnRpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2E7DQogICAgICAgICAgICAgICAgaWYgKHRpcG9Fc3RhYmVsZWNpbWVudG8pIHsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aXBvRXN0YWJlbGVjaW1lbnRvKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbmR1c3RyaWEnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nmb3AgKz0gJzM1Mic7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21lcmNpYWwnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nmb3AgKz0gJzM1Myc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb211bmljYWNhbyc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2ZvcCArPSAnMzU0JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RyYW5zcG9ydGFkb3JhJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDZm9wICs9ICczNTEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzdHJpYnVpZG9yYUVuZXJnaWFFbGV0cmljYSc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2ZvcCArPSAnMzU1JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2V4dGVyaW9yJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDZm9wID09ICc3MzU4JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ29yZ2FvUHVibGljbyc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2ZvcCArPSAnMzU3JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hb0NvbnRyaWJ1aW50ZSc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2ZvcCArPSAnMzU3JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2R1dG9yUnVyYWwnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nmb3AgKz0gJzM1Nic7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW9TZWxlY2lvbmFkbyc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2ZvcCA9ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzRGF0YS5sb2dfY3RlICs9IGBcbiBBVklTTyBDRk9QOiBUaXBvIGRlIEVzdGFiZWxlY2ltZW50byBuw6NvIGZvaSBkZWZpbmlkbyBubyB0b21hZG9yIENOUEo6JHtvYmpFbXByZXNhVG9tYWRvclswXS5VcmxKc29uQ29udGV4dC5jbnBqX2VtcHJlc2F9LlxuYDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGpzRGF0YS5sb2dfY3RlICs9IGBcbiBBVklTTyBDRk9QOiBUaXBvIGRlIEVzdGFiZWxlY2ltZW50byBuw6NvIGZvaSBkZWZpbmlkbyBubyB0b21hZG9yIENOUEo6JHtvYmpFbXByZXNhVG9tYWRvclswXS5VcmxKc29uQ29udGV4dC5jbnBqX2VtcHJlc2F9LlxuYDsNCiAgICAgICAgICAgICAgICAgICAgbmV3Q2ZvcCA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAobmV3Q2ZvcCkgew0KICAgICAgICB2YXIgRmlsdHJvY2ZvcCA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgICAgICBGaWVsTmFtZTogImNvZGlnb19jZm9wIiwNCiAgICAgICAgICAgIFZhbHVlMTogcGFyc2VJbnQobmV3Q2ZvcCkNCiAgICAgICAgfV0pOw0KICAgICAgICB2YXIgb2JqY2ZvcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVjZm9wLCBvYmpDVGVOYW9FbWl0aWRvLmFzc2lkLCBvYmpDVGVOYW9FbWl0aWRvLnVzcmlkLCBGaWx0cm9jZm9wKTsNCiAgICAgICAgaWYgKG9iamNmb3AgIT09IG51bGwgJiYgb2JqY2ZvcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkNGT1BfY2ZvcF9jdGVfaWQgPSBvYmpjZm9wWzBdLklEOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5DRk9QX2Rlc2NyaWNhb19jZm9wID0gb2JqY2ZvcFswXS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW9fY2ZvcDsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uQ0ZPUF9jb2RpZ29fY2ZvcF9fY2ZvcF9jdGUgPSBvYmpjZm9wWzBdLlVybEpzb25Db250ZXh0LmNvZGlnb19jZm9wLnRvU3RyaW5nKCk7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPSBvYmpjZm9wWzBdLlVybEpzb25Db250ZXh0LmNzdF9jZm9wOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jc3RfY3RlX2Rlc2MgPSBvYmpjZm9wWzBdLlVybEpzb25Db250ZXh0LmNzdF9jZm9wX2Rlc2M7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gb2JqY2ZvcFswXS5VcmxKc29uQ29udGV4dC5iYXNlX2xlZ2FsX2Zpc2NvID8gb2JqY2ZvcFswXS5VcmxKc29uQ29udGV4dC5iYXNlX2xlZ2FsX2Zpc2NvIDogJyc7DQoNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGpzRGF0YS5sb2dfY3RlID0gInwiICsganNEYXRhLmxvZ19jdGUgKyAiQ0ZPUCBuw6NvIGVuY29udHJhZG8iOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAganNEYXRhLmxvZ19jdGUgPSAifCIgKyBqc0RhdGEubG9nX2N0ZSArICJDRk9QIG7Do28gZW5jb250cmFkbyI7DQogICAgfQ0KICAgIHJldHVybiBvYmpDVGVOYW9FbWl0aWRvOw0KfQ0KDQp2YXIgVmFsb3JCYXNlRGVDYWxjdWxvID0gMDsNCnZhciBWYWxvckJhc2VEZUNhbGN1bG9DYWNoZSA9IDA7DQp2YXIgdGF4YXNFbmNvbnRyYWRhcyA9IFtdOw0KdmFyIE9ialRheGFzUG9zdCA9IFtdOw0KdmFyIExvZ1RheGFzID0gWycrLS0tLS0tLS0tLS0tLS0tLS0gVEFYQVMgLS0tLS0tLS0tLS0tLS0tLS0rXG4nXTsNCg0KYXN5bmMgZnVuY3Rpb24gVmFsb3JDYWxjdWxvKGl0ZW5zX3RhYmVsYSwgaXRlbl90YWJlbGFfcHJlY28sIGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbywgTWVuc2FnZW1SZXN1bHQsIHVsdGltYUZhaXhhLCBWYWxvckZyZXRlUHJvbnRvKSB7DQogICAgLy9TZSB2YWxvciBkYSBwcmVzdGFjYW8gbmFvIGZvciByZWNlYmlkbyBmYXogYSBidXNjYSBuYXMgdGFiZWxhcyBlIGNhbGN1bGEgbyBmcmV0ZS4NCiAgICBpZiAoIVZhbG9yRnJldGVQcm9udG8pIHsNCiAgICAgICAgLy9DQUxDVUxBUiBWQUxPUiBETyBGUkVURSBFIFNPTUFSIEFEIFZBTE9SRU0NCiAgICAgICAgdmFyIHF0ZGVDYXJnYSA9IDA7DQogICAgICAgIGZvciAobGV0IHMgaW4ganNEYXRhLlF1YW50aWRhZGVzQ2FyZ2EpIHsNCiAgICAgICAgICAgIGlmIChqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVtzXS5UaXBvTWVkaWRhLmluZGV4T2YoIlBlc28iKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgIHF0ZGVDYXJnYSArPSBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVtzXS5RdWFudGlkYWRlQ2FyZ2E7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIGZpbmRSYW5nZSA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgbGV0IHJhbmdlID0geC5VcmxKc29uQ29udGV4dC5pbmljaWFsX3RwcmxpbiA8PSBxdGRlQ2FyZ2EgJiYgeC5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW4gPj0gcXRkZUNhcmdhOw0KICAgICAgICAgICAgbGV0IGNsaWVudGVSZXRpcmEgPSB4LlVybEpzb25Db250ZXh0LmNsaWVudGVfcmV0aXJhID09IGpzRGF0YS5DbGllbnRlUmV0aXJhOw0KICAgICAgICAgICAgaWYgKHJhbmdlICYmIGNsaWVudGVSZXRpcmEpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICB2YXIgdmFsb3JmcmV0ZUNhbGMgPSAwOw0KICAgICAgICB2YXIgdGlwb19kZV9wcmVjb19tdWx0ID0gIlZhbG9yIEZpeG8iOw0KICAgICAgICBpZiAoZmluZFJhbmdlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYEZBSVhBPj4gJHtpdGVuc190YWJlbGEuVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvfVxuYCk7DQogICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICBSQU5HRT4+ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluICsgIiA+PiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LmluaWNpYWxfdHBybGluICsgIlxuIik7DQogICAgICAgICAgICBpZiAoZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LlRpcG9EZVByZWNvdGlwb19kZV9wcmVjbyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGlwb19kZV9wcmVjb19tdWx0ID0gZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LlRpcG9EZVByZWNvdGlwb19kZV9wcmVjbzsgLy8wIEZJWE8gfCAxIE1VTFRJIHwgMiBQRVJDRU5UVUFMDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBUSVBPIERFIFBSRUNPIE1VTFRJUExJQ0FETw0KICAgICAgICAgICAgaWYgKHRpcG9fZGVfcHJlY29fbXVsdCA9PSAiVmFsb3IgTXVsdGlwbGljYWRvIikgew0KICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gKGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl90cHJsaW4gKiBxdGRlQ2FyZ2EpOw0KDQogICAgICAgICAgICAgICAgaWYgKGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluID4gMCkgew0KICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW47DQogICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBWYWxvciBtaW5pbW86ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFRERTogIiArIGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluICsgIlxuIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBUSVBPIERFIFBSRUNPIEZJWE8gDQogICAgICAgICAgICAgICAgaWYgKHRpcG9fZGVfcHJlY29fbXVsdCA9PSAiVmFsb3IgRml4byIpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfdHBybGluOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBWYWxvciBtaW5pbW86ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIFNPTUEgVERFDQogICAgICAgICAgICAgICAgICAgIGlmIChmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBUREU6ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBGQUxUQSBBIFJFR1JBIA0KICAgICAgICAgICAgICAgICAgICBpZiAodGlwb19kZV9wcmVjb19tdWx0ID09ICJWYWxvciBQZXJjZW50dWFsIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfdHBybGluOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5oYXNPd25Qcm9wZXJ0eSgiTkZFcyIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5ORkVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JOb3RhID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBqc0RhdGEuTkZFcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JOb3RhICs9ICgranNEYXRhLk5GRXNbc10uVmFsb3JOb3RhRmlzY2FsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JOb3RhOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBWYWxvciBtaW5pbW86ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNPTUEgVERFDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBUREU6ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgSW5mb3JtYcOnw7VlcyBkYSBORkVzIGVudmlhZGFzIGVzdMOjbyB2YXppYXMuXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgIEluZm9ybWHDp8O1ZXMgZGEgTkZFcyBuw6NvIGZvcmFtIGVudmlhZGFzIHBhcmEgY2FsY3VsbyBkZSBWYWxvciBQZXJjZW50dWFsLlxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCJUSVBPIERFIFBSRUNPIHNlbSByZWdyYSBkZWZpbmlkYSIgKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBGcmV0ZSBjYWxjdWxhZG86ICIgKyB2YWxvcmZyZXRlQ2FsYy50b0ZpeGVkKDMpICsgIlxuIik7DQoNCiAgICAgICAgICAgIC8vQlVTQ0EgQVMgVEFYQVMNCiAgICAgICAgICAgIGxldCBmaWx0cm9UYXhhcyA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgICAgICAgICAgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwNCiAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgIFZhbHVlMTogZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYNCiAgICAgICAgICAgIH0sXSk7DQogICAgICAgICAgICB2YXIgb2JqVGF4YXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKFRBWEFTSUQsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9UYXhhcyk7DQogICAgICAgICAgICB0YXhhc0VuY29udHJhZGFzID0gdGF4YXNFbmNvbnRyYWRhcy5jb25jYXQob2JqVGF4YXMpOw0KDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB2YXIgb3JkZXJlZFJhbmdlID0gaXRlbl90YWJlbGFfcHJlY28uc29ydCgoYSwgYikgPT4gKGEuVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluIDwgYi5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW4pID8gMSA6ICgoYi5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW4gPCBhLlVybEpzb25Db250ZXh0LmZpbmFsX3RwcmxpbikgPyAtMSA6IDApKQ0KICAgICAgICAgICAgdmFyIG1heCA9IG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW47DQogICAgICAgICAgICBsZXQgQ2xpZW50ZVJldGlyYU1heCA9IG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5jbGllbnRlX3JldGlyYSA9PSBqc0RhdGEuQ2xpZW50ZVJldGlyYTsNCg0KICAgICAgICAgICAgaWYgKHF0ZGVDYXJnYSA+IG1heCAmJiBDbGllbnRlUmV0aXJhTWF4KSB7DQogICAgICAgICAgICAgICAgaWYgKG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5UaXBvRGVQcmVjb3ZhbG9yICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGlwb19kZV9wcmVjb19tdWx0ID0gb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LlRpcG9EZVByZWNvdGlwb19kZV9wcmVjbzsgLy8wIEZJWE8gfCAxIE1VTFRJIHwgMiBQRVJDRU5UVUFMDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBtYXhWYWxvclJhbmdlID0gb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX3RwcmxpbjsNCiAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBGQUlYQT4+ICR7aXRlbnNfdGFiZWxhLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb31cbmApOw0KICAgICAgICAgICAgICAgIHRpcG9fZGVfcHJlY29fbXVsdCAhPSAiVmFsb3IgUGVyY2VudHVhbCIgPyBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICBDYWxjdWxhbmRvIGNvbSB2YWxvciBleGNlZGVudGVcbiIpIDogIiI7DQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgUkFOR0U+PiAiICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LmZpbmFsX3RwcmxpbiArICIgPj4gIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5pbmljaWFsX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgIHZhciBleGNlZGVudGUgPSBxdGRlQ2FyZ2EgLSBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluOw0KICAgICAgICAgICAgICAgIHZhciB2YWxvckV4Y2VkZW50ZSA9IChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfYWRpY2lvbmFsX3RwcmxpbiAqIGV4Y2VkZW50ZSk7DQoNCiAgICAgICAgICAgICAgICAvLyBUSVBPIERFIFBSRUNPIE1VTFRJUExJQ0FETw0KICAgICAgICAgICAgICAgIGlmICh0aXBvX2RlX3ByZWNvX211bHQgPT0gIlZhbG9yIE11bHRpcGxpY2FkbyIpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSAobWF4VmFsb3JSYW5nZSAqIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW4pICsgdmFsb3JFeGNlZGVudGU7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFNvbWFuZG8gdmFsb3IgbcOtbmltbyAiICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBTT01BIFRERQ0KICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgU29tYW5kbyBUREUgIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluICsgIlxuIik7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgRnJldGUgY2FsY3VsYWRvOiAiICsgdmFsb3JmcmV0ZUNhbGMudG9GaXhlZCgzKSArICJcbiIpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFRJUE8gREUgUFJFQ08gRklYTyANCiAgICAgICAgICAgICAgICAgICAgaWYgKHRpcG9fZGVfcHJlY29fbXVsdCA9PSAiVmFsb3IgRml4byIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gKG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl90cHJsaW4pICsgdmFsb3JFeGNlZGVudGU7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgU29tYW5kbyB2YWxvciBtaW5pbW8gIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluICsgIlxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSB2YWxvcmZyZXRlQ2FsYyArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gU09NQSBUREUNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFNvbWFuZG8gVERFICIgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gVElQTyBERSBQUkVDTyBQRVJDRU5UVUFMIA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpcG9fZGVfcHJlY29fbXVsdCA9PSAiVmFsb3IgUGVyY2VudHVhbCIpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gKG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl90cHJsaW4pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5oYXNPd25Qcm9wZXJ0eSgiTkZFcyIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuTkZFcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvck5vdGEgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBqc0RhdGEuTkZFcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yTm90YSArPSAoK2pzRGF0YS5ORkVzW3NdLlZhbG9yTm90YUZpc2NhbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3JjZW50VmFsb3JEZXZvbHVjYW8gPSAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX3BlcmNlbnR1YWxfIC8gMTAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gKHZhbG9yTm90YSAqIHBvcmNlbnRWYWxvckRldm9sdWNhbyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgVmFsb3IgbWluaW1vOiAiICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFRERTogIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluICsgIlxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCJORkVzIGVtIGJyYW5jbyBcbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiVElQTyBERSBQUkVDTyBzZW0gcmVncmEgZGVmaW5pZGEgXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh2YWxvcmZyZXRlQ2FsYyA+IDApIHsNCiAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgRnJldGUgY2FsY3VsYWRvOiAiICsgdmFsb3JmcmV0ZUNhbGMudG9GaXhlZCgzKSArICJcbiIpOw0KICAgICAgICAgICAgICAgIC8vQlVTQ0EgQVMgVEFYQVMNCiAgICAgICAgICAgICAgICBsZXQgZmlsdHJvVGF4YXMgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgICAgICAgICBGaWVsTmFtZTogIklEX09ORV9SRUYiLA0KICAgICAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICAgICAgVmFsdWUxOiBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRg0KICAgICAgICAgICAgICAgIH0sXSk7DQogICAgICAgICAgICAgICAgbGV0IG9ialRheGFzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShUQVhBU0lELCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvVGF4YXMpOw0KICAgICAgICAgICAgICAgIHRheGFzRW5jb250cmFkYXMgPSB0YXhhc0VuY29udHJhZGFzLmNvbmNhdChvYmpUYXhhcyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy9TT01PIE8gVkFMT1IgQ0FMQ1VMQURPIE5PIFZhbG9yQmFzZURlQ2FsY3Vsbw0KICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gKz0gdmFsb3JmcmV0ZUNhbGM7DQogICAgICAgIFZhbG9yQmFzZURlQ2FsY3Vsb0NhY2hlICs9IHZhbG9yZnJldGVDYWxjOw0KICAgICAgICBpZiAodWx0aW1hRmFpeGEgJiYgVmFsb3JCYXNlRGVDYWxjdWxvID09IDApIHsNCiAgICAgICAgICAgIGlmIChWYWxvckJhc2VEZUNhbGN1bG8gPT0gMCkgew0KICAgICAgICAgICAgICAgIGxldCBjbGllbnRlZGVzYyA9IGpzRGF0YS5DbGllbnRlUmV0aXJhID09ICcxJyA/ICdTaW0nIDogJ07Do28nDQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgRVJSTzogTsOjbyBmb2kgZW5jb250cmFkbyByYW5nZSBjb20gYSBjYXJnYSAke3F0ZGVDYXJnYX0gb3UgcmFuZ2UgY29tIENsaWVudGUgUmV0aXJhICR7Y2xpZW50ZWRlc2N9XG5gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICAvL3NlIGZvaSByZWNlYmlkbyBvIHZhbG9yIGRvIGZyZXRlIGFzc3VtZSBvIHJlY2ViaWRvLiANCiAgICBlbHNlIHsNCiAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvID0gK2pzRGF0YS5WYWxvckZyZXRlOw0KICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG9DYWNoZSA9ICtqc0RhdGEuVmFsb3JGcmV0ZTsNCiAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVmFsb3IgZG8gRnJldGUgRGVmaW5pZG86ICR7VmFsb3JCYXNlRGVDYWxjdWxvfVxuYCk7DQoNCiAgICAgICAgLy9QVVhBUiBBUyBUQVhBUw0KICAgICAgICB2YXIgZmlsdHJvVGF4YXMgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwNCiAgICAgICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgIFZhbHVlMTogb2JqQ1RlTmFvRW1pdGlkby5vbmVyZ3lDdHguZmVkaWQNCiAgICAgICAgfSxdKTsNCiAgICAgICAgdGF4YXNFbmNvbnRyYWRhcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oVEFYQVNJRCwganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb1RheGFzKTsNCiAgICB9DQogICAgLy9WRVJJRklDTyBTRSDDiSBBIFVMVElNQSBGQUlYQSB2b3UgY2FsY3VsYXIgbyBJQ01TDQogICAgaWYgKHVsdGltYUZhaXhhICYmIFZhbG9yQmFzZURlQ2FsY3VsbyA+IDApIHsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9kb19mcmV0ZSA9ICtWYWxvckJhc2VEZUNhbGN1bG8udG9GaXhlZCgzKTsNCiAgICAgICAgbGV0IFVGT3JpZ2VtID0gb2JqQ1RlTmFvRW1pdGlkby5VRl9PUklHRU07DQogICAgICAgIGxldCBtdW5pY2lwaW9PcmlnZW0gPSBvYmpDVGVOYW9FbWl0aWRvLk1VTklDSVBJT19PUklHRU07DQogICAgICAgIGxldCBVRkRlc3Rpbm8gPSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk87DQogICAgICAgIGxldCBtdW5pY2lwaW9EZXN0aW5vID0gb2JqQ1RlTmFvRW1pdGlkby5NVU5JQ0lQSU9fREVTVElOTzsNCg0KICAgICAgICAvL1NlIG91dmVyIHRheGFzLCByZXRpcmFyIGFzIHJlcGV0aWRhcy4NCiAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgbGV0IHRheGFzRmlsdHJhZGFzID0gW107DQogICAgICAgICAgICBmb3IgKGxldCBzIGluIHRheGFzRW5jb250cmFkYXMpIHsNCiAgICAgICAgICAgICAgICBsZXQgY29udGVtID0gZmFsc2U7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgaiBpbiB0YXhhc0ZpbHRyYWRhcykgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGF4YXNGaWx0cmFkYXNbal0uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGEgPT0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWG5vbWVfZGFfdGF4YV9fdGF4YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVtID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbSkgew0KICAgICAgICAgICAgICAgICAgICB0YXhhc0ZpbHRyYWRhcy5wdXNoKHRheGFzRW5jb250cmFkYXNbc10pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRheGFzRW5jb250cmFkYXMgPSB0YXhhc0ZpbHRyYWRhczsNCiAgICAgICAgfQ0KDQogICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4iKTsNCiAgICAgICAgbGV0IEFEVmFsb3JlbSA9IChqc0RhdGEuVmFsb3JGcmV0ZSA+IDApID8ganNEYXRhLlBvcmNlbnRhZ2VtQWRWYWxvcmVtIDogaXRlbnNfdGFiZWxhLlVybEpzb25Db250ZXh0LmFkX3ZhbG9yZW1fdHByOw0KICAgICAgICBsZXQgdG90YWxUYXhhQWRWYWxvcmVtID0gMDsNCg0KICAgICAgICBpZiAoQURWYWxvcmVtKSB7DQogICAgICAgICAgICBpZiAoanNEYXRhLk5GRXMpIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBzIGluIGpzRGF0YS5ORkVzKSB7DQogICAgICAgICAgICAgICAgICAgIHRvdGFsVGF4YUFkVmFsb3JlbSArPSAoK2pzRGF0YS5ORkVzW3NdLlZhbG9yTm90YUZpc2NhbCkgKiAoQURWYWxvcmVtIC8gMTAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgQUQgVmFsb3JlbSBjYWxjdWxhZG8gJHt0b3RhbFRheGFBZFZhbG9yZW0udG9GaXhlZCgzKX1cbmApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCJOw6NvIGjDoSBpbmZvcm1hw6fDtWVzIGRlIE5GRXMgcGFyYSBjYWxjdWxhciBBRCBWYWxvcmVtLlxuIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy9UQVhBIC0gYXBsaWNhciB0YXhhcyBxdWUgZXN0YW8gZGVudHJvIGRvIElDTVM7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGF4YXNFbmNvbnRyYWRhcykgew0KICAgICAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhpbmNsdXNvX25vX2ljbXMgPT0gJ3NpbScpIHsNCiAgICAgICAgICAgICAgICBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHRpcG9fZGVfdmFsb3IgPT0gJ3BvcmNlbnRhZ2VtJykgew0KICAgICAgICAgICAgICAgICAgICBsZXQgcG9yY2VudGFnZW0gPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcG9yY2VudGFnZW07DQogICAgICAgICAgICAgICAgICAgIGlmICh0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmUgPT0gJ3ZhbG9yRnJldGUnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsb3JUYXhhID0gVmFsb3JCYXNlRGVDYWxjdWxvQ2FjaGUgKiAocG9yY2VudGFnZW0gLyAxMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpQb3N0ID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9ialBvc3QudmFsb3J0YXhhID0gdmFsb3JUYXhhOw0KICAgICAgICAgICAgICAgICAgICAgICAgT2JqVGF4YXNQb3N0LnB1c2gob2JqUG9zdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvL0xPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5sZW5ndGggPiAxID8gTG9nVGF4YXMucHVzaCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBOb21lOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWG5vbWVfZGFfdGF4YV9fdGF4YX0uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgUG9yY2VudGFnZW0gU29icmU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmVfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFZhbG9yIGRhIFRheGE6JHt2YWxvclRheGF9XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmUgPT0gJ3ZhbG9yTm90YScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuaGFzT3duUHJvcGVydHkoJ05GRXMnKSB8fCBqc0RhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWxvck5vdGEgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWxvclRheGEgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogaW4ganNEYXRhLk5GRXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JOb3RhICs9ICgranNEYXRhLk5GRXNbal0uVmFsb3JOb3RhRmlzY2FsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JUYXhhID0gdmFsb3JOb3RhICogKHBvcmNlbnRhZ2VtIC8gMTAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gKz0gdmFsb3JUYXhhOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpQb3N0ID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpQb3N0LnZhbG9ydGF4YSA9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmpUYXhhc1Bvc3QucHVzaChvYmpQb3N0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0xPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYE5vbWU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYbm9tZV9kYV90YXhhX190YXhhfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFBvcmNlbnRhZ2VtIFNvYnJlOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVmFsb3IgZGEgVGF4YToke3ZhbG9yVGF4YX1cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5sZW5ndGggPiAxID8gTG9nVGF4YXMucHVzaCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgTm9tZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGF9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVGlwbyBkZSBWYWxvcjoke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgUG9yY2VudGFnZW0gU29icmU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmVfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBFUlJPOiBDVEUgbmFvIHBvc3N1aSBORkVzIGFzc29jaWFkYXMuXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHRpcG9fZGVfdmFsb3IgPT0gJ3ZhbG9yRml4bycpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbG9yVGF4YSA9IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh2YWxvcjsNCiAgICAgICAgICAgICAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG9ialBvc3QgPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICBvYmpQb3N0LnZhbG9ydGF4YSA9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgT2JqVGF4YXNQb3N0LnB1c2gob2JqUG9zdCk7DQogICAgICAgICAgICAgICAgICAgIC8vTE9HIFRBWEENCiAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBOb21lOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWG5vbWVfZGFfdGF4YV9fdGF4YX0uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVGlwbyBkZSBWYWxvcjoke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFZhbG9yIGRhIFRheGE6JHt2YWxvclRheGF9XG5gKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gKz0gdG90YWxUYXhhQWRWYWxvcmVtOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmVkX3ZhbG9yZW4gPSB0b3RhbFRheGFBZFZhbG9yZW07DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uYWRfdmFsb3JlbV9wb3JjZW50YW5nZW0gPSBBRFZhbG9yZW07DQoNCg0KICAgICAgICBsZXQgYWxpcXVvdGFJQ01TID0gb2JqQ1RlTmFvRW1pdGlkby5wZXJjX2ljbXNfY3RlOw0KICAgICAgICBsZXQgYWxpcXVvdGFDcmVkaXRvUHJlc3VtaWRvID0gMDsNCiAgICAgICAgbGV0IGJhc2VMZWdhbENyZWRpdG9QcmVzdW1pZG8gPSAnJzsNCiAgICAgICAgLy9CVVNBQ0EgTyBMSVNUQSBERSBUQUJFTEFTIERFIElDTVMNCg0KICAgICAgICB2YXIgdGFibGVfaWNtcyA9IGF3YWl0IFBlc3F1aXNhRW1DYWNoZShqc0RhdGEsIFtdLCBUQUJFTEFfSUNNUyk7DQogICAgICAgIHZhciBpY21zID0gdGFibGVfaWNtcy5maW5kKHggPT4geC5VcmxKc29uQ29udGV4dC51Zl9kZV9vcmlnZW1faWNtcyA9PSBvYmpDVGVOYW9FbWl0aWRvLlVGX09SSUdFTSk7DQogICAgICAgIGFsaXF1b3RhSUNNUyA9IGljbXMuVXJsSnNvbkNvbnRleHRbYGFsaXF1b3RhXyR7b2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5PLnRvTG93ZXJDYXNlKCl9YF07DQogICAgICAgIGFsaXF1b3RhSUNNUyA9IGFsaXF1b3RhSUNNUyA/IGFsaXF1b3RhSUNNUyA6IGljbXMuVXJsSnNvbkNvbnRleHRbYGFsaXF1b3RhXyR7b2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5PLnRvTG93ZXJDYXNlKCl9X2ljbXNgXTsNCiAgICAgICAgYWxpcXVvdGFDcmVkaXRvUHJlc3VtaWRvID0gaWNtcy5VcmxKc29uQ29udGV4dC5jcmVkaXRvX3ByZXN1bWlkbzsNCiAgICAgICAgYmFzZUxlZ2FsQ3JlZGl0b1ByZXN1bWlkbyA9IGljbXMuVXJsSnNvbkNvbnRleHQuYmFzZV9sZWdhbF9jcmVkaXRvX3ByZXN1bWlkbzsNCg0KICAgICAgICAvL0ZSRVRFIElOVEVSTVVOSUNJUEFMDQogICAgICAgIGxldCBJQ01TSXNlbnRvID0gZmFsc2U7DQogICAgICAgIC8vdmVyaWZpY28gc2Ugbm8gSUNNUyBmb2kgc2V0YWRvIHF1ZSBvIGVzdGFkbyB0ZW0gaXNlbmNhbyBwYXJhIHRyYW5zcG9ydGUgaW50ZXJtdW5pY2lwYWwuDQogICAgICAgIGlmIChpY21zLlVybEpzb25Db250ZXh0LmludGVybXVuaWNpcGFsX2lzZW50byA9PSAnc2ltJykgew0KICAgICAgICAgICAgLy92ZXJpZmljbyBzZSBvcyBlc3RhZG9zIHNhbyBpZ3VhaXMNCiAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLlVGX09SSUdFTSA9PSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8pIHsNCiAgICAgICAgICAgICAgICAvL1ZlcmlmaWNvIHNlIG8gaW5kaWNhZG9yIElFIGRvIHRvbWFkb3Igw6kgaWd1YWwgYW8gaW5kaWNhZG9yIElFIHNldGFkbyBubyBJQ01TLg0KICAgICAgICAgICAgICAgIGlmICgob2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlID09IGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJtdW5pY2lwYWxfcGFyYV9pbmRpY2Fkb3JfSUUpICYmIChvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX190b21hZG9yX3VmX2xvZ3JhZG91cm9fY3RlID09IGljbXMuVXJsSnNvbkNvbnRleHQudWZfZGVfb3JpZ2VtX2ljbXMpKSB7DQogICAgICAgICAgICAgICAgICAgIC8vVmVyaWZpY28gc2UgZm9pIHNldGFkYSBhIGNvbnNpY2FvIGRlIFNpbXBsZXMgbmFjaW5hbCBubyBJQ01TLg0KICAgICAgICAgICAgICAgICAgICBpZiAoaWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcm11bmljaXBhbF9zaW1wbGVzX25hY2luYWwgIT0gJ25hb1NlbGVjaW9uYWRvJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9zZSBmb2kgc2V0YWRvIGEgY29uZGljYW8gbm8gaWNtcywgZXUgdmVyaWZpY28gc2UgbyBzaW1wbGVzIGRvIHRvbWFkb3Igw6kgaWd1YWwgYW8gc2ltcGxlcyBzZXRhZG8gbm8gSUNNUy4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LmludGVybXVuaWNpcGFsX3NpbXBsZXNfbmFjaW5hbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvZGFzIGFzIGNvbmRpY29lcyB0cnVlIElDTVNJc2VudG8gdHJ1ZS4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJQ01TSXNlbnRvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUcmFuc3BvcnRlIGludGVybXVuaWNpcGFsIGlzZW50byBkZSBJQ01TLlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgICAgRGVzY3Jpw6fDo28gaW50ZXJtdW5pY2lwYWwgaXNlbnRvIGRlIElDTVM6ICR7aWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcm11bmljaXBhbF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCAke2ljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJtdW5pY2lwYWxfZGVzY3JpY2FvfSB8YDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBzZSBuYW8gZm9pIGFkaWNpbmFkbyBjb25kaWNhbyBkZSBzaW1wbGVzLCBJQ01TSXNlbnRvIHRydWUuIA0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIElDTVNJc2VudG8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVHJhbnNwb3J0ZSBpbnRlcm11bmljaXBhbCBpc2VudG8gZGUgSUNNUy5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgICAgRGVzY3Jpw6fDo28gaW50ZXJtdW5pY2lwYWwgaXNlbnRvIGRlIElDTVM6ICR7aWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcm11bmljaXBhbF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgKz0gYHwgJHtpY21zLlVybEpzb25Db250ZXh0LmludGVybXVuaWNpcGFsX2Rlc2NyaWNhb30gfGA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL0ZSRVRFIElOVEVSRVNUQURVQUwNCiAgICAgICAgLy9WZXJpZmljbyBzZSBmb2kgYWRpY2lvbmFkYSBhIGNvbmRpY2FvIGRlIGlzZW5jYW8gaW50ZXJFc3RhZHVhbC4NCiAgICAgICAgaWYgKGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9pc2VudG8gPT0gJ3NpbScpIHsNCiAgICAgICAgICAgIC8vIFZlcmlmaWNvIHNlIG8gdHJhbnBvcnRlIMOpIGludGVyZXN0YWR1YWwuDQogICAgICAgICAgICBpZiAoKG9iakNUZU5hb0VtaXRpZG8uUEFJU19PUklHRU0gPT0gb2JqQ1RlTmFvRW1pdGlkby5QQUlTX0RFU1RJTk8pICYmIChvYmpDVGVOYW9FbWl0aWRvLlVGX09SSUdFTSAhPSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8pKSB7DQogICAgICAgICAgICAgICAgLy9WZXJpZmljbyBzZSBvIGluZGljYWRvciBpZSBkbyB0b21hZG9yIMOpIGlndWFsIGFvIGluZGljYWRvciBJRSBzZXRhZG8gbm8gSUNNUyBlIG8gdG9tYWRvciB0ZW0gaW5zY2NyaWNhbyBubyBlc3RhZG8gZGUgb3JpZ2VtLg0KICAgICAgICAgICAgICAgIGlmICgob2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlID09IGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9wYXJhX2luZGljYWRvcl9JRSkgJiYgKG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUgPT0gaWNtcy5VcmxKc29uQ29udGV4dC51Zl9kZV9vcmlnZW1faWNtcykpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9WZXJpZmljbyBzZSBmb2kgYWRpY2lvbmFkYSBhIGNvbmRpY2FvIGRlIHNpbXBsZXMgbm8gSUNNUy4NCiAgICAgICAgICAgICAgICAgICAgaWYgKGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9zaW1wbGVzX25hY2lvbmFsICE9ICduYW9TZWxlY2lvbmFkbycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmVyaWZpY28gc2UgbyBzaW1wbGVzIGRvIHRvbWFkb3Igw6kgaWd1YWwgYW8gU0ltcGxlcyBzZXRhZG8gbm8gSUNNUy4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LmludGVyZXN0YWR1YWxfc2ltcGxlc19uYWNpb25hbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ29uZGljb2VzIHZlcmRhZGVpcmFzIElDTVNJc2VudG8gdHJ1ZS4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJQ01TSXNlbnRvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUcmFuc3BvcnRlIGludGVyZXN0YWR1YWwgaXNlbnRvIGRlIElDTVMuXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGAgICBEZXNjcmnDp8OjbyBpbnRlcmVzdGFkdWFsIGlzZW50byBkZSBJQ01TOiAke2ljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCAke2ljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9kZXNjcmljYW99IHxgOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vU2UgbmFvIGZvaSBhZGljaW9uYWRvIHBhcmFtZXRybyBkZSBTaW1wbGVzIG5vIElDTVMgSUNNU0lzZW50byB0cnVlLg0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIElDTVNJc2VudG8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVHJhbnNwb3J0ZSBpbnRlcmVzdGFkdWFsIGlzZW50byBkZSBJQ01TLmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgICAgRGVzY3Jpw6fDo28gaW50ZXJlc3RhZHVhbCBpc2VudG8gZGUgSUNNUzogJHtpY21zLlVybEpzb25Db250ZXh0LmludGVyZXN0YWR1YWxfZGVzY3JpY2FvfVxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlICs9IGB8ICR7aWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcmVzdGFkdWFsX2Rlc2NyaWNhb30gfGA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL1NVQlNUSVRVSUNBTyBUUklCVVRBUklBDQogICAgICAgIGxldCBzdWJzdGl0dWljYW9UcmlidXRhcmlhID0gZmFsc2U7DQogICAgICAgIC8vc2Ugbm8gSUNNUyBmb3Igc2V0YWRvIHNpbSBwYXJhIFNUDQogICAgICAgIGlmIChpY21zLlVybEpzb25Db250ZXh0LnN1YnN0aXR1aWNhb190cmlidXRhcmlhID09ICJzaW0iKSB7DQogICAgICAgICAgICAvL1RpcG8gZGUgZnJldGUgZG8gQ1RFDQogICAgICAgICAgICBsZXQgdGlwb0ZyZXRlQ1RlID0gKG9iakNUZU5hb0VtaXRpZG8ucmVzcG9uc2F2ZWxfZnJldGVfY3RlID09ICdkZXN0aW5hdGFyaW8nID8gJ2ZvYicgOiAnY2lmJyk7DQogICAgICAgICAgICAvL3NlIHRpcG8gZGUgZnJldGUgZG8gQ1RFIGZvciBpZ3VhbCBhbyB0aXBvIGRlIGZyZXRlIGRlZmluaWRvIG5vIGlDTVMNCiAgICAgICAgICAgIGlmICh0aXBvRnJldGVDVGUgPT0gaWNtcy5VcmxKc29uQ29udGV4dC50aXBvX2RlX2ZyZXRlKSB7DQogICAgICAgICAgICAgICAgLy9WZXJpZmljbyBzZSBvIEluZGljYWRvciBJRSBkbyB0b21hZG9yIGNvbmRpeiBjb20gbyBpbmRpY2Fkb3IgSUUgZGVmaW5pZG8uDQogICAgICAgICAgICAgICAgbGV0IGluZGljYWRvcklFSUNNU19YX0luZGljYWRvcklFVG9tYWRvciA9ICgNCiAgICAgICAgICAgICAgICAgICAgKG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LlNUX3BhcmFfaW5kaWNhZG9yX0lFKSAmJg0KICAgICAgICAgICAgICAgICAgICAob2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LnVmX2RlX29yaWdlbV9pY21zKQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgaWYgKGluZGljYWRvcklFSUNNU19YX0luZGljYWRvcklFVG9tYWRvcikgew0KICAgICAgICAgICAgICAgICAgICBsZXQgU05fbmFvU2VsZWNpb25hZG8gPSAoaWNtcy5VcmxKc29uQ29udGV4dC5TVF9zaW1wbGVzX25hY2lvbmFsID09ICduYW9TZWxlY2lvbmFkbycpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgU04gPSAob2JqQ1RlTmFvRW1pdGlkby5FTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGUgPT0gaWNtcy5VcmxKc29uQ29udGV4dC5TVF9zaW1wbGVzX25hY2lvbmFsKTsNCiAgICAgICAgICAgICAgICAgICAgLy9TZSBTTiBuYW8gZm9pIHNlbGVjaW9uYWRvIG91IGZvaSBzZWxlY2lvbmFkbyBlIGNvbmRpeiBjb20gbyBTTiBkbyB0b21hZG9yDQogICAgICAgICAgICAgICAgICAgIGlmIChTTl9uYW9TZWxlY2lvbmFkbyB8fCBTTikgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHVpY2FvVHJpYnV0YXJpYSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUcmlidXRhZGEgZSBjb20gY29icmFuw6dhIGRvIElDTVMgcG9yIFNUXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYCAgIERlc2NyacOnw6NvIFN1YnN0aXR1acOnw6NvIFRyaWJ1dMOhcmlhOiR7aWNtcy5VcmxKc29uQ29udGV4dC5TVF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgKz0gYHwgJHtpY21zLlVybEpzb25Db250ZXh0LlNUX2Rlc2NyaWNhb30gfGANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vRElGQUwNCiAgICAgICAgbGV0IGRpZmFsID0gZmFsc2U7DQogICAgICAgIGxldCBmZWNvcCA9IGZhbHNlOw0KICAgICAgICBsZXQgYWxpcXVvdGFEaWZhbCA9IDA7DQogICAgICAgIGxldCBUYWJlbGFJQ01TRGVzdGlubyA9IHRhYmxlX2ljbXMuZmluZCh4ID0+IHguVXJsSnNvbkNvbnRleHQudWZfZGVfb3JpZ2VtX2ljbXMgPT0gVUZEZXN0aW5vKTsNCiAgICAgICAgbGV0IGFsaXF1b3RhSW50ZXJuYURlc3Rpbm8gPSBUYWJlbGFJQ01TRGVzdGluby5VcmxKc29uQ29udGV4dFtgYWxpcXVvdGFfJHtVRkRlc3Rpbm8udG9Mb3dlckNhc2UoKX1gXTsNCiAgICAgICAgYWxpcXVvdGFJbnRlcm5hRGVzdGlubyA9IGFsaXF1b3RhSW50ZXJuYURlc3Rpbm8gPyBhbGlxdW90YUludGVybmFEZXN0aW5vIDogVGFiZWxhSUNNU0Rlc3Rpbm8uVXJsSnNvbkNvbnRleHRbYGFsaXF1b3RhXyR7VUZEZXN0aW5vLnRvTG93ZXJDYXNlKCl9X2ljbXNgXTsNCiAgICAgICAgbGV0IGZpbHRyb0VzdGFkb0Rlc3Rpbm8gPSBnZXJhckZpbHRybygnZXN0YWRvX3VmJywgb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5PKTsNCiAgICAgICAgbGV0IFJlZ2lzdHJvRXN0YWRvRGVzdGlubyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oREFET1NfUEFJU19FU1RBRE8sIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9Fc3RhZG9EZXN0aW5vKTsNCiAgICAgICAgbGV0IGFsaXF1b3RhRmVjb3AgPSAwOw0KICAgICAgICBpZiAoUmVnaXN0cm9Fc3RhZG9EZXN0aW5vICYmIFJlZ2lzdHJvRXN0YWRvRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5kaWZlcmVuY2lhbF9kZV9hbGlxdW90YSA9PSAnc2ltJykgew0KICAgICAgICAgICAgLy8gc2UgZm9yIHRyYW5zcG9ydGUgaW50ZXJlc3RhZHVhbA0KICAgICAgICAgICAgaWYgKFVGT3JpZ2VtICE9IFVGRGVzdGlubykgew0KICAgICAgICAgICAgICAgIC8vU8OzIGF2ZXJhIGRpZmFsIHNlIG8gdG9tYWRvciBmb3Igb3V0cm9zIG91IGRlc3RpbmF0YXJpby4NCiAgICAgICAgICAgICAgICBpZiAob2JqQ1RlTmFvRW1pdGlkby5yZXNwb25zYXZlbF9mcmV0ZV9jdGUgPT0gJ2Rlc3RpbmF0YXJpbycgfHwgb2JqQ1RlTmFvRW1pdGlkby5yZXNwb25zYXZlbF9mcmV0ZV9jdGUgPT0gJ291dHJvcycpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9WYWxpZGFjYW98ICB0b21hZG9yQ29udHJpYnVpbnRlX0RFU1RJTk8gU2Vyw6EgdmVyZGFkZWlybyBxdWFuZG8gYSBVRiBkZSBkZXN0aW5vIGZvciBkaWZlcmVudGUgZGEgVUYgZG8gdG9tYWRvciBPVSBVRiBERVNUSU5PIGZvciBpZ3VhbCBtYXMgbyBpbmRpY2Fkb3IgSUUgZm9yIG5hb0NvbnRyaWJ1aW50ZS4NCiAgICAgICAgICAgICAgICAgICAgbGV0IHRvbWFkb3JDb250cmlidWludGVfREVTVElOTyA9ICgNCiAgICAgICAgICAgICAgICAgICAgICAgIChvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX190b21hZG9yX3VmX2xvZ3JhZG91cm9fY3RlICE9IG9iakNUZU5hb0VtaXRpZG8uVUZfREVTVElOTykgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAob2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSA9PSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8pICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSA9PSAnTmFvQ29udHJpYnVpbnRlJykNCiAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRvbWFkb3JDb250cmlidWludGVfREVTVElOTykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsaXF1b3RhSW50ZXJuYURlc3Rpbm8gLSBhbGlxdW90YUlDTVMgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmYWwgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaXF1b3RhRGlmYWwgPSBhbGlxdW90YUludGVybmFEZXN0aW5vIC0gYWxpcXVvdGFJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSZWdpc3Ryb0VzdGFkb0Rlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQuYWxpcXVvdGFfZmVjb3AgJiYgUmVnaXN0cm9Fc3RhZG9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0LmFsaXF1b3RhX2ZlY29wID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNvcCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaXF1b3RhRmVjb3AgPSBSZWdpc3Ryb0VzdGFkb0Rlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQuYWxpcXVvdGFfZmVjb3A7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBESUZBTCBOQU8gTElNUEEgRklTQ08NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYERpZmVyZW5jaWFsIGRlIEFsw61xdW90YSBBcGxpY2FkbyBcbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYCAgIERlc2NyacOnw6NvIERpZmVyZW5jaWFsIGRlIEFsw61xdW90YToke1JlZ2lzdHJvRXN0YWRvRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW9fZGlmZXJlbmNpYWxfZGVfYWxpcXVvdGF9XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlICs9IGB8ICR7UmVnaXN0cm9Fc3RhZG9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb19kaWZlcmVuY2lhbF9kZV9hbGlxdW90YX0gfGANCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChJQ01TSXNlbnRvKSB7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPSAnNDAnOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jc3RfY3RlX2Rlc2MgPSAnNDAgLSBJc2VudGEgJzsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlID0gMDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmICghanNEYXRhLlZhbG9ySUNNUykgew0KICAgICAgICAgICAgICAgIHZhciBWYWxvcklDTVMgPSAwOw0KICAgICAgICAgICAgICAgIHZhciBWYWxvckRpZmFsID0gMDsNCiAgICAgICAgICAgICAgICB2YXIgVmFsb3JGZWNvcCA9IDA7DQogICAgICAgICAgICAgICAgdmFyIFZhbG9yQ3JlZGl0b1ByZXN1bWlkbyA9IDANCiAgICAgICAgICAgICAgICBsZXQgaWNtc0luY2x1c28gPSBWYWxvckZyZXRlUHJvbnRvID8gdHJ1ZSA6IGl0ZW5zX3RhYmVsYS5VcmxKc29uQ29udGV4dC5pY21zX2luY2x1c29fdHByID09ICJzaW0iOw0KICAgICAgICAgICAgICAgIGlmIChpY21zSW5jbHVzbykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIWRpZmFsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgVGF4YUlDTVMgPSAxIC0gKGFsaXF1b3RhSUNNUyAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvcklDTVMgPSAoKFZhbG9yQmFzZURlQ2FsY3VsbyAvIFRheGFJQ01TKSAtIFZhbG9yQmFzZURlQ2FsY3Vsbyk7DQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gKz0gVmFsb3JJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JDcmVkaXRvUHJlc3VtaWRvID0gKFZhbG9ySUNNUyAqIChhbGlxdW90YUNyZWRpdG9QcmVzdW1pZG8gLyAxMDApKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgSUNNUyBjYWxjdWxhZG86ICR7VmFsb3JJQ01TLnRvRml4ZWQoMyl9IFxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBWYWxvciBCYXNlIGRlIEPDoWxjdWxvOiAke1ZhbG9yQmFzZURlQ2FsY3Vsby50b0ZpeGVkKDMpfSBcbmApOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmFsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGF4YURpZmFsID0gMSAtICgoYWxpcXVvdGFJbnRlcm5hRGVzdGlubyArIGFsaXF1b3RhRmVjb3ApIC8gMTAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyA9IChWYWxvckJhc2VEZUNhbGN1bG8gLyB0YXhhRGlmYWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JJQ01TID0gVmFsb3JCYXNlRGVDYWxjdWxvICogKGFsaXF1b3RhSUNNUyAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvckNyZWRpdG9QcmVzdW1pZG8gPSAoVmFsb3JJQ01TICogKGFsaXF1b3RhQ3JlZGl0b1ByZXN1bWlkbyAvIDEwMCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgSUNNUyBjYWxjdWxhZG86ICR7VmFsb3JJQ01TLnRvRml4ZWQoMyl9IFxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBWYWxvciBCYXNlIGRlIEPDoWxjdWxvOiAke1ZhbG9yQmFzZURlQ2FsY3Vsby50b0ZpeGVkKDMpfSBcbmApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRhIEJhc2UgZGUgQ8OhbGN1bG8NCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfYmFzZV9jYWxjX3VmX2ZpbV9jdGUgPSBWYWxvckJhc2VEZUNhbGN1bG87DQogICAgICAgICAgICAgICAgICAgICAgICAvL0FsaXF1b3RhIGludGVybmEgDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnBlcmNfaWNtc191Zl9maW1fY3RlID0gYWxpcXVvdGFJbnRlcm5hRGVzdGlubzsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9pY21zX3VmX2ZpbV9jdGUgPSAoVmFsb3JCYXNlRGVDYWxjdWxvICogKGFsaXF1b3RhRGlmYWwgLyAxMDApKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vQWzDrXF1b3RhIGRvIElDTVMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uYWxpcXVvdGFfaW50ZXJfZXN0YWR1YWxfY3RlID0gYWxpcXVvdGFJQ01TOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvckRpZmFsID0gb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9pY21zX3VmX2ZpbV9jdGU7DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBESUZBTCBjYWxjdWxhZG86ICR7VmFsb3JEaWZhbC50b0ZpeGVkKDMpfSBcbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCBWYWxvciBESUZBTDogUiQke1ZhbG9yRGlmYWwudG9GaXhlZCgzKS5yZXBsYWNlKCcuJywgJywnKX0gfGANCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlY29wKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5wZXJjX2ZjcF91Zl9maW1fY3RlID0gYWxpcXVvdGFGZWNvcDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2ZjcF91Zl9maW1fY3RlID0gVmFsb3JCYXNlRGVDYWxjdWxvICogKGFsaXF1b3RhRmVjb3AgLyAxMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9yRmVjb3AgPSBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2ZjcF91Zl9maW1fY3RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYEZlY29wIGNhbGN1bGFkbzogJHtvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2ZjcF91Zl9maW1fY3RlLnRvRml4ZWQoMyl9IFxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCBWYWxvciBGRUNPUDogUiQke29iakNUZU5hb0VtaXRpZG8udmFsb3JfZmNwX3VmX2ZpbV9jdGUudG9GaXhlZCgzKS5yZXBsYWNlKCcuJywgJywnKX0gfGANCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChzdWJzdGl0dWljYW9UcmlidXRhcmlhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRhIEJhc2UgZGUgQ8OhbGN1bG8NCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfYmFzZV9jYWxjX3N0X3JldGlkb19jdGUgPSBWYWxvckJhc2VEZUNhbGN1bG87DQogICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRvIElDTVMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfaWNtc19zdF9yZXRpZG9fY3RlID0gVmFsb3JJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9BbMOtcXVvdGEgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5hbGlxdW90YV9pY21zX3N0X3JldGlkbyA9IGFsaXF1b3RhSUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgVG90YWwgZG9zIFRyaWJ1dG9zDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX3RvdGFsX3RyaWJ1dG9zX2N0ZSA9IFZhbG9ySUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZG8gY3LDqWRpdG8NCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfY3JlZGl0b19jdGUgPSBWYWxvckNyZWRpdG9QcmVzdW1pZG87DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYFZhbG9yIENyw6lkaXRvIFByZXN1bWlkbzogJHtWYWxvckNyZWRpdG9QcmVzdW1pZG8udG9GaXhlZCgzKX0gXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgKz0gYHwgJHtiYXNlTGVnYWxDcmVkaXRvUHJlc3VtaWRvfSB8YA0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jc3RfY3RlID0gJzYwJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uY3N0X2N0ZV9kZXNjID0gIjYwIC0gSUNNUyBDb2JyYWRvIG5hIE9wZXJhw6fDo28gQW50ZXJpb3IgcG9yIFN1YnN0aXR1acOnw6NvIFRyaWJ1dMOhcmlhIjsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPT0gJzAwJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZGEgQmFzZSBkZSBDw6FsY3Vsbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfYmFzZV9jYWxjX2N0ZSA9IFZhbG9yQmFzZURlQ2FsY3VsbzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRvIElDTVMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2ljbXNfY3RlID0gVmFsb3JJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWzDrXF1b3RhIGRvIElDTVMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnBlcmNfaWNtc19jdGUgPSBhbGlxdW90YUlDTVM7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxvciBUb3RhbCBkb3MgVHJpYnV0b3MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX3RvdGFsX3RyaWJ1dG9zX2N0ZSA9IFZhbG9ySUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqQ1RlTmFvRW1pdGlkby5jc3RfY3RlID09ICc5MCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRhIEJhc2UgZGUgQ8OhbGN1bG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2Jhc2VfY2FsY19vdXRyYV91Zl9jdGUgPSBWYWxvckJhc2VEZUNhbGN1bG87DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BbMOtcXVvdGEgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8ucGVyY19pY21zX291dHJhX3VmX2N0ZSA9IGFsaXF1b3RhSUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRvIElDTVMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2ljbXNfb3V0cmFfdWZfY3RlID0gVmFsb3JJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgVG90YWwgZG9zIFRyaWJ1dG9zDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl90b3RhbF90cmlidXRvc19jdGUgPSBWYWxvcklDTVM7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL1RBWEEgLSBhcGxpY2FyIHRheGFzIHF1ZSBuYW8gZXN0YW8gZGVudHJvIGRvIElDTVMNCiAgICAgICAgZm9yIChsZXQgcyBpbiB0YXhhc0VuY29udHJhZGFzKSB7DQogICAgICAgICAgICBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWGluY2x1c29fbm9faWNtcyA9PSAnbmFvJykgew0KICAgICAgICAgICAgICAgIGlmICh0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvciA9PSAncG9yY2VudGFnZW0nKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBwb3JjZW50YWdlbSA9IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhwb3JjZW50YWdlbTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhwZXJjZW50YWdlbV9zb2JyZSA9PSAndmFsb3JGcmV0ZScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWxvclRheGEgPSBWYWxvckJhc2VEZUNhbGN1bG9DYWNoZSAqIChwb3JjZW50YWdlbSAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gKz0gdmFsb3JUYXhhOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9ialBvc3QgPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqUG9zdC52YWxvcnRheGEgPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgICAgICBPYmpUYXhhc1Bvc3QucHVzaChvYmpQb3N0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5sZW5ndGggPiAxID8gTG9nVGF4YXMucHVzaCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBOb21lOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWG5vbWVfZGFfdGF4YV9fdGF4YX0uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgUG9yY2VudGFnZW0gU29icmU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmVfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFZhbG9yIGRhIFRheGE6JHt2YWxvclRheGF9XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmUgPT0gJ3ZhbG9yTm90YScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuaGFzT3duUHJvcGVydHkoJ05GRXMnKSB8fCBqc0RhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWxvck5vdGEgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWxvclRheGEgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogaW4ganNEYXRhLk5GRXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JOb3RhICs9ICgranNEYXRhLk5GRXNbal0uVmFsb3JOb3RhRmlzY2FsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JUYXhhID0gdmFsb3JOb3RhICogKHBvcmNlbnRhZ2VtIC8gMTAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gKz0gdmFsb3JUYXhhOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpQb3N0ID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpQb3N0LnZhbG9ydGF4YSA9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmpUYXhhc1Bvc3QucHVzaChvYmpQb3N0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0xPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYE5vbWU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYbm9tZV9kYV90YXhhX190YXhhfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFBvcmNlbnRhZ2VtIFNvYnJlOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVmFsb3IgZGEgVGF4YToke3ZhbG9yVGF4YX1cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0xPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYE5vbWU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYbm9tZV9kYV90YXhhX190YXhhfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFBvcmNlbnRhZ2VtIFNvYnJlOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgRVJSTzogQ1RFIG5hbyBwb3NzdWkgTkZFcyBhc3NvY2lhZGFzLlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yID09ICd2YWxvckZpeG8nKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCB2YWxvclRheGEgPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdmFsb3I7DQogICAgICAgICAgICAgICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyArPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgIGxldCBvYmpQb3N0ID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgb2JqUG9zdC52YWxvcnRheGEgPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgIE9ialRheGFzUG9zdC5wdXNoKG9ialBvc3QpOw0KICAgICAgICAgICAgICAgICAgICAvL0xPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLmxlbmd0aCA+IDEgPyBMb2dUYXhhcy5wdXNoKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJykgOiAnJzsNCiAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgTm9tZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGF9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBWYWxvciBkYSBUYXhhOiR7dmFsb3JUYXhhfVxuYCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy9WYWxvciB0b3RhbCBwcmVzdGFjYW8gZGUgU2Vydmljbw0KICAgICAgICBsZXQgdG90YWxQcmVzdGFjYW9TZXJ2aWNvID0gKFZhbG9yQmFzZURlQ2FsY3Vsbyk7DQogICAgICAgIC8vIFRvdGFsIGEgUmVjZWJlcg0KICAgICAgICBsZXQgdG90YWxyZWNlYmVyID0gKHRvdGFsUHJlc3RhY2FvU2Vydmljbyk7DQogICAgICAgIC8vIFRvdGFsIGEgUmVjZWJlciAtIGNyZWRpdG8gcHJlc3VtaWRvDQogICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPT0gJzYwJykgew0KICAgICAgICAgICAgaWYgKFZhbG9ySUNNUyAmJiBWYWxvckNyZWRpdG9QcmVzdW1pZG8pIHsNCiAgICAgICAgICAgICAgICB0b3RhbHJlY2ViZXIgLT0gKFZhbG9ySUNNUyAtIFZhbG9yQ3JlZGl0b1ByZXN1bWlkbyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX3RvdGFsX3ByZXN0YWNhb19zZXJ2aWNvc19jdGUgPSB0b3RhbFByZXN0YWNhb1NlcnZpY287DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfcmVjZWJlcl9jdGUgPSB0b3RhbHJlY2ViZXI7DQoNCiAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVmFsb3IgVG90YWwgZGEgUHJlc3Rhw6fDo28gZG8gU2VydmnDp286ICR7dG90YWxQcmVzdGFjYW9TZXJ2aWNvLnRvRml4ZWQoMyl9IFxuYCk7DQogICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYFZhbG9yIFRvdGFsIGEgcmVjZWJlcjogJHt0b3RhbHJlY2ViZXIudG9GaXhlZCgzKX0gXG5gKTsNCg0KICAgICAgICBpZiAoT2JqVGF4YXNQb3N0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uVGF4YXNSZXRvcm5vID0gT2JqVGF4YXNQb3N0Ow0KICAgICAgICB9DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBGaW5kSXRlblRhYmVsYU9yaWdlbShvYmpDVGVOYW9FbWl0aWRvLCBqc0RhdGEpIHsNCiAgICB2YXIgdGFiZWxhX3ByZWNvX2VtcHJlc2EgPSBbXTsNCiAgICB2YXIgaXRlbl90YWJlbGFfcHJlY28gPSBbXTsNCg0KICAgIGxldCBmaWx0cm9pZCA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgIEZpZWxOYW1lOiAiSURfT05FX1JFRiIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IHRvbWFkb3JDYWNoZVswXS5JRA0KICAgIH1dKTsNCg0KICAgIHZhciB0YWJlbGFfcHJlY29fZW1wcmVzYV9qc29uID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgIGZkdGlkOiB0ZW1wbGF0ZUVtcHJlc2FUYWJlbGFQcmVjbywNCiAgICAgICAgYXNzaWQ6IGpzRGF0YS5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGpzRGF0YS51c3JpZCwNCiAgICAgICAgZmlsdGVyOiBmaWx0cm9pZA0KICAgIH0pOw0KICAgIHRhYmVsYV9wcmVjb19lbXByZXNhID0gSlNPTi5wYXJzZSh0YWJlbGFfcHJlY29fZW1wcmVzYV9qc29uKTsNCiAgICBpZiAodGFiZWxhX3ByZWNvX2VtcHJlc2EubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGFiZWxhX3ByZWNvX2VtcHJlc2EubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgICAgICBjb25zdCB0YWJlbGFfcHJlY29fZW1wcmVzYV9pdGVtID0gdGFiZWxhX3ByZWNvX2VtcHJlc2FbaW5kZXhdOw0KDQogICAgICAgICAgICBsZXQgZmlsdHJvdGFiZWxhcHJlY29pZCA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgICAgICAgICAgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwNCiAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgIFZhbHVlMTogdGFiZWxhX3ByZWNvX2VtcHJlc2FfaXRlbS5VcmxKc29uQ29udGV4dC5UUFJkZXNjcmljYW9fZW1wcmVzYV9pZA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBGaWVsTmFtZTogIm1vZGFsX3Rwcmxpbl9kZXNjIiwNCiAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgIFZhbHVlMToganNEYXRhLk1vZGFsaWRhZGVUcmFuc3BvcnRlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIEZpZWxOYW1lOiAiU0VSZGVzY3JpY2FvX3Nlcl9fc2Vydmljb190cHJsaW4iLA0KICAgICAgICAgICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgVmFsdWUxOiBqc0RhdGEuVGlwb1NlcnZpY28NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgdmFyIHRlbXBfaXRlbl90YWJlbGFfcHJlY28gPSBnZXRPbmVyZ3lJdGVtKElURU5TX1RBQkVMQV9QUkVDTywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb3RhYmVsYXByZWNvaWQpOw0KICAgICAgICAgICAgaWYgKHRlbXBfaXRlbl90YWJlbGFfcHJlY28ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGl0ZW5fdGFiZWxhX3ByZWNvID0gaXRlbl90YWJlbGFfcHJlY28uY29uY2F0KHRlbXBfaXRlbl90YWJlbGFfcHJlY28pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhd2FpdCBGaW5kSXRlblRhYmVsYU9yaWdlbUNhY2hlKGl0ZW5fdGFiZWxhX3ByZWNvLCBvYmpDVGVOYW9FbWl0aWRvLCBqc0RhdGEpOw0KICAgIH0gZWxzZSB7DQoNCiAgICAgICAgbGV0IGZpbHRyb3RhYmVsYXByZWNvaWQgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgRmllbE5hbWU6ICJtb2RhbF90cHJsaW5fZGVzYyIsDQogICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICBWYWx1ZTE6IGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICBGaWVsTmFtZTogIlNFUmRlc2NyaWNhb19zZXJfX3NlcnZpY29fdHBybGluIiwNCiAgICAgICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgIFZhbHVlMToganNEYXRhLlRpcG9TZXJ2aWNvDQogICAgICAgIH0NCiAgICAgICAgXSk7DQoNCg0KICAgICAgICB2YXIgaXRlbl90YWJlbGFfcHJlY28yID0gYXdhaXQgZ2V0T25lcmd5SXRlbShJVEVOU19UQUJFTEFfUFJFQ08sIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm90YWJlbGFwcmVjb2lkKTsNCiAgICAgICAgdmFyIENOUEogPSBqc0RhdGEuQ05QSlJlbWV0ZW50ZTsNCiAgICAgICAgaWYgKENOUEoubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdmFyIEl0ZW5zQ05QSiA9IGl0ZW5fdGFiZWxhX3ByZWNvMi5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gKHguVXJsSnNvbkNvbnRleHQuRU1QY25wal9lbXByZXNhX19jbnBqX3JlbWV0ZW50ZV90cHIgPT0gQ05QSik7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaWYgKEl0ZW5zQ05QSi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIEl0ZW5zQ05QSjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYXdhaXQgRmluZEl0ZW5UYWJlbGFPcmlnZW1DYWNoZShpdGVuX3RhYmVsYV9wcmVjbzIsIG9iakNUZU5hb0VtaXRpZG8sIGpzRGF0YSk7DQogICAgfQ0KfQ0KDQovL09SSUdFTQ0KYXN5bmMgZnVuY3Rpb24gRmluZEl0ZW5UYWJlbGFPcmlnZW1DYWNoZShpdGVuX3RhYmVsYV9wcmVjbywgb2JqQ1RlTmFvRW1pdGlkbywganNEYXRhKSB7DQogICAgdmFyIFBhaXNfT3JpZ2VtRW50cmFkYSA9ICJCUkFTSUwiOw0KICAgIHZhciBFc3RhZG9fT3JpZ2VtRW50cmFkYSA9IG9iakNUZU5hb0VtaXRpZG8uVUZfT1JJR0VNOw0KICAgIHZhciBDaWRhZGVfT3JpZ2VtRW50cmFkYSA9IG9iakNUZU5hb0VtaXRpZG8uTVVOSUNJUElPX09SSUdFTTsNCiAgICB2YXIgQ05QSiA9IG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGU7DQoNCiAgICBsZXQgaXRlbnNFbmNvbnRyYWRvcyA9IFtdOw0KDQogICAgLy9DTlBKDQogICAgaWYgKENOUEopIHsNCiAgICAgICAgaWYgKENOUEoubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgLy8gUEVTUVVJU0EgQ05QSg0KICAgICAgICAgICAgdmFyIEl0ZW5zQ05QSiA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fY25wal9kZXN0aW5hdGFyaW9fdHByID09IENOUEopOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBpZiAoSXRlbnNDTlBKLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc0NOUEopIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc0NOUEpbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gUEVTUVVJU0EgQ0lEQURFDQogICAgdmFyIEl0ZW5zQ2lkYWRlID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIHJldHVybiAoeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IENpZGFkZV9PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fb3JpZ2VtX3RwcmxpbiA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluID09IFBhaXNfT3JpZ2VtRW50cmFkYQ0KICAgICAgICApOw0KICAgIH0pOw0KDQogICAgaWYgKEl0ZW5zQ2lkYWRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc0NpZGFkZSkgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zQ2lkYWRlW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmaWx0cm9NdW5pY2lwaW9zUmVnID0gSlNPTi5zdHJpbmdpZnkoW3sNCiAgICAgICAgRmllbE5hbWU6ICJlc3RhZG9fdWYiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiBFc3RhZG9fT3JpZ2VtRW50cmFkYS50b1VwcGVyQ2FzZSgpDQogICAgfSwNCiAgICB7DQogICAgICAgIEZpZWxOYW1lOiAibXVuaWNpcGlvX25vbWUiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiBDaWRhZGVfT3JpZ2VtRW50cmFkYS50b1VwcGVyQ2FzZSgpDQogICAgfQ0KICAgIF0pOw0KICAgIGxldCBvYmpNdW5pY2lwaW9PcmlnZW0gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKE1VTklDSVBJT1MsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9NdW5pY2lwaW9zUmVnKTsNCiAgICBvYmpNdW5pY2lwaW9PcmlnZW0gPSBvYmpNdW5pY2lwaW9PcmlnZW1bMF0uVXJsSnNvbkNvbnRleHQ7DQoNCiAgICAvL1BFU1FVSVNBIFVGIElOVEVSSU9SDQogICAgdmFyIEl0ZW5zVUZJbnRlcmlvciA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICBsZXQgZXN0YWRvUGFpcyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gRXN0YWRvX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfb3JpZ2VtX3RwcmxpbiA9PSBQYWlzX09yaWdlbUVudHJhZGE7DQoNCiAgICAgICAgbGV0IGludGVyaW9yID0gKHguVXJsSnNvbkNvbnRleHQuY2FwdGFsX29yaWdlbSA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfb3JpZ2VtID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzAnKTsNCg0KICAgICAgICBpZiAoZXN0YWRvUGFpcyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgIH0pOw0KICAgIGlmIChJdGVuc1VGSW50ZXJpb3IubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zVUZJbnRlcmlvcikgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zVUZJbnRlcmlvcltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFVGIENBUElUQUwgT1UgUkVHSUFPIE1FVFJPUE9MSVRBTkENCiAgICB2YXIgSXRlbnNVRkNhcHRPVU1ldHJvID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBlc3RhZG9QYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fb3JpZ2VtX3RwcmxpbiA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluID09IFBhaXNfT3JpZ2VtRW50cmFkYTsNCg0KICAgICAgICBsZXQgY2FwaXRhbCA9IHguVXJsSnNvbkNvbnRleHQuY2FwdGFsX29yaWdlbSA9PSAnMScgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLmNhcGl0YWwgPT0gJzEnOw0KDQogICAgICAgIGxldCByZWdpYW9NZXRyb3BvbGl0YW5hID0geC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9vcmlnZW0gPT0gJzEnICYmIG9iak11bmljaXBpb09yaWdlbS5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMSc7DQoNCiAgICAgICAgaWYgKGVzdGFkb1BhaXMgJiYgKGNhcGl0YWwgfHwgcmVnaWFvTWV0cm9wb2xpdGFuYSkpIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9Ow0KICAgIH0pOw0KICAgIGlmIChJdGVuc1VGQ2FwdE9VTWV0cm8ubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zVUZDYXB0T1VNZXRybykgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zVUZDYXB0T1VNZXRyb1tzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFVGDQogICAgdmFyIEl0ZW5zVUYgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gRXN0YWRvX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfb3JpZ2VtX3RwcmxpbiA9PSBQYWlzX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LmNhcHRhbF9vcmlnZW0gPT0gJzMnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfb3JpZ2VtID09ICczJykNCiAgICAgICAgKTsNCiAgICB9KTsNCiAgICBpZiAoSXRlbnNVRi5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNVRikgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zVUZbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QRVNRVUlTQSBQQUlTIElOVEVSSU9SDQogICAgdmFyIEl0ZW5zUGFpc0ludGVyaW9yID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfb3JpZ2VtX3RwcmxpbiA9PSBQYWlzX09yaWdlbUVudHJhZGE7DQoNCiAgICAgICAgbGV0IGludGVyaW9yID0gKHguVXJsSnNvbkNvbnRleHQuY2FwdGFsX29yaWdlbSA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfb3JpZ2VtID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzAnKTsNCg0KICAgICAgICBpZiAocGFpcyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICBpZiAoSXRlbnNQYWlzSW50ZXJpb3IubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zUGFpc0ludGVyaW9yKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNQYWlzSW50ZXJpb3Jbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QRVNRVUlTQSBQQUlTIENBUElUQUwgT1UgUkVHSUFPIE1FVFJPUE9MSVRBTkENCiAgICB2YXIgSXRlbnNQYWlzQ2FwT1VNZXRybyA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICBsZXQgcGFpcyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19vcmlnZW1fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX29yaWdlbV90cHJsaW4gPT0gUGFpc19PcmlnZW1FbnRyYWRhOw0KDQogICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXB0YWxfb3JpZ2VtID09ICcxJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX29yaWdlbSA9PSAnMScgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICBpZiAocGFpcyAmJiAoY2FwaXRhbCB8fCByZWdpYW9NZXRyb3BvbGl0YW5hKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH07DQogICAgfSk7DQogICAgaWYgKEl0ZW5zUGFpc0NhcE9VTWV0cm8ubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zUGFpc0NhcE9VTWV0cm8pIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc1BhaXNDYXBPVU1ldHJvW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vUEVTUVVJU0EgUEFJUw0KICAgIHZhciBJdGVuc1BhaXMgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19vcmlnZW1fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9vcmlnZW0gPT0gJzMnICYmIHguVXJsSnNvbkNvbnRleHQuY2FwdGFsX29yaWdlbSA9PSAnMycpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5SRUdsb2NhbGlkYWRlc19vcmlnZW1fdHBybGluX2lkID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuUkVHbG9jYWxpZGFkZXNfb3JpZ2VtX3Rwcmxpbl9pZCA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluID09IFBhaXNfT3JpZ2VtRW50cmFkYQ0KICAgICAgICApOw0KICAgIH0pOw0KICAgIGlmIChJdGVuc1BhaXMubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zUGFpcykgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zUGFpc1tzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBMT0NBTElEQURFUyANCiAgICAvL3ZhciB0YWJlbGFkZWxvY2FpcyA9IFBlc3F1aXNhRW1DYWNoZShqc0RhdGEsIFtdLCB0ZW1wbGF0ZUxvY2Fpcyk7DQogICAgdmFyIHRhYmVsYWRlbG9jYWlzID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZUxvY2FpcywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIG51bGwpOw0KDQogICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW5fdGFiZWxhX3ByZWNvLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICBjb25zdCBpdHAgPSBpdGVuX3RhYmVsYV9wcmVjb1tpbmRleF07DQogICAgICAgIGlmIChpdHAuVXJsSnNvbkNvbnRleHQuUkVHbG9jYWxpZGFkZXNfb3JpZ2VtX3Rwcmxpbl9pZCAhPSBudWxsKSB7DQoNCiAgICAgICAgICAgIHZhciBJdGVuc0xvY2FpcyA9IHRhYmVsYWRlbG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0LklEX09ORV9SRUYgPT0gaXRwLlVybEpzb25Db250ZXh0LlJFR2xvY2FsaWRhZGVzX29yaWdlbV90cHJsaW5faWQNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGlmIChJdGVuc0xvY2Fpcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgLy9DSURBREUgDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zRmluZExvY2Fpc0NpZGFkZSA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICBsZXQgdmFsaWRvID0gKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gRXN0YWRvX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBDaWRhZGVfT3JpZ2VtRW50cmFkYQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRvKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0ZpbmRMb2NhaXNDaWRhZGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFVGIElOVEVSSU9SDQogICAgICAgICAgICAgICAgdmFyIGl0ZW5zTG9jYWxpZGFkZU9yaWdlbUludGVyaW9yID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBlc3RhZG9QYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19PcmlnZW1FbnRyYWRhOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBpbnRlcmlvciA9ICh4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzAnICYmIG9iak11bmljaXBpb09yaWdlbS5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCcpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChlc3RhZG9QYWlzICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW5zTG9jYWxpZGFkZU9yaWdlbUludGVyaW9yLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy9QRVNRVUlTQSBVRiBDQVBJVEFMIE9VIFJFR0lBTyBNRVRST1BPTElUQU5BDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zTG9jYWxpZGFkZV9DYXBfTWV0cm9fT3JpZ2VtID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBlc3RhZG9QYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19PcmlnZW1FbnRyYWRhOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLmNhcGl0YWwgPT0gJzEnOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCByZWdpYW9NZXRyb3BvbGl0YW5hID0geC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzEnICYmIG9iak11bmljaXBpb09yaWdlbS5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVzdGFkb1BhaXMgJiYgKGNhcGl0YWwgfHwgcmVnaWFvTWV0cm9wb2xpdGFuYSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0xvY2FsaWRhZGVfQ2FwX01ldHJvX09yaWdlbS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIFVGDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zRmluZExvY2Fpc1VGID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICczJyAmJiB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMycpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKEl0ZW5zRmluZExvY2Fpc1VGLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5jb25jYXQoaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFBBSVMgSU5URVJJT1INCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNMb2NhbGlkYWRlUGFpc0ludGVyaW9yX09yaWdlbSA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICBsZXQgcGFpcyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfT3JpZ2VtRW50cmFkYTsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJpb3IgPSAoeC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzAnKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAocGFpcyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNMb2NhbGlkYWRlUGFpc0ludGVyaW9yX09yaWdlbS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vUEVTUVVJU0EgUEFJUyBDQVBJVEFMIE9VIFJFR0lBTyBNRVRST1BPTElUQU5BDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zTG9jYWxpZGFkZVBhaXNDYXBNZXRyb19PcmlnZW0gPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX09yaWdlbUVudHJhZGE7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IGNhcGl0YWwgPSB4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICcxJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAocGFpcyAmJiAoY2FwaXRhbCB8fCByZWdpYW9NZXRyb3BvbGl0YW5hKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKEl0ZW5zTG9jYWxpZGFkZVBhaXNDYXBNZXRyb19PcmlnZW0ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBQQUlTDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zRmluZExvY2Fpc1BBSVMgPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzMnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICczJykNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNGaW5kTG9jYWlzUEFJUy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gaXRlbnNFbmNvbnRyYWRvczsNCn0NCg0KLy9ERVNUSU5PDQphc3luYyBmdW5jdGlvbiBGaW5kSXRlblRhYmVsYURlc3Rpbm8oanNEYXRhLCBpdGVuX3RhYmVsYV9wcmVjbywgb2JqQ1RlTmFvRW1pdGlkbykgew0KICAgIHZhciBQYWlzX0Rlc3Rpbm9FbnRyYWRhID0gJ0JSQVNJTCc7DQogICAgdmFyIEVzdGFkb19EZXN0aW5vRW50cmFkYSA9IG9iakNUZU5hb0VtaXRpZG8uVUZfREVTVElOTzsNCiAgICB2YXIgQ2lkYWRlX0Rlc3Rpbm9FbnRyYWRhID0gb2JqQ1RlTmFvRW1pdGlkby5NVU5JQ0lQSU9fREVTVElOTzsNCiAgICB2YXIgQ05QSiA9IG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGU7DQoNCiAgICBsZXQgaXRlbnNFbmNvbnRyYWRvcyA9IFtdOw0KICAgIC8vQ05QSg0KICAgIGlmIChDTlBKKSB7DQogICAgICAgIGlmIChDTlBKLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIC8vIFBFU1FVSVNBIENOUEoNCiAgICAgICAgICAgIHZhciBJdGVuc0NOUEogPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX2NucGpfZGVzdGluYXRhcmlvX3RwciA9PSBDTlBKKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgaWYgKEl0ZW5zQ05QSi5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNDTlBKKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNDTlBKW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIFBFU1FVSVNBIENJREFERQ0KICAgIHZhciBJdGVuc0NpZGFkZSA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSBDaWRhZGVfRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19kZXN0aW5vX3RwcmxpbiA9PSBFc3RhZG9fRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfZGVzdGlub190cHJsaW4gPT0gUGFpc19EZXN0aW5vRW50cmFkYQ0KICAgICAgICApOw0KICAgIH0pOw0KDQogICAgaWYgKEl0ZW5zQ2lkYWRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc0NpZGFkZSkgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zQ2lkYWRlW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmaWx0cm9NdW5pY2lwaW9zUmVnID0gSlNPTi5zdHJpbmdpZnkoW3sNCiAgICAgICAgRmllbE5hbWU6ICJlc3RhZG9fdWYiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiBFc3RhZG9fRGVzdGlub0VudHJhZGEudG9VcHBlckNhc2UoKQ0KICAgIH0sDQogICAgew0KICAgICAgICBGaWVsTmFtZTogIm11bmljaXBpb19ub21lIiwNCiAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgIFZhbHVlMTogQ2lkYWRlX0Rlc3Rpbm9FbnRyYWRhLnRvVXBwZXJDYXNlKCkNCiAgICB9DQogICAgXSk7DQogICAgbGV0IG9iak11bmljaXBpb0Rlc3Rpbm8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKE1VTklDSVBJT1MsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9NdW5pY2lwaW9zUmVnKTsNCiAgICBvYmpNdW5pY2lwaW9EZXN0aW5vID0gb2JqTXVuaWNpcGlvRGVzdGlub1swXS5VcmxKc29uQ29udGV4dDsNCg0KICAgIC8vUEVTUVVJU0EgVUYgSU5URVJJT1INCiAgICB2YXIgSXRlbnNVRkludGVyaW9yID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBlc3RhZG9NdW5pY2lwaW8gPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgIGxldCBpbnRlcmlvciA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9kZXN0aW5vID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlubyA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCc7DQoNCiAgICAgICAgaWYgKGVzdGFkb011bmljaXBpbyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIGlmIChJdGVuc1VGSW50ZXJpb3IubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zVUZJbnRlcmlvcikgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zVUZJbnRlcmlvcltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFVGIENPTSBSRUdJw4NPIE1FVFJPUE9MSVRBTkEgT1UgQ0FQSVRBTA0KICAgIHZhciBJdGVuc1VGQ2FwT1VNZXRybyA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICBsZXQgY2lkYWRlRXN0YWRvTXVuaWNpcGlvID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19kZXN0aW5vX3RwcmxpbiA9PSBFc3RhZG9fRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfZGVzdGlub190cHJsaW4gPT0gUGFpc19EZXN0aW5vRW50cmFkYTsNCg0KICAgICAgICBsZXQgY2FwaXRhbCA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9kZXN0aW5vID09ICcxJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLmNhcGl0YWwgPT0gJzEnOw0KDQogICAgICAgIGxldCByZWdpYW9NZXRyb3BvbGl0YW5hID0geC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9kZXN0aW5vID09ICcxJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICBpZiAoY2lkYWRlRXN0YWRvTXVuaWNpcGlvICYgKGNhcGl0YWwgfHwgcmVnaWFvTWV0cm9wb2xpdGFuYSkpIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIGlmIChJdGVuc1VGQ2FwT1VNZXRyby5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNVRkNhcE9VTWV0cm8pIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc1VGQ2FwT1VNZXRyb1tzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFVGDQogICAgdmFyIEl0ZW5zVUYgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fdHBybGluID09IFBhaXNfRGVzdGlub0VudHJhZGEpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX2Rlc3Rpbm8gPT0gJzMnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlubyA9PSAnMycpDQogICAgICAgICk7DQogICAgfSk7DQoNCiAgICBpZiAoSXRlbnNVRi5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNVRikgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zVUZbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QRVNRVUlTQSBQQUlTIElOVEVSSU9SIA0KICAgIHZhciBJdGVuc1BhaXNJbnRlcmlvciA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICBsZXQgcGFpcyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19kZXN0aW5vX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgIGxldCBpbnRlcmlvciA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9kZXN0aW5vID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlubyA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCc7DQoNCiAgICAgICAgaWYgKHBhaXMgJiYgaW50ZXJpb3IpIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICBpZiAoSXRlbnNQYWlzSW50ZXJpb3IubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zUGFpc0ludGVyaW9yKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNQYWlzSW50ZXJpb3Jbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QRVNRVUlTQSBQQUlTIENBUElUQUwgT1UgSU5URVJJT1INCiAgICB2YXIgSXRlbnNQYWlzQ2FwT1VNZXRybyA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICBsZXQgcGFpcyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19kZXN0aW5vX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX2Rlc3Rpbm8gPT0gJzEnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX2Rlc3Rpbm8gPT0gJzEnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzEnOw0KDQogICAgICAgIGlmIChwYWlzICYmIChjYXBpdGFsIHx8IHJlZ2lhb01ldHJvcG9saXRhbmEpKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICBpZiAoSXRlbnNQYWlzQ2FwT1VNZXRyby5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNQYWlzQ2FwT1VNZXRybykgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zUGFpc0NhcE9VTWV0cm9bc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QRVNRVUlTQSBQQUlTDQogICAgdmFyIEl0ZW5zUGFpcyA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX2Rlc3Rpbm8gPT0gJzMnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlubyA9PSAnMycpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5SRUdsb2NhbGlkYWRlc19kZXN0aW5vX3Rwcmxpbl9pZCA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0LlJFR2xvY2FsaWRhZGVzX2Rlc3Rpbm9fdHBybGluX2lkID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhKSAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuRU1QY25wal9lbXByZXNhX19jbnBqX2Rlc3RpbmF0YXJpb190cHIgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX2NucGpfZGVzdGluYXRhcmlvX3RwciA9PSBudWxsKQ0KICAgICAgICApOw0KICAgIH0pOw0KDQogICAgaWYgKEl0ZW5zUGFpcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNQYWlzKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNQYWlzW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIExPQ0FMSURBREVTIA0KICAgIHZhciB0YWJlbGFkZWxvY2FpcyA9IGF3YWl0IFBlc3F1aXNhRW1DYWNoZShqc0RhdGEsIFtdLCB0ZW1wbGF0ZUxvY2Fpcyk7DQogICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW5fdGFiZWxhX3ByZWNvLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICBjb25zdCBpdHAgPSBpdGVuX3RhYmVsYV9wcmVjb1tpbmRleF07DQogICAgICAgIGlmIChpdHAuVXJsSnNvbkNvbnRleHQuUkVHbG9jYWxpZGFkZXNfZGVzdGlub190cHJsaW5faWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgdmFyIEl0ZW5zTG9jYWlzID0gdGFiZWxhZGVsb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRiA9PSBpdHAuVXJsSnNvbkNvbnRleHQuUkVHbG9jYWxpZGFkZXNfZGVzdGlub190cHJsaW5faWQNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGlmIChJdGVuc0xvY2Fpcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgLy9DSURBREUgDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zRmluZExvY2Fpc0NpZGFkZSA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IENpZGFkZV9EZXN0aW5vRW50cmFkYQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0ZpbmRMb2NhaXNDaWRhZGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFVGIElOVEVSSU9SDQogICAgICAgICAgICAgICAgdmFyIGl0ZW5zTG9jYWxpZGFkZURlc3Rpbm9JbnRlcmlvciA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICBsZXQgZXN0YWRvTXVuaWNpcGlvID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBFc3RhZG9fRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfRGVzdGlub0VudHJhZGE7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IGludGVyaW9yID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5jYXBpdGFsID09ICcwJyAmJiB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCc7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVzdGFkb011bmljaXBpbyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbnNMb2NhbGlkYWRlRGVzdGlub0ludGVyaW9yLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy9QRVNRVUlTQSBVRiBDT00gUkVHScODTyBNRVRST1BPTElUQU5BIE9VIENBUElUQUwNCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNMb2NhbGlkYWRlX0NhcF9NZXRyb19EZXN0aW5vID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBjaWRhZGVFc3RhZG9NdW5pY2lwaW8gPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19EZXN0aW5vRW50cmFkYTsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgY2FwaXRhbCA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzEnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNpZGFkZUVzdGFkb011bmljaXBpbyAmIChjYXBpdGFsIHx8IHJlZ2lhb01ldHJvcG9saXRhbmEpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKEl0ZW5zTG9jYWxpZGFkZV9DYXBfTWV0cm9fRGVzdGluby5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIFVGDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zRmluZExvY2Fpc1VGID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gRXN0YWRvX0Rlc3Rpbm9FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguY2FwaXRhbF9yZWdpYW8gPT0gJzMnICYmIHgucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICczJykNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNGaW5kTG9jYWlzVUYubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFBBSVMgSU5URVJJT1IgDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zTG9jYWxpZGFkZVBhaXNJbnRlcmlvcl9EZXN0aW5vID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19EZXN0aW5vRW50cmFkYTsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJpb3IgPSB4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcwJzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAocGFpcyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNMb2NhbGlkYWRlUGFpc0ludGVyaW9yX0Rlc3Rpbm8ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFBBSVMgQ0FQSVRBTCBPVSBJTlRFUklPUg0KICAgICAgICAgICAgICAgIHZhciBJdGVuc0xvY2FsaWRhZGVQYWlzQ2FwT1VNZXRyb19EZXN0aW5vID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19EZXN0aW5vRW50cmFkYTsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgY2FwaXRhbCA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzEnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHBhaXMgJiYgKGNhcGl0YWwgfHwgcmVnaWFvTWV0cm9wb2xpdGFuYSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNMb2NhbGlkYWRlUGFpc0NhcE9VTWV0cm9fRGVzdGluby5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIFBBSVMNCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNGaW5kTG9jYWlzUEFJUyA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguY2FwaXRhbF9yZWdpYW8gPT0gJzMnICYmIHgucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICczJykNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNGaW5kTG9jYWlzUEFJUy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gaXRlbnNFbmNvbnRyYWRvczsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gRmluZEl0ZW5zKGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbykgew0KICAgIHZhciBNZW5zYWdlbVJlc3VsdCA9IFtdOw0KICAgIHRyeSB7DQogICAgICAgIC8vc2UgdmFsb3IgZGEgY290YWNhbyBmb3IgbWVub3Igb3UgaWd1YWwgYSB6ZXJvIGNvbnRpbnVhIG8gY2FsY3VsbyBub21hbC4NCiAgICAgICAgaWYgKCFqc0RhdGEuaGFzT3duUHJvcGVydHkoIlZhbG9yRnJldGUiKSB8fCAhanNEYXRhLlZhbG9yRnJldGUgfHwganNEYXRhLlZhbG9yRnJldGUgPD0gMCkgew0KICAgICAgICAgICAgdmFyIHRhYmVsYWRlcHJlY28gPSBQZXNxdWlzYUVtQ2FjaGUoanNEYXRhLCBbXSwgVEFCRUxBX0RFX1BSRUNPKTsNCg0KICAgICAgICAgICAgdmFyIHRpcG9wcmVjbyA9ICcnOw0KICAgICAgICAgICAgaWYgKGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhKSB7DQogICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdWxsRW1wdHkoanNEYXRhLlF1YW50aWRhZGVzQ2FyZ2FbMF0udGlwb3ByZWNvKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpcG9wcmVjbyA9IGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhWzBdLlRpcG9NZWRpZGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoTnVsbEVtcHR5KGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZSkgPT0gJycgfHwgTnVsbEVtcHR5KGpzRGF0YS5UaXBvU2VydmljbykgPT0gJycpIHsNCiAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCdNb2RhbGlkYWRlLCBUaXBvIGRlIFNlcnZpw6dvLCBUaXBvIGRlIFRheGEgb3UgdGlwbyBkZSBwcmXDp28gc8OjbyBvYnJpZ2F0w7NyaW9zJyk7DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5zdGF0dXMgPSAnTk9LJzsNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmxvZ19jdGUgPSBvYmpDVGVOYW9FbWl0aWRvLmxvZ19jdGUgKyAiIHwgIiArIE1lbnNhZ2VtUmVzdWx0LmpvaW4oIiAtLSAiKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHZhciBpdGVuX3RhYmVsYV9wcmVjbyA9IGF3YWl0IEZpbmRJdGVuVGFiZWxhT3JpZ2VtKG9iakNUZU5hb0VtaXRpZG8sIGpzRGF0YSk7DQogICAgICAgICAgICBpZiAoaXRlbl90YWJlbGFfcHJlY28ubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCdOw6NvIGZvaSBlbmNvbnRyYWRvIHRhYmVsYSBkZSBwcmXDp28uID4+JyArIGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZSArICIgLSAiICsganNEYXRhLlRpcG9TZXJ2aWNvICsgIlxuIik7DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5zdGF0dXMgPSAnTk9LJw0KICAgICAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAgICAgIHZhciBpdGVuVGFiZWxhX3ByZWNvX2Rlc3QgPSBhd2FpdCBGaW5kSXRlblRhYmVsYURlc3Rpbm8oanNEYXRhLCBpdGVuX3RhYmVsYV9wcmVjbywgb2JqQ1RlTmFvRW1pdGlkbyk7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW5UYWJlbGFfcHJlY29fZGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goJ07Do28gZm9pIGVuY29udHJhZG8gdGFiZWxhIGRlIHByZcOnbyAnKTsNCiAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5zdGF0dXMgPSAnTk9LJw0KICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmxvZ19jdGUgPSBvYmpDVGVOYW9FbWl0aWRvLmxvZ19jdGUgKyAiIHwgIiArIE1lbnNhZ2VtUmVzdWx0LmpvaW4oIiAtLSAiKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHZhciBsaXN0VGFibGVWaWdlbnRlID0gW107DQogICAgICAgICAgICAgICAgdmFyIGxpc3RUYWJsZU5hb1ZpZ2VudGUgPSBbXTsNCg0KICAgICAgICAgICAgICAgIHZhciBsaXN0VGFibGVJRCA9IFtdOw0KICAgICAgICAgICAgICAgIGlmIChpdGVuVGFiZWxhX3ByZWNvX2Rlc3QubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlblRhYmVsYV9wcmVjb19kZXN0Lmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhYmVsYUluZGV4ID0gaXRlblRhYmVsYV9wcmVjb19kZXN0W2luZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJlbGFJRCA9IHRhYmVsYUluZGV4LlVybEpzb25Db250ZXh0LklEX09ORV9SRUY7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFRhYmxlSUQuaW5kZXhPZih0YWJlbGFJRCkgPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0VGFibGVJRC5wdXNoKHRhYmVsYUlEKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiZWxhID0gdGFiZWxhZGVwcmVjby5maW5kKHggPT4geC5JRCA9PSB0YWJlbGFJbmRleC5VcmxKc29uQ29udGV4dC5JRF9PTkVfUkVGKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFiZWxhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhSW5pY2lvID0gbmV3IERhdGUodGFiZWxhLlVybEpzb25Db250ZXh0LmluaWNpb19kYV92aWdlbmNpYV90cHIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUZpbSA9IG5ldyBEYXRlKHRhYmVsYS5VcmxKc29uQ29udGV4dC50ZXJtaW5vX2RhX3ZpZ2VuY2lhX3Rwcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhSG9qZSA9IG5ldyBEYXRlKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGx0ID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogdGFiZWxhSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGFibGUnOiB0YWJlbGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXRlbSc6IFtdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx0Lml0ZW0ucHVzaCh0YWJlbGFJbmRleCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFIb2plID49IGRhdGFJbmljaW8gJiYgZGF0YUZpbSA8PSBkYXRhSG9qZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFRhYmxlTmFvVmlnZW50ZS5wdXNoKGx0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFRhYmxlVmlnZW50ZS5wdXNoKGx0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFRhYmxlVmlnZW50ZS5maW5kKHggPT4geC5pZCA9PSB0YWJlbGFJRCkuaXRlbS5wdXNoKHRhYmVsYUluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uVFBSY29kaWdvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvX2l0ZW5zID0gW107DQoNCiAgICAgICAgICAgICAgICBpZiAobGlzdFRhYmxlVmlnZW50ZS5sZW5ndGggPT0gMSkgew0KDQogICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uVFBSZGVzY3JpY2FvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvID0gbGlzdFRhYmxlVmlnZW50ZVswXS50YWJsZS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW9fdHByOw0KICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUnRhYmVsYV9kZV9wcmVjb19pZCA9IGxpc3RUYWJsZVZpZ2VudGVbMF0udGFibGUuSUQ7DQogICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYFRhYmVsYSBkZSBQcmXDp28gPj4gJHtsaXN0VGFibGVWaWdlbnRlWzBdLnRhYmxlLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb190cHJ9IFxuYCk7DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RUYXhFc3BlY2lhbCA9IEZpbmRUYXhhRXNwZWNpYWwobGlzdFRhYmxlVmlnZW50ZVswXS5pdGVtLCAiMSIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFRheEVzcGVjaWFsLmxlbmd0aCA+IDApIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb2lkID0gSlNPTi5zdHJpbmdpZnkoW3sNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWVsTmFtZTogIklEX09ORV9SRUYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUxOiBsaXN0VGF4RXNwZWNpYWxbMF0uSUQNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sXSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uVFBSY29kaWdvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvX2l0ZW5zLnB1c2gobGlzdFRheEVzcGVjaWFsWzBdLklEKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW5zUHJlY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKFZBTE9SRVNfSVRFTlNfVEFCRUxBX1BSRUNPLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW5zUHJlY28ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFZhbG9yQ2FsY3VsbyhsaXN0VGF4RXNwZWNpYWxbMF0sIGl0ZW5zUHJlY28sIGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbywgTWVuc2FnZW1SZXN1bHQsIHRydWUsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiVGFiZWxhIGRlIFByZcOnbyBuw6NvIHRlbSB2YWxvcmVzIGRlIHJhbmdlLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uc3RhdHVzID0gJ05PSycNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsaXN0VGFibGVWaWdlbnRlWzBdLml0ZW0ubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbnNTZW1UYXhFc3BlY2lhbCA9IGxpc3RUYWJsZVZpZ2VudGVbMF0uaXRlbVtpbmRleF07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb2lkID0gSlNPTi5zdHJpbmdpZnkoW3sNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlMTogaXRlbnNTZW1UYXhFc3BlY2lhbC5JRA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUmNvZGlnb190cHJfX3RhYmVsYV9kZV9wcmVjb19pdGVucy5wdXNoKGl0ZW5zU2VtVGF4RXNwZWNpYWwuSUQpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW5zUHJlY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKFZBTE9SRVNfSVRFTlNfVEFCRUxBX1BSRUNPLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVuc1ByZWNvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVsdGltYUZhaXhhID0gaW5kZXggPT0gbGlzdFRhYmxlVmlnZW50ZVswXS5pdGVtLmxlbmd0aCAtIDEgPyB0cnVlIDogZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFZhbG9yQ2FsY3VsbyhpdGVuc1NlbVRheEVzcGVjaWFsLCBpdGVuc1ByZWNvLCBqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8sIE1lbnNhZ2VtUmVzdWx0LCB1bHRpbWFGYWl4YSwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChsaXN0VGFibGVWaWdlbnRlLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIk1haXMgZGUgdW1hIHRhYmVsYSBkZSBQcmXDp28gZW5jb250cmFkYS4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uc3RhdHVzID0gJ05PSycNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0VGFibGVWaWdlbnRlLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiTmVuaHVtYSB0YWJlbGEgZGUgUHJlw6dvIGVuY29udHJhZGEuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5zdGF0dXMgPSAnTk9LJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0VGFibGVOYW9WaWdlbnRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiVW1hIG91IG1haXMgdGFiZWxhcyBlY29udHJhZGFzIHBvcsOpbSBuw6NvIHZpZ2VudGUuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uc3RhdHVzID0gJ05PSycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy9zZSB0aXZlciB2YWxvciBkZSBjb3RhY2FvIHZhaSBwYXJhIG8gY2FsY3VsbyBjb21vIHVsdGltYSBmYWl4YSBzaW0gZSBzZW0gb3MgZGFkb3MgZGEgdGFiZWxhLg0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGF3YWl0IFZhbG9yQ2FsY3VsbyhudWxsLCBudWxsLCBqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8sIE1lbnNhZ2VtUmVzdWx0LCB0cnVlLCB0cnVlKTsNCiAgICAgICAgfQ0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmxvZ19tb3Rvcl9kZV9jYWxjdWxvID0gTWVuc2FnZW1SZXN1bHQuam9pbignJyk7DQogICAgICAgIExvZ1RheGFzLmxlbmd0aCA+IDEgPyAob2JqQ1RlTmFvRW1pdGlkby5sb2dfbW90b3JfZGVfY2FsY3VsbyArPSBMb2dUYXhhcy5qb2luKCcnKSkgOiAnJw0KICAgIH0gY2F0Y2ggKGV4KSB7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubG9nX21vdG9yX2RlX2NhbGN1bG8gPSBgRVJSTyBNT1RPUiBERSBDw4FMQ1VMTzpcbiR7ZXh9YA0KICAgIH0NCn0NCg0KZnVuY3Rpb24gRmluZFRheGFFc3BlY2lhbChsaXN0SXRlbnMsIHZhbG9yKSB7DQoNCiAgICB2YXIgSXRlbnNGaW5kVGF4YUVzcGVjaWFsID0gbGlzdEl0ZW5zLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0LnRheGFfZXNwZWNpYWwgPT0gdmFsb3INCiAgICAgICAgKTsNCiAgICB9KTsNCiAgICByZXR1cm4gSXRlbnNGaW5kVGF4YUVzcGVjaWFsOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBDYWxjdWxvMihqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8pIHsNCiAgICBhd2FpdCBGaW5kSXRlbnMoanNEYXRhLCBvYmpDVGVOYW9FbWl0aWRvKTsNCn0NCg0KZnVuY3Rpb24gTnVsbEVtcHR5KHJlYykgew0KICAgIGlmIChyZWMpIHsNCiAgICAgICAgcmV0dXJuIHJlYzsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBFeGlzdHMoZGljLCBrZXkpIHsNCiAgICBmb3IgKHZhciBkIGluIGRpYykgew0KICAgICAgICBpZiAoZGljW2RdLmtleSA9PSBrZXkpIHsNCiAgICAgICAgICAgIHJldHVybiBkaWNbZF0udmFsdWU7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG51bGw7DQoNCn0NCg0KYXN5bmMgZnVuY3Rpb24gUGVzcXVpc2FFbUNhY2hlKGRhdGEsIGZpbHRybywgdGVtcGxhdGVpZCwga2V5LCBJRCkgew0KICAgIGxldCBzdHJGaWx0cm9MZWkgPSBKU09OLnN0cmluZ2lmeShmaWx0cm8pOw0KDQogICAgdmFyIGRhdGFDYWNoZSA9IEV4aXN0cyhkaURhdGFHbG9iYWwsIHRlbXBsYXRlaWQpDQogICAgaWYgKGRhdGFDYWNoZSkgew0KICAgICAgICByZXR1cm4gZGF0YUNhY2hlOw0KICAgIH0NCiAgICBpZiAoZGlEYXRhR2xvYmFsW3RlbXBsYXRlaWRdID09IHVuZGVmaW5lZCkgew0KICAgICAgICBDYWNoZWRSZWNvcmRzID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBzdHJGaWx0cm9MZWkpOw0KICAgICAgICBkaURhdGFHbG9iYWwucHVzaCh7DQogICAgICAgICAgICBrZXk6IHRlbXBsYXRlaWQsDQogICAgICAgICAgICB2YWx1ZTogQ2FjaGVkUmVjb3Jkcw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIEV4aXN0cyhkaURhdGFHbG9iYWwsIHRlbXBsYXRlaWQpDQogICAgfQ0KICAgIHJldHVybiBudWxsOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDUwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQogICAgd2hpbGUgKGtlZXBTZWFyY2hpbmcpIHsNCiAgICAgICAgbGV0IHN0clBhZ2VSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgICAgICBmaWx0ZXI6IGZpbHRybywNCiAgICAgICAgICAgIHNraXA6IHNraXAsDQogICAgICAgICAgICB0YWtlOiB0YWtlDQogICAgICAgIH0pOw0KICAgICAgICBza2lwICs9IHRha2U7DQogICAgICAgIGxldCBwYWdlUmVzcCA9IEpTT04ucGFyc2Uoc3RyUGFnZVJlc3ApOw0KICAgICAgICBpZiAocGFnZVJlc3AgIT0gbnVsbCAmJiBwYWdlUmVzcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gcGFnZVJlc3AubGVuZ3RoID09IHRha2U7DQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhZ2VSZXNwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBnZXJhckZpbHRybyhmaWVsTmFtZVAsIHZhbHVlUCkgew0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogZmllbE5hbWVQLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiB2YWx1ZVAgfV0pOw0KfQ0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCnZhciBqc29uSW5wdXQgPSB7DQogICAgInNjcmVlblNlc3Npb25JRCI6ICI4OGRhY2ZjYS0xNmVmLTdjYjctYzViYy1lNjQ1NWJhYjUxOTciLA0KICAgICJvbmVyZ3lDdHgiOiB7DQogICAgICAgICJhc3NpZCI6ICIxNmMxN2QyOC1kMDQ1LTQ1MDEtODY1ZS0zMDlhM2Y5NWUyODkiLA0KICAgICAgICAidXNyaWQiOiAiYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCiAgICAgICAgImZkdGlkIjogImJlMzAyMTI4LTQ0ZGUtNDJlNy04NzRkLTc3YjA4NjdmYjU1NyIsDQogICAgICAgICJmZWRpZCI6ICJiMDI0YTVhZC1jMDQxLTQwNDAtYTQ1NS04YTAwMmRlOTI3ZWYiLA0KICAgICAgICAidXNlcl9uYW1lIjogInByZXN0ZXhAaG9tb2wuY29tIiwNCiAgICAgICAgInVzZXJfZW1haWwiOiAicHJlc3RleEBob21vbC5jb20iLA0KICAgICAgICAiYXNzX25hbWUiOiAiUHJlc3RleCBIb21vbG9nYcOnw6NvIiwNCiAgICAgICAgInVzZXJDb250ZXh0Ijogew0KICAgICAgICAgICAgImFzc0lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgICAgICAgICAidXNySWQiOiAiYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCiAgICAgICAgICAgICJub21lIjogInByZXN0ZXhAaG9tb2wuY29tIiwNCiAgICAgICAgICAgICJlbWFpbCI6ICJwcmVzdGV4QGhvbW9sLmNvbSIsDQogICAgICAgICAgICAiaXNWYWxpZFVzZXIiOiB0cnVlLA0KICAgICAgICAgICAgIm1lc3NhZ2UiOiBudWxsLA0KICAgICAgICAgICAgInN0YWNrIjogbnVsbCwNCiAgICAgICAgICAgICJzZXNzaW9uSUQiOiAiZjczMzVlMGQtODMwMC00NTg2LWJmYmEtOTE1MjlhN2U4ZDhlIiwNCiAgICAgICAgICAgICJjb2RpZ29JbnRlcm5vSW50ZWdyYWNhbyI6IG51bGwsDQogICAgICAgICAgICAiaG9tZUltYWdlIjogbnVsbCwNCiAgICAgICAgICAgICJsYW5nIjogbnVsbCwNCiAgICAgICAgICAgICJhdmF0YXJVcmwiOiBudWxsLA0KICAgICAgICAgICAgInRhYmxldENzcyI6IG51bGwsDQogICAgICAgICAgICAiYmFyQ29sb3IiOiAiIzAwYWVlZiIsDQogICAgICAgICAgICAidXJsTmV3VGFibGV0Q29udGVudCI6ICIiLA0KICAgICAgICAgICAgImxzdFJvbENoaWxkIjogbnVsbCwNCiAgICAgICAgICAgICJsc3RTdWJzY3JpcHRpb25zIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIkFzc0lEIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgICAgICAgICAgICAgICAgICJBc3NOYW1lIjogIlByZXN0ZXggSG9tb2xvZ2HDp8OjbyIsDQogICAgICAgICAgICAgICAgICAgICJVc3JJRCI6ICJiZjliNDU5ZS02ZmNlLTRmNmItODQ1OS0xNmIxYjMxYWY2NGIiLA0KICAgICAgICAgICAgICAgICAgICAiaXNNYWluIjogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiYXNzTmFtZSI6ICJQcmVzdGV4IEhvbW9sb2dhw6fDo28iLA0KICAgICAgICAgICAgIklzRGVidWdBY3RpdmUiOiBmYWxzZSwNCiAgICAgICAgICAgICJpc1Rva2VuIjogZmFsc2UsDQogICAgICAgICAgICAiVG9rZW4iOiAiZXlKaGJHY2lPaUpvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBeEx6QTBMM2h0YkdSemFXY3RiVzl5WlNOb2JXRmpMWE5vWVRJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnVZVzFsSWpvaWNISmxjM1JsZUVCb2IyMXZiQzVqYjIwaUxDSmxiV0ZwYkNJNkluQnlaWE4wWlhoQWFHOXRiMnd1WTI5dElpd2lZWE56YVdRaU9pSXhObU14TjJReU9DMWtNRFExTFRRMU1ERXRPRFkxWlMwek1EbGhNMlk1TldVeU9Ea2lMQ0oxYzNKcFpDSTZJbUptT1dJME5UbGxMVFptWTJVdE5HWTJZaTA0TkRVNUxURTJZakZpTXpGaFpqWTBZaUo5LjlPeXJkMnpTUndGc2cwdk1UQ0JVQU5kVkppUmMyU1RUNVpyRHFxSmZjVU0iLA0KICAgICAgICAgICAgInBlcmZpbCI6IFtdLA0KICAgICAgICAgICAgImNyb25BY2Nlc3NSdWxlIjogbnVsbCwNCiAgICAgICAgICAgICJ1c2VyVGltZVpvbmUiOiBudWxsLA0KICAgICAgICAgICAgInJvbElkIjogIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsDQogICAgICAgICAgICAiaXNUYWJsZXRVc2VyIjogZmFsc2UsDQogICAgICAgICAgICAiaXNBZG1pbmlzdHJhdG9yIjogdHJ1ZSwNCiAgICAgICAgICAgICJpc1Rlc3RVc2VyIjogdHJ1ZSwNCiAgICAgICAgICAgICJpc0RldmVsb3BlclVzZXIiOiB0cnVlDQogICAgICAgIH0NCiAgICB9LA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fcmVtZXRlbnRlX3VmX2xvZ3JhZG91cm9fY3RlIjogIlNDIiwNCiAgICAiRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICJKT0lOVklMTEUiLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX3VmX2xvZ3JhZG91cm9fY3RlIjogIlNQIiwNCiAgICAiRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICJDT1RJQSIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSI6ICI0NjMyMzc1NDAwMDE4MyIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlIjogIjQ2MzIzNzU0MDAxODIxIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUiOiAiNDYzMjM3NTQwMDAxODMiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSI6ICJDb250cmlidWludGVJQ01TIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSI6ICJDb250cmlidWludGVJQ01TIiwNCiAgICAiRU1QdG9tYWRvcl9jbnBqX2N0ZV9pZCI6ICI2NjJmYzQ1Yy03ZGJhLTQzMGMtODNhZi0zZmFiNTgwM2Y1ZmEiLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSI6ICJTUCIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSI6ICJuYW8iLA0KICAgICJyZXNwb25zYXZlbF9mcmV0ZV9jdGUiOiAiZGVzdGluYXRhcmlvIiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhIjogIlNDIiwNCiAgICAiTUxPQ211bmljaXBpb19ub21lX19tdW5pY2lwaW9fb3JpZ2VtX2RhX2NhcmdhIjogIkpPSU5WSUxMRSIsDQogICAgIlVGX09SSUdFTSI6ICJTQyIsDQogICAgIk1VTklDSVBJT19PUklHRU0iOiAiSk9JTlZJTExFIiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fdWZfZGVzdGlub19kYV9jYXJnYSI6ICJTUCIsDQogICAgIk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EiOiAiQ09USUEiLA0KICAgICJVRl9ERVNUSU5PIjogIlNQIiwNCiAgICAiTVVOSUNJUElPX0RFU1RJTk8iOiAiQ09USUEiLA0KICAgICJMRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkIjogImJjMmEwODE2LTkzN2YtZTJjZC0xY2U1LThmMDA5ZDVhM2E5OSIsDQogICAgIkxFU1RBU0Zub21lX2VzdGFiZWxlY2ltZW5vdF9fdW5pZGFkZV9kZV9lbWlzc2FvIjogIlByZXN0ZXggU8OjbyBQYXVsbyIsDQogICAgImpzRGF0YSI6IHsNCiAgICAgICAgIkNsaWVudGVSZXRpcmEiOiAiMCIsDQogICAgICAgICJORkVzIjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJWYWxvck5vdGFGaXNjYWwiOiAiNTAxMzguMjkiDQogICAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgICJRdWFudGlkYWRlc0NhcmdhIjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJUaXBvTWVkaWRhIjogIkNhaXhhcyIsDQogICAgICAgICAgICAgICAgIlVuaWRhZGVNZWRpZGEiOiAiVU5JREFERSIsDQogICAgICAgICAgICAgICAgIlF1YW50aWRhZGVDYXJnYSI6IDINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIlRpcG9NZWRpZGEiOiAiUGVzbyBDdWJhZG8iLA0KICAgICAgICAgICAgICAgICJVbmlkYWRlTWVkaWRhIjogIktHIiwNCiAgICAgICAgICAgICAgICAiUXVhbnRpZGFkZUNhcmdhIjogMTcNCiAgICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgIk1vZGFsaWRhZGVUcmFuc3BvcnRlIjogIk11bHRpbW9kYWwiLA0KICAgICAgICAiVGlwb1NlcnZpY28iOiAiWFAiLA0KICAgICAgICAiVmFsb3JGcmV0ZSI6IDEwMCwNCiAgICAgICAgIkNOUEpSZW1ldGVudGUiOiAiNDYzMjM3NTQwMDE4MjEiLA0KICAgICAgICAiQ05QSkRlc3RpbmF0YXJpbyI6ICI0NjMyMzc1NDAwMDE4MyIsDQogICAgICAgICJhc3NpZCI6ICIxNmMxN2QyOC1kMDQ1LTQ1MDEtODY1ZS0zMDlhM2Y5NWUyODkiLA0KICAgICAgICAidXNyaWQiOiAiYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCiAgICAgICAgIlBvcmNlbnRhZ2VtQWRWYWxvcmVtIjogIiINCiAgICB9LA0KICAgICJhc3NfaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAiYXNzaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAiZmVkaWQiOiAiZWUwMzQ1MTQtM2YyZi00YWQ1LWExMjYtN2NjOWY3NzZjZDBiIiwNCiAgICAiZmR0aWQiOiAiZGI2YjRhYzUtYzYwYi00YjkwLWEwNjQtYjQyZDcxYmNlY2JiIiwNCiAgICAidXNyaWQiOiAiYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCiAgICAiZW1haWwiOiAicHJlc3RleEBob21vbC5jb20iLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJvbmVyZ3lfanNfY3R4Ijogew0KICAgICAgICAiYXNzaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAgICAgImZlZGlkIjogImVlMDM0NTE0LTNmMmYtNGFkNS1hMTI2LTdjYzlmNzc2Y2QwYiIsDQogICAgICAgICJmZHRpZCI6ICJkYjZiNGFjNS1jNjBiLTRiOTAtYTA2NC1iNDJkNzFiY2VjYmIiLA0KICAgICAgICAidXNyaWQiOiAiYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCiAgICAgICAgImluc2VydER0IjogIjIwMjItMDktMjFUMTc6MTk6NDEuMjIxMDg0NSIsDQogICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTA5LTIxVDE3OjE5OjQxLjIyMTA4NDUiLA0KICAgICAgICAiY3VyX3VzZXJpZCI6ICJiZjliNDU5ZS02ZmNlLTRmNmItODQ1OS0xNmIxYjMxYWY2NGIiLA0KICAgICAgICAiZW1haWwiOiAicHJlc3RleEBob21vbC5jb20iLA0KICAgICAgICAidXNlcl9uYW1lIjogInByZXN0ZXhAaG9tb2wuY29tIiwNCiAgICAgICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICAgICAicHJhaWQiOiAiY2VkOTQwNjEtNjQyNi00MWVmLWExYTMtZDA1ZWYxYjI4NDVjIiwNCiAgICAgICAgInBjdmlkIjogIjE3ZThjOTU1LTk5NjAtNGEwYy1iNWM4LTA1MTEzMzFiOTdjZiIsDQogICAgICAgICJwcmNpZCI6ICI4ZGZjOGU4MS04NDZjLWYwZGItMjU5MC1jYjFkMzgzNTc4ZGYiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAidGltZXpvbmVfdmFsdWUiOiAiLTAzOjAwIiwNCiAgICAgICAgInB1Yk51Ykhvb2siOiBudWxsDQogICAgfQ0KfQ0KaW5pdEJlZm9yZShKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(CTE) - Recebimento.js", "isDirectory": false, "__KEY__": "1098b886-cbd5-0209-255d-8f4877909e9a", "size": 148636, "dateModified": "2022-07-15T16:29:11.000Z", "content": "Y29uc3Qgew0KICAgIEpTRE9NDQp9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsNCiAgICB3aW5kb3cNCn0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsNCiAgICBkYXRlDQp9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsNCiAgICB0eXBlDQp9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsNCiAgICBmb3JtYXREYXRlDQp9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICB0cnkgew0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSkpOw0KICAgIH0gY2F0Y2ggew0KICAgICAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X3VwZGF0ZW1hbnkoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kub25lcmd5X3NhdmUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRtYWlsKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LnNlbmRtYWlsKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBpbmNyZW1lbnQoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuaW5jcmVtZW50KGFyZ3MpOw0KfQ0KDQpjbGFzcyBVdGlscyB7DQogICAgR2V0VXNlckR0Tm93KGZvcm1hdCkgew0KICAgICAgICBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUoKTsNCiAgICAgICAgbGV0IGFubyA9IGRhdGFBdHVhbC5nZXRGdWxsWWVhcigpOw0KICAgICAgICBsZXQgbWVzID0gKChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgICAgICBsZXQgZGlhID0gKGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIHJldHVybiBgJHthbm99LSR7bWVzfS0ke2RpYX0gMDA6MDA6MDBgDQogICAgfQ0KfQ0KbGV0IHV0aWxzID0gbmV3IFV0aWxzKCk7DQoNCg0KLy8gSU5JQ0lPICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQp2YXIgdGVtcGxhdGVpZEVtcHJlc2EgPSAiYWY2NmZiMmQtOTYwZS00ZTFiLTlhNjYtNDQ0Y2RhZDY0ZjYzIjsNCnZhciB0ZW1wbGF0ZWlkZW5kZXJlY29lbXByZXNhID0gIjhkZTg4NjkyLTA4MGYtNDRmZS05ZjBjLTI5YzhlYTUzN2Y0ZiI7DQp2YXIgdGVtcGxhdGVwcm9kdXRvcHJlZG9taW5hbnRlID0gImE1ZThkYTRlLWI2MmQtNDljZi1hY2NhLWE3N2UzMzE4N2M3NSI7DQp2YXIgdGVtcGxhdGVvdXRyYXNjYXJhY3RlcmlzdGFzY2FyZ2EgPSAiNTc3ZmY5NDYtYzYwYS00OGIwLWI1OWQtOTJiNmZkYTI2ZGU0IjsNCnZhciB0ZW1wbGF0ZXF0ZGVjYXJnYXMgPSAiMzNkOWNjODgtOTkyYS00NGQwLWI2NDQtZWUxYmY3ZWZmYmZiIjsNCnZhciB0ZW1wbGF0ZU5GZSA9ICJjNDI1MDU0NS05N2RhLTRiNjItYjZjOC05MDM3NDkxOGM4MDEiOw0KdmFyIHRlbXBsYXRlb2JzY29udHJpYnVpbnRlID0gIjdmNTJmOTUwLTZkZDUtNDdkNC05Njk2LTA0MGZjOTQ4OGZmNiI7DQp2YXIgdGVtcGxhdGVvYnNmaXNjbyA9ICI2NDRlNjg3My0zOGYyLTQ2NWQtODQwOC1kNzQ5N2Q2YzIzM2MiOw0KdmFyIHRlbXBsYXRlYXV0b3JpemFkb3MgPSAiMzI3NjI2ZTgtMjU5Yy00ZGE2LThiMTMtZGRmZTM4ODJmMTBkIjsNCnZhciB0ZW1wbGF0ZWNmb3AgPSAiYjQxNWY3YjEtYmU3Ni00NmY1LWE4YmYtNDU3NzI0NDJiNDlhIjsNCnZhciB0ZW1wbGF0ZUN0ZU5hb0VtaXRpZG8gPSAiYmUzMDIxMjgtNDRkZS00MmU3LTg3NGQtNzdiMDg2N2ZiNTU3IjsNCnZhciB0ZW1wbGF0ZUlkVGlwb01lZGlkYSA9ICIwNzNjYTkyMC1mMjBiLTQyNjgtYTgzMy1kYTZhZDhkNGU5YmQiOw0KdmFyIFRBQkVMQV9ERV9QUkVDTyA9ICIzY2ViOTNiMi0yNDQyLTRmYzctYjg2Zi1iYWQ1NTEwOWUxOWYiOw0KdmFyIElURU5TX1RBQkVMQV9QUkVDTyA9ICI0NTcwOWEwMi0wMzg0LTRhM2QtYmNjMC02Mjg1YjAwYmIyNDciOw0KdmFyIFZBTE9SRVNfSVRFTlNfVEFCRUxBX1BSRUNPID0gIjIyNTU1YjE4LTAyOGYtNDQ2Yi04M2M5LWMwOWIwMmQxNjMwMyI7DQp2YXIgdGVtcGxhdGVFbXByZXNhVGFiZWxhUHJlY28gPSAnOTgxZDkyZmEtMTE0Yi00YWUzLTliMTAtNDljMTExMTI5MmY3JzsNCnZhciBEQURPU19QQUlTX0VTVEFETyA9ICJmMWNjZjFmOC1iYmE0LTRmZjMtYTVlMi01OGVmMmFhNDI1N2EiOw0KdmFyIERBRE9TX1BBSVMgPSAiYTlkOGNhNjMtM2NmZC00NDQ1LTkxY2ItMTQ5MDg3NDlkOGEyIjsNCnZhciBNVU5JQ0lQSU9TID0gIjFjYWE3NGU3LTdiNGQtNDY3Yi1iN2Q3LTczNTRlNjk1MTU0OSI7DQp2YXIgVEFCRUxBX0lDTVMgPSAiMzc3ZDcwMTItYzIwYi00ZmVlLWIzMTYtYTE4ZDJlY2RhNWEzIjsNCnZhciB0ZW1wbGF0ZUxvY2FsaWRhZGVzID0gJzE5ZTBhODNmLTQzMWMtNDVjZC1hZGRlLTg2OGVmYzJhZGQzZSc7DQp2YXIgdGVtcGxhdGVMb2NhaXMgPSAnYzYwYjA4NjItMzcwZS00NTBkLTg1OGYtMjhlMjJlOTM4YmFjJzsNCnZhciBNdW5pY2lwaW9zSUQgPSAiMWNhYTc0ZTctN2I0ZC00NjdiLWI3ZDctNzM1NGU2OTUxNTQ5IjsNCnZhciBlc3RhYmVsZWNpbWVudG9JRCA9ICcyMzhhYmQ4ZC1jZTFiLTRkY2UtODBjZi1iYzdkZWU5MmY4Y2YnOw0KdmFyIHRpcG9TZXJ2aWNvSUQgPSAiNDQ4N2Y3YTktMzA4NS00YWViLWI0Y2MtMWNlZmRkZDVmY2ExIg0KdmFyIFRBWEFTSUQgPSAnZTJiZGNmZTUtMTU4Ny00ZWY0LWI3NmItYjdiMGVmM2IwNGQyJzsNCnZhciBzZWd1cm9JRCA9ICczYzYwNmRlMi1hZjE4LTQ1YWQtYjY4NC03YzVlZDU3OTU3MGUnOw0KdmFyIGRpRGF0YUdsb2JhbCA9IFtdOw0KDQoNCmZ1bmN0aW9uIENoZWNrU3RyaW5nTnVsbChzdHJWYWx1ZSkgew0KICAgIGlmIChzdHJWYWx1ZSkgew0KICAgICAgICByZXR1cm4gc3RyVmFsdWU7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICcnOw0KICAgIH0NCn0NCg0KdmFyIHRvbWFkb3JDYWNoZTsNCg0KZnVuY3Rpb24gV2ViSG9vayhkYXRhKSB7DQogICAgbGV0IFdlYkhvb2sgPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJXZWJIb29rIik7DQogICAgbGV0IFdlYkhvb2tfU2l0ZSA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoIldlYkhvb2tfU2l0ZSIpOw0KICAgIGlmIChXZWJIb29rID09ICIxIikgew0KICAgICAgICBhamF4KHsNCiAgICAgICAgICAgIHVybDogV2ViSG9va19TaXRlLA0KICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICBmZWRpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkLA0KICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcCkgew0KICAgICAgICAgICAgICAgIHZhciByZSA9IEpTT04ucGFyc2UocmVzcCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgiZXJyIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgLy90cnkgew0KICAgIHZhciBqc0RhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KICAgIC8vV2ViSG9vayhqc0RhdGEpOw0KDQogICAganNEYXRhLmxvZ19jdGUgPSAiIjsNCiAgICBsZXQgbG9nUmVjZWJpbWVudG8gPSBbXTsNCiAgICB2YXIgb2JqTnVtU2VyaWVDVGUgPSBbXTsNCg0KICAgIHZhciBJZFByb2R1dG9QcmVkb21pbmFudGUgPSAiIjsNCiAgICB2YXIgSWRPdXRyYXNDYXJhY3RlcmlzdGljYXNDYXJnYSA9ICIiOw0KICAgIHZhciBsb2dPYmogPSBDcmVhdGVMb2dPYmplY3QoanNEYXRhLCAiIik7DQoNCiAgICAvL1Byb2R1dG8gUHJlZG9taW5hbnRlDQogICAgdmFyIEZpbHRyb3Byb2R1dG9wcmVkb21pbmFudGUgPSBnZXJhckZpbHRybygnZGVzY3JpY2FvX2RvX3Byb2R1dG8nLCBqc0RhdGEuUHJvZHV0b1ByZWRvbWluYW50ZSk7DQogICAgdmFyIG9ianByb2R1dG9wcmVkb21pbmFudGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlcHJvZHV0b3ByZWRvbWluYW50ZSwganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIEZpbHRyb3Byb2R1dG9wcmVkb21pbmFudGUpOw0KICAgIGlmIChvYmpwcm9kdXRvcHJlZG9taW5hbnRlICE9PSBudWxsICYmIG9ianByb2R1dG9wcmVkb21pbmFudGUubGVuZ3RoID4gMCkgew0KICAgICAgICBJZFByb2R1dG9QcmVkb21pbmFudGUgPSBvYmpwcm9kdXRvcHJlZG9taW5hbnRlWzBdLklEOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGxvZ1JlY2ViaW1lbnRvLnB1c2goYEVSUk8gUmVjZWJpbWVudG86IE7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgUHJvZHV0byBQcmVkb21pbmFudGUgJHtqc0RhdGEuUHJvZHV0b1ByZWRvbWluYW50ZX1cbmApOw0KICAgIH0NCg0KICAgIC8vT3V0cmFzIENhcmFjdGVyw61zdGljYXMgZGEgQ2FyZ2ENCiAgICBsZXQgb3V0cmFzQ2FyYWN0ZXJpc3RpY2FzQ2FyZ2FEZXNjID0gJyc7DQogICAgbGV0IG91dHJhc0NhcmFjdGVyaXN0aWNhc0NhcmdhSWQgPSAnJzsNCiAgICB2YXIgb2Jqb291dHJhc2NhcmFjY2FyZ2EgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlb3V0cmFzY2FyYWN0ZXJpc3Rhc2NhcmdhLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgbnVsbCk7DQogICAgZm9yIChsZXQgcyBpbiBvYmpvb3V0cmFzY2FyYWNjYXJnYSkgew0KICAgICAgICBpZiAob2Jqb291dHJhc2NhcmFjY2FyZ2Fbc10uVXJsSnNvbkNvbnRleHQuaGFzT3duUHJvcGVydHkoIlNFUmRlc2NyaWNhb19zZXJfX3RpcG9fZGVfc2VydmljbyIpKSB7DQogICAgICAgICAgICBpZiAob2Jqb291dHJhc2NhcmFjY2FyZ2Fbc10uVXJsSnNvbkNvbnRleHQuU0VSZGVzY3JpY2FvX3Nlcl9fdGlwb19kZV9zZXJ2aWNvLmluY2x1ZGVzKGpzRGF0YS5UaXBvU2VydmljbykpIHsNCiAgICAgICAgICAgICAgICBvdXRyYXNDYXJhY3RlcmlzdGljYXNDYXJnYURlc2MgPSBvYmpvb3V0cmFzY2FyYWNjYXJnYVtzXS5VcmxKc29uQ29udGV4dC5jYXJhY3RlcmlzdGljYV9kYV9jYXJnYTsNCiAgICAgICAgICAgICAgICBvdXRyYXNDYXJhY3RlcmlzdGljYXNDYXJnYUlkID0gb2Jqb291dHJhc2NhcmFjY2FyZ2Fbc10uSUQ7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1JlbWV0ZW50ZQ0KICAgIGxldCBSZW1ldGVudGVJbnRlcm5hY2lvbmFsID0ganNEYXRhLmhhc093blByb3BlcnR5KCdUYXhJRFJlbWV0ZW50ZScpICYmIGpzRGF0YS5UYXhJRFJlbWV0ZW50ZSAhPSAnJzsNCg0KICAgIHZhciBGaWx0cm9FbXByZXNhUmVtZXRlbnRlOw0KICAgIGlmIChSZW1ldGVudGVJbnRlcm5hY2lvbmFsKSB7DQogICAgICAgIEZpbHRyb0VtcHJlc2FSZW1ldGVudGUgPSBnZXJhckZpbHRybygnZW1wcmVzYV90YXhfaWQnLCBqc0RhdGEuVGF4SWRSZW1ldGVudGUpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIEZpbHRyb0VtcHJlc2FSZW1ldGVudGUgPSBnZXJhckZpbHRybygnY25wal9lbXByZXNhJywganNEYXRhLkNOUEpSZW1ldGVudGUpOw0KICAgIH0NCg0KICAgIGxldCBvYmpFbXByZXNhUmVtZXRlbnRlID0gW107DQogICAgb2JqRW1wcmVzYVJlbWV0ZW50ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZEVtcHJlc2EsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBGaWx0cm9FbXByZXNhUmVtZXRlbnRlKTsNCiAgICB2YXIgUmVnaXN0cm9SZW1ldGVudGUgPSAiIjsNCiAgICB2YXIgb2JqRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlID0gW107DQogICAgdmFyIFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlID0gIiI7DQogICAgaWYgKG9iakVtcHJlc2FSZW1ldGVudGUgIT09IG51bGwgJiYgb2JqRW1wcmVzYVJlbWV0ZW50ZS5sZW5ndGggPiAwKSB7DQogICAgICAgIHZhciBGaWx0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUgPSBnZXJhckZpbHRybygnSURfT05FX1JFRicsIG9iakVtcHJlc2FSZW1ldGVudGVbMF0uSUQpOw0KICAgICAgICBSZWdpc3Ryb1JlbWV0ZW50ZSA9IG9iakVtcHJlc2FSZW1ldGVudGVbMF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgIG9iakVuZGVyZWNvRW1wcmVzYVJlbWV0ZW50ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZGVuZGVyZWNvZW1wcmVzYSwganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIEZpbHRyb0VuZGVyZWNvRW1wcmVzYVJlbWV0ZW50ZSk7DQogICAgICAgIGlmIChvYmpFbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUgIT09IG51bGwgJiYgb2JqRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlID0gb2JqRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlWzBdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUuSUQgPSBvYmpFbmRlcmVjb0VtcHJlc2FSZW1ldGVudGVbMF0uSUQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsb2dSZWNlYmltZW50by5wdXNoKGBFUlJPIFJlY2ViaW1lbnRvOiBOw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyIGVuZGVyZcOnbyBkbyByZW1ldGVudGUgY29tIENOUEogJHtqc0RhdGEuQ05QSlJlbWV0ZW50ZX1cbmApOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgbG9nUmVjZWJpbWVudG8ucHVzaChgRVJSTyBSZWNlYmltZW50bzogTsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhciByZW1ldGVudGUgY29tIENOUEogJHtqc0RhdGEuQ05QSlJlbWV0ZW50ZX1gKTsNCiAgICB9DQoNCiAgICAvL0Rlc3RpbmF0w6FyaW8NCiAgICBsZXQgRGVzdGluYXRhcmlvaW50ZXJuYWNpb25hbCA9IGpzRGF0YS5oYXNPd25Qcm9wZXJ0eSgnVGF4SUREZXN0aW5hdGFyaW8nKSAmJiBqc0RhdGEuVGF4SUREZXN0aW5hdGFyaW8gIT0gJyc7DQoNCiAgICB2YXIgRmlsdHJvRW1wcmVzYURlc3RpbmF0YXJpbzsNCiAgICBpZiAoRGVzdGluYXRhcmlvaW50ZXJuYWNpb25hbCkgew0KICAgICAgICBGaWx0cm9FbXByZXNhRGVzdGluYXRhcmlvID0gZ2VyYXJGaWx0cm8oJ2VtcHJlc2FfdGF4X2lkJywganNEYXRhLlRheElERGVzdGluYXRhcmlvKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBGaWx0cm9FbXByZXNhRGVzdGluYXRhcmlvID0gZ2VyYXJGaWx0cm8oJ2NucGpfZW1wcmVzYScsIGpzRGF0YS5DTlBKRGVzdGluYXRhcmlvKTsNCiAgICB9DQoNCiAgICBsZXQgb2JqRW1wcmVzYURlc3RpbmF0YXJpbyA9IFtdOw0KICAgIG9iakVtcHJlc2FEZXN0aW5hdGFyaW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWRFbXByZXNhLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgRmlsdHJvRW1wcmVzYURlc3RpbmF0YXJpbyk7DQogICAgdmFyIFJlZ2lzdHJvRGVzdGluYXRhcmlvID0gIiI7DQogICAgdmFyIFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvID0gIiI7DQogICAgaWYgKG9iakVtcHJlc2FEZXN0aW5hdGFyaW8gIT09IG51bGwgJiYgb2JqRW1wcmVzYURlc3RpbmF0YXJpby5sZW5ndGggPiAwKSB7DQogICAgICAgIHZhciBGaWx0cm9FbmRlcmVjb0VtcHJlc2FEZXN0aW5hdGFyaW8gPSBnZXJhckZpbHRybygnSURfT05FX1JFRicsIG9iakVtcHJlc2FEZXN0aW5hdGFyaW9bMF0uSUQpOw0KICAgICAgICBmb3IgKHZhciBvZWQgaW4gb2JqRW1wcmVzYURlc3RpbmF0YXJpbykgew0KICAgICAgICAgICAgUmVnaXN0cm9EZXN0aW5hdGFyaW8gPSBvYmpFbXByZXNhRGVzdGluYXRhcmlvWzBdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgdmFyIG9iakVuZGVyZWNvRW1wcmVzYURlc3RpbmF0YXJpbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZGVuZGVyZWNvZW1wcmVzYSwganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIEZpbHRyb0VuZGVyZWNvRW1wcmVzYURlc3RpbmF0YXJpbyk7DQogICAgICAgICAgICBpZiAob2JqRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvICE9PSBudWxsICYmIG9iakVuZGVyZWNvRW1wcmVzYURlc3RpbmF0YXJpby5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FEZXN0aW5hdGFyaW8gPSBvYmpFbmRlcmVjb0VtcHJlc2FEZXN0aW5hdGFyaW9bMF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FEZXN0aW5hdGFyaW8uSUQgPSBvYmpFbmRlcmVjb0VtcHJlc2FEZXN0aW5hdGFyaW9bMF0uSUQ7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxvZ1JlY2ViaW1lbnRvLnB1c2goYEVSUk8gUmVjZWJpbWVudG86IE7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgZW5kZXJlw6dvIGRvIHJlbWV0ZW50ZSBjb20gQ05QSiAke2pzRGF0YS5DTlBKRGVzdGluYXRhcmlvfVxuYCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBsb2dSZWNlYmltZW50by5wdXNoKGBFUlJPIFJlY2ViaW1lbnRvOiBOw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyIGRlc3RpbmF0w6FyaW8gY29tIENOUEogJHtqc0RhdGEuQ05QSkRlc3RpbmF0YXJpb31cbmApOw0KICAgIH0NCg0KICAgIC8vVG9tYWRvcg0KICAgIHZhciBvYmpFbXByZXNhVG9tYWRvciA9IFtdOw0KICAgIHZhciBGaWx0cm9FbXByZXNhVG9tYWRvcjsNCiAgICBsZXQgbWVuc2FnZW1FcnJvVG9tYWRvciA9ICcnOw0KICAgIGlmIChqc0RhdGEuUmVzcG9uc2F2ZWxGcmV0ZSA9PT0gIk91dHJvcyIpIHsNCiAgICAgICAgbGV0IG91dHJvc0ludGVybmFjaW9uYWwgPSBqc0RhdGEuaGFzT3duUHJvcGVydHkoJ1RheElET3V0cm9zJykgJiYganNEYXRhLlRheElET3V0cm9zICE9ICcnOw0KICAgICAgICBpZiAob3V0cm9zSW50ZXJuYWNpb25hbCkgew0KICAgICAgICAgICAgRmlsdHJvRW1wcmVzYVRvbWFkb3IgPSBnZXJhckZpbHRybygiZW1wcmVzYV90YXhfaWQiLCBqc0RhdGEuVGF4SURPdXRyb3MpOw0KICAgICAgICAgICAgbWVuc2FnZW1FcnJvVG9tYWRvciA9IGBFUlJPIFJlY2ViaW1lbnRvOiBOw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyIHRvbWFkb3IgY29tIFRheElEICR7anNEYXRhLlRheElET3V0cm9zfVxuYDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIEZpbHRyb0VtcHJlc2FUb21hZG9yID0gZ2VyYXJGaWx0cm8oImNucGpfZW1wcmVzYSIsIGpzRGF0YS5DTlBKT3V0cm9zKTsNCiAgICAgICAgICAgIG1lbnNhZ2VtRXJyb1RvbWFkb3IgPSBgRVJSTyBSZWNlYmltZW50bzogTsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhciB0b21hZG9yIGNvbSBDTlBKICR7anNEYXRhLkNOUEpPdXRyb3N9XG5gOw0KICAgICAgICB9DQogICAgfSBlbHNlIGlmIChqc0RhdGEuUmVzcG9uc2F2ZWxGcmV0ZSA9PT0gIkRlc3RpbmF0YXJpbyIpIHsNCiAgICAgICAgRmlsdHJvRW1wcmVzYVRvbWFkb3IgPSBGaWx0cm9FbXByZXNhRGVzdGluYXRhcmlvOw0KICAgICAgICBtZW5zYWdlbUVycm9Ub21hZG9yID0gYEVSUk8gUmVjZWJpbWVudG86IE7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgdG9tYWRvciBjb20gQ05QSiAke2pzRGF0YS5DTlBKRGVzdGluYXRhcmlvfVxuYDsNCiAgICB9IGVsc2UgaWYgKGpzRGF0YS5SZXNwb25zYXZlbEZyZXRlID09PSAiUmVtZXRlbnRlIikgew0KICAgICAgICBGaWx0cm9FbXByZXNhVG9tYWRvciA9IEZpbHRyb0VtcHJlc2FSZW1ldGVudGU7DQogICAgICAgIG1lbnNhZ2VtRXJyb1RvbWFkb3IgPSBgRVJSTyBSZWNlYmltZW50bzogTsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhciB0b21hZG9yIGNvbSBDTlBKICR7anNEYXRhLkNOUEpSZW1ldGVudGV9XG5gOw0KICAgIH0NCiAgICBvYmpFbXByZXNhVG9tYWRvciA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZEVtcHJlc2EsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBGaWx0cm9FbXByZXNhVG9tYWRvcik7DQogICAgdG9tYWRvckNhY2hlID0gb2JqRW1wcmVzYVRvbWFkb3I7DQogICAgdmFyIFJlZ2lzdHJvVG9tYWRvciA9ICIiOw0KICAgIHZhciBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IgPSAiIjsNCiAgICBpZiAob2JqRW1wcmVzYVRvbWFkb3IgIT09IG51bGwgJiYgb2JqRW1wcmVzYVRvbWFkb3IubGVuZ3RoID4gMCkgew0KICAgICAgICB2YXIgRmlsdHJvRW5kZXJlY29FbXByZXNhVG9tYWRvciA9IGdlcmFyRmlsdHJvKCdJRF9PTkVfUkVGJywgb2JqRW1wcmVzYVRvbWFkb3JbMF0uSUQpOw0KICAgICAgICBmb3IgKHZhciBvZXQgaW4gb2JqRW1wcmVzYVRvbWFkb3IpIHsNCiAgICAgICAgICAgIFJlZ2lzdHJvVG9tYWRvciA9IG9iakVtcHJlc2FUb21hZG9yW29ldF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICB2YXIgb2JqRW5kZXJlY29FbXByZXNhVG9tYWRvciA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZGVuZGVyZWNvZW1wcmVzYSwganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIEZpbHRyb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IpOw0KICAgICAgICAgICAgaWYgKG9iakVuZGVyZWNvRW1wcmVzYVRvbWFkb3IgIT09IG51bGwgJiYgb2JqRW5kZXJlY29FbXByZXNhVG9tYWRvci5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FUb21hZG9yID0gb2JqRW5kZXJlY29FbXByZXNhVG9tYWRvclswXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IuSUQgPSBvYmpFbmRlcmVjb0VtcHJlc2FUb21hZG9yWzBdLklEOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBsb2dSZWNlYmltZW50by5wdXNoKGBFUlJPIFJlY2ViaW1lbnRvOiBOw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyIGVuZGVyZcOnbyBkbyB0b21hZG9yXG5gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGxvZ1JlY2ViaW1lbnRvLnB1c2gobWVuc2FnZW1FcnJvVG9tYWRvcik7DQogICAgfQ0KDQogICAgbGV0IFJlY2ViaW1lbnRvVmFsaWRvID0gKA0KICAgICAgICBvYmpFbXByZXNhVG9tYWRvci5sZW5ndGggPiAwICYmDQogICAgICAgIG9iakVtcHJlc2FSZW1ldGVudGUubGVuZ3RoID4gMCAmJg0KICAgICAgICBvYmpFbXByZXNhRGVzdGluYXRhcmlvLmxlbmd0aCA+IDAgJiYNCiAgICAgICAgb2JqcHJvZHV0b3ByZWRvbWluYW50ZS5sZW5ndGggPiAwICYmDQogICAgICAgIG9iakVuZGVyZWNvRW1wcmVzYVJlbWV0ZW50ZS5sZW5ndGggPiAwICYmDQogICAgICAgIFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvICE9ICcnICYmDQogICAgICAgIFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhVG9tYWRvciAhPSAnJyk7DQoNCiAgICBpZiAoUmVjZWJpbWVudG9WYWxpZG8pIHsNCg0KICAgICAgICB2YXIgb2JqQ1RlTmFvRW1pdGlkbyA9IHt9Ow0KICAgICAgICAvL29iakNUZU5hb0VtaXRpZG8uanNvblJlY2ViaWRvID0ganNEYXRhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnN0YXR1c19jdGVfY3RlID0gIm5hb2VtaXRpZG8iOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnN0YXR1c19jdGVfY3RlX2Rlc2MgPSAiTsOjbyBFbWl0aWRvIjsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5tb2RhbGlkYWRlX3RyYW5zcG9ydGVfY3RlID0gcmV0aXJhQWNlbnRvcyhqc0RhdGEuTW9kYWxpZGFkZVRyYW5zcG9ydGUudG9Mb3dlckNhc2UoKSk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZV9kZXNjID0ganNEYXRhLk1vZGFsaWRhZGVUcmFuc3BvcnRlOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID0gIm5vcm1hbCI7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGVfZGVzYyA9ICJOb3JtYWwiOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnRpcG9fc2Vydmljb19jdGVfY3RlID0gIjEiOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnRpcG9fc2Vydmljb19jdGVfY3RlX2Rlc2MgPSAiTm9ybWFsIjsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5tb2RhbGlkYWRlX2N0ZSA9ICI1NyI7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubW9kYWxpZGFkZV9jdGVfZGVzYyA9ICI1NyAtIFRyYW5zcG9ydGUgZGUgQ2FyZ2EiOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmlkZW50aWZpY2Fkb3JfZ2xvYmFsaXphZG9fY3RlID0gIm5hbyI7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaWRlbnRpZmljYWRvcl9nbG9iYWxpemFkb19jdGVfZGVzYyA9ICJOw6NvIjsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5yZWNlYmVkb3JfcmV0aXJhX2N0ZSA9IGpzRGF0YS5DbGllbnRlUmV0aXJhID09ICcxJyA/ICdzaW0nIDogIm5hbyI7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ucmVjZWJlZG9yX3JldGlyYV9jdGVfZGVzYyA9IGpzRGF0YS5DbGllbnRlUmV0aXJhID09ICcxJyA/ICdTaW0nIDogIk7Do28iOw0KDQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ucmVjZWJlZG9yX3JldGlyYV9jdGVfUkVTVU1PID0ganNEYXRhLkNsaWVudGVSZXRpcmEgPT0gJzEnID8gJ3NpbScgOiAibmFvIjsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5yZWNlYmVkb3JfcmV0aXJhX2N0ZV9SRVNVTU9fZGVzYyA9IGpzRGF0YS5DbGllbnRlUmV0aXJhID09ICcxJyA/ICdTaW0nIDogIk7Do28iOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmRldGFsaGVzX3JldGlyYWRhX2N0ZSA9ICIiOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnJlc3BvbnNhdmVsX2ZyZXRlX2N0ZSA9IGpzRGF0YS5SZXNwb25zYXZlbEZyZXRlLnRvTG93ZXJDYXNlKCk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ucmVzcG9uc2F2ZWxfZnJldGVfY3RlX2Rlc2MgPSBqc0RhdGEuUmVzcG9uc2F2ZWxGcmV0ZTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5udW1lcm9fZG9fcGVkaWRvID0ganNEYXRhLmhhc093blByb3BlcnR5KCdOdW1lcm9EZVBlZGlkbycpID8ganNEYXRhLk51bWVyb0RlUGVkaWRvIDogJyc7DQoNCiAgICAgICAgbGV0IEZpbHRyb1RpcG9TZXJ2aWNvID0gZ2VyYXJGaWx0cm8oJ2Rlc2NyaWNhb19zZXInLCBqc0RhdGEuVGlwb1NlcnZpY28pOw0KICAgICAgICBsZXQgb2JqVGlwb1NlcnZpY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRpcG9TZXJ2aWNvSUQsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBGaWx0cm9UaXBvU2Vydmljbyk7DQogICAgICAgIGlmIChvYmpUaXBvU2Vydmljby5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlNFUmRlc2NyaWNhb19zZXJfX3RpcG9fZGVfc2VydmljbyA9IG9ialRpcG9TZXJ2aWNvWzBdLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb19zZXI7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlNFUnRpcG9fZGVfc2Vydmljb19pZCA9IG9ialRpcG9TZXJ2aWNvWzBdLklEDQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlNFUnRpcG9fZGVfc2VydmljbyA9IG9ialRpcG9TZXJ2aWNvWzBdLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb19zZXI7DQogICAgICAgIH0NCg0KICAgICAgICAvL09SSUdFTSBEQSBDQVJHQQ0KICAgICAgICB2YXIgUGFpc09yaWdlbTsNCiAgICAgICAgdmFyIFVmT3JpZ2VtOw0KICAgICAgICB2YXIgTXVuaWNpcGlvT3JpZ2VtOw0KDQogICAgICAgIGxldCBPcmlnZW1JbnRlcm5hY2lvbmFsID0ganNEYXRhLkNvZGlnb0lCR0VQYWlzT3JpZ2VtICE9ICcxMDU4JyA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICBsZXQgZmlsdHJvUGFpc09yaWdlbSA9IEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiAicGFpc19pYmdlIiwgVHlwZTogIk51bWVyaWMiLCBGaXhlZFR5cGU6ICJOdW1lcmljIiwgVmFsdWUxOiBqc0RhdGEuQ29kaWdvSUJHRVBhaXNPcmlnZW0gfV0pOw0KICAgICAgICBQYWlzT3JpZ2VtID0gYXdhaXQgZ2V0T25lcmd5SXRlbShEQURPU19QQUlTLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvUGFpc09yaWdlbSk7DQoNCiAgICAgICAgaWYgKE9yaWdlbUludGVybmFjaW9uYWwpIHsNCiAgICAgICAgICAgIGxldCBmaWx0cm9Fc3RhZG9JbnRlcm5hY2lvbmFsID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJlc3RhZG9fdWYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiAiRVgiIH0sDQogICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBQYWlzT3JpZ2VtWzBdLklEIH0NCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgVWZPcmlnZW0gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKERBRE9TX1BBSVNfRVNUQURPLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvRXN0YWRvSW50ZXJuYWNpb25hbCk7DQoNCiAgICAgICAgICAgIGxldCBmaWx0cm9NdW5pY2lwaW9JbnRlcm5hY2lvbmFsID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJlc3RhZG9fbm9tZSIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6ICJFWFRFUklPUiIgfSwNCiAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IFVmT3JpZ2VtWzBdLklEIH0NCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgTXVuaWNpcGlvT3JpZ2VtID0gYXdhaXQgZ2V0T25lcmd5SXRlbShNVU5JQ0lQSU9TLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvTXVuaWNpcGlvSW50ZXJuYWNpb25hbCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsZXQgZmlsdHJvTXVuaWNpcGlvTmFjaW9uYWwgPSBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogIm11bmljaXBpb19pYmdlIiwgVHlwZTogIk51bWVyaWMiLCBGaXhlZFR5cGU6ICJOdW1lcmljIiwgVmFsdWUxOiBqc0RhdGEuQ29kaWdvSUJHRU11bmljaXBpb09yaWdlbSB9XSk7DQogICAgICAgICAgICBNdW5pY2lwaW9PcmlnZW0gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKE1VTklDSVBJT1MsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9NdW5pY2lwaW9OYWNpb25hbCk7DQoNCiAgICAgICAgICAgIGxldCBmaWx0cm9Fc3RhZG9OYWNpb25hbCA9IEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiAiX2lkIiwgVHlwZTogIlN0cmluZyIsIEZpeGVkVHlwZTogIlN0cmluZyIsIFZhbHVlMTogTXVuaWNpcGlvT3JpZ2VtWzBdLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYgfV0pOw0KICAgICAgICAgICAgVWZPcmlnZW0gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKERBRE9TX1BBSVNfRVNUQURPLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvRXN0YWRvTmFjaW9uYWwpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKE11bmljaXBpb09yaWdlbS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlBBSVNfT1JJR0VNID0gUGFpc09yaWdlbVswXS5VcmxKc29uQ29udGV4dC5wYWlzX25vbWU7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlVGX09SSUdFTSA9IFVmT3JpZ2VtWzBdLlVybEpzb25Db250ZXh0LmVzdGFkb191ZjsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uTVVOSUNJUElPX09SSUdFTSA9IE11bmljaXBpb09yaWdlbVswXS5VcmxKc29uQ29udGV4dC5tdW5pY2lwaW9fbm9tZTsNCg0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DcGFpc19vcmlnZW1fY2FyZ2FfaWQgPSBQYWlzT3JpZ2VtWzBdLklEDQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0NwYWlzX25vbWVfX3BhaXNfb3JpZ2VtX2NhcmdhID0gUGFpc09yaWdlbVswXS5VcmxKc29uQ29udGV4dC5wYWlzX25vbWU7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0NwYWlzX25vbWVfX29yaWdlbV9wYWlzX25vbWUgPSBQYWlzT3JpZ2VtWzBdLlVybEpzb25Db250ZXh0LnBhaXNfbm9tZTsNCg0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DdWZfb3JpZ2VtX2RhX2NhcmdhX2lkID0gVWZPcmlnZW1bMF0uSUQ7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0Nlc3RhZG9fdWZfX3VmX29yaWdlbV9kYV9jYXJnYSA9IFVmT3JpZ2VtWzBdLlVybEpzb25Db250ZXh0LmVzdGFkb191ZjsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uTUxPQ2VzdGFkb191ZiA9IFVmT3JpZ2VtWzBdLlVybEpzb25Db250ZXh0LmVzdGFkb191ZjsNCg0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2EgPSBNdW5pY2lwaW9PcmlnZW1bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX25vbWU7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0NtdW5pY2lwaW9fbm9tZV9fb3JpZ2VtX211bmljaXBpb19ub21lID0gTXVuaWNpcGlvT3JpZ2VtWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19ub21lOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYV9pZCA9IE11bmljaXBpb09yaWdlbVswXS5JRDsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UgPSBNdW5pY2lwaW9PcmlnZW1bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX2liZ2U7DQogICAgICAgIH0NCg0KICAgICAgICAvL0RFU1RJTk8gREEgQ0FSR0ENCiAgICAgICAgdmFyIFBhaXNEZXN0aW5vOw0KICAgICAgICB2YXIgVWZEZXN0aW5vOw0KICAgICAgICB2YXIgTXVuaWNpcGlvRGVzdGlubzsNCg0KICAgICAgICBsZXQgRGVzdGlub0ludGVybmFjaW9uYWwgPSBqc0RhdGEuQ29kaWdvSUJHRVBhaXNEZXN0aW5vICE9ICcxMDU4JyA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICBsZXQgZmlsdHJvUGFpc0Rlc3Rpbm8gPSBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogInBhaXNfaWJnZSIsIFR5cGU6ICJOdW1lcmljIiwgRml4ZWRUeXBlOiAiTnVtZXJpYyIsIFZhbHVlMToganNEYXRhLkNvZGlnb0lCR0VQYWlzRGVzdGlubyB9XSk7DQogICAgICAgIFBhaXNEZXN0aW5vID0gYXdhaXQgZ2V0T25lcmd5SXRlbShEQURPU19QQUlTLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvUGFpc0Rlc3Rpbm8pOw0KDQogICAgICAgIGlmIChEZXN0aW5vSW50ZXJuYWNpb25hbCkgew0KICAgICAgICAgICAgbGV0IGZpbHRyb0VzdGFkb0ludGVybmFjaW9uYWwgPSBKU09OLnN0cmluZ2lmeShbDQogICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogImVzdGFkb191ZiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6ICJFWCIgfSwNCiAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IFBhaXNEZXN0aW5vWzBdLklEIH0NCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgVWZEZXN0aW5vID0gYXdhaXQgZ2V0T25lcmd5SXRlbShEQURPU19QQUlTX0VTVEFETywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb0VzdGFkb0ludGVybmFjaW9uYWwpOw0KDQogICAgICAgICAgICBsZXQgZmlsdHJvTXVuaWNpcGlvSW50ZXJuYWNpb25hbCA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiZXN0YWRvX25vbWUiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiAiRVhURVJJT1IiIH0sDQogICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBVZkRlc3Rpbm9bMF0uSUQgfQ0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICBNdW5pY2lwaW9EZXN0aW5vID0gYXdhaXQgZ2V0T25lcmd5SXRlbShNVU5JQ0lQSU9TLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvTXVuaWNpcGlvSW50ZXJuYWNpb25hbCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsZXQgZmlsdHJvTXVuaWNpcGlvTmFjaW9uYWwgPSBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogIm11bmljaXBpb19pYmdlIiwgVHlwZTogIk51bWVyaWMiLCBGaXhlZFR5cGU6ICJOdW1lcmljIiwgVmFsdWUxOiBqc0RhdGEuQ29kaWdvSUJHRU11bmljaXBpb0Rlc3Rpbm8gfV0pOw0KICAgICAgICAgICAgTXVuaWNpcGlvRGVzdGlubyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oTVVOSUNJUElPUywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb011bmljaXBpb05hY2lvbmFsKTsNCg0KICAgICAgICAgICAgbGV0IGZpbHRyb0VzdGFkb05hY2lvbmFsID0gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAiU3RyaW5nIiwgRml4ZWRUeXBlOiAiU3RyaW5nIiwgVmFsdWUxOiBNdW5pY2lwaW9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYgfV0pOw0KICAgICAgICAgICAgVWZEZXN0aW5vID0gYXdhaXQgZ2V0T25lcmd5SXRlbShEQURPU19QQUlTX0VTVEFETywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb0VzdGFkb05hY2lvbmFsKTsNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgaWYgKE11bmljaXBpb0Rlc3Rpbm8ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5QQUlTX0RFU1RJTk8gPSBQYWlzRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5wYWlzX25vbWU7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8gPSBVZkRlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NVU5JQ0lQSU9fREVTVElOTyA9IE11bmljaXBpb0Rlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQubXVuaWNpcGlvX25vbWU7DQoNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uTUxPQ3BhaXNfZGVzdGlub19kYV9jYXJnYV9pZCA9IFBhaXNEZXN0aW5vWzBdLklEOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DcGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fZGFfY2FyZ2EgPSBQYWlzRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5wYWlzX25vbWU7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0NwYWlzX25vbWVfX2Rlc3Rpbm9fcGFpc19ub21lID0gUGFpc0Rlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQucGFpc19ub21lOw0KDQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0N1Zl9kZXN0aW5vX2RhX2NhcmdhX2lkID0gVWZEZXN0aW5vWzBdLklEOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DZXN0YWRvX3VmX191Zl9kZXN0aW5vX2RhX2NhcmdhID0gVWZEZXN0aW5vWzBdLlVybEpzb25Db250ZXh0LmVzdGFkb191ZjsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uTUxPQ2VzdGFkb191Zl9fZGVzdGlub19lc3RhZG9fdWYgPSBVZkRlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQuZXN0YWRvX3VmOw0KDQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0NtdW5pY2lwaW9fZGVzdGlub19kYV9jYXJnYV9pZCA9IE11bmljaXBpb0Rlc3Rpbm9bMF0uSUQ7DQogICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EgPSBNdW5pY2lwaW9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19ub21lOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DbXVuaWNpcGlvX25vbWVfX2Rlc3Rpbm9fbXVuaWNpcGlvX25vbWUgPSBNdW5pY2lwaW9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19ub21lOw0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5NTE9DbXVuaWNpcGlvX2liZ2VfX2Rlc3Rpbm9fbXVuaWNpcGlvX2liZ2UgPSBNdW5pY2lwaW9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0Lm11bmljaXBpb19pYmdlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy9VTklEQURFIERFIEVNSVNTQU8NCiAgICAgICAgbGV0IGNvZEVzdGFiZWxlY2ltZW50byA9ICgranNEYXRhLkNvZFVuZEVtaXNzYW8pOw0KICAgICAgICBpZiAoY29kRXN0YWJlbGVjaW1lbnRvKSB7DQogICAgICAgICAgICBsZXQgRmlsdHJvRXN0YWJlbGVjaW1lbnRvID0gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6ICJjb2RpZ29fZXN0YWJlbGVjaW1lbnRvX3NpcyIsIFR5cGU6ICJOdW1lcmljIiwgRml4ZWRUeXBlOiAiTnVtZXJpYyIsIFZhbHVlMTogY29kRXN0YWJlbGVjaW1lbnRvIH1dKTsNCiAgICAgICAgICAgIHZhciBvYmpVbmlkYWRlRW1pc3NhbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZXN0YWJlbGVjaW1lbnRvSUQsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBGaWx0cm9Fc3RhYmVsZWNpbWVudG8pOw0KICAgICAgICAgICAgaWYgKG9ialVuaWRhZGVFbWlzc2FvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBsZXQgRmlsdHJvRW5kZXJlY29VbmlkYWRlRW1pc3NhbyA9IGdlcmFyRmlsdHJvKCdJRF9PTkVfUkVGJywgb2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQpOw0KICAgICAgICAgICAgICAgIHZhciBvYmpFbmRlcmVjb1VuaWRhZGVFbWlzc2FvID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkZW5kZXJlY29lbXByZXNhLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgRmlsdHJvRW5kZXJlY29VbmlkYWRlRW1pc3Nhbyk7DQogICAgICAgICAgICAgICAgaWYgKG9iakVuZGVyZWNvVW5pZGFkZUVtaXNzYW8ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkxFU1RBU0Zub21lX2VzdGFiZWxlY2ltZW5vdF9fdW5pZGFkZV9kZV9lbWlzc2FvID0gb2JqVW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQubm9tZV9lc3RhYmVsZWNpbWVub3Q7DQogICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCA9IG9ialVuaWRhZGVFbWlzc2FvWzBdLklEOw0KICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkxFU1RBU0Zub21lX2VzdGFiZWxlY2ltZW5vdCA9IG9ialVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0Lm5vbWVfZXN0YWJlbGVjaW1lbm90Ow0KICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmNvdG1fY3RlID0gb2JqVW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQuY290bTsNCiAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5ybnRyY19jdGUgPSBvYmpVbmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5ybnRyYzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBqc0RhdGEubG9nX2N0ZSArPSBgfCBOw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyIG8gZW5kZXJlY28gZGEgdW5pZGFkZSBkZSBlbWlzc8Ojb1xuYDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGpzRGF0YS5sb2dfY3RlICs9IGB8IE7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgZXN0YWJlbGVjaW1lbnRvIGNvbSBvIGPDs2RpZ28gJHtjb2RFc3RhYmVsZWNpbWVudG99XG5gOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAganNEYXRhLmxvZ19jdGUgKz0gYHwgTsOjbyBmb2kgSW5mb3JtYWRvIG8gY8OzZGlnbyBkbyBlc3RhYmVsZWNpbWVudG8gZGUgZW1pc3PDo29cbmA7DQogICAgICAgIH0NCg0KICAgICAgICAvL0NGT1ANCiAgICAgICAgbGV0IFN0cmluZ0NGT1AgPSAnJzsNCiAgICAgICAgbGV0IFVGX09SSUdFTSA9IG9iakNUZU5hb0VtaXRpZG8uVUZfT1JJR0VNOw0KICAgICAgICBsZXQgVUZfREVTVElOTyA9IG9iakNUZU5hb0VtaXRpZG8uVUZfREVTVElOTzsNCg0KICAgICAgICBpZiAoVUZfREVTVElOTyA9PSAiRVgiKSB7DQogICAgICAgICAgICBTdHJpbmdDRk9QID0gIjczNTgiOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy9QcmltZWlybyBEw61naXRvID4gU2UgVUZfT1JJR0VNID09IFVGX0RFU1RJTk8gQ0ZPUCwgaW5pY2lhIGNvbSA2ID4gU0UgVUZfT1JJR0VNICE9IFVGX0RFU1RJTk8sIENGT1AgaW5pY2lhIGNvbSA1Lg0KICAgICAgICAgICAgaWYgKFVGX09SSUdFTSA9PSBVRl9ERVNUSU5PKSB7DQogICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCArPSAnNSc7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIFN0cmluZ0NGT1AgKz0gJzYnOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBRdWFuZG8gYSB1bmlkYWRlIGRlIGVtaXNzYW8gZm9yIG5hbyBjb250cmlidWludGUgbm8gZXN0YWRvIGRlIG9yaWdlbS4NCiAgICAgICAgICAgIGxldCBDRk9QXzkzMiA9ICgNCiAgICAgICAgICAgICAgICAob2JqVW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQuaW5kaWNhZG9yX2llID09ICduYW9Db250cmlidWludGUnKSB8fA0KICAgICAgICAgICAgICAgIChvYmpFbmRlcmVjb1VuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhICE9IFVGX09SSUdFTSkNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICAvL1F1YW5kbyBhIHVuaWRhZGUgZGUgZW1pc3NhbyBmb3IgY29udHJpYnVpbnRlIG5vIGVzdGFkbyBkZSBlbWlzc2FvIGUgdG9tYWRvciBuYW8gY29udHJpYnVpbnRlIG5vIGVzdGFkbyBkZWxlLg0KICAgICAgICAgICAgbGV0IENGT1BfMzU3ID0gKA0KICAgICAgICAgICAgICAgIChvYmpFbmRlcmVjb1VuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhID09IFVGX09SSUdFTSkgJiYNCiAgICAgICAgICAgICAgICAob2JqVW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQuaW5kaWNhZG9yX2llID09ICdjb250cmlidWludGUnKSAmJg0KICAgICAgICAgICAgICAgIChvYmpFbXByZXNhVG9tYWRvclswXS5VcmxKc29uQ29udGV4dC5pbmRpY2Fkb3JfZGVfaWUgPT0gJ05hb0NvbnRyaWJ1aW50ZScpDQogICAgICAgICAgICApOw0KDQogICAgICAgICAgICBpZiAoQ0ZPUF85MzIpIHsNCiAgICAgICAgICAgICAgICBTdHJpbmdDRk9QICs9ICc5MzInOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChDRk9QXzM1Nykgew0KICAgICAgICAgICAgICAgIFN0cmluZ0NGT1AgKz0gJzM1Nyc7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxldCB0aXBvRXN0YWJlbGVjaW1lbnRvID0gb2JqRW1wcmVzYVRvbWFkb3JbMF0uVXJsSnNvbkNvbnRleHQuaGFzT3duUHJvcGVydHkoJ3RpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2EnKSA/IG9iakVtcHJlc2FUb21hZG9yWzBdLlVybEpzb25Db250ZXh0LnRpcG9fZGVfZXN0YWJlbGVjaW1lbnRvX2VtcHJlc2EgOiAnJzsNCiAgICAgICAgICAgICAgICBpZiAodGlwb0VzdGFiZWxlY2ltZW50bykgew0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRpcG9Fc3RhYmVsZWNpbWVudG8pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbWVyY2lhbCc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCArPSAnMzUzJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luZHVzdHJpYSc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCArPSAnMzUyJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RyYW5zcG9ydGFkb3JhJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmdDRk9QICs9ICczNTEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzdHJpYnVpZG9yYUVuZXJnaWFFbGV0cmljYSc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCArPSAnMzU1JzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByZXN0YWRvclNlcnZpY28nOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ0NGT1AgKz0gJzM1Myc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVyYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdleHRlcmlvcic6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCA9PSAnNzM1OCc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdvcmdhb1B1YmxpY28nOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ0NGT1AgKz0gJzM1Nyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW9Db250cmlidWludGUnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ0NGT1AgKz0gJzM1Nyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW9TZWxlY2lvbmFkbyc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCA9ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzRGF0YS5sb2dfY3RlICs9IGBcbiBBVklTTyBDRk9QOiBUaXBvIGRlIEVzdGFiZWxlY2ltZW50byBuw6NvIGZvaSBkZWZpbmlkbyBubyB0b21hZG9yIENOUEo6JHtvYmpFbXByZXNhVG9tYWRvclswXS5VcmxKc29uQ29udGV4dC5jbnBqX2VtcHJlc2F9LlxuYDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGpzRGF0YS5sb2dfY3RlICs9IGBcbiBBVklTTyBDRk9QOiBUaXBvIGRlIEVzdGFiZWxlY2ltZW50byBuw6NvIGZvaSBkZWZpbmlkbyBubyB0b21hZG9yIENOUEo6JHtvYmpFbXByZXNhVG9tYWRvclswXS5VcmxKc29uQ29udGV4dC5jbnBqX2VtcHJlc2F9LlxuYDsNCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nQ0ZPUCA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoU3RyaW5nQ0ZPUCkgew0KICAgICAgICAgICAgdmFyIEZpbHRyb2Nmb3AgPSBKU09OLnN0cmluZ2lmeShbeyBGaWVsTmFtZTogImNvZGlnb19jZm9wIiwgVmFsdWUxOiBwYXJzZUludChTdHJpbmdDRk9QKSB9XSk7DQogICAgICAgICAgICB2YXIgb2JqY2ZvcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVjZm9wLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgRmlsdHJvY2ZvcCk7DQogICAgICAgICAgICBpZiAob2JqY2ZvcCAhPT0gbnVsbCAmJiBvYmpjZm9wLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkNGT1BfY2ZvcF9jdGVfaWQgPSBvYmpjZm9wWzBdLklEOw0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uQ0ZPUF9kZXNjcmljYW9fY2ZvcCA9IG9iamNmb3BbMF0uVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvX2Nmb3A7DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5DRk9QX2NvZGlnb19jZm9wX19jZm9wX2N0ZSA9IG9iamNmb3BbMF0uVXJsSnNvbkNvbnRleHQuY29kaWdvX2Nmb3AudG9TdHJpbmcoKTsNCiAgICAgICAgICAgICAgICBDU1QgPSBvYmpjZm9wWzBdLlVybEpzb25Db250ZXh0LmNzdF9jZm9wOw0KICAgICAgICAgICAgICAgIERlc2NyaWNhb0NTVCA9IG9iamNmb3BbMF0uVXJsSnNvbkNvbnRleHQuY3N0X2Nmb3BfZGVzYzsNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gb2JqY2ZvcFswXS5VcmxKc29uQ29udGV4dC5iYXNlX2xlZ2FsX2Zpc2NvID8gb2JqY2ZvcFswXS5VcmxKc29uQ29udGV4dC5iYXNlX2xlZ2FsX2Zpc2NvIDogJyc7DQoNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAganNEYXRhLmxvZ19jdGUgPSAifCIgKyBqc0RhdGEubG9nX2N0ZSArICJDRk9QIG7Do28gZW5jb250cmFkbyIgKyAnXG4nOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAganNEYXRhLmxvZ19jdGUgPSAifCIgKyBqc0RhdGEubG9nX2N0ZSArICJDRk9QIG7Do28gZW5jb250cmFkbyIgKyAnXG4nOw0KICAgICAgICB9DQogICAgICAgIC8vVG9tYWRvcg0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHRvbWFkb3JfY25wal9jdGVfaWQgPSBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IuSUQ7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvVG9tYWRvci5jbnBqX2VtcHJlc2EpOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHRpcG9fZW1wcmVzYV9fdG9tYWRvcl90aXBvX2VtcHJlc2EgPSBSZWdpc3Ryb1RvbWFkb3IudGlwb19lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHRpcG9fZW1wcmVzYV9fdG9tYWRvcl90aXBvX2VtcHJlc2FfZGVzYyA9IFJlZ2lzdHJvVG9tYWRvci50aXBvX2VtcHJlc2FfZGVzYw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGVtcHJlc2FfdGF4X2lkX190b21hZG9yX2VtcHJlc2FfdGF4X2lkID0gUmVnaXN0cm9Ub21hZG9yLmVtcHJlc2FfdGF4X2lkOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX190b21hZG9yX3JhemFvX3NvY2lhbF9ub21lX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IucmF6YW9fc29jaWFsX2VtcHJlc2EpOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fdG9tYWRvcl9ub21lX2ZhbnRhc2lhX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3Iubm9tZV9mYW50YXNpYV9lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBpZV9lbXByZXNhX190b21hZG9yX2llX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IuaWVfZW1wcmVzYSk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IuaW5kaWNhZG9yX2RlX2llKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlX2Rlc2MgPSBDaGVja1N0cmluZ051bGwoUmVnaXN0cm9Ub21hZG9yLmluZGljYWRvcl9kZV9pZV9kZXNjKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IuaW5kaWNhZG9yX2RlX2llKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZV9kZXNjID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvVG9tYWRvci5pbmRpY2Fkb3JfZGVfaWVfZGVzYyk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX3NpbXBsZXNfbmFjaW9uYWxfY3RlID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvVG9tYWRvci5jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGVfZGVzYyA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IuY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9kZXNjKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBlbWFpbF9lbXByZXNhX190b21hZG9yX2VtYWlsX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IuZW1haWxfZW1wcmVzYSk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QdGVsZWZvbmVfZW1wcmVzYV9fdG9tYWRvcl9mb25lX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb1RvbWFkb3IudGVsZWZvbmVfZW1wcmVzYSk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY3BmX2VtcHJlc2FfX3RvbWFkb3JfY3BmX2N0ZSA9IFJlZ2lzdHJvVG9tYWRvci5jcGZfZW1wcmVzYSA/IFJlZ2lzdHJvVG9tYWRvci5jcGZfZW1wcmVzYSA6ICIiOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fdG9tYWRvcl9sb2dyYWRvdXJvX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IubG9ncmFkb3Vyb19lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBudW1lcm9fZW1wcmVzYV9fdG9tYWRvcl9udW1lcm9fbG9ncmFkb3Vyb19jdGUgPSBDaGVja1N0cmluZ051bGwoUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FUb21hZG9yLm51bWVyb19lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBjb21wbGVtZW50b19lbXByZXNhX190b21hZG9yX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhVG9tYWRvci5jb21wbGVtZW50b19lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBiYWlycm9fZW1wcmVzYV9fdG9tYWRvcl9iYWlycm9fbG9ncmFkb3Vyb19jdGUgPSBDaGVja1N0cmluZ051bGwoUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FUb21hZG9yLmJhaXJyb19lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fdG9tYWRvcl9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2EpOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX3RvbWFkb3JfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSA9IENoZWNrU3RyaW5nTnVsbChSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVRvbWFkb3IuTUxPQ1ptdW5pY2lwaW9faWJnZSk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUgPSBDaGVja1N0cmluZ051bGwoUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FUb21hZG9yLk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhVG9tYWRvci5NTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2EpOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NacGFpc19pYmdlX190b21hZG9yX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhVG9tYWRvci5NTE9DWnBhaXNfaWJnZSk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY2VwX2VtcHJlc2FfX3RvbWFkb3JfY2VwX2xvZ3JhZG91cm9fY3RlID0gQ2hlY2tTdHJpbmdOdWxsKFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhVG9tYWRvci5jZXBfZW1wcmVzYSk7DQoNCiAgICAgICAgLy9SZW1ldGVudGUNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVByZW1ldGVudGVfY25wal9jdGVfaWQgPSBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVJlbWV0ZW50ZS5JRDsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBjbnBqX2VtcHJlc2FfX3JlbWV0ZW50ZV9jbnBqX2N0ZSA9IFJlZ2lzdHJvUmVtZXRlbnRlLmNucGpfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVB0aXBvX2VtcHJlc2FfX3JlbWV0ZW50ZV90aXBvX2VtcHJlc2EgPSBSZWdpc3Ryb1JlbWV0ZW50ZS50aXBvX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QdGlwb19lbXByZXNhX19yZW1ldGVudGVfdGlwb19lbXByZXNhX2Rlc2MgPSBSZWdpc3Ryb1JlbWV0ZW50ZS50aXBvX2VtcHJlc2FfZGVzYw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGVtcHJlc2FfdGF4X2lkX19yZW1ldGVudGVfZW1wcmVzYV90YXhfaWQgPSBSZWdpc3Ryb1JlbWV0ZW50ZS5lbXByZXNhX3RheF9pZDsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmVtZXRlbnRlX3JhemFvX3NvY2lhbF9ub21lX2N0ZSA9IFJlZ2lzdHJvUmVtZXRlbnRlLnJhemFvX3NvY2lhbF9lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfZmFudGFzaWFfYXBlbGlkb19jdGUgPSBSZWdpc3Ryb1JlbWV0ZW50ZS5ub21lX2ZhbnRhc2lhX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QaWVfZW1wcmVzYV9fcmVtZXRlbnRlX2llX2N0ZSA9IFJlZ2lzdHJvUmVtZXRlbnRlLmllX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfZGVfaWVfcmVtZXRlbnRlID0gUmVnaXN0cm9SZW1ldGVudGUuaW5kaWNhZG9yX2RlX2llOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX3JlbWV0ZW50ZV9kZXNjID0gUmVnaXN0cm9SZW1ldGVudGUuaW5kaWNhZG9yX2RlX2llX2Rlc2M7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9yZW1ldGVudGUgPSBSZWdpc3Ryb1JlbWV0ZW50ZS5jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfcmVtZXRlbnRlX2Rlc2MgPSBSZWdpc3Ryb1JlbWV0ZW50ZS5jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX2Rlc2M7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QVExPR1J0aXBvX2xvZ3JhZG91cm9fX2VtcHJlc2FfdGlwb19kZV9sb2dyYWRvdXJvID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUuVExPR1J0aXBvX2xvZ3JhZG91cm9fX2VtcHJlc2FfdGlwb19kZV9sb2dyYWRvdXJvOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fcmVtZXRlbnRlX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUubG9ncmFkb3Vyb19lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUG51bWVyb19lbXByZXNhX19yZW1ldGVudGVfbnVtZXJvX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUubnVtZXJvX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY29tcGxlbWVudG9fZW1wcmVzYV9fcmVtZXRlbnRlX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUuY29tcGxlbWVudG9fZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBiYWlycm9fZW1wcmVzYV9fcmVtZXRlbnRlX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlLmJhaXJyb19lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUgPSBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYVJlbWV0ZW50ZS5NTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fcmVtZXRlbnRlX3VmX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUuTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUuTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGNlcF9lbXByZXNhX19yZW1ldGVudGVfY2VwX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FSZW1ldGVudGUuY2VwX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QdGVsZWZvbmVfZW1wcmVzYV9fcmVtZXRlbnRlX2ZvbmVfY3RlID0gUmVnaXN0cm9SZW1ldGVudGUudGVsZWZvbmVfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBjcGZfZW1wcmVzYV9fcmVtZXRlbnRlX2NwZl9jdGUgPSBSZWdpc3Ryb1JlbWV0ZW50ZS5jcGZfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBlbWFpbF9lbXByZXNhX19yZW1ldGVudGVfZW1haWxfY3RlID0gUmVnaXN0cm9SZW1ldGVudGUuZW1haWxfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWm11bmljaXBpb19pYmdlX19yZW1ldGVudGVfY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlLk1MT0NabXVuaWNpcGlvX2liZ2U7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1pwYWlzX2liZ2VfX3JlbWV0ZW50ZV9jb2RfcGFpc19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhUmVtZXRlbnRlLk1MT0NacGFpc19pYmdlOw0KDQogICAgICAgIC8vRGVzdGluYXTDoXJpbw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGRlc3RpbmF0YXJpb19jbnBqX2N0ZV9pZCA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLklEOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGNucGpfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NucGpfY3RlID0gUmVnaXN0cm9EZXN0aW5hdGFyaW8uY25wal9lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHRpcG9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX3RpcG9fZW1wcmVzYSA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLnRpcG9fZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVB0aXBvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb190aXBvX2VtcHJlc2FfZGVzYyA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLnRpcG9fZW1wcmVzYV9kZXNjOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGVtcHJlc2FfdGF4X2lkX19kZXN0aW5hdGFyaW9fZW1wcmVzYV90YXhfaWQgPSBSZWdpc3Ryb0Rlc3RpbmF0YXJpby5lbXByZXNhX3RheF9pZA0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19kZXN0aW5hdGFyaW9fcmF6YW9fc29jaWFsX25vbWVfY3RlID0gUmVnaXN0cm9EZXN0aW5hdGFyaW8ucmF6YW9fc29jaWFsX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9mYW50YXNpYV9hcGVsaWRvX2N0ZSA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLm5vbWVfZmFudGFzaWFfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBpZV9lbXByZXNhX19kZXN0aW5hdGFyaW9faWVfY3RlID0gUmVnaXN0cm9EZXN0aW5hdGFyaW8uaWVfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9kZV9pZV9kZXN0aW5hdGFyaW8gPSBSZWdpc3Ryb0Rlc3RpbmF0YXJpby5pbmRpY2Fkb3JfZGVfaWU7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfZGVfaWVfZGVzdGluYXRhcmlvX2Rlc2MgPSBSZWdpc3Ryb0Rlc3RpbmF0YXJpby5pbmRpY2Fkb3JfZGVfaWVfZGVzYzsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX2Rlc3RpbmF0YXJpbyA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLmNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9kZXN0aW5hdGFyaW9fZGVzYyA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLmNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfZGVzYzsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBsb2dyYWRvdXJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLmxvZ3JhZG91cm9fZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBudW1lcm9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX251bWVyb19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLm51bWVyb19lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jb21wbGVtZW50b19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLmNvbXBsZW1lbnRvX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QYmFpcnJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19iYWlycm9fbG9ncmFkb3Vyb19jdGUgPSBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYURlc3RpbmF0YXJpby5iYWlycm9fZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlID0gUmVnaXN0cm9FbmRlcmVjb0VtcHJlc2FEZXN0aW5hdGFyaW8uTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb191Zl9sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLk1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfcGFpc19sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLk1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5FTVBjZXBfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NlcF9sb2dyYWRvdXJvX2N0ZSA9IFJlZ2lzdHJvRW5kZXJlY29FbXByZXNhRGVzdGluYXRhcmlvLmNlcF9lbXByZXNhOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHRlbGVmb25lX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19mb25lX2N0ZSA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLnRlbGVmb25lX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY3BmX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jcGZfY3RlID0gUmVnaXN0cm9EZXN0aW5hdGFyaW8uY3BmX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QZW1haWxfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2VtYWlsX2N0ZSA9IFJlZ2lzdHJvRGVzdGluYXRhcmlvLmVtYWlsX2VtcHJlc2E7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1ptdW5pY2lwaW9faWJnZV9fZGVzdGluYXRhcmlvX2NvZF9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUgPSBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYURlc3RpbmF0YXJpby5NTE9DWm11bmljaXBpb19pYmdlOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NacGFpc19pYmdlX19kZXN0aW5hdGFyaW9fY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUgPSBSZWdpc3Ryb0VuZGVyZWNvRW1wcmVzYURlc3RpbmF0YXJpby5NTE9DWnBhaXNfaWJnZTsNCg0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPSBDU1Q7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uY3N0X2N0ZV9kZXNjID0gRGVzY3JpY2FvQ1NUOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2Jhc2VfY2FsY19jdGUgPSBqc0RhdGEuVmFsb3JUb3RhbFByZXN0YWNhbzsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5wZXJjX2ljbXNfY3RlID0ganNEYXRhLlBlcmNlbnR1YWxJQ01TOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2ljbXNfY3RlID0ganNEYXRhLlZhbG9ySUNNUzsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl90b3RhbF90cmlidXRvc19jdGUgPSBqc0RhdGEuVmFsb3JJQ01TOw0KDQogICAgICAgIGlmICghanNEYXRhLmhhc093blByb3BlcnR5KCJWYWxvclRvdGFsQ2FyZ2EiKSB8fCAhanNEYXRhLlZhbG9yVG90YWxDYXJnYSB8fCBqc0RhdGEuVmFsb3JUb3RhbENhcmdhID09IDApIHsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfdG90YWxfY2FyZ2FfY3RlID0gMC4wMTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfdG90YWxfY2FyZ2FfY3RlID0ganNEYXRhLlZhbG9yVG90YWxDYXJnYTsNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5QUFRwcm9kdXRvX3ByZWRvbWluYW50ZV9jdGVfaWQgPSBJZFByb2R1dG9QcmVkb21pbmFudGU7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uUFBUZGVzY3JpY2FvX2RvX3Byb2R1dG9fX3Byb2R1dG9fcHJlZG9taW5hbnRlX2N0ZSA9IGpzRGF0YS5Qcm9kdXRvUHJlZG9taW5hbnRlOw0KDQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uQ0NHb3V0cmFzX2NhcmFjdGVyaXN0Y2FzX2NhcmdhX2N0ZV9pZCA9IG91dHJhc0NhcmFjdGVyaXN0aWNhc0NhcmdhSWQ7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uQ0NHY2FyYWN0ZXJpc3RpY2FfZGFfY2FyZ2FfX291dHJhc19jYXJhY3RlcmlzdGNhc19jYXJnYV9jdGUgPSBvdXRyYXNDYXJhY3RlcmlzdGljYXNDYXJnYURlc2M7DQoNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jYXJhY3RlcmlzdGljYXNfYWRfdHJhbnNwb3J0ZV9jdGUgPSAiIjsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jYXJhY3RlcmlzdGljYXNfYWRfc2Vydmljb19jdGUgPSBqc0RhdGEuQ2FyYWN0ZXJpc3RpY2FzQWRpY2lvbmFpc1NlcnZpY28udG9TdHJpbmcoKS5yZXBsYWNlKC9bXlxkXSsvZywgJycsICcnKTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5mdW5jaW9uYXJpb19lbWlzc29yX2N0ZSA9IGpzRGF0YS5GdW5jaW9uYXJpb1Jlc3BvbnNhdmVsRW1pc3NhbzsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5zaWdsYV9jb2RfZmlsaWFsX3BvcnRvX2VzdGFjYW9fYWVyb19vcmlnZW1fY3RlID0ganNEYXRhLlNpZ2xhVUZDb21wbGVtZW50YXJPcmlnZW07DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uc2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fZGVzdGlub19jdGUgPSBqc0RhdGEuU2lnbGFVRkNvbXBsZW1lbnRhckRlc3Rpbm87DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ub2JzZXJ2YWNvZXNfY3RlID0ganNEYXRhLk9ic2VydmFjb2VzOw0KDQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5kaWNhZG9yX25lZ29jaWF2ZWxfY3RlID0gIm5hbyI7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5kaWNhZG9yX25lZ29jaWF2ZWxfY3RlX2Rlc2MgPSAiTsOjbyI7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubG9nX2N0ZSA9IGpzRGF0YS5sb2dfY3RlOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmVudmlhcl9jdGUgPSBqc0RhdGEuaGFzT3duUHJvcGVydHkoIkVtaXRpciIpICYmIGpzRGF0YS5FbWl0aXIgJiYgcmV0aXJhQWNlbnRvcyhqc0RhdGEuRW1pdGlyKS50b1VwcGVyQ2FzZSgpID09ICJTSU0iID8gInNpbSIgOiAibmFvIjsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5lbnZpYXJfY3RlX2Rlc2MgPSBqc0RhdGEuaGFzT3duUHJvcGVydHkoIkVtaXRpciIpICYmIGpzRGF0YS5FbWl0aXIgJiYgcmV0aXJhQWNlbnRvcyhqc0RhdGEuRW1pdGlyKS50b1VwcGVyQ2FzZSgpID09ICJTSU0iID8gIlNpbSIgOiAiTsOjbyI7DQoNCiAgICAgICAgLy9TZWd1cm8NCiAgICAgICAgbGV0IGluZm9TZWd1cm9fU0VUQURPID0gZmFsc2U7DQogICAgICAgIGxldCBpbmZvc1NlZ3VybyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oc2VndXJvSUQsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBudWxsKTsNCiAgICAgICAgZm9yIChsZXQgayBpbiBpbmZvc1NlZ3Vybykgew0KICAgICAgICAgICAgaWYgKGluZm9zU2VndXJvW2tdLlVybEpzb25Db250ZXh0LlNFUmRlc2NyaWNhb19zZXJfX3RpcG9fZGVfc2Vydmljb3MuaW5jbHVkZXMoanNEYXRhLlRpcG9TZXJ2aWNvKSkgew0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubnVtZXJvX2Fwb2xpY2VfY3RlID0gaW5mb3NTZWd1cm9ba10uVXJsSnNvbkNvbnRleHQubnVtZXJvX2RhX2Fwb2xpY2U7DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5udW1lcm9fYXZlcmJhY2FvX2N0ZSA9IGluZm9zU2VndXJvW2tdLlVybEpzb25Db250ZXh0Lm51bWVyb19kYV9hdmVyYmFjYW87DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jb2RpZ29fYXRtID0gaW5mb3NTZWd1cm9ba10uVXJsSnNvbkNvbnRleHQuY29kaWdvX2F0bTsNCg0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9zZWd1cmFkb3JhX2N0ZV9pZCA9IGluZm9zU2VndXJvW2tdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZGFfc2VndXJhZG9yYV9pZDsNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUGNucGpfZW1wcmVzYV9fY25wal9zZWd1cmFkb3JhX2N0ZSA9IGluZm9zU2VndXJvW2tdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fY25wal9kYV9zZWd1cmFkb3JhOw0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX25vbWVfc2VndXJhZG9yYV9jdGUgPSBpbmZvc1NlZ3Vyb1trXS5VcmxKc29uQ29udGV4dC5FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX2VtcHJlc2Ffc2VndXJhZG9yYTsNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLkVNUHJhemFvX3NvY2lhbF9lbXByZXNhID0gaW5mb3NTZWd1cm9ba10uVXJsSnNvbkNvbnRleHQuRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9lbXByZXNhX3NlZ3VyYWRvcmE7DQoNCiAgICAgICAgICAgICAgICBpbmZvU2VndXJvX1NFVEFETyA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFpbmZvU2VndXJvX1NFVEFETykgew0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5sb2dfY3RlICs9IGBOw6NvIGZvaSBwb3Nzw612ZWwgZGVmaW5pciBvIG7Dum1lcm8gZGEgYXDDs2xpY2UgZG8gdGlwbyBkZSBzZXJ2acOnbzogJHtqc0RhdGEuVGlwb1NlcnZpY299YDsNCiAgICAgICAgfQ0KDQogICAgICAgIGF3YWl0IENhbGN1bG8yKGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbyk7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8gPSBnZXJhckNoZWNoZUNhbGMoanNEYXRhLCBvYmpDVGVOYW9FbWl0aWRvKTsNCiAgICAgICAgdmFyIElkQ1RlR3JhdmFkbyA9IGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVDdGVOYW9FbWl0aWRvLCBqc0RhdGEudXNyaWQsIGpzRGF0YS5hc3NpZCwgb2JqQ1RlTmFvRW1pdGlkbyk7DQoNCiAgICAgICAgZm9yIChsZXQgcyBpbiBPYmpUYXhhc1Bvc3QpIHsNCiAgICAgICAgICAgIE9ialRheGFzUG9zdFtzXS5JRF9PTkVfUkVGID0gSWRDVGVHcmF2YWRvOw0KICAgICAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShUQVhBU0lELCBqc0RhdGEudXNyaWQsIGpzRGF0YS5hc3NpZCwgT2JqVGF4YXNQb3N0W3NdKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChJZENUZUdyYXZhZG8gIT09ICIiKSB7DQogICAgICAgICAgICAvL1F1YW50aWRhZGVzIGRhIENhcmdhDQogICAgICAgICAgICB2YXIgb2JqUXRkZUNhcmdhID0gW107DQogICAgICAgICAgICBpZiAoanNEYXRhLlF1YW50aWRhZGVzQ2FyZ2EgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIC8vVGlwbyBkZSBNZWRpZGENCiAgICAgICAgICAgICAgICAgICAgdmFyIEZpbHRyb3RpcG9tZWRpZGEgPSBnZXJhckZpbHRybygndGlwb19kZV9tZWRpZGEnLCBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVtpXS5UaXBvTWVkaWRhKQ0KICAgICAgICAgICAgICAgICAgICB2YXIgb2JqdGlwb21lZGlkYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVJZFRpcG9NZWRpZGEsIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBGaWx0cm90aXBvbWVkaWRhKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIElkdGlwb21lZGlkYSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICBpZiAob2JqdGlwb21lZGlkYSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgSWR0aXBvbWVkaWRhID0gb2JqdGlwb21lZGlkYVswXS5JRDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoanNEYXRhLlF1YW50aWRhZGVzQ2FyZ2FbaV0uVGlwb01lZGlkYSAhPT0gIiIgJiYganNEYXRhLlF1YW50aWRhZGVzQ2FyZ2FbaV0uVW5pZGFkZU1lZGlkYSAhPT0gIiIgJiYganNEYXRhLlF1YW50aWRhZGVzQ2FyZ2FbaV0uUXVhbnRpZGFkZUNhcmdhICE9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpRdGRlQ2FyZ2EgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRNRHRpcG9fZGVfbWVkaWRhX190aXBvX21lZGlkYV9jdGUiOiBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVtpXS5UaXBvTWVkaWRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUTUR0aXBvX21lZGlkYV9jdGVfaWQiOiBJZHRpcG9tZWRpZGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvZGlnb191bmlkYWRlX21lZGlkYV9jdGUiOiBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVtpXS5VbmlkYWRlTWVkaWRhLnRvTG93ZXJDYXNlKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvZGlnb191bmlkYWRlX21lZGlkYV9jdGVfZGVzYyI6IGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhW2ldLlVuaWRhZGVNZWRpZGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInF1YW50aWRhZGVfY2FyZ2FfY3RlIjoganNEYXRhLlF1YW50aWRhZGVzQ2FyZ2FbaV0uUXVhbnRpZGFkZUNhcmdhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSWRDVGVHcmF2YWRvDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZXF0ZGVjYXJnYXMsIGpzRGF0YS51c3JpZCwganNEYXRhLmFzc2lkLCBvYmpRdGRlQ2FyZ2EpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9ORkVzDQogICAgICAgICAgICBpZiAoanNEYXRhLk5GRXMpIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGpzRGF0YS5ORkVzLmxlbmd0aDsgbisrKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuTkZFc1tuXS5DaGF2ZU5GZSAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpORmUgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNoYXZlX25mZV9jdGUiOiBqc0RhdGEuTkZFc1tuXS5DaGF2ZU5GZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGluX3N1ZnJhbWFfY3RlIjoganNEYXRhLk5GRXNbbl0uUElOU3VmcmFtYSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibnVtZXJvX2RhX25mZV9jdGUiOiBqc0RhdGEuTkZFc1tuXS5OdW1lcm9ORmUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNlcmllX2RhX25mZV9jdGUiOiBqc0RhdGEuTkZFc1tuXS5TZXJpZU5GZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsb3JfbWVyY2Fkb3JpYV9jbGllbnRlIjoganNEYXRhLk5GRXNbbl0uVmFsb3JOb3RhRmlzY2FsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSWRDVGVHcmF2YWRvDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZU5GZSwganNEYXRhLnVzcmlkLCBqc0RhdGEuYXNzaWQsIG9iak5GZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoanNEYXRhLk9ic2VydmFjb2VzQ29udHJpYnVpbnRlICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgb2MgPSAwOyBvYyA8IGpzRGF0YS5PYnNlcnZhY29lc0NvbnRyaWJ1aW50ZS5sZW5ndGg7IG9jKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5PYnNlcnZhY29lc0NvbnRyaWJ1aW50ZVtvY10uWENhbXBvICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iamNvbnRyID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4Y2FtcG9fb2JzY29udCI6IGpzRGF0YS5PYnNlcnZhY29lc0NvbnRyaWJ1aW50ZVtvY10uWENhbXBvLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4dGV4dG9fb2JzY29udCI6IGpzRGF0YS5PYnNlcnZhY29lc0NvbnRyaWJ1aW50ZVtvY10uWFRleHRvLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSWRDVGVHcmF2YWRvDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZW9ic2NvbnRyaWJ1aW50ZSwganNEYXRhLnVzcmlkLCBqc0RhdGEuYXNzaWQsIG9iamNvbnRyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChqc0RhdGEuT2JzZXJ2YWNvZXNGaXNjbykgew0KICAgICAgICAgICAgICAgIGZvciAobGV0IG9mID0gMDsgb2YgPCBqc0RhdGEuT2JzZXJ2YWNvZXNGaXNjby5sZW5ndGg7IG9mKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5PYnNlcnZhY29lc0Zpc2NvW29mXS5YQ2FtcG8gIT09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqZmlzY28gPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInhjYW1wb19vYnNmaXNjbyI6IGpzRGF0YS5PYnNlcnZhY29lc0Zpc2NvW29mXS5YQ2FtcG8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInh0ZXh0b19vYnNmaXNjbyI6IGpzRGF0YS5PYnNlcnZhY29lc0Zpc2NvW29mXS5YVGV4dG8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIklEX09ORV9SRUYiOiBJZENUZUdyYXZhZG8NCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlb2JzZmlzY28sIGpzRGF0YS51c3JpZCwganNEYXRhLmFzc2lkLCBvYmpmaXNjbyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubG9nX2N0ZSArPSAnXG4gQVZJU086IE9ic2VydmHDp8O1ZSBkbyBmaXNjbyBuw6NvIGZvcmFtIGVudmlhZG9zIGRvIFNJUyc7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoanNEYXRhLkF1dG9yaXphZG9zKSB7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgYXUgPSAwOyBhdSA8IGpzRGF0YS5BdXRvcml6YWRvcy5sZW5ndGg7IGF1KyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5BdXRvcml6YWRvc1thdV0uQ05QSkF1dG9yaXphZG8gIT09ICIiIHx8IGpzRGF0YS5BdXRvcml6YWRvc1thdV0uQ1BGQXV0b3JpemFkbyAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmphdXQgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNucGpfYXV0b3JpemFkb19jdGUiOiBqc0RhdGEuQXV0b3JpemFkb3NbYXVdLkNOUEpBdXRvcml6YWRvLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjcGZfYXV0b3JpemFkb19jdGUiOiBqc0RhdGEuQXV0b3JpemFkb3NbYXVdLkNQRkF1dG9yaXphZG8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIklEX09ORV9SRUYiOiBJZENUZUdyYXZhZG8NCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlYXV0b3JpemFkb3MsIGpzRGF0YS51c3JpZCwganNEYXRhLmFzc2lkLCBvYmphdXQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmxvZ19jdGUgKz0gJ1xuIEFWSVNPOiBBdXRvcml6YWRvIG7Do28gZm9yYW0gZW52aWFkb3MgZG8gU0lTJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBtc2dsb2cgPSBsb2dSZWNlYmltZW50by5qb2luKCcnKTsNCiAgICAgICAgbG9nT2JqLmxvZyA9IGBOT0tcbiAke21zZ2xvZ31gOw0KICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgbG9nT2JqLCB0cnVlKTsNCiAgICB9DQogICAgbG9nT2JqLmxvZyA9ICJPSyI7DQogICAgcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIGxvZ09iaiwgdHJ1ZSk7DQogICAgLy99IGNhdGNoIChlcnJvcikgew0KICAgIC8vICB2YXIgbG9nT2JqID0gQ3JlYXRlTG9nT2JqZWN0KGpzRGF0YSwgZXJyb3IpOw0KICAgIC8vcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIGpzRGF0YSwgdHJ1ZSk7DQogICAgLy99DQp9DQoNCmZ1bmN0aW9uIGdlcmFyQ2hlY2hlQ2FsYyhqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8pIHsNCiAgICAvL0NhY2hlQ2FsYw0KICAgIGxldCBDYWxjX0NhY2hlID0gew0KICAgICAgICAiRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSI6IG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3JlbWV0ZW50ZV91Zl9sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUiOiBvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX3VmX2xvZ3JhZG91cm9fY3RlIjogb2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX3VmX2xvZ3JhZG91cm9fY3RlLA0KICAgICAgICAiRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6IG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSwNCiAgICAgICAgIkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSI6IG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlLA0KICAgICAgICAiRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGUiOiBvYmpDVGVOYW9FbWl0aWRvLkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlLA0KICAgICAgICAiRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUiOiBvYmpDVGVOYW9FbWl0aWRvLkVNUGNucGpfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NucGpfY3RlLA0KICAgICAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGUiOiBvYmpDVGVOYW9FbWl0aWRvLkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlLA0KICAgICAgICAiRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSI6IG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSwNCiAgICAgICAgIkVNUHRvbWFkb3JfY25wal9jdGVfaWQiOiBvYmpDVGVOYW9FbWl0aWRvLkVNUHRvbWFkb3JfY25wal9jdGVfaWQsDQogICAgICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSI6IG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUsDQogICAgICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGUiOiBvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSwNCiAgICAgICAgInJlc3BvbnNhdmVsX2ZyZXRlX2N0ZSI6IG9iakNUZU5hb0VtaXRpZG8ucmVzcG9uc2F2ZWxfZnJldGVfY3RlLA0KICAgICAgICAiTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhIjogb2JqQ1RlTmFvRW1pdGlkby5NTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2EiOiBvYmpDVGVOYW9FbWl0aWRvLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgIlVGX09SSUdFTSI6IG9iakNUZU5hb0VtaXRpZG8uVUZfT1JNTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2FJR0VNLA0KICAgICAgICAiTVVOSUNJUElPX09SSUdFTSI6IG9iakNUZU5hb0VtaXRpZG8uTUxPQ211bmljaXBpb19ub21lX19tdW5pY2lwaW9fb3JpZ2VtX2RhX2NhcmdhLA0KICAgICAgICAiTUxPQ2VzdGFkb191Zl9fdWZfZGVzdGlub19kYV9jYXJnYSI6IG9iakNUZU5hb0VtaXRpZG8uTUxPQ2VzdGFkb191Zl9fdWZfZGVzdGlub19kYV9jYXJnYSwNCiAgICAgICAgIk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EiOiBvYmpDVGVOYW9FbWl0aWRvLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICJVRl9ERVNUSU5PIjogb2JqQ1RlTmFvRW1pdGlkby5NTE9DZXN0YWRvX3VmX191Zl9kZXN0aW5vX2RhX2NhcmdhLA0KICAgICAgICAiTVVOSUNJUElPX0RFU1RJTk8iOiBvYmpDVGVOYW9FbWl0aWRvLk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EsDQogICAgICAgICJMRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkIjogb2JqQ1RlTmFvRW1pdGlkby5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkLA0KICAgICAgICAiTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X191bmlkYWRlX2RlX2VtaXNzYW8iOiBvYmpDVGVOYW9FbWl0aWRvLkxFU1RBU0Zub21lX2VzdGFiZWxlY2ltZW5vdF9fdW5pZGFkZV9kZV9lbWlzc2FvLA0KICAgICAgICAianNEYXRhIjogew0KICAgICAgICAgICAgIkNsaWVudGVSZXRpcmEiOiBvYmpDVGVOYW9FbWl0aWRvLnJlY2ViZWRvcl9yZXRpcmFfY3RlID09ICdzaW0nID8gJzEnIDogJzAnLA0KICAgICAgICAgICAgIk5GRXMiOiBbXSwNCiAgICAgICAgICAgICJRdWFudGlkYWRlc0NhcmdhIjogW10sDQogICAgICAgICAgICAiUG9yY2VudGFnZW1BZFZhbG9yZW0iOiBvYmpDVGVOYW9FbWl0aWRvLmFkX3ZhbG9yZW1fcG9yY2VudGFuZ2VtLA0KICAgICAgICAgICAgIk1vZGFsaWRhZGVUcmFuc3BvcnRlIjogIk11bHRpbW9kYWwiLA0KICAgICAgICAgICAgIlRpcG9TZXJ2aWNvIjogb2JqQ1RlTmFvRW1pdGlkby5TRVJkZXNjcmljYW9fc2VyX190aXBvX2RlX3NlcnZpY28sDQogICAgICAgICAgICAiVmFsb3JGcmV0ZSI6IG9iakNUZU5hb0VtaXRpZG8udmFsb3JfZG9fZnJldGUsDQogICAgICAgICAgICAiQ05QSlJlbWV0ZW50ZSI6IG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGUsDQogICAgICAgICAgICAiQ05QSkRlc3RpbmF0YXJpbyI6IG9iakNUZU5hb0VtaXRpZG8uRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUNCiAgICAgICAgfQ0KICAgIH0NCiAgICBzd2l0Y2ggKG9iakNUZU5hb0VtaXRpZG8ubW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZSkgew0KICAgICAgICBjYXNlICJyb2RvdmlhcmlvIjoNCiAgICAgICAgICAgIENhbGNfQ2FjaGUuanNEYXRhLk1vZGFsaWRhZGVUcmFuc3BvcnRlID0gJ1JvZG92acOhcmlvJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdhZXJlbyc6DQogICAgICAgICAgICBDYWxjX0NhY2hlLmpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZSA9ICdBw6lyZW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2FxdWF2aWFyaW8nOg0KICAgICAgICAgICAgQ2FsY19DYWNoZS5qc0RhdGEuTW9kYWxpZGFkZVRyYW5zcG9ydGUgPSAnQXF1YXZpw6FyaW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2ZlcnJvdmlhcmlvJzoNCiAgICAgICAgICAgIENhbGNfQ2FjaGUuanNEYXRhLk1vZGFsaWRhZGVUcmFuc3BvcnRlID0gJ0ZlcnJvdmnDoXJpbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnZHV0b3ZpYXJpbyc6DQogICAgICAgICAgICBDYWxjX0NhY2hlLmpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZSA9ICdEdXRvdmnDoXJpbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnbXVsdGltb2RhbCc6DQogICAgICAgICAgICBDYWxjX0NhY2hlLmpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZSA9ICdNdWx0aW1vZGFsJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgIH0NCiAgICBmb3IgKGxldCB5IGluIGpzRGF0YS5ORkVzKSB7DQogICAgICAgIENhbGNfQ2FjaGUuanNEYXRhLk5GRXMucHVzaCh7ICJWYWxvck5vdGFGaXNjYWwiOiBqc0RhdGEuTkZFc1t5XS5WYWxvck5vdGFGaXNjYWwgfSkNCiAgICB9DQogICAgZm9yIChsZXQgeSBpbiBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYSkgew0KICAgICAgICBDYWxjX0NhY2hlLmpzRGF0YS5RdWFudGlkYWRlc0NhcmdhLnB1c2goew0KICAgICAgICAgICAgIlRpcG9NZWRpZGEiOiBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVt5XS5UaXBvTWVkaWRhLA0KICAgICAgICAgICAgIlVuaWRhZGVNZWRpZGEiOiBqc0RhdGEuUXVhbnRpZGFkZXNDYXJnYVt5XS5VbmlkYWRlTWVkaWRhLA0KICAgICAgICAgICAgIlF1YW50aWRhZGVDYXJnYSI6IGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhW3ldLlF1YW50aWRhZGVDYXJnYQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgb2JqQ1RlTmFvRW1pdGlkby5DYWxjX0NhY2hlID0gSlNPTi5zdHJpbmdpZnkoQ2FsY19DYWNoZSk7DQoNCiAgICByZXR1cm4gb2JqQ1RlTmFvRW1pdGlkbzsNCn0NCg0KZnVuY3Rpb24gZ2VyYXJGaWx0cm8oZmllbE5hbWVQLCB2YWx1ZVApIHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sNCiAgICAgICAgRmllbE5hbWU6IGZpZWxOYW1lUCwNCiAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgIFZhbHVlMTogdmFsdWVQDQogICAgfV0pOw0KfQ0KDQoNCmZ1bmN0aW9uIHplcmFySG9yYShkYXRhKSB7DQogICAgbGV0IGltcHV0RGF0YSA9IG5ldyBEYXRlKGRhdGEpOw0KICAgIGltcHV0RGF0YS5zZXRIb3VycygwMCk7DQogICAgaW1wdXREYXRhLnNldE1pbnV0ZXMoMDApOw0KICAgIGltcHV0RGF0YS5zZXRTZWNvbmRzKDAwKTsNCiAgICBpbXB1dERhdGEuc2V0TWlsbGlzZWNvbmRzKDAwKTsNCiAgICByZXR1cm4gaW1wdXREYXRhOw0KfQ0KDQpmdW5jdGlvbiBDcmVhdGVMb2dPYmplY3QoanNEYXRhLCBsb2cpIHsNCiAgICBsZXQgb2JqID0ge307DQogICAgb2JqLmRhdGFfZGVfcmVjZWJpbWVudG8gPSB1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKTsNCiAgICBvYmouVmFsb3JUb3RhbFByZXN0YWNhbyA9IGpzRGF0YS5WYWxvclRvdGFsUHJlc3RhY2FvOw0KICAgIG9iai52YWxvcnRvdGFsY2FyZ2EgPSBqc0RhdGEuVmFsb3JUb3RhbENhcmdhOw0KICAgIG9iai52YWxvcnJlY2ViZXIgPSBqc0RhdGEuVmFsb3JSZWNlYmVyOw0KICAgIG9iai52YWxvcmljbXMgPSBqc0RhdGEuVmFsb3JJQ01TOw0KICAgIG9iai5zaWdsYXVmY29tcGxlbWVudGFyb3JpZ2VtID0ganNEYXRhLlNpZ2xhVUZDb21wbGVtZW50YXJPcmlnZW07DQogICAgb2JqLnNpZ2xhdWZjb21wbGVtZW50YXJkZXN0aW5vID0ganNEYXRhLlNpZ2xhVUZDb21wbGVtZW50YXJEZXN0aW5vOw0KICAgIG9iai5yZXNwb25zYXZlbGZyZXRlID0ganNEYXRhLlJlc3BvbnNhdmVsRnJldGU7DQogICAgb2JqLnByb2R1dG9wcmVkb21pbmFudGUgPSBqc0RhdGEuUHJvZHV0b1ByZWRvbWluYW50ZTsNCiAgICBvYmoucGVyY2VudHVhbGljbXMgPSBqc0RhdGEuUGVyY2VudHVhbElDTVM7DQogICAgb2JqLm91dHJhc2NhcmFjdGVyaXN0aWNhc2NhcmdhID0ganNEYXRhLk91dHJhc0NhcmFjdGVyaXN0aWNhc0NhcmdhOw0KICAgIG9iai5tb2RhbGlkYWRldHJhbnNwb3J0ZSA9IGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZTsNCiAgICBvYmoubG9nID0gbG9nOw0KICAgIG9iai5sb2cyID0gSlNPTi5zdHJpbmdpZnkoanNEYXRhKTsNCiAgICBvYmouZnVuY2lvbmFyaW9yZXNwb25zYXZlbGVtaXNzYW8gPSBqc0RhdGEuRnVuY2lvbmFyaW9SZXNwb25zYXZlbEVtaXNzYW87DQogICAgaWYgKGpzRGF0YS5EYWRvc011bHRpbW9kYWwgIT0gbnVsbCkgew0KICAgICAgICBpZiAoanNEYXRhLkRhZG9zTXVsdGltb2RhbC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBvYmouZG1fbnVtZXJvYXZlcnZhY2FvID0ganNEYXRhLkRhZG9zTXVsdGltb2RhbFswXS5OdW1lcm9BdmVydmFjYW87DQogICAgICAgICAgICBvYmouZG1fbnVtZXJvYXBvbGljZSA9IGpzRGF0YS5EYWRvc011bHRpbW9kYWxbMF0uTnVtZXJvQXBvbGljZTsNCiAgICAgICAgICAgIG9iai5kbV9jb3RtID0ganNEYXRhLkRhZG9zTXVsdGltb2RhbFswXS5DT1RNOw0KICAgICAgICAgICAgb2JqLmRtX2NucGpzZWd1cmFkb3JhID0ganNEYXRhLkRhZG9zTXVsdGltb2RhbFswXS5DTlBKU2VndXJhZG9yYTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBvYmouZGF0YWVtaXNzYW8gPSBqc0RhdGEuRGF0YUVtaXNzYW87DQogICAgb2JqLmNucGpyZW1ldGVudGUgPSBqc0RhdGEuQ05QSlJlbWV0ZW50ZTsNCiAgICBvYmouY25wam91dHJvcyA9IGpzRGF0YS5DTlBKT3V0cm9zOw0KICAgIG9iai5jbnBqZGVzdGluYXRhcmlvID0ganNEYXRhLkNOUEpEZXN0aW5hdGFyaW87DQogICAgaWYgKGpzRGF0YS5BdXRvcml6YWRvcyAhPSBudWxsKSB7DQogICAgICAgIGlmIChqc0RhdGEuQXV0b3JpemFkb3MubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgb2JqLmNucGphdXRvcml6YWRvID0ganNEYXRhLkF1dG9yaXphZG9zWzBdLkNOUEpBdXRvcml6YWRvOw0KICAgICAgICB9DQogICAgfQ0KICAgIG9iai5jZm9wID0ganNEYXRhLkNGT1A7DQogICAgb2JqLmNhcmFjdGVyaXN0aWNhc2FkaWNpb25haXN0cmFuc3BvcnRlID0ganNEYXRhLkNhcmFjdGVyaXN0aWNhc0FkaWNpb25haXNUcmFuc3BvcnRlOw0KICAgIG9iai5jYXJhY3RlcmlzdGljYXNhZGljaW9uYWlzc2VydmljbyA9IGpzRGF0YS5DYXJhY3RlcmlzdGljYXNBZGljaW9uYWlzU2VydmljbzsNCiAgICByZXR1cm4gb2JqOw0KfQ0KDQoNCi8vIElOSUNJTyBDQUxDVUxPICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy9PUkRFTSBERSBQRVNRVUlTQSANCi8vMSBwb3IgQ05QSiBSRU1FVEVOVEUgPj4gQVBMSUNBRE8gUEFSQSBUT0RBUyBBUyBDT05TVUxUQVMNCi8vMiBwb3IgQ0VQIFJFTUVURU5URSBFIERFU1RJTkFUQVJJTw0KLy80IHBvciBDRVAgUkVNRVRFTlRFDQovLzUgUEFJUyBVRiBNVU5JQ0lQSU8NCi8vNiBQQUlTIFVGDQovLzcgUEFJUyANCg0KdmFyIFZhbG9yQmFzZURlQ2FsY3VsbyA9IDA7DQp2YXIgVmFsb3JCYXNlRGVDYWxjdWxvQ2FjaGUgPSAwOw0KdmFyIHRheGFzRW5jb250cmFkYXMgPSBbXTsNCnZhciBPYmpUYXhhc1Bvc3QgPSBbXTsNCnZhciBMb2dUYXhhcyA9IFsnKy0tLS0tLS0tLS0tLS0tLS0tIFRBWEFTIC0tLS0tLS0tLS0tLS0tLS0tK1xuJ107DQoNCmFzeW5jIGZ1bmN0aW9uIFZhbG9yQ2FsY3VsbyhpdGVuc190YWJlbGEsIGl0ZW5fdGFiZWxhX3ByZWNvLCBqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8sIE1lbnNhZ2VtUmVzdWx0LCB1bHRpbWFGYWl4YSwgVmFsb3JGcmV0ZVByb250bykgew0KICAgIC8vU2UgdmFsb3IgZGEgcHJlc3RhY2FvIG5hbyBmb3IgcmVjZWJpZG8gZmF6IGEgYnVzY2EgbmFzIHRhYmVsYXMgZSBjYWxjdWxhIG8gZnJldGUuDQogICAgaWYgKCFWYWxvckZyZXRlUHJvbnRvKSB7DQogICAgICAgIC8vQ0FMQ1VMQVIgVkFMT1IgRE8gRlJFVEUgRSBTT01BUiBBRCBWQUxPUkVNDQogICAgICAgIHZhciBxdGRlQ2FyZ2EgPSAwOw0KICAgICAgICBmb3IgKGxldCBzIGluIGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhKSB7DQogICAgICAgICAgICBpZiAoanNEYXRhLlF1YW50aWRhZGVzQ2FyZ2Fbc10uVGlwb01lZGlkYS5pbmRleE9mKCJQZXNvIikgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICBxdGRlQ2FyZ2EgKz0ganNEYXRhLlF1YW50aWRhZGVzQ2FyZ2Fbc10uUXVhbnRpZGFkZUNhcmdhOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHZhciBmaW5kUmFuZ2UgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgIGxldCByYW5nZSA9IHguVXJsSnNvbkNvbnRleHQuaW5pY2lhbF90cHJsaW4gPD0gcXRkZUNhcmdhICYmIHguVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluID49IHF0ZGVDYXJnYTsNCiAgICAgICAgICAgIGxldCBjbGllbnRlUmV0aXJhID0geC5VcmxKc29uQ29udGV4dC5jbGllbnRlX3JldGlyYSA9PSBqc0RhdGEuQ2xpZW50ZVJldGlyYTsNCiAgICAgICAgICAgIGlmIChyYW5nZSAmJiBjbGllbnRlUmV0aXJhKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgdmFyIHZhbG9yZnJldGVDYWxjID0gMDsNCiAgICAgICAgdmFyIHRpcG9fZGVfcHJlY29fbXVsdCA9ICJWYWxvciBGaXhvIjsNCiAgICAgICAgaWYgKGZpbmRSYW5nZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBGQUlYQT4+ICR7aXRlbnNfdGFiZWxhLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb31cbmApOw0KICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgUkFOR0U+PiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LmZpbmFsX3RwcmxpbiArICIgPj4gIiArIGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5pbmljaWFsX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgaWYgKGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5UaXBvRGVQcmVjb3RpcG9fZGVfcHJlY28gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRpcG9fZGVfcHJlY29fbXVsdCA9IGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5UaXBvRGVQcmVjb3RpcG9fZGVfcHJlY287IC8vMCBGSVhPIHwgMSBNVUxUSSB8IDIgUEVSQ0VOVFVBTA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gVElQTyBERSBQUkVDTyBNVUxUSVBMSUNBRE8NCiAgICAgICAgICAgIGlmICh0aXBvX2RlX3ByZWNvX211bHQgPT0gIlZhbG9yIE11bHRpcGxpY2FkbyIpIHsNCiAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IChmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfdHBybGluICogcXRkZUNhcmdhKTsNCg0KICAgICAgICAgICAgICAgIGlmIChmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSB2YWxvcmZyZXRlQ2FsYyArIGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluOw0KICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgVmFsb3IgbWluaW1vOiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluID4gMCkgew0KICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW47DQogICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBUREU6ICIgKyBmaW5kUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gVElQTyBERSBQUkVDTyBGSVhPIA0KICAgICAgICAgICAgICAgIGlmICh0aXBvX2RlX3ByZWNvX211bHQgPT0gIlZhbG9yIEZpeG8iKSB7DQogICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX3RwcmxpbjsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgVmFsb3IgbWluaW1vOiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBTT01BIFRERQ0KICAgICAgICAgICAgICAgICAgICBpZiAoZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgVERFOiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gRkFMVEEgQSBSRUdSQSANCiAgICAgICAgICAgICAgICAgICAgaWYgKHRpcG9fZGVfcHJlY29fbXVsdCA9PSAiVmFsb3IgUGVyY2VudHVhbCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuaGFzT3duUHJvcGVydHkoIk5GRXMiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuTkZFcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yTm90YSA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgaW4ganNEYXRhLk5GRXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yTm90YSArPSAoK2pzRGF0YS5ORkVzW3NdLlZhbG9yTm90YUZpc2NhbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yTm90YTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgVmFsb3IgbWluaW1vOiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTT01BIFRERQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgVERFOiAiICsgZmluZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgIEluZm9ybWHDp8O1ZXMgZGEgTkZFcyBlbnZpYWRhcyBlc3TDo28gdmF6aWFzLlxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICBJbmZvcm1hw6fDtWVzIGRhIE5GRXMgbsOjbyBmb3JhbSBlbnZpYWRhcyBwYXJhIGNhbGN1bG8gZGUgVmFsb3IgUGVyY2VudHVhbC5cbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiVElQTyBERSBQUkVDTyBzZW0gcmVncmEgZGVmaW5pZGEiICsgIlxuIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIgICAgICAgRnJldGUgY2FsY3VsYWRvOiAiICsgdmFsb3JmcmV0ZUNhbGMudG9GaXhlZCgzKSArICJcbiIpOw0KDQogICAgICAgICAgICAvL0JVU0NBIEFTIFRBWEFTDQogICAgICAgICAgICBsZXQgZmlsdHJvVGF4YXMgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgICAgIEZpZWxOYW1lOiAiSURfT05FX1JFRiIsDQogICAgICAgICAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBWYWx1ZTE6IGZpbmRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5JRF9PTkVfUkVGDQogICAgICAgICAgICB9LF0pOw0KICAgICAgICAgICAgdmFyIG9ialRheGFzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShUQVhBU0lELCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvVGF4YXMpOw0KICAgICAgICAgICAgdGF4YXNFbmNvbnRyYWRhcyA9IHRheGFzRW5jb250cmFkYXMuY29uY2F0KG9ialRheGFzKTsNCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdmFyIG9yZGVyZWRSYW5nZSA9IGl0ZW5fdGFiZWxhX3ByZWNvLnNvcnQoKGEsIGIpID0+IChhLlVybEpzb25Db250ZXh0LmZpbmFsX3RwcmxpbiA8IGIuVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluKSA/IDEgOiAoKGIuVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluIDwgYS5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW4pID8gLTEgOiAwKSkNCiAgICAgICAgICAgIHZhciBtYXggPSBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluOw0KICAgICAgICAgICAgbGV0IENsaWVudGVSZXRpcmFNYXggPSBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuY2xpZW50ZV9yZXRpcmEgPT0ganNEYXRhLkNsaWVudGVSZXRpcmE7DQoNCiAgICAgICAgICAgIGlmIChxdGRlQ2FyZ2EgPiBtYXggJiYgQ2xpZW50ZVJldGlyYU1heCkgew0KICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuVGlwb0RlUHJlY292YWxvciAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRpcG9fZGVfcHJlY29fbXVsdCA9IG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5UaXBvRGVQcmVjb3RpcG9fZGVfcHJlY287IC8vMCBGSVhPIHwgMSBNVUxUSSB8IDIgUEVSQ0VOVFVBTA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgbWF4VmFsb3JSYW5nZSA9IG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl90cHJsaW47DQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgRkFJWEE+PiAke2l0ZW5zX3RhYmVsYS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICB0aXBvX2RlX3ByZWNvX211bHQgIT0gIlZhbG9yIFBlcmNlbnR1YWwiID8gTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgQ2FsY3VsYW5kbyBjb20gdmFsb3IgZXhjZWRlbnRlXG4iKSA6ICIiOw0KICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgIFJBTkdFPj4gIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC5maW5hbF90cHJsaW4gKyAiID4+ICIgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuaW5pY2lhbF90cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICB2YXIgZXhjZWRlbnRlID0gcXRkZUNhcmdhIC0gb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LmZpbmFsX3RwcmxpbjsNCiAgICAgICAgICAgICAgICB2YXIgdmFsb3JFeGNlZGVudGUgPSAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX2FkaWNpb25hbF90cHJsaW4gKiBleGNlZGVudGUpOw0KDQogICAgICAgICAgICAgICAgLy8gVElQTyBERSBQUkVDTyBNVUxUSVBMSUNBRE8NCiAgICAgICAgICAgICAgICBpZiAodGlwb19kZV9wcmVjb19tdWx0ID09ICJWYWxvciBNdWx0aXBsaWNhZG8iKSB7DQogICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gKG1heFZhbG9yUmFuZ2UgKiBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQuZmluYWxfdHBybGluKSArIHZhbG9yRXhjZWRlbnRlOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBTb21hbmRvIHZhbG9yIG3DrW5pbW8gIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluICsgIlxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IHZhbG9yZnJldGVDYWxjICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gU09NQSBUREUNCiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSB2YWxvcmZyZXRlQ2FsYyArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFNvbWFuZG8gVERFICIgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIEZyZXRlIGNhbGN1bGFkbzogIiArIHZhbG9yZnJldGVDYWxjLnRvRml4ZWQoMykgKyAiXG4iKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvLyBUSVBPIERFIFBSRUNPIEZJWE8gDQogICAgICAgICAgICAgICAgICAgIGlmICh0aXBvX2RlX3ByZWNvX211bHQgPT0gIlZhbG9yIEZpeG8iKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfdHBybGluKSArIHZhbG9yRXhjZWRlbnRlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFNvbWFuZG8gdmFsb3IgbWluaW1vICIgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yZnJldGVDYWxjID0gdmFsb3JmcmV0ZUNhbGMgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfbWluaW1vX3RwcmxpbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNPTUEgVERFDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSB2YWxvcmZyZXRlQ2FsYyArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBTb21hbmRvIFRERSAiICsgb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRJUE8gREUgUFJFQ08gUEVSQ0VOVFVBTCANCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXBvX2RlX3ByZWNvX211bHQgPT0gIlZhbG9yIFBlcmNlbnR1YWwiKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9IChvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudmFsb3JfdHBybGluKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc0RhdGEuaGFzT3duUHJvcGVydHkoIk5GRXMiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNEYXRhLk5GRXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JOb3RhID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgaW4ganNEYXRhLk5GRXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvck5vdGEgKz0gKCtqc0RhdGEuTkZFc1tzXS5WYWxvck5vdGFGaXNjYWwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9yY2VudFZhbG9yRGV2b2x1Y2FvID0gKG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9wZXJjZW50dWFsXyAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvcmZyZXRlQ2FsYyA9ICh2YWxvck5vdGEgKiBwb3JjZW50VmFsb3JEZXZvbHVjYW8pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnZhbG9yX21pbmltb190cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIFZhbG9yIG1pbmltbzogIiArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluICsgIlxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSB2YWxvcmZyZXRlQ2FsYyArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC52YWxvcl9taW5pbW9fdHBybGluOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LnRkZV90cHJsaW4gPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3JmcmV0ZUNhbGMgPSB2YWxvcmZyZXRlQ2FsYyArIG9yZGVyZWRSYW5nZVswXS5VcmxKc29uQ29udGV4dC50ZGVfdHBybGluOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIiAgICAgICBUREU6ICIgKyBvcmRlcmVkUmFuZ2VbMF0uVXJsSnNvbkNvbnRleHQudGRlX3RwcmxpbiArICJcbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiTkZFcyBlbSBicmFuY28gXG4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIlRJUE8gREUgUFJFQ08gc2VtIHJlZ3JhIGRlZmluaWRhIFxuIik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodmFsb3JmcmV0ZUNhbGMgPiAwKSB7DQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiICAgICAgIEZyZXRlIGNhbGN1bGFkbzogIiArIHZhbG9yZnJldGVDYWxjLnRvRml4ZWQoMykgKyAiXG4iKTsNCiAgICAgICAgICAgICAgICAvL0JVU0NBIEFTIFRBWEFTDQogICAgICAgICAgICAgICAgbGV0IGZpbHRyb1RheGFzID0gSlNPTi5zdHJpbmdpZnkoW3sNCiAgICAgICAgICAgICAgICAgICAgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwNCiAgICAgICAgICAgICAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgICAgIFZhbHVlMTogb3JkZXJlZFJhbmdlWzBdLlVybEpzb25Db250ZXh0LklEX09ORV9SRUYNCiAgICAgICAgICAgICAgICB9LF0pOw0KICAgICAgICAgICAgICAgIGxldCBvYmpUYXhhcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oVEFYQVNJRCwganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb1RheGFzKTsNCiAgICAgICAgICAgICAgICB0YXhhc0VuY29udHJhZGFzID0gdGF4YXNFbmNvbnRyYWRhcy5jb25jYXQob2JqVGF4YXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vU09NTyBPIFZBTE9SIENBTENVTEFETyBOTyBWYWxvckJhc2VEZUNhbGN1bG8NCiAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IHZhbG9yZnJldGVDYWxjOw0KICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG9DYWNoZSArPSB2YWxvcmZyZXRlQ2FsYzsNCiAgICAgICAgaWYgKHVsdGltYUZhaXhhICYmIFZhbG9yQmFzZURlQ2FsY3VsbyA9PSAwKSB7DQogICAgICAgICAgICBpZiAoVmFsb3JCYXNlRGVDYWxjdWxvID09IDApIHsNCiAgICAgICAgICAgICAgICBsZXQgY2xpZW50ZWRlc2MgPSBqc0RhdGEuQ2xpZW50ZVJldGlyYSA9PSAnMScgPyAnU2ltJyA6ICdOw6NvJw0KICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYEVSUk86IE7Do28gZm9pIGVuY29udHJhZG8gcmFuZ2UgY29tIGEgY2FyZ2EgJHtxdGRlQ2FyZ2F9IG91IHJhbmdlIGNvbSBDbGllbnRlIFJldGlyYSAke2NsaWVudGVkZXNjfVxuYCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgLy9zZSBmb2kgcmVjZWJpZG8gbyB2YWxvciBkbyBmcmV0ZSBhc3N1bWUgbyByZWNlYmlkby4gDQogICAgZWxzZSB7DQogICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyA9IGpzRGF0YS5WYWxvckZyZXRlOw0KICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG9DYWNoZSA9IGpzRGF0YS5WYWxvckZyZXRlOw0KICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBWYWxvciBkbyBGcmV0ZSBFbnZpYWRvIGRvIFNJUyBQcmVzdGV4OiAke2pzRGF0YS5WYWxvckZyZXRlfVxuYCk7DQogICAgfQ0KICAgIC8vVkVSSUZJQ08gU0Ugw4kgQSBVTFRJTUEgRkFJWEEgdm91IGNhbGN1bGFyIG8gSUNNUw0KICAgIGlmICh1bHRpbWFGYWl4YSAmJiBWYWxvckJhc2VEZUNhbGN1bG8gPiAwKSB7DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfZG9fZnJldGUgPSArVmFsb3JCYXNlRGVDYWxjdWxvLnRvRml4ZWQoMyk7DQogICAgICAgIGxldCBVRk9yaWdlbSA9IG9iakNUZU5hb0VtaXRpZG8uVUZfT1JJR0VNOw0KICAgICAgICBsZXQgbXVuaWNpcGlvT3JpZ2VtID0gb2JqQ1RlTmFvRW1pdGlkby5NVU5JQ0lQSU9fT1JJR0VNOw0KICAgICAgICBsZXQgVUZEZXN0aW5vID0gb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5POw0KICAgICAgICBsZXQgbXVuaWNpcGlvRGVzdGlubyA9IG9iakNUZU5hb0VtaXRpZG8uTVVOSUNJUElPX0RFU1RJTk87DQoNCiAgICAgICAgLy9TZSBvdXZlciB0YXhhcywgcmV0aXJhciBhcyByZXBldGlkYXMuDQogICAgICAgIGlmICh0YXhhc0VuY29udHJhZGFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGxldCB0YXhhc0ZpbHRyYWRhcyA9IFtdOw0KICAgICAgICAgICAgZm9yIChsZXQgcyBpbiB0YXhhc0VuY29udHJhZGFzKSB7DQogICAgICAgICAgICAgICAgbGV0IGNvbnRlbSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IGogaW4gdGF4YXNGaWx0cmFkYXMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRheGFzRmlsdHJhZGFzW2pdLlVybEpzb25Db250ZXh0LlRYbm9tZV9kYV90YXhhX190YXhhID09IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCFjb250ZW0pIHsNCiAgICAgICAgICAgICAgICAgICAgdGF4YXNGaWx0cmFkYXMucHVzaCh0YXhhc0VuY29udHJhZGFzW3NdKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0YXhhc0VuY29udHJhZGFzID0gdGF4YXNGaWx0cmFkYXM7DQogICAgICAgIH0NCg0KICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCIrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuIik7DQogICAgICAgIGxldCBBRFZhbG9yZW0gPSAoanNEYXRhLlZhbG9yRnJldGUgPiAwKSA/IGpzRGF0YS5Qb3JjZW50YWdlbUFkVmFsb3JlbSA6IGl0ZW5zX3RhYmVsYS5VcmxKc29uQ29udGV4dC5hZF92YWxvcmVtX3RwcjsNCiAgICAgICAgbGV0IHRvdGFsVGF4YUFkVmFsb3JlbSA9IDA7DQoNCiAgICAgICAgaWYgKEFEVmFsb3JlbSkgew0KICAgICAgICAgICAgaWYgKGpzRGF0YS5ORkVzKSB7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBqc0RhdGEuTkZFcykgew0KICAgICAgICAgICAgICAgICAgICB0b3RhbFRheGFBZFZhbG9yZW0gKz0gKCtqc0RhdGEuTkZFc1tzXS5WYWxvck5vdGFGaXNjYWwpICogKEFEVmFsb3JlbSAvIDEwMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYEFEIFZhbG9yZW0gY2FsY3VsYWRvICR7dG90YWxUYXhhQWRWYWxvcmVtLnRvRml4ZWQoMyl9XG5gKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiTsOjbyBow6EgaW5mb3JtYcOnw7VlcyBkZSBORkVzIHBhcmEgY2FsY3VsYXIgQUQgVmFsb3JlbS5cbiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vVEFYQSAtIGFwbGljYXIgdGF4YXMgcXVlIGVzdGFvIGRlbnRybyBkbyBJQ01TOw0KICAgICAgICBmb3IgKGxldCBzIGluIHRheGFzRW5jb250cmFkYXMpIHsNCiAgICAgICAgICAgIGlmICh0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYaW5jbHVzb19ub19pY21zID09ICdzaW0nKSB7DQogICAgICAgICAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yID09ICdwb3JjZW50YWdlbScpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcmNlbnRhZ2VtID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBvcmNlbnRhZ2VtOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlID09ICd2YWxvckZyZXRlJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbG9yVGF4YSA9IFZhbG9yQmFzZURlQ2FsY3Vsb0NhY2hlICogKHBvcmNlbnRhZ2VtIC8gMTAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyArPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqUG9zdCA9IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpQb3N0LnZhbG9ydGF4YSA9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIE9ialRheGFzUG9zdC5wdXNoKG9ialBvc3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9MT0cgVEFYQQ0KICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgTm9tZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGF9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBUaXBvIGRlIFZhbG9yOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHRpcG9fZGVfdmFsb3JfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFBvcmNlbnRhZ2VtIFNvYnJlOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBWYWxvciBkYSBUYXhhOiR7dmFsb3JUYXhhfVxuYCk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlID09ICd2YWxvck5vdGEnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNEYXRhLmhhc093blByb3BlcnR5KCdORkVzJykgfHwganNEYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsb3JOb3RhID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsb3JUYXhhID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqIGluIGpzRGF0YS5ORkVzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yTm90YSArPSAoK2pzRGF0YS5ORkVzW2pdLlZhbG9yTm90YUZpc2NhbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yVGF4YSA9IHZhbG9yTm90YSAqIChwb3JjZW50YWdlbSAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqUG9zdCA9IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqUG9zdC52YWxvcnRheGEgPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqVGF4YXNQb3N0LnB1c2gob2JqUG9zdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9MT0cgVEFYQQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLmxlbmd0aCA+IDEgPyBMb2dUYXhhcy5wdXNoKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJykgOiAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBOb21lOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWG5vbWVfZGFfdGF4YV9fdGF4YX0uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBUaXBvIGRlIFZhbG9yOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHRpcG9fZGVfdmFsb3JfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBQb3JjZW50YWdlbSBTb2JyZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhwZXJjZW50YWdlbV9zb2JyZV9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFZhbG9yIGRhIFRheGE6JHt2YWxvclRheGF9XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYE5vbWU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYbm9tZV9kYV90YXhhX190YXhhfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFBvcmNlbnRhZ2VtIFNvYnJlOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgRVJSTzogQ1RFIG5hbyBwb3NzdWkgTkZFcyBhc3NvY2lhZGFzLlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yID09ICd2YWxvckZpeG8nKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCB2YWxvclRheGEgPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdmFsb3I7DQogICAgICAgICAgICAgICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyArPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgIGxldCBvYmpQb3N0ID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgb2JqUG9zdC52YWxvcnRheGEgPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgIE9ialRheGFzUG9zdC5wdXNoKG9ialBvc3QpOw0KICAgICAgICAgICAgICAgICAgICAvL0xPRyBUQVhBDQogICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLmxlbmd0aCA+IDEgPyBMb2dUYXhhcy5wdXNoKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJykgOiAnJzsNCiAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgTm9tZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGF9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFRpcG8gZGUgVmFsb3I6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYdGlwb19kZV92YWxvcl9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBWYWxvciBkYSBUYXhhOiR7dmFsb3JUYXhhfVxuYCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IHRvdGFsVGF4YUFkVmFsb3JlbTsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5lZF92YWxvcmVuID0gdG90YWxUYXhhQWRWYWxvcmVtOw0KICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmFkX3ZhbG9yZW1fcG9yY2VudGFuZ2VtID0gQURWYWxvcmVtOw0KDQoNCiAgICAgICAgbGV0IGFsaXF1b3RhSUNNUyA9IG9iakNUZU5hb0VtaXRpZG8ucGVyY19pY21zX2N0ZTsNCiAgICAgICAgbGV0IGFsaXF1b3RhQ3JlZGl0b1ByZXN1bWlkbyA9IDA7DQogICAgICAgIGxldCBiYXNlTGVnYWxDcmVkaXRvUHJlc3VtaWRvID0gJyc7DQogICAgICAgIC8vQlVTQUNBIE8gTElTVEEgREUgVEFCRUxBUyBERSBJQ01TDQoNCiAgICAgICAgdmFyIHRhYmxlX2ljbXMgPSBhd2FpdCBQZXNxdWlzYUVtQ2FjaGUoanNEYXRhLCBbXSwgVEFCRUxBX0lDTVMpOw0KICAgICAgICB2YXIgaWNtcyA9IHRhYmxlX2ljbXMuZmluZCh4ID0+IHguVXJsSnNvbkNvbnRleHQudWZfZGVfb3JpZ2VtX2ljbXMgPT0gb2JqQ1RlTmFvRW1pdGlkby5VRl9PUklHRU0pOw0KICAgICAgICBhbGlxdW90YUlDTVMgPSBpY21zLlVybEpzb25Db250ZXh0WydhbGlxdW90YV8nICsgb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5PLnRvTG93ZXJDYXNlKCldOw0KICAgICAgICBhbGlxdW90YUNyZWRpdG9QcmVzdW1pZG8gPSBpY21zLlVybEpzb25Db250ZXh0LmNyZWRpdG9fcHJlc3VtaWRvOw0KICAgICAgICBiYXNlTGVnYWxDcmVkaXRvUHJlc3VtaWRvID0gaWNtcy5VcmxKc29uQ29udGV4dC5iYXNlX2xlZ2FsX2NyZWRpdG9fcHJlc3VtaWRvOw0KDQogICAgICAgIC8vRlJFVEUgSU5URVJNVU5JQ0lQQUwNCiAgICAgICAgbGV0IElDTVNJc2VudG8gPSBmYWxzZTsNCiAgICAgICAgLy92ZXJpZmljbyBzZSBubyBJQ01TIGZvaSBzZXRhZG8gcXVlIG8gZXN0YWRvIHRlbSBpc2VuY2FvIHBhcmEgdHJhbnNwb3J0ZSBpbnRlcm11bmljaXBhbC4NCiAgICAgICAgaWYgKGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJtdW5pY2lwYWxfaXNlbnRvID09ICdzaW0nKSB7DQogICAgICAgICAgICAvL3ZlcmlmaWNvIHNlIG9zIE11bmljaXBpb3MgZSBvcyBlc3RhZG8gc2FvIGlndWFpcy4NCiAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLlVGX09SSUdFTSA9PSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8pIHsNCiAgICAgICAgICAgICAgICAvL1ZlcmlmaWNvIHNlIG8gaW5kaWNhZG9yIElFIGRvIHRvbWFkb3Igw6kgaWd1YWwgYW8gaW5kaWNhZG9yIElFIHNldGFkbyBubyBJQ01TLg0KICAgICAgICAgICAgICAgIGlmICgob2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlID09IGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJtdW5pY2lwYWxfcGFyYV9pbmRpY2Fkb3JfSUUpICYmIChvYmpDVGVOYW9FbWl0aWRvLkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX190b21hZG9yX3VmX2xvZ3JhZG91cm9fY3RlID09IGljbXMuVXJsSnNvbkNvbnRleHQudWZfZGVfb3JpZ2VtX2ljbXMpKSB7DQogICAgICAgICAgICAgICAgICAgIC8vVmVyaWZpY28gc2UgZm9pIHNldGFkYSBhIGNvbnNpY2FvIGRlIFNpbXBsZXMgbmFjaW5hbCBubyBJQ01TLg0KICAgICAgICAgICAgICAgICAgICBpZiAoaWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcm11bmljaXBhbF9zaW1wbGVzX25hY2luYWwgIT0gJ25hb1NlbGVjaW9uYWRvJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9zZSBmb2kgc2V0YWRvIGEgY29uZGljYW8gbm8gaWNtcywgZXUgdmVyaWZpY28gc2UgbyBzaW1wbGVzIGRvIHRvbWFkb3Igw6kgaWd1YWwgYW8gc2ltcGxlcyBzZXRhZG8gbm8gSUNNUy4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LmludGVybXVuaWNpcGFsX3NpbXBsZXNfbmFjaW5hbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvZGFzIGFzIGNvbmRpY29lcyB0cnVlIElDTVNJc2VudG8gdHJ1ZS4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJQ01TSXNlbnRvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUcmFuc3BvcnRlIGludGVybXVuaWNpcGFsIGlzZW50byBkZSBJQ01TLlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgICAgRGVzY3Jpw6fDo28gaW50ZXJtdW5pY2lwYWwgaXNlbnRvIGRlIElDTVM6ICR7aWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcm11bmljaXBhbF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCAke2ljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJtdW5pY2lwYWxfZGVzY3JpY2FvfSB8YDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBzZSBuYW8gZm9pIGFkaWNpbmFkbyBjb25kaWNhbyBkZSBzaW1wbGVzLCBJQ01TSXNlbnRvIHRydWUuIA0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIElDTVNJc2VudG8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVHJhbnNwb3J0ZSBpbnRlcm11bmljaXBhbCBpc2VudG8gZGUgSUNNUy5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgICAgRGVzY3Jpw6fDo28gaW50ZXJtdW5pY2lwYWwgaXNlbnRvIGRlIElDTVM6ICR7aWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcm11bmljaXBhbF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgKz0gYHwgJHtpY21zLlVybEpzb25Db250ZXh0LmludGVybXVuaWNpcGFsX2Rlc2NyaWNhb30gfGA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL0ZSRVRFIElOVEVSRVNUQURVQUwNCiAgICAgICAgLy9WZXJpZmljbyBzZSBmb2kgYWRpY2lvbmFkYSBhIGNvbmRpY2FvIGRlIGlzZW5jYW8gaW50ZXJFc3RhZHVhbC4NCiAgICAgICAgaWYgKGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9pc2VudG8gPT0gJ3NpbScpIHsNCiAgICAgICAgICAgIC8vIFZlcmlmaWNvIHNlIG8gdHJhbnBvcnRlIMOpIGludGVyZXN0YWR1YWwuDQogICAgICAgICAgICBpZiAoKG9iakNUZU5hb0VtaXRpZG8uUEFJU19PUklHRU0gPT0gb2JqQ1RlTmFvRW1pdGlkby5QQUlTX0RFU1RJTk8pICYmIChvYmpDVGVOYW9FbWl0aWRvLlVGX09SSUdFTSAhPSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8pKSB7DQogICAgICAgICAgICAgICAgLy9WZXJpZmljbyBzZSBvIGluZGljYWRvciBpZSBkbyB0b21hZG9yIMOpIGlndWFsIGFvIGluZGljYWRvciBJRSBzZXRhZG8gbm8gSUNNUyBlIG8gdG9tYWRvciB0ZW0gaW5zY2NyaWNhbyBubyBlc3RhZG8gZGUgb3JpZ2VtLg0KICAgICAgICAgICAgICAgIGlmICgob2JqQ1RlTmFvRW1pdGlkby5FTVBpbmRpY2Fkb3JfZGVfaWVfdG9tYWRvcl9faW5kaWNhZG9yX2llX3RvbWFkb3JfY3RlID09IGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9wYXJhX2luZGljYWRvcl9JRSkgJiYgKG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUgPT0gaWNtcy5VcmxKc29uQ29udGV4dC51Zl9kZV9vcmlnZW1faWNtcykpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9WZXJpZmljbyBzZSBmb2kgYWRpY2lvbmFkYSBhIGNvbmRpY2FvIGRlIHNpbXBsZXMgbm8gSUNNUy4NCiAgICAgICAgICAgICAgICAgICAgaWYgKGljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9zaW1wbGVzX25hY2lvbmFsICE9ICduYW9TZWxlY2lvbmFkbycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmVyaWZpY28gc2UgbyBzaW1wbGVzIGRvIHRvbWFkb3Igw6kgaWd1YWwgYW8gU0ltcGxlcyBzZXRhZG8gbm8gSUNNUy4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpDVGVOYW9FbWl0aWRvLkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LmludGVyZXN0YWR1YWxfc2ltcGxlc19uYWNpb25hbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ29uZGljb2VzIHZlcmRhZGVpcmFzIElDTVNJc2VudG8gdHJ1ZS4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJQ01TSXNlbnRvID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUcmFuc3BvcnRlIGludGVyZXN0YWR1YWwgaXNlbnRvIGRlIElDTVMuXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGAgICBEZXNjcmnDp8OjbyBpbnRlcmVzdGFkdWFsIGlzZW50byBkZSBJQ01TOiAke2ljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCAke2ljbXMuVXJsSnNvbkNvbnRleHQuaW50ZXJlc3RhZHVhbF9kZXNjcmljYW99IHxgOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vU2UgbmFvIGZvaSBhZGljaW9uYWRvIHBhcmFtZXRybyBkZSBTaW1wbGVzIG5vIElDTVMgSUNNU0lzZW50byB0cnVlLg0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIElDTVNJc2VudG8gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVHJhbnNwb3J0ZSBpbnRlcmVzdGFkdWFsIGlzZW50byBkZSBJQ01TLmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgICAgRGVzY3Jpw6fDo28gaW50ZXJlc3RhZHVhbCBpc2VudG8gZGUgSUNNUzogJHtpY21zLlVybEpzb25Db250ZXh0LmludGVyZXN0YWR1YWxfZGVzY3JpY2FvfVxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlICs9IGB8ICR7aWNtcy5VcmxKc29uQ29udGV4dC5pbnRlcmVzdGFkdWFsX2Rlc2NyaWNhb30gfGA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL1NVQlNUSVRVSUNBTyBUUklCVVRBUklBDQogICAgICAgIGxldCBzdWJzdGl0dWljYW9UcmlidXRhcmlhID0gZmFsc2U7DQogICAgICAgIC8vc2Ugbm8gSUNNUyBmb3Igc2V0YWRvIHNpbSBwYXJhIFNUDQogICAgICAgIGlmIChpY21zLlVybEpzb25Db250ZXh0LnN1YnN0aXR1aWNhb190cmlidXRhcmlhID09ICJzaW0iKSB7DQogICAgICAgICAgICAvL1RpcG8gZGUgZnJldGUgZG8gQ1RFDQogICAgICAgICAgICBsZXQgdGlwb0ZyZXRlQ1RlID0gKG9iakNUZU5hb0VtaXRpZG8ucmVzcG9uc2F2ZWxfZnJldGVfY3RlID09ICdkZXN0aW5hdGFyaW8nID8gJ2ZvYicgOiAnY2lmJyk7DQogICAgICAgICAgICAvL3NlIHRpcG8gZGUgZnJldGUgZG8gQ1RFIGZvciBpZ3VhbCBhbyB0aXBvIGRlIGZyZXRlIGRlZmluaWRvIG5vIGlDTVMNCiAgICAgICAgICAgIGlmICh0aXBvRnJldGVDVGUgPT0gaWNtcy5VcmxKc29uQ29udGV4dC50aXBvX2RlX2ZyZXRlKSB7DQogICAgICAgICAgICAgICAgLy9WZXJpZmljbyBzZSBvIEluZGljYWRvciBJRSBkbyB0b21hZG9yIGNvbmRpeiBjb20gbyBpbmRpY2Fkb3IgSUUgZGVmaW5pZG8uDQogICAgICAgICAgICAgICAgbGV0IGluZGljYWRvcklFSUNNU19YX0luZGljYWRvcklFVG9tYWRvciA9ICgNCiAgICAgICAgICAgICAgICAgICAgKG9iakNUZU5hb0VtaXRpZG8uRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LlNUX3BhcmFfaW5kaWNhZG9yX0lFKSAmJg0KICAgICAgICAgICAgICAgICAgICAob2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSA9PSBpY21zLlVybEpzb25Db250ZXh0LnVmX2RlX29yaWdlbV9pY21zKQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgaWYgKGluZGljYWRvcklFSUNNU19YX0luZGljYWRvcklFVG9tYWRvcikgew0KICAgICAgICAgICAgICAgICAgICBsZXQgU05fbmFvU2VsZWNpb25hZG8gPSAoaWNtcy5VcmxKc29uQ29udGV4dC5TVF9zaW1wbGVzX25hY2lvbmFsID09ICduYW9TZWxlY2lvbmFkbycpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgU04gPSAob2JqQ1RlTmFvRW1pdGlkby5FTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGUgPT0gaWNtcy5VcmxKc29uQ29udGV4dC5TVF9zaW1wbGVzX25hY2lvbmFsKTsNCiAgICAgICAgICAgICAgICAgICAgLy9TZSBTTiBuYW8gZm9pIHNlbGVjaW9uYWRvIG91IGZvaSBzZWxlY2lvbmFkbyBlIGNvbmRpeiBjb20gbyBTTiBkbyB0b21hZG9yDQogICAgICAgICAgICAgICAgICAgIGlmIChTTl9uYW9TZWxlY2lvbmFkbyB8fCBTTikgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHVpY2FvVHJpYnV0YXJpYSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUcmlidXRhZGEgZSBjb20gY29icmFuw6dhIGRvIElDTVMgcG9yIFNUXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYCAgIERlc2NyacOnw6NvIFN1YnN0aXR1acOnw6NvIFRyaWJ1dMOhcmlhOiR7aWNtcy5VcmxKc29uQ29udGV4dC5TVF9kZXNjcmljYW99XG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgKz0gYHwgJHtpY21zLlVybEpzb25Db250ZXh0LlNUX2Rlc2NyaWNhb30gfGANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vRElGQUwNCiAgICAgICAgbGV0IGRpZmFsID0gZmFsc2U7DQogICAgICAgIGxldCBmZWNvcCA9IGZhbHNlOw0KICAgICAgICBsZXQgYWxpcXVvdGFEaWZhbCA9IDA7DQogICAgICAgIGxldCBUYWJlbGFJQ01TRGVzdGlubyA9IHRhYmxlX2ljbXMuZmluZCh4ID0+IHguVXJsSnNvbkNvbnRleHQudWZfZGVfb3JpZ2VtX2ljbXMgPT0gVUZEZXN0aW5vKTsNCiAgICAgICAgbGV0IGFsaXF1b3RhSW50ZXJuYURlc3Rpbm8gPSBUYWJlbGFJQ01TRGVzdGluby5VcmxKc29uQ29udGV4dFtgYWxpcXVvdGFfJHtVRkRlc3Rpbm8udG9Mb3dlckNhc2UoKX1gXTsNCiAgICAgICAgbGV0IGZpbHRyb0VzdGFkb0Rlc3Rpbm8gPSBnZXJhckZpbHRybygnZXN0YWRvX3VmJywgb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5PKTsNCiAgICAgICAgbGV0IFJlZ2lzdHJvRXN0YWRvRGVzdGlubyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oREFET1NfUEFJU19FU1RBRE8sIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9Fc3RhZG9EZXN0aW5vKTsNCiAgICAgICAgbGV0IGFsaXF1b3RhRmVjb3AgPSAwOw0KICAgICAgICBpZiAoUmVnaXN0cm9Fc3RhZG9EZXN0aW5vICYmIFJlZ2lzdHJvRXN0YWRvRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5kaWZlcmVuY2lhbF9kZV9hbGlxdW90YSA9PSAnc2ltJykgew0KICAgICAgICAgICAgLy8gc2UgZm9yIHRyYW5zcG9ydGUgaW50ZXJlc3RhZHVhbA0KICAgICAgICAgICAgaWYgKFVGT3JpZ2VtICE9IFVGRGVzdGlubykgew0KICAgICAgICAgICAgICAgIC8vU8OzIGhhdmVyYSBkaWZhbCBzZSBvIHRvbWFkb3IgZm9yIG91dHJvcyBvdSBkZXN0aW5hdGFyaW8uDQogICAgICAgICAgICAgICAgaWYgKG9iakNUZU5hb0VtaXRpZG8ucmVzcG9uc2F2ZWxfZnJldGVfY3RlID09ICdkZXN0aW5hdGFyaW8nIHx8IG9iakNUZU5hb0VtaXRpZG8ucmVzcG9uc2F2ZWxfZnJldGVfY3RlID09ICdvdXRyb3MnKSB7DQogICAgICAgICAgICAgICAgICAgIC8vVmFsaWRhY2FvfCAgdG9tYWRvckNvbnRyaWJ1aW50ZV9ERVNUSU5PIFNlcsOhIHZlcmRhZGVpcm8gcXVhbmRvIGEgVUYgZGUgZGVzdGlubyBmb3IgZGlmZXJlbnRlIGRhIFVGIGRvIHRvbWFkb3IgT1UgVUYgREVTVElOTyBmb3IgaWd1YWwgbWFzIG8gaW5kaWNhZG9yIElFIGZvciBuYW9Db250cmlidWludGUuDQogICAgICAgICAgICAgICAgICAgIGxldCB0b21hZG9yQ29udHJpYnVpbnRlX0RFU1RJTk8gPSAoDQogICAgICAgICAgICAgICAgICAgICAgICAob2JqQ1RlTmFvRW1pdGlkby5FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSAhPSBvYmpDVGVOYW9FbWl0aWRvLlVGX0RFU1RJTk8pIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9iakNUZU5hb0VtaXRpZG8uRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX3RvbWFkb3JfdWZfbG9ncmFkb3Vyb19jdGUgPT0gb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5PKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvYmpDVGVOYW9FbWl0aWRvLkVNUGluZGljYWRvcl9kZV9pZV90b21hZG9yX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGUgPT0gJ05hb0NvbnRyaWJ1aW50ZScpDQogICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgIGlmICh0b21hZG9yQ29udHJpYnVpbnRlX0RFU1RJTk8pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGlxdW90YUludGVybmFEZXN0aW5vIC0gYWxpcXVvdGFJQ01TID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmFsID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlxdW90YURpZmFsID0gYWxpcXVvdGFJbnRlcm5hRGVzdGlubyAtIGFsaXF1b3RhSUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUmVnaXN0cm9Fc3RhZG9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0LmFsaXF1b3RhX2ZlY29wICYmIFJlZ2lzdHJvRXN0YWRvRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5hbGlxdW90YV9mZWNvcCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVjb3AgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlxdW90YUZlY29wID0gUmVnaXN0cm9Fc3RhZG9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0LmFsaXF1b3RhX2ZlY29wOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRElGQUwgTkFPIExJTVBBIEZJU0NPDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBEaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGEgQXBsaWNhZG8gXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGAgICBEZXNjcmnDp8OjbyBEaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGE6JHtSZWdpc3Ryb0VzdGFkb0Rlc3Rpbm9bMF0uVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvX2RpZmVyZW5jaWFsX2RlX2FsaXF1b3RhfVxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCAke1JlZ2lzdHJvRXN0YWRvRGVzdGlub1swXS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW9fZGlmZXJlbmNpYWxfZGVfYWxpcXVvdGF9IHxgDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoSUNNU0lzZW50bykgew0KICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jc3RfY3RlID0gJzQwJzsNCiAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uY3N0X2N0ZV9kZXNjID0gJzQwIC0gSXNlbnRhICc7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAoIWpzRGF0YS5WYWxvcklDTVMpIHsNCiAgICAgICAgICAgICAgICB2YXIgVmFsb3JJQ01TID0gMDsNCiAgICAgICAgICAgICAgICB2YXIgVmFsb3JEaWZhbCA9IDA7DQogICAgICAgICAgICAgICAgdmFyIFZhbG9yRmVjb3AgPSAwOw0KICAgICAgICAgICAgICAgIHZhciBWYWxvckNyZWRpdG9QcmVzdW1pZG8gPSAwDQogICAgICAgICAgICAgICAgbGV0IGljbXNJbmNsdXNvID0gVmFsb3JGcmV0ZVByb250byA/IHRydWUgOiBpdGVuc190YWJlbGEuVXJsSnNvbkNvbnRleHQuaWNtc19pbmNsdXNvX3RwciA9PSAic2ltIjsNCiAgICAgICAgICAgICAgICBpZiAoaWNtc0luY2x1c28pIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFkaWZhbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFRheGFJQ01TID0gMSAtIChhbGlxdW90YUlDTVMgLyAxMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JJQ01TID0gKChWYWxvckJhc2VEZUNhbGN1bG8gLyBUYXhhSUNNUykgLSBWYWxvckJhc2VEZUNhbGN1bG8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IFZhbG9ySUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9yQ3JlZGl0b1ByZXN1bWlkbyA9IChWYWxvcklDTVMgKiAoYWxpcXVvdGFDcmVkaXRvUHJlc3VtaWRvIC8gMTAwKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYElDTVMgY2FsY3VsYWRvOiAke1ZhbG9ySUNNUy50b0ZpeGVkKDMpfSBcbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVmFsb3IgQmFzZSBkZSBDw6FsY3VsbzogJHtWYWxvckJhc2VEZUNhbGN1bG8udG9GaXhlZCgzKX0gXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChkaWZhbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRheGFEaWZhbCA9IDEgLSAoKGFsaXF1b3RhSW50ZXJuYURlc3Rpbm8gKyBhbGlxdW90YUZlY29wKSAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICBWYWxvckJhc2VEZUNhbGN1bG8gPSAoVmFsb3JCYXNlRGVDYWxjdWxvIC8gdGF4YURpZmFsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9ySUNNUyA9IFZhbG9yQmFzZURlQ2FsY3VsbyAqIChhbGlxdW90YUlDTVMgLyAxMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JDcmVkaXRvUHJlc3VtaWRvID0gKFZhbG9ySUNNUyAqIChhbGlxdW90YUNyZWRpdG9QcmVzdW1pZG8gLyAxMDApKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goYElDTVMgY2FsY3VsYWRvOiAke1ZhbG9ySUNNUy50b0ZpeGVkKDMpfSBcbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVmFsb3IgQmFzZSBkZSBDw6FsY3VsbzogJHtWYWxvckJhc2VEZUNhbGN1bG8udG9GaXhlZCgzKX0gXG5gKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxvciBkYSBCYXNlIGRlIEPDoWxjdWxvDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX2Jhc2VfY2FsY191Zl9maW1fY3RlID0gVmFsb3JCYXNlRGVDYWxjdWxvOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9BbGlxdW90YSBpbnRlcm5hIA0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5wZXJjX2ljbXNfdWZfZmltX2N0ZSA9IGFsaXF1b3RhSW50ZXJuYURlc3Rpbm87DQogICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRvIElDTVMNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfaWNtc191Zl9maW1fY3RlID0gKFZhbG9yQmFzZURlQ2FsY3VsbyAqIChhbGlxdW90YURpZmFsIC8gMTAwKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAvL0Fsw61xdW90YSBkbyBJQ01TDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmFsaXF1b3RhX2ludGVyX2VzdGFkdWFsX2N0ZSA9IGFsaXF1b3RhSUNNUzsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JEaWZhbCA9IG9iakNUZU5hb0VtaXRpZG8udmFsb3JfaWNtc191Zl9maW1fY3RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgRElGQUwgY2FsY3VsYWRvOiAke1ZhbG9yRGlmYWwudG9GaXhlZCgzKX0gXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUgKz0gYHwgVmFsb3IgRElGQUw6IFIkJHtWYWxvckRpZmFsLnRvRml4ZWQoMykucmVwbGFjZSgiLiIsICIsIil9IHxgDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVjb3ApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnBlcmNfZmNwX3VmX2ZpbV9jdGUgPSBhbGlxdW90YUZlY29wOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfZmNwX3VmX2ZpbV9jdGUgPSBWYWxvckJhc2VEZUNhbGN1bG8gKiAoYWxpcXVvdGFGZWNvcCAvIDEwMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsb3JGZWNvcCA9IG9iakNUZU5hb0VtaXRpZG8udmFsb3JfZmNwX3VmX2ZpbV9jdGU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgRmVjb3AgY2FsY3VsYWRvOiAke29iakNUZU5hb0VtaXRpZG8udmFsb3JfZmNwX3VmX2ZpbV9jdGUudG9GaXhlZCgzKX0gXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZmlzY29fY3RlICs9IGB8IFZhbG9yIEZFQ09QOiBSJCR7b2JqQ1RlTmFvRW1pdGlkby52YWxvcl9mY3BfdWZfZmltX2N0ZS50b0ZpeGVkKDMpLnJlcGxhY2UoIi4iLCAiLCIpfSB8YA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnN0aXR1aWNhb1RyaWJ1dGFyaWEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZGEgQmFzZSBkZSBDw6FsY3Vsbw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9iYXNlX2NhbGNfc3RfcmV0aWRvX2N0ZSA9IFZhbG9yQmFzZURlQ2FsY3VsbzsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9pY21zX3N0X3JldGlkb19jdGUgPSBWYWxvcklDTVM7DQogICAgICAgICAgICAgICAgICAgICAgICAvL0Fsw61xdW90YSBkbyBJQ01TDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmFsaXF1b3RhX2ljbXNfc3RfcmV0aWRvID0gYWxpcXVvdGFJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxvciBUb3RhbCBkb3MgVHJpYnV0b3MNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlID0gVmFsb3JJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxvciBkbyBjcsOpZGl0bw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9jcmVkaXRvX2N0ZSA9IFZhbG9yQ3JlZGl0b1ByZXN1bWlkbzsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVmFsb3IgQ3LDqWRpdG8gUHJlc3VtaWRvOiAke1ZhbG9yQ3JlZGl0b1ByZXN1bWlkby50b0ZpeGVkKDMpfSBcbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5pbmZvcm1hY29lc19hZGljaW9uYWlzX2Zpc2NvX2N0ZSArPSBgfCAke2Jhc2VMZWdhbENyZWRpdG9QcmVzdW1pZG99IHxgDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPSAnNjAnOw0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5jc3RfY3RlX2Rlc2MgPSAiNjAgLSBJQ01TIENvYnJhZG8gbmEgT3BlcmHDp8OjbyBBbnRlcmlvciBwb3IgU3Vic3RpdHVpw6fDo28gVHJpYnV0w6FyaWEiOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iakNUZU5hb0VtaXRpZG8uY3N0X2N0ZSA9PSAnMDAnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxvciBkYSBCYXNlIGRlIEPDoWxjdWxvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9iYXNlX2NhbGNfY3RlID0gVmFsb3JCYXNlRGVDYWxjdWxvOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfaWNtc19jdGUgPSBWYWxvcklDTVM7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BbMOtcXVvdGEgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8ucGVyY19pY21zX2N0ZSA9IGFsaXF1b3RhSUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIFRvdGFsIGRvcyBUcmlidXRvcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfdG90YWxfdHJpYnV0b3NfY3RlID0gVmFsb3JJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpDVGVOYW9FbWl0aWRvLmNzdF9jdGUgPT0gJzkwJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZGEgQmFzZSBkZSBDw6FsY3Vsbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfYmFzZV9jYWxjX291dHJhX3VmX2N0ZSA9IFZhbG9yQmFzZURlQ2FsY3VsbzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Fsw61xdW90YSBkbyBJQ01TDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5wZXJjX2ljbXNfb3V0cmFfdWZfY3RlID0gYWxpcXVvdGFJQ01TOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVmFsb3IgZG8gSUNNUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfaWNtc19vdXRyYV91Zl9jdGUgPSBWYWxvcklDTVM7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxvciBUb3RhbCBkb3MgVHJpYnV0b3MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLnZhbG9yX3RvdGFsX3RyaWJ1dG9zX2N0ZSA9IFZhbG9ySUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vVEFYQSAtIGFwbGljYXIgdGF4YXMgcXVlIG5hbyBlc3RhbyBkZW50cm8gZG8gSUNNUw0KICAgICAgICBmb3IgKGxldCBzIGluIHRheGFzRW5jb250cmFkYXMpIHsNCiAgICAgICAgICAgIGlmICh0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYaW5jbHVzb19ub19pY21zID09ICduYW8nKSB7DQogICAgICAgICAgICAgICAgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yID09ICdwb3JjZW50YWdlbScpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcmNlbnRhZ2VtID0gdGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBvcmNlbnRhZ2VtOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHBlcmNlbnRhZ2VtX3NvYnJlID09ICd2YWxvckZyZXRlJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbG9yVGF4YSA9IFZhbG9yQmFzZURlQ2FsY3Vsb0NhY2hlICogKHBvcmNlbnRhZ2VtIC8gMTAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyArPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqUG9zdCA9IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpQb3N0LnZhbG9ydGF4YSA9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIE9ialRheGFzUG9zdC5wdXNoKG9ialBvc3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gTE9HIFRBWEENCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLmxlbmd0aCA+IDEgPyBMb2dUYXhhcy5wdXNoKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJykgOiAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYE5vbWU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYbm9tZV9kYV90YXhhX190YXhhfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVGlwbyBkZSBWYWxvcjoke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBQb3JjZW50YWdlbSBTb2JyZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhwZXJjZW50YWdlbV9zb2JyZV9kZXNjfS5cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVmFsb3IgZGEgVGF4YToke3ZhbG9yVGF4YX1cbmApOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhwZXJjZW50YWdlbV9zb2JyZSA9PSAndmFsb3JOb3RhJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5oYXNPd25Qcm9wZXJ0eSgnTkZFcycpIHx8IGpzRGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbG9yTm90YSA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbG9yVGF4YSA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiBpbiBqc0RhdGEuTkZFcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvck5vdGEgKz0gKCtqc0RhdGEuTkZFc1tqXS5WYWxvck5vdGFGaXNjYWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxvclRheGEgPSB2YWxvck5vdGEgKiAocG9yY2VudGFnZW0gLyAxMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbG9yQmFzZURlQ2FsY3VsbyArPSB2YWxvclRheGE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9ialBvc3QgPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialBvc3QudmFsb3J0YXhhID0gdmFsb3JUYXhhOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9ialRheGFzUG9zdC5wdXNoKG9ialBvc3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTE9HIFRBWEENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5sZW5ndGggPiAxID8gTG9nVGF4YXMucHVzaCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgTm9tZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGF9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVGlwbyBkZSBWYWxvcjoke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgUG9yY2VudGFnZW0gU29icmU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmVfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBWYWxvciBkYSBUYXhhOiR7dmFsb3JUYXhhfVxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTE9HIFRBWEENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5sZW5ndGggPiAxID8gTG9nVGF4YXMucHVzaCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgTm9tZToke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFhub21lX2RhX3RheGFfX3RheGF9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVGlwbyBkZSBWYWxvcjoke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgUG9yY2VudGFnZW0gU29icmU6JHt0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0LlRYcGVyY2VudGFnZW1fc29icmVfZGVzY30uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBFUlJPOiBDVEUgbmFvIHBvc3N1aSBORkVzIGFzc29jaWFkYXMuXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWHRpcG9fZGVfdmFsb3IgPT0gJ3ZhbG9yRml4bycpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbG9yVGF4YSA9IHRheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh2YWxvcjsNCiAgICAgICAgICAgICAgICAgICAgVmFsb3JCYXNlRGVDYWxjdWxvICs9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG9ialBvc3QgPSB0YXhhc0VuY29udHJhZGFzW3NdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICBvYmpQb3N0LnZhbG9ydGF4YSA9IHZhbG9yVGF4YTsNCiAgICAgICAgICAgICAgICAgICAgT2JqVGF4YXNQb3N0LnB1c2gob2JqUG9zdCk7DQogICAgICAgICAgICAgICAgICAgIC8vTE9HIFRBWEENCiAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IExvZ1RheGFzLnB1c2goJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4nKSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICBMb2dUYXhhcy5wdXNoKGBOb21lOiR7dGF4YXNFbmNvbnRyYWRhc1tzXS5VcmxKc29uQ29udGV4dC5UWG5vbWVfZGFfdGF4YV9fdGF4YX0uXG5gKTsNCiAgICAgICAgICAgICAgICAgICAgTG9nVGF4YXMucHVzaChgVGlwbyBkZSBWYWxvcjoke3RheGFzRW5jb250cmFkYXNbc10uVXJsSnNvbkNvbnRleHQuVFh0aXBvX2RlX3ZhbG9yX2Rlc2N9LlxuYCk7DQogICAgICAgICAgICAgICAgICAgIExvZ1RheGFzLnB1c2goYFZhbG9yIGRhIFRheGE6JHt2YWxvclRheGF9XG5gKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL1ZhbG9yIHRvdGFsIHByZXN0YWNhbyBkZSBTZXJ2aWNvDQogICAgICAgIGxldCB0b3RhbFByZXN0YWNhb1NlcnZpY28gPSAoVmFsb3JCYXNlRGVDYWxjdWxvKTsNCiAgICAgICAgLy8gVG90YWwgYSBSZWNlYmVyDQogICAgICAgIGxldCB0b3RhbHJlY2ViZXIgPSAodG90YWxQcmVzdGFjYW9TZXJ2aWNvKTsNCiAgICAgICAgLy8gVG90YWwgYSBSZWNlYmVyIC0gY3JlZGl0byBwcmVzdW1pZG8NCiAgICAgICAgaWYgKG9iakNUZU5hb0VtaXRpZG8uY3N0X2N0ZSA9PSAnNjAnKSB7DQogICAgICAgICAgICBpZiAoVmFsb3JJQ01TICYmIFZhbG9yQ3JlZGl0b1ByZXN1bWlkbykgew0KICAgICAgICAgICAgICAgIHRvdGFscmVjZWJlciAtPSAoVmFsb3JJQ01TIC0gVmFsb3JDcmVkaXRvUHJlc3VtaWRvKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8udmFsb3JfdG90YWxfcHJlc3RhY2FvX3NlcnZpY29zX2N0ZSA9IHRvdGFsUHJlc3RhY2FvU2VydmljbzsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby52YWxvcl9yZWNlYmVyX2N0ZSA9IHRvdGFscmVjZWJlcjsNCg0KICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBWYWxvciBUb3RhbCBkYSBQcmVzdGHDp8OjbyBkbyBTZXJ2acOnbzogJHt0b3RhbFByZXN0YWNhb1NlcnZpY28udG9GaXhlZCgzKX0gXG5gKTsNCiAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaChgVmFsb3IgVG90YWwgYSByZWNlYmVyOiAke3RvdGFscmVjZWJlci50b0ZpeGVkKDMpfSBcbmApOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gRmluZEl0ZW5UYWJlbGFPcmlnZW0ob2JqQ1RlTmFvRW1pdGlkbywganNEYXRhKSB7DQogICAgdmFyIHRhYmVsYV9wcmVjb19lbXByZXNhID0gW107DQogICAgdmFyIGl0ZW5fdGFiZWxhX3ByZWNvID0gW107DQoNCiAgICBsZXQgZmlsdHJvaWQgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogIklEX09ORV9SRUYiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiB0b21hZG9yQ2FjaGVbMF0uSUQNCiAgICB9XSk7DQoNCiAgICB2YXIgdGFiZWxhX3ByZWNvX2VtcHJlc2FfanNvbiA9IGF3YWl0IG9uZXJneV9nZXQoew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVFbXByZXNhVGFiZWxhUHJlY28sDQogICAgICAgIGFzc2lkOiBqc0RhdGEuYXNzaWQsDQogICAgICAgIHVzcmlkOiBqc0RhdGEudXNyaWQsDQogICAgICAgIGZpbHRlcjogZmlsdHJvaWQNCiAgICB9KTsNCiAgICB0YWJlbGFfcHJlY29fZW1wcmVzYSA9IEpTT04ucGFyc2UodGFiZWxhX3ByZWNvX2VtcHJlc2FfanNvbik7DQogICAgaWYgKHRhYmVsYV9wcmVjb19lbXByZXNhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRhYmVsYV9wcmVjb19lbXByZXNhLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICAgICAgY29uc3QgdGFiZWxhX3ByZWNvX2VtcHJlc2FfaXRlbSA9IHRhYmVsYV9wcmVjb19lbXByZXNhW2luZGV4XTsNCg0KICAgICAgICAgICAgbGV0IGZpbHRyb3RhYmVsYXByZWNvaWQgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgICAgIEZpZWxOYW1lOiAiSURfT05FX1JFRiIsDQogICAgICAgICAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBWYWx1ZTE6IHRhYmVsYV9wcmVjb19lbXByZXNhX2l0ZW0uVXJsSnNvbkNvbnRleHQuVFBSZGVzY3JpY2FvX2VtcHJlc2FfaWQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgRmllbE5hbWU6ICJtb2RhbF90cHJsaW5fZGVzYyIsDQogICAgICAgICAgICAgICAgVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBWYWx1ZTE6IGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBGaWVsTmFtZTogIlNFUmRlc2NyaWNhb19zZXJfX3NlcnZpY29fdHBybGluIiwNCiAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgIFZhbHVlMToganNEYXRhLlRpcG9TZXJ2aWNvDQogICAgICAgICAgICB9DQogICAgICAgICAgICBdKTsNCiAgICAgICAgICAgIHZhciB0ZW1wX2l0ZW5fdGFiZWxhX3ByZWNvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShJVEVOU19UQUJFTEFfUFJFQ08sIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBlbmNvZGVVUkkoZmlsdHJvdGFiZWxhcHJlY29pZCkpOw0KICAgICAgICAgICAgaWYgKHRlbXBfaXRlbl90YWJlbGFfcHJlY28ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGl0ZW5fdGFiZWxhX3ByZWNvID0gaXRlbl90YWJlbGFfcHJlY28uY29uY2F0KHRlbXBfaXRlbl90YWJlbGFfcHJlY28pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhd2FpdCBGaW5kSXRlblRhYmVsYU9yaWdlbUNhY2hlKGl0ZW5fdGFiZWxhX3ByZWNvLCBvYmpDVGVOYW9FbWl0aWRvLCBqc0RhdGEpOw0KICAgIH0gZWxzZSB7DQoNCiAgICAgICAgbGV0IGZpbHRyb3RhYmVsYXByZWNvaWQgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgRmllbE5hbWU6ICJtb2RhbF90cHJsaW5fZGVzYyIsDQogICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgIEZpeGVkVHlwZTogInN0cmluZyIsDQogICAgICAgICAgICBWYWx1ZTE6IGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICBGaWVsTmFtZTogIlNFUmRlc2NyaWNhb19zZXJfX3NlcnZpY29fdHBybGluIiwNCiAgICAgICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgIFZhbHVlMToganNEYXRhLlRpcG9TZXJ2aWNvDQogICAgICAgIH0NCiAgICAgICAgXSk7DQoNCg0KICAgICAgICB2YXIgaXRlbl90YWJlbGFfcHJlY28yID0gYXdhaXQgZ2V0T25lcmd5SXRlbShJVEVOU19UQUJFTEFfUFJFQ08sIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm90YWJlbGFwcmVjb2lkKTsNCiAgICAgICAgdmFyIENOUEogPSBqc0RhdGEuQ05QSlJlbWV0ZW50ZTsNCiAgICAgICAgaWYgKENOUEoubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdmFyIEl0ZW5zQ05QSiA9IGl0ZW5fdGFiZWxhX3ByZWNvMi5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gKHguVXJsSnNvbkNvbnRleHQuRU1QY25wal9lbXByZXNhX19jbnBqX3JlbWV0ZW50ZV90cHIgPT0gQ05QSik7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaWYgKEl0ZW5zQ05QSi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIEl0ZW5zQ05QSjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gRmluZEl0ZW5UYWJlbGFPcmlnZW1DYWNoZShpdGVuX3RhYmVsYV9wcmVjbzIsIG9iakNUZU5hb0VtaXRpZG8sIGpzRGF0YSk7DQogICAgfQ0KfQ0KDQovL09SSUdFTQ0KYXN5bmMgZnVuY3Rpb24gRmluZEl0ZW5UYWJlbGFPcmlnZW1DYWNoZShpdGVuX3RhYmVsYV9wcmVjbywgb2JqQ1RlTmFvRW1pdGlkbywganNEYXRhKSB7DQogICAgdmFyIFBhaXNfT3JpZ2VtRW50cmFkYSA9IG9iakNUZU5hb0VtaXRpZG8uUEFJU19PUklHRU07DQogICAgdmFyIEVzdGFkb19PcmlnZW1FbnRyYWRhID0gb2JqQ1RlTmFvRW1pdGlkby5VRl9PUklHRU07DQogICAgdmFyIENpZGFkZV9PcmlnZW1FbnRyYWRhID0gb2JqQ1RlTmFvRW1pdGlkby5NVU5JQ0lQSU9fT1JJR0VNOw0KICAgIHZhciBDTlBKID0gb2JqQ1RlTmFvRW1pdGlkby5FTVBjbnBqX2VtcHJlc2FfX3JlbWV0ZW50ZV9jbnBqX2N0ZTsNCg0KICAgIGxldCBpdGVuc0VuY29udHJhZG9zID0gW107DQoNCiAgICAvL0NOUEoNCiAgICBpZiAoQ05QSikgew0KICAgICAgICBpZiAoQ05QSi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAvLyBQRVNRVUlTQSBDTlBKDQogICAgICAgICAgICB2YXIgSXRlbnNDTlBKID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuRU1QY25wal9lbXByZXNhX19jbnBqX2Rlc3RpbmF0YXJpb190cHIgPT0gQ05QSik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmIChJdGVuc0NOUEoubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zQ05QSikgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zQ05QSltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBQRVNRVUlTQSBDSURBREUNCiAgICB2YXIgSXRlbnNDaWRhZGUgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgcmV0dXJuICh4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gQ2lkYWRlX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19vcmlnZW1fdHBybGluID09IEVzdGFkb19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX29yaWdlbV90cHJsaW4gPT0gUGFpc19PcmlnZW1FbnRyYWRhDQogICAgICAgICk7DQogICAgfSk7DQoNCiAgICBpZiAoSXRlbnNDaWRhZGUubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zQ2lkYWRlKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNDaWRhZGVbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgbGV0IGZpbHRyb011bmljaXBpb3NSZWcgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogImVzdGFkb191ZiIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IEVzdGFkb19PcmlnZW1FbnRyYWRhLnRvVXBwZXJDYXNlKCkNCiAgICB9LA0KICAgIHsNCiAgICAgICAgRmllbE5hbWU6ICJtdW5pY2lwaW9fbm9tZSIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IENpZGFkZV9PcmlnZW1FbnRyYWRhLnRvVXBwZXJDYXNlKCkNCiAgICB9DQogICAgXSk7DQogICAgbGV0IG9iak11bmljaXBpb09yaWdlbSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oTVVOSUNJUElPUywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb011bmljaXBpb3NSZWcpOw0KICAgIG9iak11bmljaXBpb09yaWdlbSA9IG9iak11bmljaXBpb09yaWdlbVswXS5VcmxKc29uQ29udGV4dDsNCg0KICAgIC8vUEVTUVVJU0EgVUYgSU5URVJJT1INCiAgICB2YXIgSXRlbnNVRkludGVyaW9yID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBlc3RhZG9QYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fb3JpZ2VtX3RwcmxpbiA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluID09IFBhaXNfT3JpZ2VtRW50cmFkYTsNCg0KICAgICAgICBsZXQgaW50ZXJpb3IgPSAoeC5VcmxKc29uQ29udGV4dC5jYXB0YWxfb3JpZ2VtID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9vcmlnZW0gPT0gJzAnICYmIG9iak11bmljaXBpb09yaWdlbS5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCcpOw0KDQogICAgICAgIGlmIChlc3RhZG9QYWlzICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgfSk7DQogICAgaWYgKEl0ZW5zVUZJbnRlcmlvci5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNVRkludGVyaW9yKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNVRkludGVyaW9yW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vUEVTUVVJU0EgVUYgQ0FQSVRBTCBPVSBSRUdJQU8gTUVUUk9QT0xJVEFOQQ0KICAgIHZhciBJdGVuc1VGQ2FwdE9VTWV0cm8gPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgbGV0IGVzdGFkb1BhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19vcmlnZW1fdHBybGluID09IEVzdGFkb19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX29yaWdlbV90cHJsaW4gPT0gUGFpc19PcmlnZW1FbnRyYWRhOw0KDQogICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXB0YWxfb3JpZ2VtID09ICcxJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX29yaWdlbSA9PSAnMScgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICBpZiAoZXN0YWRvUGFpcyAmJiAoY2FwaXRhbCB8fCByZWdpYW9NZXRyb3BvbGl0YW5hKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH07DQogICAgfSk7DQogICAgaWYgKEl0ZW5zVUZDYXB0T1VNZXRyby5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNVRkNhcHRPVU1ldHJvKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNVRkNhcHRPVU1ldHJvW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vUEVTUVVJU0EgVUYNCiAgICB2YXIgSXRlbnNVRiA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fb3JpZ2VtX3RwcmxpbiA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluID09IFBhaXNfT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuY2FwdGFsX29yaWdlbSA9PSAnMycgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9vcmlnZW0gPT0gJzMnKQ0KICAgICAgICApOw0KICAgIH0pOw0KICAgIGlmIChJdGVuc1VGLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc1VGKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNVRltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFBBSVMgSU5URVJJT1INCiAgICB2YXIgSXRlbnNQYWlzSW50ZXJpb3IgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgbGV0IHBhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX29yaWdlbV90cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fb3JpZ2VtX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19vcmlnZW1fdHBybGluID09IFBhaXNfT3JpZ2VtRW50cmFkYTsNCg0KICAgICAgICBsZXQgaW50ZXJpb3IgPSAoeC5VcmxKc29uQ29udGV4dC5jYXB0YWxfb3JpZ2VtID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9vcmlnZW0gPT0gJzAnICYmIG9iak11bmljaXBpb09yaWdlbS5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCcpOw0KDQogICAgICAgIGlmIChwYWlzICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIGlmIChJdGVuc1BhaXNJbnRlcmlvci5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNQYWlzSW50ZXJpb3IpIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc1BhaXNJbnRlcmlvcltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFBBSVMgQ0FQSVRBTCBPVSBSRUdJQU8gTUVUUk9QT0xJVEFOQQ0KICAgIHZhciBJdGVuc1BhaXNDYXBPVU1ldHJvID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfb3JpZ2VtX3RwcmxpbiA9PSBQYWlzX09yaWdlbUVudHJhZGE7DQoNCiAgICAgICAgbGV0IGNhcGl0YWwgPSB4LlVybEpzb25Db250ZXh0LmNhcHRhbF9vcmlnZW0gPT0gJzEnICYmIG9iak11bmljaXBpb09yaWdlbS5jYXBpdGFsID09ICcxJzsNCg0KICAgICAgICBsZXQgcmVnaWFvTWV0cm9wb2xpdGFuYSA9IHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfb3JpZ2VtID09ICcxJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzEnOw0KDQogICAgICAgIGlmIChwYWlzICYmIChjYXBpdGFsIHx8IHJlZ2lhb01ldHJvcG9saXRhbmEpKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfTsNCiAgICB9KTsNCiAgICBpZiAoSXRlbnNQYWlzQ2FwT1VNZXRyby5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNQYWlzQ2FwT1VNZXRybykgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zUGFpc0NhcE9VTWV0cm9bc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9QRVNRVUlTQSBQQUlTDQogICAgdmFyIEl0ZW5zUGFpcyA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfb3JpZ2VtX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9vcmlnZW1fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX29yaWdlbV90cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX29yaWdlbSA9PSAnMycgJiYgeC5VcmxKc29uQ29udGV4dC5jYXB0YWxfb3JpZ2VtID09ICczJykgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LlJFR2xvY2FsaWRhZGVzX29yaWdlbV90cHJsaW5faWQgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5SRUdsb2NhbGlkYWRlc19vcmlnZW1fdHBybGluX2lkID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX29yaWdlbV90cHJsaW4gPT0gUGFpc19PcmlnZW1FbnRyYWRhDQogICAgICAgICk7DQogICAgfSk7DQogICAgaWYgKEl0ZW5zUGFpcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNQYWlzKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNQYWlzW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIExPQ0FMSURBREVTIA0KICAgIC8vdmFyIHRhYmVsYWRlbG9jYWlzID0gUGVzcXVpc2FFbUNhY2hlKGpzRGF0YSwgW10sIHRlbXBsYXRlTG9jYWlzKTsNCiAgICB2YXIgdGFiZWxhZGVsb2NhaXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlTG9jYWlzLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgbnVsbCk7DQoNCiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbl90YWJlbGFfcHJlY28ubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgIGNvbnN0IGl0cCA9IGl0ZW5fdGFiZWxhX3ByZWNvW2luZGV4XTsNCiAgICAgICAgaWYgKGl0cC5VcmxKc29uQ29udGV4dC5SRUdsb2NhbGlkYWRlc19vcmlnZW1fdHBybGluX2lkICE9IG51bGwpIHsNCg0KICAgICAgICAgICAgdmFyIEl0ZW5zTG9jYWlzID0gdGFiZWxhZGVsb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRiA9PSBpdHAuVXJsSnNvbkNvbnRleHQuUkVHbG9jYWxpZGFkZXNfb3JpZ2VtX3Rwcmxpbl9pZA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaWYgKEl0ZW5zTG9jYWlzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAvL0NJREFERSANCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNGaW5kTG9jYWlzQ2lkYWRlID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCB2YWxpZG8gPSAoDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBFc3RhZG9fT3JpZ2VtRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IENpZGFkZV9PcmlnZW1FbnRyYWRhDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZG8pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKEl0ZW5zRmluZExvY2Fpc0NpZGFkZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vUEVTUVVJU0EgVUYgSU5URVJJT1INCiAgICAgICAgICAgICAgICB2YXIgaXRlbnNMb2NhbGlkYWRlT3JpZ2VtSW50ZXJpb3IgPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGVzdGFkb1BhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IEVzdGFkb19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX09yaWdlbUVudHJhZGE7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IGludGVyaW9yID0gKHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzAnICYmIG9iak11bmljaXBpb09yaWdlbS5jYXBpdGFsID09ICcwJyAmJiB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMCcgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcwJyk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVzdGFkb1BhaXMgJiYgaW50ZXJpb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbnNMb2NhbGlkYWRlT3JpZ2VtSW50ZXJpb3IubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFVGIENBUElUQUwgT1UgUkVHSUFPIE1FVFJPUE9MSVRBTkENCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNMb2NhbGlkYWRlX0NhcF9NZXRyb19PcmlnZW0gPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGVzdGFkb1BhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IEVzdGFkb19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX09yaWdlbUVudHJhZGE7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IGNhcGl0YWwgPSB4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICcxJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvT3JpZ2VtLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoZXN0YWRvUGFpcyAmJiAoY2FwaXRhbCB8fCByZWdpYW9NZXRyb3BvbGl0YW5hKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKEl0ZW5zTG9jYWxpZGFkZV9DYXBfTWV0cm9fT3JpZ2VtLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy8gVUYNCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNGaW5kTG9jYWlzVUYgPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IEVzdGFkb19PcmlnZW1FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzMnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICczJykNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNGaW5kTG9jYWlzVUYubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLmNvbmNhdChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vUEVTUVVJU0EgUEFJUyBJTlRFUklPUg0KICAgICAgICAgICAgICAgIHZhciBJdGVuc0xvY2FsaWRhZGVQYWlzSW50ZXJpb3JfT3JpZ2VtID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBudWxsKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19PcmlnZW1FbnRyYWRhOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBpbnRlcmlvciA9ICh4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzAnICYmIG9iak11bmljaXBpb09yaWdlbS5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMCcpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChwYWlzICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0xvY2FsaWRhZGVQYWlzSW50ZXJpb3JfT3JpZ2VtLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy9QRVNRVUlTQSBQQUlTIENBUElUQUwgT1UgUkVHSUFPIE1FVFJPUE9MSVRBTkENCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNMb2NhbGlkYWRlUGFpc0NhcE1ldHJvX09yaWdlbSA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICBsZXQgcGFpcyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfT3JpZ2VtRW50cmFkYTsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgY2FwaXRhbCA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzEnICYmIG9iak11bmljaXBpb09yaWdlbS5jYXBpdGFsID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgcmVnaWFvTWV0cm9wb2xpdGFuYSA9IHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICcxJyAmJiBvYmpNdW5pY2lwaW9PcmlnZW0ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzEnOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChwYWlzICYmIChjYXBpdGFsIHx8IHJlZ2lhb01ldHJvcG9saXRhbmEpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNMb2NhbGlkYWRlUGFpc0NhcE1ldHJvX09yaWdlbS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIFBBSVMNCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNGaW5kTG9jYWlzUEFJUyA9IEl0ZW5zTG9jYWlzLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX09yaWdlbUVudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMycgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzMnKQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0ZpbmRMb2NhaXNQQUlTLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBpdGVuc0VuY29udHJhZG9zOw0KfQ0KDQovL0RFU1RJTk8NCmFzeW5jIGZ1bmN0aW9uIEZpbmRJdGVuVGFiZWxhRGVzdGlubyhqc0RhdGEsIGl0ZW5fdGFiZWxhX3ByZWNvLCBvYmpDVGVOYW9FbWl0aWRvKSB7DQogICAgdmFyIFBhaXNfRGVzdGlub0VudHJhZGEgPSBvYmpDVGVOYW9FbWl0aWRvLlBBSVNfREVTVElOTzsNCiAgICB2YXIgRXN0YWRvX0Rlc3Rpbm9FbnRyYWRhID0gb2JqQ1RlTmFvRW1pdGlkby5VRl9ERVNUSU5POw0KICAgIHZhciBDaWRhZGVfRGVzdGlub0VudHJhZGEgPSBvYmpDVGVOYW9FbWl0aWRvLk1VTklDSVBJT19ERVNUSU5POw0KICAgIHZhciBDTlBKID0gb2JqQ1RlTmFvRW1pdGlkby5FTVBjbnBqX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jbnBqX2N0ZTsNCg0KICAgIGxldCBpdGVuc0VuY29udHJhZG9zID0gW107DQogICAgLy9DTlBKDQogICAgaWYgKENOUEopIHsNCiAgICAgICAgaWYgKENOUEoubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgLy8gUEVTUVVJU0EgQ05QSg0KICAgICAgICAgICAgdmFyIEl0ZW5zQ05QSiA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fY25wal9kZXN0aW5hdGFyaW9fdHByID09IENOUEopOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBpZiAoSXRlbnNDTlBKLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc0NOUEopIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc0NOUEpbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gUEVTUVVJU0EgQ0lEQURFDQogICAgdmFyIEl0ZW5zQ2lkYWRlID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09IENpZGFkZV9EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhDQogICAgICAgICk7DQogICAgfSk7DQoNCiAgICBpZiAoSXRlbnNDaWRhZGUubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBzIGluIEl0ZW5zQ2lkYWRlKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNDaWRhZGVbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgbGV0IGZpbHRyb011bmljaXBpb3NSZWcgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICBGaWVsTmFtZTogImVzdGFkb191ZiIsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IEVzdGFkb19EZXN0aW5vRW50cmFkYS50b1VwcGVyQ2FzZSgpDQogICAgfSwNCiAgICB7DQogICAgICAgIEZpZWxOYW1lOiAibXVuaWNpcGlvX25vbWUiLA0KICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgVmFsdWUxOiBDaWRhZGVfRGVzdGlub0VudHJhZGEudG9VcHBlckNhc2UoKQ0KICAgIH0NCiAgICBdKTsNCiAgICBsZXQgb2JqTXVuaWNpcGlvRGVzdGlubyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oTVVOSUNJUElPUywganNEYXRhLmFzc2lkLCBqc0RhdGEudXNyaWQsIGZpbHRyb011bmljaXBpb3NSZWcpOw0KICAgIG9iak11bmljaXBpb0Rlc3Rpbm8gPSBvYmpNdW5pY2lwaW9EZXN0aW5vWzBdLlVybEpzb25Db250ZXh0Ow0KDQogICAgLy9QRVNRVUlTQSBVRiBJTlRFUklPUg0KICAgIHZhciBJdGVuc1VGSW50ZXJpb3IgPSBpdGVuX3RhYmVsYV9wcmVjby5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgbGV0IGVzdGFkb011bmljaXBpbyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fZGVzdGlub190cHJsaW4gPT0gRXN0YWRvX0Rlc3Rpbm9FbnRyYWRhICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fdHBybGluID09IFBhaXNfRGVzdGlub0VudHJhZGE7DQoNCiAgICAgICAgbGV0IGludGVyaW9yID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX2Rlc3Rpbm8gPT0gJzAnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9kZXN0aW5vID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcwJzsNCg0KICAgICAgICBpZiAoZXN0YWRvTXVuaWNpcGlvICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgaWYgKEl0ZW5zVUZJbnRlcmlvci5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNVRkludGVyaW9yKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNVRkludGVyaW9yW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vUEVTUVVJU0EgVUYgQ09NIFJFR0nDg08gTUVUUk9QT0xJVEFOQSBPVSBDQVBJVEFMDQogICAgdmFyIEl0ZW5zVUZDYXBPVU1ldHJvID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBjaWRhZGVFc3RhZG9NdW5pY2lwaW8gPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19kZXN0aW5vX3RwcmxpbiA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX2Rlc3Rpbm8gPT0gJzEnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMSc7DQoNCiAgICAgICAgbGV0IHJlZ2lhb01ldHJvcG9saXRhbmEgPSB4LlVybEpzb25Db250ZXh0LnJlZ2lhb19tZXRyb3BvbGl0YW5hX2Rlc3Rpbm8gPT0gJzEnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzEnOw0KDQogICAgICAgIGlmIChjaWRhZGVFc3RhZG9NdW5pY2lwaW8gJiAoY2FwaXRhbCB8fCByZWdpYW9NZXRyb3BvbGl0YW5hKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgIH0pOw0KDQogICAgaWYgKEl0ZW5zVUZDYXBPVU1ldHJvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc1VGQ2FwT1VNZXRybykgew0KICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKEl0ZW5zVUZDYXBPVU1ldHJvW3NdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vUEVTUVVJU0EgVUYNCiAgICB2YXIgSXRlbnNVRiA9IGl0ZW5fdGFiZWxhX3ByZWNvLmZpbHRlcihmdW5jdGlvbiAoeCkgew0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fZGVzdGlub190cHJsaW4gPT0gRXN0YWRvX0Rlc3Rpbm9FbnRyYWRhKSAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfZGVzdGlub190cHJsaW4gPT0gUGFpc19EZXN0aW5vRW50cmFkYSkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfZGVzdGlubyA9PSAnMycgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9kZXN0aW5vID09ICczJykNCiAgICAgICAgKTsNCiAgICB9KTsNCg0KICAgIGlmIChJdGVuc1VGLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc1VGKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNVRltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFBBSVMgSU5URVJJT1IgDQogICAgdmFyIEl0ZW5zUGFpc0ludGVyaW9yID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fdHBybGluID09IFBhaXNfRGVzdGlub0VudHJhZGE7DQoNCiAgICAgICAgbGV0IGludGVyaW9yID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX2Rlc3Rpbm8gPT0gJzAnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9kZXN0aW5vID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcwJzsNCg0KICAgICAgICBpZiAocGFpcyAmJiBpbnRlcmlvcikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIGlmIChJdGVuc1BhaXNJbnRlcmlvci5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IHMgaW4gSXRlbnNQYWlzSW50ZXJpb3IpIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc1BhaXNJbnRlcmlvcltzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFBBSVMgQ0FQSVRBTCBPVSBJTlRFUklPUg0KICAgIHZhciBJdGVuc1BhaXNDYXBPVU1ldHJvID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIGxldCBwYWlzID0geC5VcmxKc29uQ29udGV4dCAhPSBudWxsICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfZGVzdGlub190cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fZGVzdGlub190cHJsaW4gPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX2Rlc3Rpbm9fdHBybGluID09IG51bGwpICYmDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fdHBybGluID09IFBhaXNfRGVzdGlub0VudHJhZGE7DQoNCiAgICAgICAgbGV0IGNhcGl0YWwgPSB4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfZGVzdGlubyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5jYXBpdGFsID09ICcxJzsNCg0KICAgICAgICBsZXQgcmVnaWFvTWV0cm9wb2xpdGFuYSA9IHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfZGVzdGlubyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5yZWdpYW9fbWV0cm9wb2xpdGFuYSA9PSAnMSc7DQoNCiAgICAgICAgaWYgKHBhaXMgJiYgKGNhcGl0YWwgfHwgcmVnaWFvTWV0cm9wb2xpdGFuYSkpIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIGlmIChJdGVuc1BhaXNDYXBPVU1ldHJvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc1BhaXNDYXBPVU1ldHJvKSB7DQogICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goSXRlbnNQYWlzQ2FwT1VNZXRyb1tzXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvL1BFU1FVSVNBIFBBSVMNCiAgICB2YXIgSXRlbnNQYWlzID0gaXRlbl90YWJlbGFfcHJlY28uZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9kZXN0aW5vX3RwcmxpbiA9PSBudWxsKSAmJg0KICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19kZXN0aW5vX3RwcmxpbiA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fZGVzdGlub190cHJsaW4gPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfZGVzdGlubyA9PSAnMycgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9kZXN0aW5vID09ICczJykgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0LlJFR2xvY2FsaWRhZGVzX2Rlc3Rpbm9fdHBybGluX2lkID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuUkVHbG9jYWxpZGFkZXNfZGVzdGlub190cHJsaW5faWQgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fdHBybGluID09IFBhaXNfRGVzdGlub0VudHJhZGEpICYmDQogICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX2NucGpfZGVzdGluYXRhcmlvX3RwciA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fY25wal9kZXN0aW5hdGFyaW9fdHByID09IG51bGwpDQogICAgICAgICk7DQogICAgfSk7DQoNCiAgICBpZiAoSXRlbnNQYWlzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBJdGVuc1BhaXMpIHsNCiAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChJdGVuc1BhaXNbc10pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gTE9DQUxJREFERVMgDQogICAgdmFyIHRhYmVsYWRlbG9jYWlzID0gYXdhaXQgUGVzcXVpc2FFbUNhY2hlKGpzRGF0YSwgW10sIHRlbXBsYXRlTG9jYWlzKTsNCiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbl90YWJlbGFfcHJlY28ubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgIGNvbnN0IGl0cCA9IGl0ZW5fdGFiZWxhX3ByZWNvW2luZGV4XTsNCiAgICAgICAgaWYgKGl0cC5VcmxKc29uQ29udGV4dC5SRUdsb2NhbGlkYWRlc19kZXN0aW5vX3Rwcmxpbl9pZCAhPSBudWxsKSB7DQogICAgICAgICAgICB2YXIgSXRlbnNMb2NhaXMgPSB0YWJlbGFkZWxvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gKA0KICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5JRF9PTkVfUkVGID09IGl0cC5VcmxKc29uQ29udGV4dC5SRUdsb2NhbGlkYWRlc19kZXN0aW5vX3Rwcmxpbl9pZA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaWYgKEl0ZW5zTG9jYWlzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAvL0NJREFERSANCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNGaW5kTG9jYWlzQ2lkYWRlID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gRXN0YWRvX0Rlc3Rpbm9FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gQ2lkYWRlX0Rlc3Rpbm9FbnRyYWRhDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKEl0ZW5zRmluZExvY2Fpc0NpZGFkZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vUEVTUVVJU0EgVUYgSU5URVJJT1INCiAgICAgICAgICAgICAgICB2YXIgaXRlbnNMb2NhbGlkYWRlRGVzdGlub0ludGVyaW9yID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBlc3RhZG9NdW5pY2lwaW8gPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IEVzdGFkb19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19EZXN0aW5vRW50cmFkYTsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJpb3IgPSB4LlVybEpzb25Db250ZXh0LmNhcGl0YWxfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLmNhcGl0YWwgPT0gJzAnICYmIHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICcwJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcwJzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoZXN0YWRvTXVuaWNpcGlvICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChpdGVuc0xvY2FsaWRhZGVEZXN0aW5vSW50ZXJpb3IubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpdGVuc0VuY29udHJhZG9zLnB1c2goaXRwKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL1BFU1FVSVNBIFVGIENPTSBSRUdJw4NPIE1FVFJPUE9MSVRBTkEgT1UgQ0FQSVRBTA0KICAgICAgICAgICAgICAgIHZhciBJdGVuc0xvY2FsaWRhZGVfQ2FwX01ldHJvX0Rlc3Rpbm8gPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGNpZGFkZUVzdGFkb011bmljaXBpbyA9IHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKHguVXJsSnNvbkNvbnRleHQuTUxPQ1ptdW5pY2lwaW9fbm9tZV9fY2lkYWRlX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gRXN0YWRvX0Rlc3Rpbm9FbnRyYWRhICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5jYXBpdGFsID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgcmVnaWFvTWV0cm9wb2xpdGFuYSA9IHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICcxJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoY2lkYWRlRXN0YWRvTXVuaWNpcGlvICYgKGNhcGl0YWwgfHwgcmVnaWFvTWV0cm9wb2xpdGFuYSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAoSXRlbnNMb2NhbGlkYWRlX0NhcF9NZXRyb19EZXN0aW5vLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy8gVUYNCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNGaW5kTG9jYWlzVUYgPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQgIT0gbnVsbCAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWnBhaXNfbm9tZV9fcGFpc19yZWcgPT0gUGFpc19EZXN0aW5vRW50cmFkYSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSBFc3RhZG9fRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5jYXBpdGFsX3JlZ2lhbyA9PSAnMycgJiYgeC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzMnKQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0ZpbmRMb2NhaXNVRi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vUEVTUVVJU0EgUEFJUyBJTlRFUklPUiANCiAgICAgICAgICAgICAgICB2YXIgSXRlbnNMb2NhbGlkYWRlUGFpc0ludGVyaW9yX0Rlc3Rpbm8gPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBpbnRlcmlvciA9IHguVXJsSnNvbkNvbnRleHQuY2FwaXRhbF9yZWdpYW8gPT0gJzAnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8uY2FwaXRhbCA9PSAnMCcgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzAnICYmIG9iak11bmljaXBpb0Rlc3Rpbm8ucmVnaWFvX21ldHJvcG9saXRhbmEgPT0gJzAnOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChwYWlzICYmIGludGVyaW9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0xvY2FsaWRhZGVQYWlzSW50ZXJpb3JfRGVzdGluby5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW5zRW5jb250cmFkb3MucHVzaChpdHApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vUEVTUVVJU0EgUEFJUyBDQVBJVEFMIE9VIElOVEVSSU9SDQogICAgICAgICAgICAgICAgdmFyIEl0ZW5zTG9jYWxpZGFkZVBhaXNDYXBPVU1ldHJvX0Rlc3Rpbm8gPSBJdGVuc0xvY2Fpcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHBhaXMgPSB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5NTE9DWmVzdGFkb191Zl9fZXN0YWRvX3JlZyA9PSAnJyB8fCB4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0Lk1MT0NacGFpc19ub21lX19wYWlzX3JlZyA9PSBQYWlzX0Rlc3Rpbm9FbnRyYWRhOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBjYXBpdGFsID0geC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMScgJiYgb2JqTXVuaWNpcGlvRGVzdGluby5jYXBpdGFsID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgcmVnaWFvTWV0cm9wb2xpdGFuYSA9IHguVXJsSnNvbkNvbnRleHQucmVnaWFvX21ldHJvcG9saXRhbmFfcmVnaWFvID09ICcxJyAmJiBvYmpNdW5pY2lwaW9EZXN0aW5vLnJlZ2lhb19tZXRyb3BvbGl0YW5hID09ICcxJzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAocGFpcyAmJiAoY2FwaXRhbCB8fCByZWdpYW9NZXRyb3BvbGl0YW5hKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0xvY2FsaWRhZGVQYWlzQ2FwT1VNZXRyb19EZXN0aW5vLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy8gUEFJUw0KICAgICAgICAgICAgICAgIHZhciBJdGVuc0ZpbmRMb2NhaXNQQUlTID0gSXRlbnNMb2NhaXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQuTUxPQ1pwYWlzX25vbWVfX3BhaXNfcmVnID09IFBhaXNfRGVzdGlub0VudHJhZGEgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NaZXN0YWRvX3VmX19lc3RhZG9fcmVnID09ICcnIHx8IHguVXJsSnNvbkNvbnRleHQuTUxPQ1plc3RhZG9fdWZfX2VzdGFkb19yZWcgPT0gbnVsbCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICh4LlVybEpzb25Db250ZXh0Lk1MT0NabXVuaWNpcGlvX25vbWVfX2NpZGFkZV9yZWcgPT0gJycgfHwgeC5VcmxKc29uQ29udGV4dC5NTE9DWm11bmljaXBpb19ub21lX19jaWRhZGVfcmVnID09IG51bGwpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAoeC5VcmxKc29uQ29udGV4dC5jYXBpdGFsX3JlZ2lhbyA9PSAnMycgJiYgeC5VcmxKc29uQ29udGV4dC5yZWdpYW9fbWV0cm9wb2xpdGFuYV9yZWdpYW8gPT0gJzMnKQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmIChJdGVuc0ZpbmRMb2NhaXNQQUlTLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbnNFbmNvbnRyYWRvcy5wdXNoKGl0cCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBpdGVuc0VuY29udHJhZG9zOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBGaW5kSXRlbnMoanNEYXRhLCBvYmpDVGVOYW9FbWl0aWRvKSB7DQogICAgdmFyIE1lbnNhZ2VtUmVzdWx0ID0gW107DQogICAgdHJ5IHsNCiAgICAgICAgLy9zZSB2YWxvciBkYSBjb3RhY2FvIGZvciBtZW5vciBvdSBpZ3VhbCBhIHplcm8gY29udGludWEgbyBjYWxjdWxvIG5vbWFsLg0KICAgICAgICBpZiAoanNEYXRhLlZhbG9yRnJldGUgPD0gMCkgew0KICAgICAgICAgICAgdmFyIHRhYmVsYWRlcHJlY28gPSBhd2FpdCBQZXNxdWlzYUVtQ2FjaGUoanNEYXRhLCBbXSwgVEFCRUxBX0RFX1BSRUNPKTsNCg0KICAgICAgICAgICAgdmFyIHRpcG9wcmVjbyA9ICcnOw0KICAgICAgICAgICAgaWYgKGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhKSB7DQogICAgICAgICAgICAgICAgaWYgKGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdWxsRW1wdHkoanNEYXRhLlF1YW50aWRhZGVzQ2FyZ2FbMF0udGlwb3ByZWNvKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpcG9wcmVjbyA9IGpzRGF0YS5RdWFudGlkYWRlc0NhcmdhWzBdLlRpcG9NZWRpZGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoTnVsbEVtcHR5KGpzRGF0YS5Nb2RhbGlkYWRlVHJhbnNwb3J0ZSkgPT0gJycgfHwgTnVsbEVtcHR5KGpzRGF0YS5UaXBvU2VydmljbykgPT0gJycpIHsNCiAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCdNb2RhbGlkYWRlLCBUaXBvIGRlIFNlcnZpw6dvLCBUaXBvIGRlIFRheGEgb3UgdGlwbyBkZSBwcmXDp28gc8OjbyBvYnJpZ2F0w7NyaW9zJyk7DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5sb2dfY3RlID0gb2JqQ1RlTmFvRW1pdGlkby5sb2dfY3RlICsgIiB8ICIgKyBNZW5zYWdlbVJlc3VsdC5qb2luKCIgLS0gIik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgaXRlbl90YWJlbGFfcHJlY28gPSBhd2FpdCBGaW5kSXRlblRhYmVsYU9yaWdlbShvYmpDVGVOYW9FbWl0aWRvLCBqc0RhdGEpOw0KICAgICAgICAgICAgaWYgKGl0ZW5fdGFiZWxhX3ByZWNvLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgnTsOjbyBmb2kgZW5jb250cmFkbyB0YWJlbGEgZGUgcHJlw6dvLiA+PicgKyBqc0RhdGEuTW9kYWxpZGFkZVRyYW5zcG9ydGUgKyAiIC0gIiArIGpzRGF0YS5UaXBvU2VydmljbyArICJcbiIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAgICAgIHZhciBpdGVuVGFiZWxhX3ByZWNvX2Rlc3QgPSBhd2FpdCBGaW5kSXRlblRhYmVsYURlc3Rpbm8oanNEYXRhLCBpdGVuX3RhYmVsYV9wcmVjbywgb2JqQ1RlTmFvRW1pdGlkbyk7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW5UYWJlbGFfcHJlY29fZGVzdCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goJ07Do28gZm9pIGVuY29udHJhZG8gdGFiZWxhIGRlIHByZcOnbyAnKTsNCiAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5sb2dfY3RlID0gb2JqQ1RlTmFvRW1pdGlkby5sb2dfY3RlICsgIiB8ICIgKyBNZW5zYWdlbVJlc3VsdC5qb2luKCIgLS0gIik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB2YXIgbGlzdFRhYmxlVmlnZW50ZSA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBsaXN0VGFibGVOYW9WaWdlbnRlID0gW107DQoNCiAgICAgICAgICAgICAgICB2YXIgbGlzdFRhYmxlSUQgPSBbXTsNCiAgICAgICAgICAgICAgICBpZiAoaXRlblRhYmVsYV9wcmVjb19kZXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW5UYWJlbGFfcHJlY29fZGVzdC5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YWJlbGFJbmRleCA9IGl0ZW5UYWJlbGFfcHJlY29fZGVzdFtpbmRleF07DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiZWxhSUQgPSB0YWJlbGFJbmRleC5VcmxKc29uQ29udGV4dC5JRF9PTkVfUkVGOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RUYWJsZUlELmluZGV4T2YodGFiZWxhSUQpID09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFRhYmxlSUQucHVzaCh0YWJlbGFJRCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmVsYSA9IHRhYmVsYWRlcHJlY28uZmluZCh4ID0+IHguSUQgPT0gdGFiZWxhSW5kZXguVXJsSnNvbkNvbnRleHQuSURfT05FX1JFRik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmVsYSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUluaWNpbyA9IG5ldyBEYXRlKHRhYmVsYS5VcmxKc29uQ29udGV4dC5pbmljaW9fZGFfdmlnZW5jaWFfdHByKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFGaW0gPSBuZXcgRGF0ZSh0YWJlbGEuVXJsSnNvbkNvbnRleHQudGVybWlub19kYV92aWdlbmNpYV90cHIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUhvamUgPSBuZXcgRGF0ZSgpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IHRhYmVsYUlELA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYmxlJzogdGFiZWxhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2l0ZW0nOiBbXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsdC5pdGVtLnB1c2godGFiZWxhSW5kZXgpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhSG9qZSA+PSBkYXRhSW5pY2lvICYmIGRhdGFGaW0gPD0gZGF0YUhvamUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RUYWJsZU5hb1ZpZ2VudGUucHVzaChsdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RUYWJsZVZpZ2VudGUucHVzaChsdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RUYWJsZVZpZ2VudGUuZmluZCh4ID0+IHguaWQgPT0gdGFiZWxhSUQpLml0ZW0ucHVzaCh0YWJlbGFJbmRleCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUmNvZGlnb190cHJfX3RhYmVsYV9kZV9wcmVjb19pdGVucyA9IFtdOw0KICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uVFBSaXRlbnNfdGFiZWxhX2RlX3ByZWNvX2lkID0gW107DQogICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5UUFJkZXNjcmljYW9fX2l0ZW5zX3RhYmVsYV9kZV9wcmVjbyA9IFtdOw0KDQogICAgICAgICAgICAgICAgaWYgKGxpc3RUYWJsZVZpZ2VudGUubGVuZ3RoID09IDEpIHsNCg0KICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUmRlc2NyaWNhb190cHJfX3RhYmVsYV9kZV9wcmVjbyA9IGxpc3RUYWJsZVZpZ2VudGVbMF0udGFibGUuVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvX3RwcjsNCiAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5UUFJ0YWJlbGFfZGVfcHJlY29faWQgPSBsaXN0VGFibGVWaWdlbnRlWzBdLnRhYmxlLklEOw0KICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKGBUYWJlbGEgZGUgUHJlw6dvID4+ICR7bGlzdFRhYmxlVmlnZW50ZVswXS50YWJsZS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW9fdHByfSBcbmApOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0VGF4RXNwZWNpYWwgPSBGaW5kVGF4YUVzcGVjaWFsKGxpc3RUYWJsZVZpZ2VudGVbMF0uaXRlbSwgIjEiKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RUYXhFc3BlY2lhbC5sZW5ndGggPiAwKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWx0cm9pZCA9IEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlMTogbGlzdFRheEVzcGVjaWFsWzBdLklEDQogICAgICAgICAgICAgICAgICAgICAgICB9LF0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUmNvZGlnb190cHJfX3RhYmVsYV9kZV9wcmVjb19pdGVucy5wdXNoKGxpc3RUYXhFc3BlY2lhbFswXS5JRCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUml0ZW5zX3RhYmVsYV9kZV9wcmVjb19pZC5wdXNoKGxpc3RUYXhFc3BlY2lhbFswXS5JRCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUmRlc2NyaWNhb19faXRlbnNfdGFiZWxhX2RlX3ByZWNvLnB1c2gobGlzdFRheEVzcGVjaWFsWzBdLlVybEpzb25Db250ZXh0LmRlc2NyaWNhbyk7DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW5zUHJlY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKFZBTE9SRVNfSVRFTlNfVEFCRUxBX1BSRUNPLCBqc0RhdGEuYXNzaWQsIGpzRGF0YS51c3JpZCwgZmlsdHJvaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW5zUHJlY28ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFZhbG9yQ2FsY3VsbyhsaXN0VGF4RXNwZWNpYWxbMF0sIGl0ZW5zUHJlY28sIGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbywgTWVuc2FnZW1SZXN1bHQsIHRydWUsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiVGFiZWxhIGRlIFByZcOnbyBuw6NvIHRlbSB2YWxvcmVzIGRlIHJhbmdlLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxpc3RUYWJsZVZpZ2VudGVbMF0uaXRlbS5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVuc1NlbVRheEVzcGVjaWFsID0gbGlzdFRhYmxlVmlnZW50ZVswXS5pdGVtW2luZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvaWQgPSBKU09OLnN0cmluZ2lmeShbew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWVsTmFtZTogIklEX09ORV9SRUYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRml4ZWRUeXBlOiAic3RyaW5nIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUxOiBpdGVuc1NlbVRheEVzcGVjaWFsLklEDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5UUFJjb2RpZ29fdHByX190YWJlbGFfZGVfcHJlY29faXRlbnMucHVzaChpdGVuc1NlbVRheEVzcGVjaWFsLklEKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpDVGVOYW9FbWl0aWRvLlRQUml0ZW5zX3RhYmVsYV9kZV9wcmVjb19pZC5wdXNoKGl0ZW5zU2VtVGF4RXNwZWNpYWwuSUQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNUZU5hb0VtaXRpZG8uVFBSZGVzY3JpY2FvX19pdGVuc190YWJlbGFfZGVfcHJlY28ucHVzaChpdGVuc1NlbVRheEVzcGVjaWFsLlVybEpzb25Db250ZXh0LmRlc2NyaWNhbyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbnNQcmVjbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oVkFMT1JFU19JVEVOU19UQUJFTEFfUFJFQ08sIGpzRGF0YS5hc3NpZCwganNEYXRhLnVzcmlkLCBmaWx0cm9pZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW5zUHJlY28ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWx0aW1hRmFpeGEgPSBpbmRleCA9PSBsaXN0VGFibGVWaWdlbnRlWzBdLml0ZW0ubGVuZ3RoIC0gMSA/IHRydWUgOiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgVmFsb3JDYWxjdWxvKGl0ZW5zU2VtVGF4RXNwZWNpYWwsIGl0ZW5zUHJlY28sIGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbywgTWVuc2FnZW1SZXN1bHQsIHVsdGltYUZhaXhhLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RUYWJsZVZpZ2VudGUubGVuZ3RoID4gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgTWVuc2FnZW1SZXN1bHQucHVzaCgiTWFpcyBkZSB1bWEgdGFiZWxhIGRlIFByZcOnbyBlbmNvbnRyYWRhLiIpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RUYWJsZVZpZ2VudGUubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW5zYWdlbVJlc3VsdC5wdXNoKCJOZW5odW1hIHRhYmVsYSBkZSBQcmXDp28gZW5jb250cmFkYS4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFRhYmxlTmFvVmlnZW50ZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtUmVzdWx0LnB1c2goIlVtYSBvdSBtYWlzIHRhYmVsYXMgZWNvbnRyYWRhcyBwb3LDqW0gbsOjbyB2aWdlbnRlLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvL3NlIHRpdmVyIHZhbG9yIGRlIGNvdGFjYW8gdmFpIHBhcmEgbyBjYWxjdWxvIGNvbW8gdWx0aW1hIGZhaXhhIHNpbSBlIHNlbSBvcyBkYWRvcyBkYSB0YWJlbGEuDQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgYXdhaXQgVmFsb3JDYWxjdWxvKG51bGwsIG51bGwsIGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbywgTWVuc2FnZW1SZXN1bHQsIHRydWUsIHRydWUpOw0KICAgICAgICB9DQogICAgICAgIG9iakNUZU5hb0VtaXRpZG8ubG9nX21vdG9yX2RlX2NhbGN1bG8gPSBNZW5zYWdlbVJlc3VsdC5qb2luKCcnKTsNCiAgICAgICAgTG9nVGF4YXMubGVuZ3RoID4gMSA/IChvYmpDVGVOYW9FbWl0aWRvLmxvZ19tb3Rvcl9kZV9jYWxjdWxvICs9IExvZ1RheGFzLmpvaW4oJycpKSA6ICcnDQogICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgb2JqQ1RlTmFvRW1pdGlkby5sb2dfbW90b3JfZGVfY2FsY3VsbyA9IGBFUlJPIE1PVE9SIERFIEPDgUxDVUxPOlxuJHtleH1gDQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBGaW5kVGF4YUVzcGVjaWFsKGxpc3RJdGVucywgdmFsb3IpIHsNCg0KICAgIHZhciBJdGVuc0ZpbmRUYXhhRXNwZWNpYWwgPSBsaXN0SXRlbnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgICB4LlVybEpzb25Db250ZXh0ICE9IG51bGwgJiYNCiAgICAgICAgICAgIHguVXJsSnNvbkNvbnRleHQudGF4YV9lc3BlY2lhbCA9PSB2YWxvcg0KICAgICAgICApOw0KICAgIH0pOw0KICAgIHJldHVybiBJdGVuc0ZpbmRUYXhhRXNwZWNpYWw7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIENhbGN1bG8yKGpzRGF0YSwgb2JqQ1RlTmFvRW1pdGlkbykgew0KICAgIGF3YWl0IEZpbmRJdGVucyhqc0RhdGEsIG9iakNUZU5hb0VtaXRpZG8pOw0KfQ0KDQpmdW5jdGlvbiBOdWxsRW1wdHkocmVjKSB7DQogICAgaWYgKHJlYykgew0KICAgICAgICByZXR1cm4gcmVjOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIEV4aXN0cyhkaWMsIGtleSkgew0KICAgIGZvciAodmFyIGQgaW4gZGljKSB7DQogICAgICAgIGlmIChkaWNbZF0ua2V5ID09IGtleSkgew0KICAgICAgICAgICAgcmV0dXJuIGRpY1tkXS52YWx1ZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbnVsbDsNCg0KfQ0KDQphc3luYyBmdW5jdGlvbiBQZXNxdWlzYUVtQ2FjaGUoZGF0YSwgZmlsdHJvLCB0ZW1wbGF0ZWlkLCBrZXksIElEKSB7DQogICAgbGV0IHN0ckZpbHRyb0xlaSA9IEpTT04uc3RyaW5naWZ5KGZpbHRybyk7DQoNCiAgICB2YXIgZGF0YUNhY2hlID0gRXhpc3RzKGRpRGF0YUdsb2JhbCwgdGVtcGxhdGVpZCkNCiAgICBpZiAoZGF0YUNhY2hlKSB7DQogICAgICAgIHJldHVybiBkYXRhQ2FjaGU7DQogICAgfQ0KICAgIGlmIChkaURhdGFHbG9iYWxbdGVtcGxhdGVpZF0gPT0gdW5kZWZpbmVkKSB7DQogICAgICAgIENhY2hlZFJlY29yZHMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWQsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIHN0ckZpbHRyb0xlaSk7DQogICAgICAgIGRpRGF0YUdsb2JhbC5wdXNoKHsNCiAgICAgICAgICAgIGtleTogdGVtcGxhdGVpZCwNCiAgICAgICAgICAgIHZhbHVlOiBDYWNoZWRSZWNvcmRzDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gRXhpc3RzKGRpRGF0YUdsb2JhbCwgdGVtcGxhdGVpZCkNCiAgICB9DQogICAgcmV0dXJuIG51bGw7DQp9DQoNCmZ1bmN0aW9uIEZpbmRNZUFuZEJyZWFrKGFyciwgZm4sIHYpIHsNCiAgICBmb3IgKHZhciB4IGluIGFycikgew0KICAgICAgICBpZiAoZm4oYXJyW3hdLCB2KSkgew0KICAgICAgICAgICAgcmV0dXJuIGFyclt4XTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gQ3JlYXRlTWFwKGRhdGEsIGtleW5hbWUpIHsNCiAgICBjb25zdCBtYXAxID0gbmV3IE1hcCgpOw0KICAgIGZvciAodmFyIGQgaW4gZGF0YSkgew0KICAgICAgICB2YXIgcmVjb3JkID0gZGF0YVtkXTsNCiAgICAgICAgaWYgKGtleW5hbWUgPT0gIklEIikNCiAgICAgICAgICAgIG1hcDEuc2V0KHJlY29yZFsiSUQiXSwgcmVjb3JkKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgbWFwMS5zZXQocmVjb3JkWyJVcmxKc29uQ29udGV4dCJdW2tleW5hbWVdLCByZWNvcmQpOw0KICAgIH0NCg0KICAgIHJldHVybiBtYXAxOw0KfQ0KDQovLyBGSU0gQ0FMQ1VMTyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0T2JqZWN0UmVzcG9uc2UoY29uZCwganNvbiwgV2FpdGluZ1dlYkhvb2spIHsNCiAgICBpZiAoV2FpdGluZ1dlYkhvb2sgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCg0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ2pzb24nOiBKU09OLnN0cmluZ2lmeShqc29uKSwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCg0KICAgIGlmICghV2FpdGluZ1dlYkhvb2spIHsNCiAgICAgICAgb2JqWyJvbmVyZ3lfcHJjX2lkIl0gPSAnNmExNThhMmQtOWY5Ni1iZWQ5LTA1MTQtNDNmNTk1NWM3ZmZkJzsNCiAgICAgICAgb2JqWyJvbmVyZ3lfbmV3X3ByY19pZF9mZHRpZCJdID0gJ2JlMzAyMTI4LTQ0ZGUtNDJlNy04NzRkLTc3YjA4NjdmYjU1Nyc7DQogICAgfQ0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgdXNyaWQsIGFzc2lkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfQ0KICAgIHRyeSB7DQogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKSk7DQogICAgfSBjYXRjaCB7DQogICAgICAgIHJldHVybiBhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDUwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQogICAgd2hpbGUgKGtlZXBTZWFyY2hpbmcpIHsNCiAgICAgICAgbGV0IHN0clBhZ2VSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgICAgICBmaWx0ZXI6IGZpbHRybywNCiAgICAgICAgICAgIHNraXA6IHNraXAsDQogICAgICAgICAgICB0YWtlOiB0YWtlDQogICAgICAgIH0pOw0KICAgICAgICBza2lwICs9IHRha2U7DQogICAgICAgIGxldCBwYWdlUmVzcCA9IEpTT04ucGFyc2Uoc3RyUGFnZVJlc3ApOw0KICAgICAgICBpZiAocGFnZVJlc3AgIT0gbnVsbCAmJiBwYWdlUmVzcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gcGFnZVJlc3AubGVuZ3RoID09IHRha2U7DQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhZ2VSZXNwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQoNCmZ1bmN0aW9uIFJlY3VwZXJhRGVzY3JpY2FvQ1NUKGNzdCkgew0KICAgIHZhciByZXQgPSAiIg0KICAgIHN3aXRjaCAoY3N0KSB7DQogICAgICAgIGNhc2UgIjAwIjoNCiAgICAgICAgICAgIHJldCA9ICIwMCAtIFRyaWJ1dGFkYSBJbnRlZ3JhbG1lbnRlIjsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICIxMCI6DQogICAgICAgICAgICByZXQgPSAiMTAgLSBUcmlidXRhZGEgZSBjb20gY29icmFuw6dhIGRvIElDTVMgcG9yIFNUIjsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICIyMCI6DQogICAgICAgICAgICByZXQgPSAiMjAgLSBDb20gcmVkdcOnw6NvIGRlIGJhc2UgZGUgY8OhbGN1bG8iOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIjMwIjoNCiAgICAgICAgICAgIHJldCA9ICIzMCAtIElzZW50YS9Ow6NvIHRyaWJ1dGFkYSBlIGNvbSBjb2JyYW7Dp2EgZG8gSUNNUyBwb3IgU1QiOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIjQwIjoNCiAgICAgICAgICAgIHJldCA9ICI0MCAtIE7Do28gVHJpYnV0YWRhIjsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICI1MCI6DQogICAgICAgICAgICByZXQgPSAiNTAgLSBDb20gU3VzcGVuc8OjbyI7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAiNTEiOg0KICAgICAgICAgICAgcmV0ID0gIjUxIC0gQ29tIERpZmVyaW1lbnRvIjsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICI2MCI6DQogICAgICAgICAgICByZXQgPSAiNjAgLSBJQ01TIENvYnJhZG8gbmEgT3BlcmHDp8OjbyBBbnRlcmlvciBwb3IgU3Vic3RpdHVpw6fDo28gVHJpYnV0w6FyaWEiOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIjcwIjoNCiAgICAgICAgICAgIHJldCA9ICI3MCAtIENvbSByZWR1w6fDo28gZGUgYmFzZSBkZSBjw6FsY3VsbyBubyBJQ01TIFNUIjsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICI5MCI6DQogICAgICAgICAgICByZXQgPSAiOTAgLSBPdXRyYXMgT3BlcmHDp8O1ZXMiOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICByZXQgPSAiMDAgLSBUcmlidXRhZGEgSW50ZWdyYWxtZW50ZSI7DQogICAgICAgICAgICBicmVhazsNCiAgICB9DQogICAgcmV0dXJuIHJldDsNCn0NCg0KDQpmdW5jdGlvbiByZXRpcmFBY2VudG9zKHN0cikgew0KICAgIGxldCBjb21fYWNlbnRvID0gIsOAw4HDgsODw4TDhcOGw4fDiMOJw4rDi8OMw43DjsOPw5DDkcOSw5PDlMOVw5bDmMOZw5rDm8Ocw53FlMOew5/DoMOhw6LDo8Okw6XDpsOnw6jDqcOqw6vDrMOtw67Dr8Oww7HDssOzw7TDtcO2w7jDucO6w7vDvMO9w77Dv8WVIjsNCiAgICBsZXQgc2VtX2FjZW50byA9ICJBQUFBQUFBQ0VFRUVJSUlJRE5PT09PT09VVVVVWVJzQmFhYWFhYWFjZWVlZWlpaWlvbm9vb29vb3V1dXV5YnlyIjsNCiAgICBsZXQgbm92YXN0ciA9ICIiOw0KICAgIGlmIChzdHIgIT09ICIiKSB7DQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHRyb2NhID0gZmFsc2U7DQogICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgY29tX2FjZW50by5sZW5ndGg7IGErKykgew0KICAgICAgICAgICAgICAgIGlmIChzdHIuc3Vic3RyKGksIDEpID09IGNvbV9hY2VudG8uc3Vic3RyKGEsIDEpKSB7DQogICAgICAgICAgICAgICAgICAgIG5vdmFzdHIgKz0gc2VtX2FjZW50by5zdWJzdHIoYSwgMSk7DQogICAgICAgICAgICAgICAgICAgIHRyb2NhID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHRyb2NhID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgIG5vdmFzdHIgKz0gc3RyLnN1YnN0cihpLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbm92YXN0cjsNCn0NCg0KLy8gRklNICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy8gdmFyIGpzb25JbnB1dCA9IHsNCi8vICAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCi8vICAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCi8vICAgICAiRGF0YUVtaXNzYW9EYXRlIjogIjIwMjEtMTItMDkgMDM6MDA6MDAiLA0KLy8gICAgICJEYXRhRW1pc3NhbyI6ICIyMDIxLTEyLTA5IiwNCi8vICAgICAiQ29kVW5kRW1pc3NhbyI6ICIwMDEiLA0KLy8gICAgICJEZXNjclVuZEVtaXNzYW8iOiAiQ0FYSUFTIERPIFNVTCIsDQovLyAgICAgIk1vZGFsaWRhZGVUcmFuc3BvcnRlIjogIk11bHRpbW9kYWwiLA0KLy8gICAgICJUaXBvU2VydmljbyI6ICJYUCIsDQovLyAgICAgIkNsaWVudGVSZXRpcmEiOiAiMCIsDQovLyAgICAgIlJlc3BvbnNhdmVsRnJldGUiOiAiRGVzdGluYXRhcmlvIiwNCi8vICAgICAiVGF4SURSZW1ldGVudGUiOiAiIiwNCi8vICAgICAiQ05QSlJlbWV0ZW50ZSI6ICI2MTE4Njg4ODAxNDMwNSIsDQovLyAgICAgIlRheElERGVzdGluYXRhcmlvIjogIiIsDQovLyAgICAgIkNOUEpEZXN0aW5hdGFyaW8iOiAiNjExODY4ODgwMTMyNTIiLA0KLy8gICAgICJOdW1lcm9EZVBlZGlkbyI6ICI4MzAwMjA4MjEwIiwNCi8vICAgICAiU29saWNpdGFudGVEb1BlZGlkbyI6ICJWSVJHSU5JQSBTQU5UT1MiLA0KLy8gICAgICJWYWxvckZyZXRlIjogMTE4OS4wNSwNCi8vICAgICAiVmFsb3JUb3RhbFByZXN0YWNhbyI6IDEyMzIuNjgsDQovLyAgICAgIlZhbG9yUmVjZWJlciI6IDEyMzIuNjgsDQovLyAgICAgIlZhbG9yVG90YWxDYXJnYSI6IDEzMjIwLA0KLy8gICAgICJQb3JjZW50YWdlbUFkVmFsb3JlbSI6IDAuMzMsDQovLyAgICAgIlZhbG9yQWRWYWxvcmVtIjogNDMuNjMsDQovLyAgICAgIlByb2R1dG9QcmVkb21pbmFudGUiOiAiUEVDQVMgRElWRVJTQVMiLA0KLy8gICAgICJPdXRyYXNDYXJhY3RlcmlzdGljYXNDYXJnYSI6ICJHUkFORUwiLA0KLy8gICAgICJRdWFudGlkYWRlc0NhcmdhIjogW3sNCi8vICAgICAgICAgIlRpcG9NZWRpZGEiOiAiUGVzbyBDdWJhZG8iLA0KLy8gICAgICAgICAiVW5pZGFkZU1lZGlkYSI6ICJLRyIsDQovLyAgICAgICAgICJRdWFudGlkYWRlQ2FyZ2EiOiA0MDENCi8vICAgICB9LA0KLy8gICAgIHsNCi8vICAgICAgICAgIlRpcG9NZWRpZGEiOiAiQ2FpeGFzIiwNCi8vICAgICAgICAgIlVuaWRhZGVNZWRpZGEiOiAiVU5JREFERSIsDQovLyAgICAgICAgICJRdWFudGlkYWRlQ2FyZ2EiOiAxDQovLyAgICAgfQ0KLy8gICAgIF0sDQovLyAgICAgIk5GRXMiOiBbew0KLy8gICAgICAgICAiQ2hhdmVORmUiOiAiNDEyMTEyNjExODY4ODgwMTQzMDU1NTAwNDAwMDE0MjU5NDEwOTcwOTE0NDgiLA0KLy8gICAgICAgICAiTnVtZXJvTkZlIjogMTQyNTk0LA0KLy8gICAgICAgICAiU2VyaWVORmUiOiAiMDA0IiwNCi8vICAgICAgICAgIlZhbG9yTm90YUZpc2NhbCI6ICIxMzIyMCIsDQovLyAgICAgICAgICJQSU5TdWZyYW1hIjogIiINCi8vICAgICB9XSwNCi8vICAgICAiQ2FyYWN0ZXJpc3RpY2FzQWRpY2lvbmFpc1RyYW5zcG9ydGUiOiAiTk9STUFMIiwNCi8vICAgICAiQ2FyYWN0ZXJpc3RpY2FzQWRpY2lvbmFpc1NlcnZpY28iOiAiTjMwNzE0OSIsDQovLyAgICAgIkZ1bmNpb25hcmlvUmVzcG9uc2F2ZWxFbWlzc2FvIjogInNhbmRyYS5zYW50b3MiLA0KLy8gICAgICJDb2RpZ29JQkdFUGFpc09yaWdlbSI6ICIxMDU4IiwNCi8vICAgICAiQ29kaWdvSUJHRU11bmljaXBpb09yaWdlbSI6ICI0MTA2OTAyIiwNCi8vICAgICAiU2lnbGFVRkNvbXBsZW1lbnRhck9yaWdlbSI6ICI0MTA2OTAyIiwNCi8vICAgICAiQ29kaWdvSUJHRVBhaXNEZXN0aW5vIjogIjEwNTgiLA0KLy8gICAgICJDb2RpZ29JQkdFTXVuaWNpcGlvRGVzdGlubyI6ICI0MTAzNzAxIiwNCi8vICAgICAiU2lnbGFVRkNvbXBsZW1lbnRhckRlc3Rpbm8iOiAiNDEwMzcwMSIsDQovLyAgICAgIk9ic2VydmFjb2VzIjogIjgzMDAyMDgyMTAiLA0KLy8gICAgICJPYnNlcnZhY29lc0NvbnRyaWJ1aW50ZSI6IFt7DQovLyAgICAgICAgICJYQ2FtcG8iOiAiUkFNTyIsDQovLyAgICAgICAgICJYVGV4dG8iOiAiUkNUQUMiDQovLyAgICAgfV0sDQovLyAgICAgIkRhZG9zTXVsdGltb2RhbCI6IFt7DQovLyAgICAgICAgICJDT1RNIjogIjUwNTA4MTIiLA0KLy8gICAgICAgICAiQ05QSlNlZ3VyYWRvcmEiOiAiMzMwNjU2OTkwMDAxMjciLA0KLy8gICAgICAgICAiTnVtZXJvQXBvbGljZSI6ICIyMTAwMDI5ODc4IiwNCi8vICAgICAgICAgIk51bWVyb0F2ZXJ2YWNhbyI6ICJBRVJFTz09PT09PT09PT09PT09PSINCi8vICAgICB9XSwNCi8vICAgICAib25lVGVtcGxhdGVUaXRsZSI6ICIiLA0KLy8gICAgICJhc3NfaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCi8vICAgICAiZmVkaWQiOiAiZDdmNDE4MGYtNWY0Ny00MGMxLWE3ODQtYmQyZGZjZWM5Y2EwIiwNCi8vICAgICAiZmR0aWQiOiAiN2M0MjdiZjAtMmU2NC00ZDZiLWFlYWEtMzA1NGEyYTI1NjJjIiwNCi8vICAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCi8vICAgICAib25lcmd5X3JvbGlkIjogIiIsDQovLyAgICAgInRpbWV6b25lIjogbnVsbCwNCi8vICAgICAib25lcmd5X2pzX2N0eCI6IHsNCi8vICAgICAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgICAgICJmZWRpZCI6ICJkN2Y0MTgwZi01ZjQ3LTQwYzEtYTc4NC1iZDJkZmNlYzljYTAiLA0KLy8gICAgICAgICAiZmR0aWQiOiAiN2M0MjdiZjAtMmU2NC00ZDZiLWFlYWEtMzA1NGEyYTI1NjJjIiwNCi8vICAgICAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQovLyAgICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTAzLTI4IDE3OjMzOjQzLjk1MiIsDQovLyAgICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTAzLTI4IDE3OjMzOjQzLjk1MiIsDQovLyAgICAgICAgICJjdXJfdXNlcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQovLyAgICAgICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KLy8gICAgICAgICAidXNlcl9uYW1lIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQovLyAgICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCi8vICAgICAgICAgInByYWlkIjogIjdlZmRlYjNkLWU1NzQtNDI1Zi1hZjY0LWNlZDMxZWE5YjcxMSIsDQovLyAgICAgICAgICJwY3ZpZCI6ICI3ODA5NjgyOS0xMDFhLTQ1ZjUtYjk0ZS1lMjgxMjI1ZTRmZGIiLA0KLy8gICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KLy8gICAgICAgICAicHViTnViSG9vayI6IG51bGwNCi8vICAgICB9LA0KLy8gICAgICJsb2dfY3RlIjogIiINCi8vIH0NCg0KdmFyIGpzb25JbnB1dCA9IHsNCiAgICAiYXNzaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAidXNyaWQiOiAiIGJmOWI0NTllLTZmY2UtNGY2Yi04NDU5LTE2YjFiMzFhZjY0YiIsDQogICAgIkRhdGFFbWlzc2FvRGF0ZSI6ICIyMDIyLTA1LTMwVDAzOjAwOjAwWiIsDQogICAgIkRhdGFFbWlzc2FvIjogIjIwMjItMDUtMzAiLA0KICAgICJDb2RVbmRFbWlzc2FvIjogIjAwMSIsDQogICAgIkRlc2NyVW5kRW1pc3NhbyI6ICJDQVhJQVMgRE8gU1VMIiwNCiAgICAiTW9kYWxpZGFkZVRyYW5zcG9ydGUiOiAiTXVsdGltb2RhbCIsDQogICAgIlRpcG9TZXJ2aWNvIjogIlhLIiwNCiAgICAiQ2xpZW50ZVJldGlyYSI6ICIwIiwNCiAgICAiUmVzcG9uc2F2ZWxGcmV0ZSI6ICJSZW1ldGVudGUiLA0KICAgICJUYXhJRFJlbWV0ZW50ZSI6ICIiLA0KICAgICJDTlBKUmVtZXRlbnRlIjogIjAwNzk5MjA1MDAwMTg5IiwNCiAgICAiVGF4SUREZXN0aW5hdGFyaW8iOiAiIiwNCiAgICAiQ05QSkRlc3RpbmF0YXJpbyI6ICI1Nzk4ODIwNjAwMDQzMSIsDQogICAgIk51bWVyb0RlUGVkaWRvIjogIiIsDQogICAgIlNvbGljaXRhbnRlRG9QZWRpZG8iOiAiQU5OQSIsDQogICAgIlZhbG9yRnJldGUiOiAzMDQuOTcsDQogICAgIlZhbG9yVG90YWxQcmVzdGFjYW8iOiAzMTYuNjcsDQogICAgIlZhbG9yUmVjZWJlciI6IDMxNi42NywNCiAgICAiVmFsb3JUb3RhbENhcmdhIjogMzU0NS45MSwNCiAgICAiUG9yY2VudGFnZW1BZFZhbG9yZW0iOiAwLjMzLA0KICAgICJWYWxvckFkVmFsb3JlbSI6IDExLjcsDQogICAgIlByb2R1dG9QcmVkb21pbmFudGUiOiAiTUFURVJJQUwgUVVJTUlDTyIsDQogICAgIk91dHJhc0NhcmFjdGVyaXN0aWNhc0NhcmdhIjogIkdSQU5FTCIsDQogICAgIlF1YW50aWRhZGVzQ2FyZ2EiOiBbDQogICAgICAgIHsNCiAgICAgICAgICAgICJUaXBvTWVkaWRhIjogIlBlc28gQ3ViYWRvIiwNCiAgICAgICAgICAgICJVbmlkYWRlTWVkaWRhIjogIktHIiwNCiAgICAgICAgICAgICJRdWFudGlkYWRlQ2FyZ2EiOiA3DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJUaXBvTWVkaWRhIjogIkNhaXhhcyIsDQogICAgICAgICAgICAiVW5pZGFkZU1lZGlkYSI6ICJVTklEQURFIiwNCiAgICAgICAgICAgICJRdWFudGlkYWRlQ2FyZ2EiOiAxDQogICAgICAgIH0NCiAgICBdLA0KICAgICJORkVzIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAiQ2hhdmVORmUiOiAiNTIyMjA1MDA3OTkyMDUwMDAxODk1NTAwMTAwMDAwMjgzMzEyNTQ5MzY2MzUiLA0KICAgICAgICAgICAgIk51bWVyb05GZSI6IDI4MzMsDQogICAgICAgICAgICAiU2VyaWVORmUiOiAiMSIsDQogICAgICAgICAgICAiVmFsb3JOb3RhRmlzY2FsIjogIjM1NDUuOTEiLA0KICAgICAgICAgICAgIlBJTlN1ZnJhbWEiOiAiIg0KICAgICAgICB9DQogICAgXSwNCiAgICAiQ2FyYWN0ZXJpc3RpY2FzQWRpY2lvbmFpc1RyYW5zcG9ydGUiOiAiTk9STUFMIiwNCiAgICAiQ2FyYWN0ZXJpc3RpY2FzQWRpY2lvbmFpc1NlcnZpY28iOiAiTjMyMTc1NSIsDQogICAgIkZ1bmNpb25hcmlvUmVzcG9uc2F2ZWxFbWlzc2FvIjogInNhbmRyYS5zYW50b3MiLA0KICAgICJDb2RpZ29JQkdFUGFpc09yaWdlbSI6ICIxMDU4IiwNCiAgICAiQ29kaWdvSUJHRU11bmljaXBpb09yaWdlbSI6ICI1MjA4NzA3IiwNCiAgICAiU2lnbGFVRkNvbXBsZW1lbnRhck9yaWdlbSI6ICI1MjA4NzA3IiwNCiAgICAiQ29kaWdvSUJHRVBhaXNEZXN0aW5vIjogIjEwNTgiLA0KICAgICJDb2RpZ29JQkdFTXVuaWNpcGlvRGVzdGlubyI6ICIzNTUwMzA4IiwNCiAgICAiU2lnbGFVRkNvbXBsZW1lbnRhckRlc3Rpbm8iOiAiMzU1MDMwOCIsDQogICAgIk9ic2VydmFjb2VzIjogIjMyMTc1NSIsDQogICAgIk9ic2VydmFjb2VzQ29udHJpYnVpbnRlIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAiWENhbXBvIjogIlJBTU8iLA0KICAgICAgICAgICAgIlhUZXh0byI6ICJSQ1RBQyINCiAgICAgICAgfQ0KICAgIF0sDQogICAgIkRhZG9zTXVsdGltb2RhbCI6IFsNCiAgICAgICAgew0KICAgICAgICAgICAgIkNPVE0iOiAiNTA1MDgxMiIsDQogICAgICAgICAgICAiQ05QSlNlZ3VyYWRvcmEiOiAiMzMwNjU2OTkwMDAxMjciLA0KICAgICAgICAgICAgIk51bWVyb0Fwb2xpY2UiOiAiMjEwMDAyOTg3OCIsDQogICAgICAgICAgICAiTnVtZXJvQXZlcnZhY2FvIjogIkFFUkVPPT09PT09PT09PT09PT09Ig0KICAgICAgICB9DQogICAgXSwNCiAgICAib25lcmd5X2pzX2N0eCI6IHsNCiAgICAgICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgICAgICJ1c3JpZCI6ICIgYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCg0KICAgICAgICAiZmVkaWQiOiAiZDdmNDE4MGYtNWY0Ny00MGMxLWE3ODQtYmQyZGZjZWM5Y2EwIiwNCiAgICAgICAgImZkdGlkIjogIjdjNDI3YmYwLTJlNjQtNGQ2Yi1hZWFhLTMwNTRhMmEyNTYyYyIsDQogICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTAzLTI4IDE3OjMzOjQzLjk1MiIsDQogICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTAzLTI4IDE3OjMzOjQzLjk1MiIsDQogICAgICAgICJjdXJfdXNlcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAgICAgInByYWlkIjogIjdlZmRlYjNkLWU1NzQtNDI1Zi1hZjY0LWNlZDMxZWE5YjcxMSIsDQogICAgICAgICJwY3ZpZCI6ICI3ODA5NjgyOS0xMDFhLTQ1ZjUtYjk0ZS1lMjgxMjI1ZTRmZGIiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAicHViTnViSG9vayI6IG51bGwNCiAgICB9LA0KfQ0KaW5pdChKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKQ==" }, { "name": "(CTE) - Substituicao.js", "isDirectory": false, "__KEY__": "7e4f48d7-1786-457e-7da8-b3e5b76a7b53", "size": 13576, "dateModified": "2022-06-28T13:50:11.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCi8qDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgIFNDUklQVCAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KKi8NCg0KdmFyIHRlbXBsYXRlaWRDVGUgPSAiYmI1NTVhYTQtMjUzNi00YWMwLWE0OGItMGJmZjIzNGFhNzk5IjsNCnZhciB0ZW1wbGF0ZWlkQ1RlTmFvRW1pdGlkbyA9ICJiZTMwMjEyOC00NGRlLTQyZTctODc0ZC03N2IwODY3ZmI1NTciOw0KbGV0IHRlbXBsYXRlaWRjYXJnYSA9ICIzM2Q5Y2M4OC05OTJhLTQ0ZDAtYjY0NC1lZTFiZjdlZmZiZmIiOw0KbGV0IHRlbXBsYXRlaWRuZmUgPSAiYzQyNTA1NDUtOTdkYS00YjYyLWI2YzgtOTAzNzQ5MThjODAxIjsNCmxldCB0ZW1wbGF0ZWlkb2MgPSAiN2Y1MmY5NTAtNmRkNS00N2Q0LTk2OTYtMDQwZmM5NDg4ZmY2IjsNCmxldCB0ZW1wbGF0ZWlkYXUgPSAiMzI3NjI2ZTgtMjU5Yy00ZGE2LThiMTMtZGRmZTM4ODJmMTBkIjsNCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KDQogICAgbGV0IGZpbHRyb19pZF9jdGUgPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5JRF9PTkVfUkVGKTsNCiAgICBsZXQgb2JqY3RlID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkQ1RlLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvX2lkX2N0ZSk7DQogICAgaWYgKG9iamN0ZS5sZW5ndGggPT0gMCkgew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgdmFyIENURVNlbGVjaW9uYWRhID0gb2JqY3RlWzBdLlVybEpzb25Db250ZXh0Ow0KDQogICAgbGV0IEdyYXZhQ1RlU3Vic3RpdHVpY2FvID0gYXdhaXQgQ3JpYU9iamV0b0dyYXZhY2FvQ1RlU3Vic3RpdHVpY2FvKGRhdGEsIENURVNlbGVjaW9uYWRhKTsNCiAgICBsZXQgSWRTdWJzU2Fsdm8gPSBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRDVGVOYW9FbWl0aWRvLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBHcmF2YUNUZVN1YnN0aXR1aWNhbywgIiIsICIiKTsNCiAgICBJZFN1YnNTYWx2byA9IEpTT04ucGFyc2UoSWRTdWJzU2Fsdm8pOw0KICAgIGlmIChJZFN1YnNTYWx2byAhPT0gbnVsbCkgew0KICAgICAgICAvL0J1c2NhIG8gcmVnaXN0cm8gc2Fsdm8gZW0gQ1RlIE7Do28gRW1pdGlkbw0KICAgICAgICBsZXQgZmlsdHJvX2lkX2N0ZXN1YnN0ID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgeyBGaWVsTmFtZTogIl9pZCIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IElkU3Vic1NhbHZvIH0NCiAgICAgICAgXSk7DQogICAgICAgIGxldCBvYmpjdGVzdWJzdCA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZENUZU5hb0VtaXRpZG8sIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGZpbHRyb19pZF9jdGVzdWJzdCk7DQogICAgICAgIGlmIChvYmpjdGVzdWJzdCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgLy9SZWN1cGVyYSBhcyBJbmZvcm1hw6fDtWVzIGRlIENhcmdhIG5vIENUZSBkZSBBbnVsYcOnw6NvIHBhcmEgbyBDVGUgU3Vic3RpdHV0bw0KDQogICAgICAgICAgICBsZXQgZmlsdHJvX2NhcmdhID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogZGF0YS5JRF9PTkVfUkVGIH0NCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgbGV0IG9iamNhcmdhID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkY2FyZ2EsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGZpbHRyb19jYXJnYSk7DQogICAgICAgICAgICBpZiAob2JqY2FyZ2EgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBsY2FyZ2EgaW4gb2JqY2FyZ2EpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdHJvY2FyZ2EgPSBvYmpjYXJnYVtsY2FyZ2FdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgICAgICAgICByZWdpc3Ryb2NhcmdhLklEX09ORV9SRUYgPSBJZFN1YnNTYWx2bzsNCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkY2FyZ2EsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIHJlZ2lzdHJvY2FyZ2EsICIiLCAiIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9SZWN1cGVyYSBhcyBJbmZvcm1hw6fDtWVzIGRlIE5GRXMgbm8gQ1RlIGRlIEFudWxhw6fDo28gcGFyYSBvIENUZSBTdWJzdGl0dXRvDQogICAgICAgICAgICBsZXQgZmlsdHJvX25mZSA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEuSURfT05FX1JFRiB9DQogICAgICAgICAgICBdKTsNCiAgICAgICAgICAgIGxldCBvYmpuZmUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWRuZmUsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIGZpbHRyb19uZmUpOw0KICAgICAgICAgICAgaWYgKG9iam5mZSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGxuZmUgaW4gb2JqbmZlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3Ryb25mZSA9IG9iam5mZVtsbmZlXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgcmVnaXN0cm9uZmUuSURfT05FX1JFRiA9IElkU3Vic1NhbHZvOw0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRuZmUsIGRhdGEuYXNzaWQsIGRhdGEudXNyaWQsIHJlZ2lzdHJvbmZlLCAiIiwgIiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vUmVjdXBlcmEgYXMgSW5mb3JtYcOnw7VlcyBkZSBPYnMgQ29udHJpYnVpbnRlIG5vIENUZSBkZSBBbnVsYcOnw6NvIHBhcmEgbyBDVGUgU3Vic3RpdHV0bw0KICAgICAgICAgICAgbGV0IGZpbHRyb19vYyA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEuSURfT05FX1JFRiB9DQogICAgICAgICAgICBdKTsNCiAgICAgICAgICAgIGxldCBvYmpvYyA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVpZG9jLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCBmaWx0cm9fb2MpOw0KICAgICAgICAgICAgaWYgKG9iam9jICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgbG9jIGluIG9iam9jKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3Ryb29jID0gb2Jqb2NbbG9jXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgICAgICAgICAgcmVnaXN0cm9vYy5JRF9PTkVfUkVGID0gSWRTdWJzU2Fsdm87DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZG9jLCBkYXRhLmFzc2lkLCBkYXRhLnVzcmlkLCByZWdpc3Ryb29jLCAiIiwgIiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vUmVjdXBlcmEgYXMgSW5mb3JtYcOnw7VlcyBkZSBhdXRvcml6YWRvcyBubyBDVGUgZGUgQW51bGHDp8OjbyBwYXJhIG8gQ1RlIFN1YnN0aXR1dG8NCiAgICAgICAgICAgIGxldCBmaWx0cm9fYXUgPSBKU09OLnN0cmluZ2lmeShbDQogICAgICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBkYXRhLklEX09ORV9SRUYgfQ0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICBsZXQgb2JqYXUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlaWRhdSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgZmlsdHJvX2F1KTsNCiAgICAgICAgICAgIGlmIChvYmphdSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGxhdSBpbiBvYmphdSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaXN0cm9hdSA9IG9iamF1W2xhdV0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJvYXUuSURfT05FX1JFRiA9IElkU3Vic1NhbHZvOw0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWRhdSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgcmVnaXN0cm9hdSwgIiIsICIiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIHJldHVybiB0cnVlOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBDcmlhT2JqZXRvR3JhdmFjYW9DVGVTdWJzdGl0dWljYW8oZGF0YSwgQ1RFU2VsZWNpb25hZGEpIHsNCiAgICBsZXQgQ1RFOw0KICAgIGlmIChDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAnYW51bGFjYW8nKSB7DQogICAgICAgIGxldCBGaWx0cm9DVEVBbnVsYWRhID0gZ2VyYXJGaWx0cm8oImNoYXZlX2N0ZV9jdGUiLCBDVEVTZWxlY2lvbmFkYS5jaGF2ZV9jdGVfb3JpZ2luYWxfY3RlKQ0KICAgICAgICBsZXQgb2JqQ1RFID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWlkQ1RlLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvQ1RFQW51bGFkYSk7DQogICAgICAgIENURSA9IG9iakNURVswXS5VcmxKc29uQ29udGV4dDsNCiAgICB9IGVsc2Ugew0KICAgICAgICBDVEUgPSBDVEVTZWxlY2lvbmFkYTsNCiAgICB9DQoNCiAgICBsZXQgb2Jqb3JpZ2luYWxDYWNoZSA9IEpTT04uc3RyaW5naWZ5KENURSk7DQogICAgbGV0IG9iamdyYXZhciA9IEpTT04ucGFyc2Uob2Jqb3JpZ2luYWxDYWNoZSk7DQoNCiAgICBvYmpncmF2YXIuY2hhdmVfY3RlX2N0ZSA9ICIiOw0KICAgIG9iamdyYXZhci5udW1lcm9fY3RlX2N0ZSA9IDA7DQogICAgb2JqZ3JhdmFyLnNlcmllX2N0ZV9jdGUgPSAwOw0KICAgIG9iamdyYXZhci5kYXRhX2VtaXNzYW9fY3RlID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpOw0KICAgIG9iamdyYXZhci5zdGF0dXNfY3RlX2N0ZSA9ICduYW9lbWl0aWRvJzsNCiAgICBvYmpncmF2YXIuc3RhdHVzX2N0ZV9jdGVfZGVzYyA9ICdOw6NvIEVtaXRpZG8nOw0KICAgIG9iamdyYXZhci5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9ICdzdWJzdGl0dXRvJzsNCiAgICBvYmpncmF2YXIuZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGVfZGVzYyA9ICdTdWJzdGl0dXRvJzsNCiAgICBvYmpncmF2YXIuaWRlbnRpZmljYWRvcl9nbG9iYWxpemFkb19jdGUgPSAnbmFvJzsNCiAgICBvYmpncmF2YXIuaWRlbnRpZmljYWRvcl9nbG9iYWxpemFkb19jdGVfZGVzYyA9ICdOw6NvJzsNCiAgICBvYmpncmF2YXIuZGV0YWxoZXNfcmV0aXJhZGFfY3RlID0gJyc7DQogICAgb2JqZ3JhdmFyLmVudmlhcl9jdGUgPSAnbmFvJzsNCiAgICBvYmpncmF2YXIuZW52aWFyX2N0ZV9kZXNjID0gJ07Do28nOw0KICAgIG9iamdyYXZhci5sb2dfY3RlID0gJyc7DQogICAgb2JqZ3JhdmFyLkNURUdlcmFkYVBhcmFNREZFID0gJ25hbyc7DQogICAgb2JqZ3JhdmFyLmpzb25fYXV0b3JpemFjYW9fc2VmYXpfY3RlID0gJyc7DQogICAgb2JqZ3JhdmFyLmNoYXZlX25mZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUgPSBDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAibm9ybWFsIiA/IGRhdGEuY2hhdmVfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSA6ICIiOw0KICAgIG9iamdyYXZhci5jaGF2ZV9jdGVfb3JpZ2luYWxfY3RlID0gQ1RFLmNoYXZlX2N0ZV9jdGU7DQogICAgb2JqZ3JhdmFyLmNoYXZlX2N0ZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUgPSAiIjsNCiAgICBvYmpncmF2YXIub2JzZXJ2YWNvZXNfY3RlX1JFU1VNTyA9IGBTdWJzdGl0dWnDp8OjbyBkbyBDVEU6JHtDVEVTZWxlY2lvbmFkYS5udW1lcm9fY3RlX2N0ZX1gOw0KICAgIG9iamdyYXZhci5vYnNlcnZhY29lc19jdGUgPSBgU3Vic3RpdHVpw6fDo28gZG8gQ1RFOiR7Q1RFU2VsZWNpb25hZGEubnVtZXJvX2N0ZV9jdGV9YA0KICAgIG9iamdyYXZhci5pbmZvcm1hciA9ICIiOw0KICAgIG9iamdyYXZhci5pbmZvcm1hcl9kZXNjID0gIiI7DQogICAgb2JqZ3JhdmFyLmFycXVpdm9fZ25yZSA9IFtdOw0KICAgIG9iamdyYXZhci51cmxHTlJFID0gIiI7DQogICAgb2JqZ3JhdmFyLnBhZ2FtZW50b0dOUkUgPSBmYWxzZTsNCiAgICBvYmpncmF2YXIuQ1RFR2VyYWRhUGFyYU1ERkUgPSAnJzsNCiAgICBvYmpncmF2YXIuY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlID0gIk5BT1NFTEVDSU9OQURPIjsNCiAgICBvYmpncmF2YXIuY2FyYWN0ZXJpc3RpY2FzX2FkX3RyYW5zcG9ydGVfY3RlX2Rlc2MgPSAiTsOjbyBTZWxlY2lvbmFkbyI7DQogICAgb2JqZ3JhdmFyLmd1aWFzX2Rvb3RheCA9IG51bGw7DQogICAgb2JqZ3JhdmFyLlRQUmNvZGlnb190cHJfX3RhYmVsYV9kZV9wcmVjb19pdGVucyA9IFtdOw0KICAgIG9iamdyYXZhci5UUFJpdGVuc190YWJlbGFfZGVfcHJlY29faWQgPSBbXTsNCiAgICBvYmpncmF2YXIuVFBSZGVzY3JpY2FvX19pdGVuc190YWJlbGFfZGVfcHJlY28gPSBbXTsNCiAgICBvYmpncmF2YXIuVFBSZGVzY3JpY2FvX3Rwcl9fdGFiZWxhX2RlX3ByZWNvID0gIiI7DQogICAgb2JqZ3JhdmFyLlRQUnRhYmVsYV9kZV9wcmVjb19pZCA9ICIiOw0KICAgIG9iamdyYXZhci5udW1lcm9fY3RlX29yaWdpbmFsX2N0ZSA9IENURS5udW1lcm9fY3RlX2N0ZTsNCiAgICBvYmpncmF2YXIuc2VyaWVfY3RlX29yaWdpbmFsX2N0ZSA9IENURS5zZXJpZV9jdGVfY3RlOw0KDQogICAgb2JqZ3JhdmFyLmNoYXZlX2RvX2N0ZV9hbnVsYWRvX2N0ZSA9IENURVNlbGVjaW9uYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09ICJhbnVsYWNhbyIgPyBDVEVTZWxlY2lvbmFkYS5jaGF2ZV9kb19jdGVfYW51bGFkb19jdGUgOiAiIjsNCiAgICBvYmpncmF2YXIuYW51bGFkb19hbnRlcmlybyA9IENURVNlbGVjaW9uYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09ICJhbnVsYWNhbyIgPyAic2ltIiA6ICJuYW8iOw0KICAgIG9iamdyYXZhci5hbnVsYWRvX2FudGVyaXJvX2Rlc2MgPSBDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAiYW51bGFjYW8iID8gIlNpbSIgOiAiTsOjbyI7DQogICAgb2JqZ3JhdmFyLm1vdGl2b19hbnVsYWNhb19jdGUgPSBDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAiYW51bGFjYW8iID8gQ1RFU2VsZWNpb25hZGEubW90aXZvX2FudWxhY2FvX2N0ZSA6ICIiOw0KICAgIG9iamdyYXZhci5hbmV4b19hbnVsYWNhb19jdGUgPSBDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAiYW51bGFjYW8iID8gQ1RFU2VsZWNpb25hZGEuYW5leG9fYW51bGFjYW9fY3RlIDogIiI7DQogICAgb2JqZ3JhdmFyLmFuZXhvX2FudWxhY2FvX2N0ZSA9IENURVNlbGVjaW9uYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09ICJhbnVsYWNhbyIgPyBDVEVTZWxlY2lvbmFkYS5hbmV4b19hbnVsYWNhb19jdGUgOiAiIjsNCiAgICBvYmpncmF2YXIuZGF0YV9kZV9lbWlzc2FvX2RhX2RlY2xhcmFjYW9fZG9fdG9tYWRvcl9jdGUgPSBDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAiYW51bGFjYW8iID8gQ1RFU2VsZWNpb25hZGEuZGF0YV9kZV9lbWlzc2FvX2RhX2RlY2xhcmFjYW9fZG9fdG9tYWRvcl9jdGUgOiAiIjsNCiAgICBvYmpncmF2YXIubnVtZXJvX2N0ZV9hbnVsYWRvX2N0ZSA9IENURVNlbGVjaW9uYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09ICJhbnVsYWNhbyIgPyBDVEVTZWxlY2lvbmFkYS5udW1lcm9fY3RlX2FudWxhZG9fY3RlIDogIiI7DQogICAgb2JqZ3JhdmFyLnNlcmllX2N0ZV9hbnVsYWRvX2N0ZSA9IENURVNlbGVjaW9uYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09ICJhbnVsYWNhbyIgPyBDVEVTZWxlY2lvbmFkYS5zZXJpZV9jdGVfYW51bGFkb19jdGUgOiAiIjsNCiAgICBvYmpncmF2YXIucG9zc3VpX2RlY2xhcmFjYW8gPSBDVEVTZWxlY2lvbmFkYS5maW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSA9PSAiYW51bGFjYW8iID8gQ1RFU2VsZWNpb25hZGEucG9zc3VpX2RlY2xhcmFjYW8gOiAnbmFvJzsNCiAgICBvYmpncmF2YXIucG9zc3VpX2RlY2xhcmFjYW9fZGVzYyA9IENURVNlbGVjaW9uYWRhLmZpbmFsaWRhZGVfZW1pc3Nhb19jdGVfY3RlID09ICJhbnVsYWNhbyIgPyBDVEVTZWxlY2lvbmFkYS5wb3NzdWlfZGVjbGFyYWNhbyA6ICdOw6NvJzsNCg0KICAgIHJldHVybiBvYmpncmF2YXI7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpDQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQoNCiAgICB2YXIgb2JqID0gew0KICAgICAgICAnY29uZCc6IGNvbmQsDQogICAgICAgICdqc29uJzogSlNPTi5zdHJpbmdpZnkoanNvbiksDQogICAgICAgICdXYWl0aW5nV2ViSG9vayc6IFdhaXRpbmdXZWJIb29rLA0KICAgIH07DQogICAgcmV0dXJuIG9iajsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkLCBhc3NpZCwgdXNyaWQsIGRhdGEsIGZlZGlkLCB1a0ZpZWxkKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfQ0KDQogICAgaWYgKGZlZGlkICE9PSB1bmRlZmluZWQgJiYgZmVkaWQgIT09ICcnKSB7DQogICAgICAgIG9uZXJneVNhdmVEYXRhLmlkID0gZmVkaWQ7DQogICAgfQ0KICAgIGlmICh1a0ZpZWxkICE9PSB1bmRlZmluZWQgJiYgdWtGaWVsZCAhPT0gJycpIHsNCiAgICAgICAgb25lcmd5U2F2ZURhdGEudWtGaWVsZCA9IHVrRmllbGQ7DQogICAgfQ0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IHN0clJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgZmR0aWQ6IGZkdGlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZmlsdGVyOiBmaWx0cm8NCiAgICB9KTsNCiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwKTsNCn0NCg0KZnVuY3Rpb24gZ2VyYXJGaWx0cm8oZmllbE5hbWVQLCB2YWx1ZVApIHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6IGZpZWxOYW1lUCwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogdmFsdWVQIH1dKTsNCn0NCg0KDQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgImNoYXZlX2N0ZV9jdGUiOiAiNDMyMjA2MDU1NTYxNTkwMDAxMDA1NzAwMTAwMDEwNDMyNzE3OTE5OTY2NzQiLA0KICAgICJjaGF2ZV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlIjogIiAiLA0KICAgICJ0aXBvX2RlX2VtaXNzYW9fY3RlX3NlbGVjaW9uYWRvX3N1YiI6ICJhbnVsYWNhbyIsDQogICAgInRpcG9fZGVfZW1pc3Nhb19jdGVfc2VsZWNpb25hZG9fc3ViX2Rlc2MiOiAiQW51bGHDp8OjbyIsDQogICAgIklEX09ORV9SRUYiOiAiODcwNmQ1NzgtYjgzNy00Y2U3LTllMjUtYjFiNzA1MGMyNWRlIiwNCiAgICAib25lVGVtcGxhdGVUaXRsZSI6ICIiLA0KICAgICJhc3NfaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiZmVkaWQiOiAiODBkNTRmZjItZTVlNy1jNzBhLWRhYmQtZmIxYjZiYWI1OTQ4IiwNCiAgICAiZmR0aWQiOiAiMzBlYzNmNjUtMzA4OC00NDFkLTkzMzgtODQzYTYxZDAwYmJhIiwNCiAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAib25lcmd5X3JvbGlkIjogIiIsDQogICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAib25lcmd5X2pzX2N0eCI6IHsNCiAgICAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgICAgICJmZWRpZCI6ICI4MGQ1NGZmMi1lNWU3LWM3MGEtZGFiZC1mYjFiNmJhYjU5NDgiLA0KICAgICAgICAiZmR0aWQiOiAiMzBlYzNmNjUtMzA4OC00NDFkLTkzMzgtODQzYTYxZDAwYmJhIiwNCiAgICAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTA2LTI4VDEzOjIyOjUyLjA3NVoiLA0KICAgICAgICAidXBkYXRlRHQiOiAiMjAyMi0wNi0yOFQxMzoyMjo1Mi4wNzVaIiwNCiAgICAgICAgImN1cl91c2VyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAgICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJ1c2VyX25hbWUiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAgICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICAgICAicHJhaWQiOiAiZGRhNTYzZTgtNTRjZi00OTFiLWEwOWEtMDFmMWIxMGRlZjM0IiwNCiAgICAgICAgInBjdmlkIjogImI1NjI3YzI1LWM3NmQtNDE1My1iOWNjLTQ3YmQ4NjM2NDUyOCIsDQogICAgICAgICJwcmNpZCI6ICJmZGY0Mzk1MC05Mjg2LTkwMWItNWM2NC1mMjM2ZDBkNjRkZWQiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAidGltZXpvbmVfdmFsdWUiOiAiLTAzOjAwIiwNCiAgICAgICAgInB1Yk51Ykhvb2siOiBudWxsDQogICAgfQ0KfQ0KDQoNCg0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(CTE) - Tarefa Faturamento.js", "isDirectory": false, "__KEY__": "8a43af24-ddca-e09d-ac69-78235776e726", "size": 55527, "dateModified": "2022-08-26T20:59:12.000Z", "content": "Y29uc3Qgew0KICAgIEpTRE9NDQp9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsNCiAgICB3aW5kb3cNCn0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsNCiAgICBkYXRlDQp9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsNCiAgICB0eXBlDQp9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsNCiAgICBmb3JtYXREYXRlDQp9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KbGV0IENURXNFbWl0aWRvc0lEID0gImJiNTU1YWE0LTI1MzYtNGFjMC1hNDhiLTBiZmYyMzRhYTc5OSI7DQpsZXQgQ1RFc05hb0VtaXRpZG9zSUQgPSAiYmUzMDIxMjgtNDRkZS00MmU3LTg3NGQtNzdiMDg2N2ZiNTU3IjsNCmxldCBFbXByZXNhSUQgPSAiYWY2NmZiMmQtOTYwZS00ZTFiLTlhNjYtNDQ0Y2RhZDY0ZjYzIjsNCmxldCBORkVzQ1RFSUQgPSAiYzQyNTA1NDUtOTdkYS00YjYyLWI2YzgtOTAzNzQ5MThjODAxIjsNCmxldCB1bmlkYWRlRW1pc3Nhb0lEID0gIjIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZiI7DQpsZXQgcmVnaXN0cm9VbmlkYWRlRW1pc3Nhb0NheGlhcyA9ICIyMWNkZWI1MC1kY2NhLTRiNDQtOWVkNy0wZTMzNzgxMzc3YWEiOw0KbGV0IHJlZ2lzdHJvVW5pZGFkZUVtaXNzYW9TYW9QYXVsbyA9ICJiYzJhMDgxNi05MzdmLWUyY2QtMWNlNS04ZjAwOWQ1YTNhOTkiOw0KbGV0IGJhbmNvc0lEID0gImIzZTk1MjViLTY4NmMtNDBhYS05YTYxLWRlYzRkMTVjZmE5MiI7DQpsZXQgb3JkZW1WZW5kYUlEID0gIjJlMjc3Y2I4LWE3ZDQtNGRjNy04NDlhLTYwMjRiZDQ2MmU0NiI7DQoNCg0KdmFyIHJlc3VsdCA9IFtdOw0KbGV0IHBvc3RJbmZvID0gew0KICAgICJudW1lcm9fb3JkZW1fZGVfdmVuZGEiOiAiIiwNCiAgICAidXJsZG9jY29iIjogIiIsDQogICAgInVybHhtbCI6ICIiLA0KICAgICJkb2Njb2JzIjogW10sDQogICAgInhtbHMiOiBbXSwNCiAgICAiTEVTVEFTRm5vbWVfZW1wcmVzYV9fdW5pZGFkZV9kZV9lbWlzc2FvIjogIiIsDQogICAgIkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQiOiAiIiwNCiAgICAiRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX19mYXR1cmFyX3BhcmEiOiAiIiwNCiAgICAiRU1QZmF0dXJhcl9wYXJhX2lkIjogIiIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fY25wal9lbXByZXNhX2ZhdHVyYXJfcGFyYSI6ICIiLA0KICAgICJkYXRhX2RlX2ZhdHVyYW1lbnRvX29yZGVtX2RlX3ZlbmRhRGF0ZSI6ICIiLA0KICAgICJkYXRhX2RlX2ZhdHVyYW1lbnRvX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgImRhdGFfZGVfdmVuY2ltZW50b19kYV9wYXJjZWxhRGF0ZSI6ICIiLA0KICAgICJkYXRhX2RlX3ZlbmNpbWVudG9fZGFfcGFyY2VsYSI6ICIiLA0KICAgICJ2YWxvcl9vcmRlbV9kZV92ZW5kYSI6IDAsDQogICAgIk1FSVBBR2Rlc2NyaWNhb19fbWVpb19kZV9wYWdhbWVudG9fb3JkZW1fZGVfdmVuZGEiOiAiIiwNCiAgICAiTUVJUEFHbWVpb19kZV9wYWdhbWVudG9fb3JkZW1fZGVfdmVuZGFfaWQiOiAiIiwNCiAgICAib2JzZXJ2YWNvZXNfb3JkZW1fZGVfdmVuZGEiOiAiIiwNCiAgICAiZGVzY3JpY2FvX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgIkNURXNJRHMiOiBbXQ0KfTsNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBpZiAoZGF0YS5hdGl2byA9PSAnc2ltJykgew0KICAgICAgICBhd2FpdCBNb250YXJMb3RlQ1RFcyhkYXRhKTsNCiAgICAgICAgcG9zdFJlc3VsdCA9IHsNCiAgICAgICAgICAgICJkYXRhX3VsdGltYV9leGVjdWNhb0RhdGUiOiB1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSwNCiAgICAgICAgICAgICJkYXRhX3VsdGltYV9leGVjdWNhbyI6IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpDQogICAgICAgIH07DQogICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgbGV0IG1zZyA9ICIiOw0KICAgICAgICAgICAgZm9yIChsZXQgTVNHIG9mIHJlc3VsdCkgew0KICAgICAgICAgICAgICAgIG1zZyArPSBNU0cubXNnICsgIlxuIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHBvc3RSZXN1bHQubG9nID0gbXNnOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCBwb3N0UmVzdWx0LCB0cnVlKTsNCn0NCmFzeW5jIGZ1bmN0aW9uIE1vbnRhckxvdGVDVEVzKGRhdGEpIHsNCiAgICBsZXQgZmlsdHJvQ1RFcyA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgeyBGaWVsTmFtZTogInN0YXR1c19jdGVfY3RlIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogImVtaXRpZG8iIH0sDQogICAgICAgIHsgRmllbE5hbWU6ICJmaW5hbGlkYWRlX2VtaXNzYW9fY3RlX2N0ZSIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6ICJub3JtYWwiIH0sDQogICAgICAgIHsgRmllbE5hbWU6ICJudW1lcm9fY3RlX2N0ZSIsIFR5cGU6ICJOdW1lcmljIiwgRml4ZWRUeXBlOiAiTnVtZXJpYyIsIFZhbHVlMTogWzEwNDUwOCwgMTA0NTA3LCAxMDQ1MDYsIDEwNDUwNV0gfQ0KICAgICAgICAvLyB7IEZpZWxOYW1lOiAiZmF0dXJhZG9fY3RlIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogIm5hbyIgfSwNCiAgICBdKTsNCg0KICAgIGxldCBvYmpzQ1RFc0VtaXRpZG9zID0gYXdhaXQgZ2V0T25lcmd5SXRlbShDVEVzRW1pdGlkb3NJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0NURXMpOw0KICAgIGxldCBvYmpzQ1RFc05hb0VtaXRpZG9zID0gYXdhaXQgZ2V0T25lcmd5SXRlbShDVEVzTmFvRW1pdGlkb3NJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0NURXMpOw0KICAgIGxldCBDVEVzID0gb2Jqc0NURXNFbWl0aWRvcy5jb25jYXQob2Jqc0NURXNOYW9FbWl0aWRvcyk7DQoNCiAgICB3aGlsZSAoQ1RFcy5sZW5ndGggPiAwKSB7DQogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PSBUb21hZG9yID09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgICAgICBsZXQgY25walRvbWFkb3IgPSBDVEVzWzBdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZTsNCiAgICAgICAgbGV0IGZpbHRyb1RvbWFkb3IgPSBnZXJhckZpbHRybygiY25wal9lbXByZXNhIiwgY25walRvbWFkb3IpOw0KICAgICAgICBsZXQgb2JqVG9tYWRvciA9IGF3YWl0IGdldE9uZXJneUl0ZW0oRW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvVG9tYWRvcik7DQogICAgICAgIG9ialRvbWFkb3IgPSBvYmpUb21hZG9yLmxlbmd0aCA+IDAgPyBvYmpUb21hZG9yWzBdLlVybEpzb25Db250ZXh0IDogbnVsbDsNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09IFJlbWV0ZW50ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICAgICAgbGV0IGNucGpSZW1ldGVudGUgPSBDVEVzWzBdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlOw0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT0gRGVzdGluYXTDoXJpbyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICAgICAgbGV0IGNucGpEZXN0aW5hdGFyaW8gPSBDVEVzWzBdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NucGpfY3RlOw0KICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQoNCiAgICAgICAgLy8gTG90ZSBDVEUgKE1lc21vIFRvbWFkb3IsIFJlbWV0ZW50ZSBlIGRlc3RpbmF0w6FyaW8pLg0KICAgICAgICBsZXQgbG90ZVRvbWFkb3IgPSBDVEVzLmZpbHRlcihDVEUgPT4NCiAgICAgICAgICAgIENURS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUgPT0gY25walRvbWFkb3IgJiYNCiAgICAgICAgICAgIENURS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX3JlbWV0ZW50ZV9jbnBqX2N0ZSA9PSBjbnBqUmVtZXRlbnRlICYmDQogICAgICAgICAgICBDVEUuVXJsSnNvbkNvbnRleHQuRU1QY25wal9lbXByZXNhX19kZXN0aW5hdGFyaW9fY25wal9jdGUgPT0gY25wakRlc3RpbmF0YXJpbyk7DQoNCiAgICAgICAgLy9yZW1vdmVyIGFzIENURXMgcXVlIGZvcmFtIGFncnVwYWRhcw0KICAgICAgICBmb3IgKGxldCBzIGluIGxvdGVUb21hZG9yKSB7DQogICAgICAgICAgICBmb3IgKGxldCBqIGluIENURXMpIHsNCiAgICAgICAgICAgICAgICBpZiAoQ1RFc1tqXS5JRCA9PSBsb3RlVG9tYWRvcltzXS5JRCkgew0KICAgICAgICAgICAgICAgICAgICBDVEVzLnNwbGljZShqLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGxvdGVUb21hZG9yLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGlmIChvYmpUb21hZG9yKSB7DQogICAgICAgICAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09IFRvbWFkb3IgU2VtIHVsdGltYSBkYXRhIGRlIGZhdHVyYW1lbnRvID09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgICAgICAgICAgICAgIGlmICghb2JqVG9tYWRvci5kYXRhX3VsdGltb19mYXR1cmFtZW50bykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIW9ialRvbWFkb3IuRFNNQXBlcmlvZGljaWRhZGVfX2VtcHJlc2FfcGVyaW9kaWNpZGFkZV9kZV9mYXR1cmFtZW50bykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibXNnIjogYEVycm8gbmEgZ2VyYcOnw6NvIGRlIGxvdGUgcGFyYSBmYXR1cmFtZW50by5cbiAjVG9tYWRvciAke2NucGpUb21hZG9yfSBzZW0gUGVyaW9kaWNpZGFkZSBkZSBmYXR1cmFtZW50by5gDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGVVbHRpbW9GYXR1cmFtZW50byA9IHplcmFySG9yYSh1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0ZVByb3hpbW9GYXR1cmFtZW50ID0gZ2V0UHJveEZhdChkYXRlVWx0aW1vRmF0dXJhbWVudG8sIG9ialRvbWFkb3IuRFNNQXBlcmlvZGljaWRhZGVfX2VtcHJlc2FfcGVyaW9kaWNpZGFkZV9kZV9mYXR1cmFtZW50byk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXRhX3VsdGltb19mYXR1cmFtZW50byI6IGRhdGVUb1N0cmluZyhkYXRlVWx0aW1vRmF0dXJhbWVudG8pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0YV91bHRpbW9fZmF0dXJhbWVudG9EYXRlIjogZGF0ZVRvU3RyaW5nKGRhdGVVbHRpbW9GYXR1cmFtZW50byksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXRhX3Byb3hpbW9fZmF0dXJhbWVudG8iOiBkYXRlVG9TdHJpbmcoZGF0ZVByb3hpbW9GYXR1cmFtZW50KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRhdGFfcHJveGltb19mYXR1cmFtZW50b0RhdGUiOiBkYXRlVG9TdHJpbmcoZGF0ZVByb3hpbW9GYXR1cmFtZW50KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZmR0aWQ6IEVtcHJlc2FJRCwNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocG9zdEluZm8pLA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlkOiBvYmpUb21hZG9yLmZlZGlkDQogICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IENyaWFyQ09ORU1CKGRhdGEsIGxvdGVUb21hZG9yLCBvYmpUb21hZG9yKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhQXR1YWwgPSB6ZXJhckhvcmEodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgdWx0aW1vRmF0dXJhbWVudG8gPSBuZXcgRGF0ZSh6ZXJhckhvcmEob2JqVG9tYWRvci5kYXRhX3VsdGltb19mYXR1cmFtZW50bykpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgcHJveGltb0ZhdHVyYW1lbnRvID0gbmV3IERhdGUoemVyYXJIb3JhKG9ialRvbWFkb3IuZGF0YV9wcm94aW1vX2ZhdHVyYW1lbnRvKSk7DQogICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PSBEYXRhcyBJbmNvbnNpc3RlbnRlcyA9PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFBdHVhbC5nZXRUaW1lKCkgPiBwcm94aW1vRmF0dXJhbWVudG8uZ2V0VGltZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG90ZUZhdHVyYW1lbnRvID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBDdGVzTmFvUHJvY2Vzc2FkYXMgPSBsb3RlVG9tYWRvci5maWx0ZXIoQ1RFID0+ICFDVEUucHJvY2Vzc2FkYSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBDdGVzTmFvUHJvY2Vzc2FkYXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFFbWlzc2FvQ1RFID0gbmV3IERhdGUoemVyYXJIb3JhKEN0ZXNOYW9Qcm9jZXNzYWRhc1tzXS5VcmxKc29uQ29udGV4dC5kYXRhX2VtaXNzYW9fY3RlRGF0ZSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUVtaXNzYW9DVEUuZ2V0VGltZSgpID49IHVsdGltb0ZhdHVyYW1lbnRvLmdldFRpbWUoKSAmJiBkYXRhRW1pc3Nhb0NURS5nZXRUaW1lKCkgPD0gcHJveGltb0ZhdHVyYW1lbnRvLmdldFRpbWUoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3Rlc05hb1Byb2Nlc3NhZGFzW3NdLnByb2Nlc3NhZGEgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG90ZUZhdHVyYW1lbnRvLnB1c2goQ3Rlc05hb1Byb2Nlc3NhZGFzW3NdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVsdGltb0ZhdHVyYW1lbnRvID0gcHJveGltb0ZhdHVyYW1lbnRvOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50byA9IGdldFByb3hGYXQocHJveGltb0ZhdHVyYW1lbnRvLCBvYmpUb21hZG9yLkRTTUFwZXJpb2RpY2lkYWRlX19lbXByZXNhX3BlcmlvZGljaWRhZGVfZGVfZmF0dXJhbWVudG8pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFBdHVhbC5nZXRUaW1lKCkgPCBwcm94aW1vRmF0dXJhbWVudG8uZ2V0VGltZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0YV91bHRpbW9fZmF0dXJhbWVudG8iOiBkYXRlVG9TdHJpbmcodWx0aW1vRmF0dXJhbWVudG8pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXRhX3VsdGltb19mYXR1cmFtZW50b0RhdGUiOiBkYXRlVG9TdHJpbmcodWx0aW1vRmF0dXJhbWVudG8pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXRhX3Byb3hpbW9fZmF0dXJhbWVudG8iOiBkYXRlVG9TdHJpbmcocHJveGltb0ZhdHVyYW1lbnRvKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0YV9wcm94aW1vX2ZhdHVyYW1lbnRvRGF0ZSI6IGRhdGVUb1N0cmluZyhwcm94aW1vRmF0dXJhbWVudG8pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZkdGlkOiBFbXByZXNhSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBvc3RJbmZvKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlkOiBvYmpUb21hZG9yLmZlZGlkDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobG90ZUZhdHVyYW1lbnRvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBDcmlhckNPTkVNQihkYXRhLCBsb3RlRmF0dXJhbWVudG8sIG9ialRvbWFkb3IpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PSBEYXRhcyBDb25zaXN0ZW50ZXMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhQXR1YWwuZ2V0VGltZSgpID09IHByb3hpbW9GYXR1cmFtZW50by5nZXRUaW1lKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkYXRhX3VsdGltb19mYXR1cmFtZW50byI6IGRhdGVUb1N0cmluZyhkYXRhQXR1YWwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0YV9wcm94aW1vX2ZhdHVyYW1lbnRvRGF0ZSI6IGRhdGVUb1N0cmluZyhkYXRhQXR1YWwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0YV9wcm94aW1vX2ZhdHVyYW1lbnRvIjogZGF0ZVRvU3RyaW5nKGdldFByb3hGYXQoZGF0YUF0dWFsLCBvYmpUb21hZG9yLkRTTUFwZXJpb2RpY2lkYWRlX19lbXByZXNhX3BlcmlvZGljaWRhZGVfZGVfZmF0dXJhbWVudG8pKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRhdGFfdWx0aW1vX2ZhdHVyYW1lbnRvRGF0ZSI6IGRhdGVUb1N0cmluZyhnZXRQcm94RmF0KGRhdGFBdHVhbCwgb2JqVG9tYWRvci5EU01BcGVyaW9kaWNpZGFkZV9fZW1wcmVzYV9wZXJpb2RpY2lkYWRlX2RlX2ZhdHVyYW1lbnRvKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZmR0aWQ6IEVtcHJlc2FJRCwNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocG9zdEluZm8pLA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlkOiBvYmpUb21hZG9yLmZlZGlkDQogICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvdGVGYXR1cmFtZW50byA9IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBsb3RlVG9tYWRvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhRW1pc3Nhb0NURSA9IG5ldyBEYXRlKHplcmFySG9yYShsb3RlVG9tYWRvcltzXS5VcmxKc29uQ29udGV4dC5kYXRhX2VtaXNzYW9fY3RlRGF0ZSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhRW1pc3Nhb0NURS5nZXRUaW1lKCkgPj0gdWx0aW1vRmF0dXJhbWVudG8uZ2V0VGltZSgpICYmIGRhdGFFbWlzc2FvQ1RFLmdldFRpbWUoKSA8PSBwcm94aW1vRmF0dXJhbWVudG8uZ2V0VGltZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvdGVGYXR1cmFtZW50by5wdXNoKGxvdGVUb21hZG9yW3NdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBDcmlhckNPTkVNQihkYXRhLCBsb3RlRmF0dXJhbWVudG8sIG9ialRvbWFkb3IpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAgICAgIm1zZyI6IGBUb21hZG9yIGNvbSBDTlBKOiR7Y25walRvbWFkb3J9IG7Do28gZm9pIGVuY29udHJhZG8uYA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KYXN5bmMgZnVuY3Rpb24gQ3JpYXJDT05FTUIoZGF0YSwgQ1RFTG90ZSwgdG9tYWRvcikgew0KICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSh1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSk7DQogICAgbGV0IGxvdGVDYXhpYXMgPSBDVEVMb3RlLmZpbHRlcihDVEUgPT4gQ1RFLlVybEpzb25Db250ZXh0LkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQgPT0gcmVnaXN0cm9VbmlkYWRlRW1pc3Nhb0NheGlhcyk7DQogICAgaWYgKGxvdGVDYXhpYXMubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgQ09ORU1CX0NBWElBUyA9IGF3YWl0IE1vbnRhckNPTkVNQihkYXRhLCBsb3RlQ2F4aWFzLCB0b21hZG9yKTsNCiAgICAgICAgbGV0IGZpbGV0ZW1wID0gZmlsZXV0aWxzLkNyZWF0ZUZpbGUoQ09ORU1CX0NBWElBUywgIi50eHQiKTsNCiAgICAgICAgbGV0IHVybERPQ0NPQiA9IGZpbGV1dGlscy5VcGxvYWRGaWxlKGZpbGV0ZW1wKTsNCiAgICAgICAgLy9sZXQgdXJsRE9DQ09CID0gImh0dHBzOi8vb25lYmFja3Vwc2VydmljZXMuYmxvYi5jb3JlLndpbmRvd3MubmV0LzE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OS82Mzk2YmFmZC02ZTNkLTRmZmQtOWZkNi0xNTM5NmEzOGZhYWQ2MjhjZjIxOGU5YWJkZTJiZjQyMDY5ODYueG1sLnhtbD9zdj0yMDE4LTAzLTI4JnNyPWImc2lnPWFETlJRY1RSbGo5SWtuQVdheXZ1dTdod0thSVRQTHFlcVVlOFNBM294TzAlM0Qmc2U9MjAyMy0wMi0wNlQxNCUzQTA2JTNBMTFaJnNwPXIiOyAvLyBmaWxldXRpbHMuVXBsb2FkRmlsZShmaWxldGVtcCk7DQogICAgICAgIHBvc3RJbmZvLmRvY2NvYnMgPSBbew0KICAgICAgICAgICAgIlVybCI6IHVybERPQ0NPQiwNCiAgICAgICAgICAgICJVcmxBenVyZSI6IHVybERPQ0NPQiwNCiAgICAgICAgICAgICJOYW1lIjogYERPQ0NPQl8ke3Bvc3RJbmZvLkVNUGNucGpfZW1wcmVzYV9fY25wal9lbXByZXNhX2ZhdHVyYXJfcGFyYX1gDQogICAgICAgIH1dOw0KICAgICAgICBwb3N0SW5mby51cmxkb2Njb2IgPSB1cmxET0NDT0I7DQoNCiAgICAgICAgbGV0IENPTkVNQl9YTUwgPSBhd2FpdCBNb250YXJYTUxDT05FTUIoZGF0YSwgbG90ZUNheGlhcywgdG9tYWRvcik7DQogICAgICAgIG9uZXJneS5sb2coSlNPTi5zdHJpbmdpZnkoQ09ORU1CX1hNTCkpOw0KICAgICAgICBsZXQgeG1sQ29udGVudCA9IGZpbGV1dGlscy5Db252ZXJ0SnNvblRvWG1sKEpTT04uc3RyaW5naWZ5KENPTkVNQl9YTUwpLCAieXl5eS1NTS1kZFRISDptbTpzcyIsIEpTT04uc3RyaW5naWZ5KHsgUm9vdE5hbWU6ICJyb290IiB9KSk7DQogICAgICAgIGxldCBkaXJDb250ZW50WE1MID0gZmlsZXV0aWxzLkNyZWF0ZUZpbGUoeG1sQ29udGVudCwgIi54bWwiKTsNCiAgICAgICAgbGV0IHVybFhNTERPQ0NPQiA9IGZpbGV1dGlscy5VcGxvYWRGaWxlKGRpckNvbnRlbnRYTUwpOw0KICAgICAgICAvL2xldCB1cmxYTUxET0NDT0IgPSAiaHR0cHM6Ly9vbmViYWNrdXBzZXJ2aWNlcy5ibG9iLmNvcmUud2luZG93cy5uZXQvMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5LzYzOTZiYWZkLTZlM2QtNGZmZC05ZmQ2LTE1Mzk2YTM4ZmFhZDYyOGNmMjE4ZTlhYmRlMmJmNDIwNjk4Ni54bWwueG1sP3N2PTIwMTgtMDMtMjgmc3I9YiZzaWc9YUROUlFjVFJsajlJa25BV2F5dnV1N2h3S2FJVFBMcWVxVWU4U0Ezb3hPMCUzRCZzZT0yMDIzLTAyLTA2VDE0JTNBMDYlM0ExMVomc3A9ciI7DQogICAgICAgIHBvc3RJbmZvLnhtbHMgPSBbew0KICAgICAgICAgICAgIlVybCI6IHVybFhNTERPQ0NPQiwNCiAgICAgICAgICAgICJVcmxBenVyZSI6IHVybFhNTERPQ0NPQiwNCiAgICAgICAgICAgICJOYW1lIjogYFhNTF9ET0NDT0JfJHtwb3N0SW5mby5FTVBjbnBqX2VtcHJlc2FfX2NucGpfZW1wcmVzYV9mYXR1cmFyX3BhcmF9YA0KICAgICAgICB9XTsNCiAgICAgICAgcG9zdEluZm8udXJseG1sID0gdXJsWE1MRE9DQ09COw0KDQogICAgICAgIHBvc3RJbmZvLmRlc2NyaWNhb19vcmRlbV9kZV92ZW5kYSA9IGBGYXR1cmFtZW50byBBdXRvbcOhdGljbyBFeGVjdXRhZG8gZGlhICR7KGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9LyR7KChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfS8ke2RhdGFBdHVhbC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCl9YDsNCiAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShvcmRlbVZlbmRhSUQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBwb3N0SW5mbyk7DQogICAgfQ0KDQogICAgbGV0IGxvdGVTYW9QYXVsbyA9IENURUxvdGUuZmlsdGVyKENURSA9PiBDVEUuVXJsSnNvbkNvbnRleHQuTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCA9PSByZWdpc3Ryb1VuaWRhZGVFbWlzc2FvU2FvUGF1bG8pOw0KICAgIGlmIChsb3RlU2FvUGF1bG8ubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgQ09ORU1CX1NQID0gYXdhaXQgTW9udGFyQ09ORU1CKGRhdGEsIGxvdGVTYW9QYXVsbywgdG9tYWRvcik7DQogICAgICAgIHZhciBmaWxldGVtcCA9IGZpbGV1dGlscy5DcmVhdGVGaWxlKENPTkVNQl9TUCwgIi50eHQiKTsNCiAgICAgICAgbGV0IHVybERPQ0NPQiA9IGZpbGV1dGlscy5VcGxvYWRGaWxlKGZpbGV0ZW1wKTsNCiAgICAgICAgLy9sZXQgdXJsRE9DQ09CID0gImh0dHBzOi8vb25lYmFja3Vwc2VydmljZXMuYmxvYi5jb3JlLndpbmRvd3MubmV0LzE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OS82Mzk2YmFmZC02ZTNkLTRmZmQtOWZkNi0xNTM5NmEzOGZhYWQ2MjhjZjIxOGU5YWJkZTJiZjQyMDY5ODYueG1sLnhtbD9zdj0yMDE4LTAzLTI4JnNyPWImc2lnPWFETlJRY1RSbGo5SWtuQVdheXZ1dTdod0thSVRQTHFlcVVlOFNBM294TzAlM0Qmc2U9MjAyMy0wMi0wNlQxNCUzQTA2JTNBMTFaJnNwPXIiOw0KICAgICAgICBwb3N0SW5mby5kb2Njb2JzID0gW3sNCiAgICAgICAgICAgICJVcmwiOiB1cmxET0NDT0IsDQogICAgICAgICAgICAiVXJsQXp1cmUiOiB1cmxET0NDT0IsDQogICAgICAgICAgICAiTmFtZSI6IGBET0NDT0JfJHtwb3N0SW5mby5FTVBjbnBqX2VtcHJlc2FfX2NucGpfZW1wcmVzYV9mYXR1cmFyX3BhcmF9YA0KICAgICAgICB9XTsNCiAgICAgICAgcG9zdEluZm8udXJsZG9jY29iID0gdXJsRE9DQ09COw0KDQogICAgICAgIGxldCBDT05FTUJfWE1MID0gYXdhaXQgTW9udGFyWE1MQ09ORU1CKGRhdGEsIGxvdGVDYXhpYXMsIHRvbWFkb3IpOw0KICAgICAgICBsZXQgeG1sQ29udGVudCA9IGZpbGV1dGlscy5Db252ZXJ0SnNvblRvWG1sKEpTT04uc3RyaW5naWZ5KENPTkVNQl9YTUwpLCAieXl5eS1NTS1kZFRISDptbTpzcyIsIEpTT04uc3RyaW5naWZ5KHsgUm9vdE5hbWU6ICJyb290IiB9KSk7DQogICAgICAgIGxldCBkaXJDb250ZW50WE1MID0gZmlsZXV0aWxzLkNyZWF0ZUZpbGUoeG1sQ29udGVudCwgIi54bWwiKTsNCiAgICAgICAgbGV0IHVybFhNTERPQ0NPQiA9IGZpbGV1dGlscy5VcGxvYWRGaWxlKGRpckNvbnRlbnRYTUwpOw0KICAgICAgICAvL2xldCB1cmxYTUxET0NDT0IgPSAiaHR0cHM6Ly9vbmViYWNrdXBzZXJ2aWNlcy5ibG9iLmNvcmUud2luZG93cy5uZXQvMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5LzYzOTZiYWZkLTZlM2QtNGZmZC05ZmQ2LTE1Mzk2YTM4ZmFhZDYyOGNmMjE4ZTlhYmRlMmJmNDIwNjk4Ni54bWwueG1sP3N2PTIwMTgtMDMtMjgmc3I9YiZzaWc9YUROUlFjVFJsajlJa25BV2F5dnV1N2h3S2FJVFBMcWVxVWU4U0Ezb3hPMCUzRCZzZT0yMDIzLTAyLTA2VDE0JTNBMDYlM0ExMVomc3A9ciI7DQogICAgICAgIHBvc3RJbmZvLnhtbHMgPSBbew0KICAgICAgICAgICAgIlVybCI6IHVybFhNTERPQ0NPQiwNCiAgICAgICAgICAgICJVcmxBenVyZSI6IHVybFhNTERPQ0NPQiwNCiAgICAgICAgICAgICJOYW1lIjogYFhNTF9ET0NDT0JfJHtwb3N0SW5mby5FTVBjbnBqX2VtcHJlc2FfX2NucGpfZW1wcmVzYV9mYXR1cmFyX3BhcmF9YA0KICAgICAgICB9XTsNCiAgICAgICAgcG9zdEluZm8udXJseG1sID0gdXJsWE1MRE9DQ09COw0KDQogICAgICAgIHBvc3RJbmZvLmRlc2NyaWNhb19vcmRlbV9kZV92ZW5kYSA9IGBGYXR1cmFtZW50byBBdXRvbcOhdGljbyBFeGVjdXRhZG8gZGlhICR7KGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9LyR7KChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfS8ke2RhdGFBdHVhbC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCl9YDsNCiAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShvcmRlbVZlbmRhSUQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBwb3N0SW5mbyk7DQogICAgfQ0KfQ0KYXN5bmMgZnVuY3Rpb24gTW9udGFyQ09ORU1CKGRhdGEsIGxvdGVDVEVzLCB0b21hZG9yKSB7DQogICAgbGV0IE5GRXNWaW5jdWxhZGFzID0gYXdhaXQgQnVzY2FyTkZFc1ZpbmN1bGFkYXMoZGF0YSwgbG90ZUNURXMpOw0KICAgIGxldCBMaW5oYXNET0NDT0IgPSBbXTsNCiAgICBsZXQgaW5mb0NURXMgPSBbXTsNCiAgICBsZXQgaWRzQ1RFcyA9IFtdOw0KDQogICAgTGluaGFzRE9DQ09CLnB1c2goZ2V0X2lkZW50aWZpY2FjYW9Eb3NQYXJ0aWNpcGFudGVzKGxvdGVDVEVzLCB0b21hZG9yKSk7DQogICAgTGluaGFzRE9DQ09CLnB1c2goZ2V0X2NhYmVjYWxob0RvRG9jY29iKCkpOw0KICAgIExpbmhhc0RPQ0NPQi5wdXNoKGF3YWl0IGdldF9kYWRvc0RhVHJhbnNwb3J0YWRvcmEoZGF0YSwgbG90ZUNURXNbMF0pKTsNCiAgICBMaW5oYXNET0NDT0IucHVzaChhd2FpdCBnZXRfaWRlbnRpZmljYWNhb0RvRG9jdW1lbnRvRGVDb2JyYW5jYShkYXRhLCBsb3RlQ1RFcywgdG9tYWRvcikpOw0KDQogICAgZm9yIChjb25zdCBDVEUgb2YgbG90ZUNURXMpIHsNCiAgICAgICAgaW5mb0NURXMucHVzaChgQ1RFOiAke0NURS5VcmxKc29uQ29udGV4dC5udW1lcm9fY3RlX2N0ZX1cbiAgIENoYXZlOiR7Q1RFLlVybEpzb25Db250ZXh0LmNoYXZlX2N0ZV9jdGV9XG4gICBEQUNURToke0NURS5VcmxKc29uQ29udGV4dC51cmxfcGRmX2N0ZX1cbmApOw0KICAgICAgICBpZHNDVEVzLnB1c2goeyAiSUQiOiBDVEUuSUQsICJUZW1wbGF0ZUlkIjogQ1RFLnRlbXBsYXRlaWQgfSkNCiAgICAgICAgTGluaGFzRE9DQ09CLnB1c2goYXdhaXQgZ2V0X2luZm9ybWFjYW9Eb3NDVGVzUXVlRXN0YW9TZW5kb0NvYnJhZG9zKGRhdGEsIENURSkpOw0KICAgICAgICBsZXQgTkZFcyA9IE5GRXNWaW5jdWxhZGFzLmZpbHRlcihYID0+IFguSUQgPT0gQ1RFLklEKTsNCiAgICAgICAgZm9yIChjb25zdCBORkUgb2YgTkZFc1swXS5ORkVzKSB7DQogICAgICAgICAgICBMaW5oYXNET0NDT0IucHVzaChnZXRfaW5mb3JtYWNvZXNEYXNOb3Rhc0Zpc2NhaXNRdWVDb21wb2Vtb0NUZShORkUpKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBwb3N0SW5mby5vYnNlcnZhY29lc19vcmRlbV9kZV92ZW5kYSA9IGluZm9DVEVzLmpvaW4oIiIpOw0KICAgIHBvc3RJbmZvLkNURXNJRHMgPSBpZHNDVEVzOw0KDQogICAgTGluaGFzRE9DQ09CLnB1c2goZ2V0X2luZm9ybWHDp29lc1NvYnJlT1ZhbG9yVG90YWxEYUZhdHVyYShsb3RlQ1RFcykpDQoNCiAgICByZXR1cm4gTGluaGFzRE9DQ09CLmpvaW4oIlxuIik7DQp9DQphc3luYyBmdW5jdGlvbiBCdXNjYXJORkVzVmluY3VsYWRhcyhkYXRhLCBDVEVMb3RlKSB7DQogICAgbGV0IHZhbG9yZXNSZXR1cm4gPSBbXTsNCiAgICBmb3IgKGNvbnN0IENURSBvZiBDVEVMb3RlKSB7DQogICAgICAgIGxldCBmaWx0cm9ORkVzID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBDVEUuSUQpOw0KICAgICAgICBsZXQgTkZFcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oTkZFc0NURUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvTkZFcyk7DQogICAgICAgIHZhbG9yZXNSZXR1cm4ucHVzaCh7DQogICAgICAgICAgICAiSUQiOiBDVEUuSUQsDQogICAgICAgICAgICAiTkZFcyI6IE5GRXMNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIHJldHVybiB2YWxvcmVzUmV0dXJuOw0KfQ0KZnVuY3Rpb24gZ2V0X2lkZW50aWZpY2FjYW9Eb3NQYXJ0aWNpcGFudGVzKENURUxvdGUsIHRvbWFkb3IpIHsNCiAgICBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpOw0KICAgIGxldCBDb21wb25ldGVzID0gew0KICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIwMDAiDQogICAgICAgIH0sDQogICAgICAgICJJREVOVElGSUNBRE9SX0RPX1JFTUVURU5URSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAzNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiBDVEVMb3RlWzBdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlDQogICAgICAgIH0sDQogICAgICAgICJJREVOVElGSUNBRE9SX0RPX0RFU1RJTkFUQVJJTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAzNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMzksDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogQ1RFTG90ZVswXS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jbnBqX2N0ZQ0KICAgICAgICB9LA0KICAgICAgICAiREFUQSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA2LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA3NCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiBgJHsoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKX0keygoZGF0YUF0dWFsLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKX0ke2RhdGFBdHVhbC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIsIDQpfWANCiAgICAgICAgfSwNCiAgICAgICAgIkhPUkEiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogODAsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogYCR7ZGF0YUF0dWFsLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX0ke2RhdGFBdHVhbC5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX1gDQogICAgICAgIH0sDQogICAgICAgICJJREVOVElGSUNBw4dBT19ET19JTlRFUkNBTUJJTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxMiwNCiAgICAgICAgICAgICJQb3NpY2FvIjogODQsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogYENPQiR7KGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHsoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHtkYXRhQXR1YWwuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfSR7ZGF0YUF0dWFsLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfTBgDQogICAgICAgIH0sDQogICAgICAgICJGSUxMRVIiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMjA1LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA5NiwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgfQ0KICAgIH07DQogICAgcmV0dXJuIE1vbnRhckxpbmhhKENvbXBvbmV0ZXMpOw0KfQ0KZnVuY3Rpb24gZ2V0X2NhYmVjYWxob0RvRG9jY29iKCkgew0KICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSh1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSk7DQogICAgbGV0IENvbXBvbmV0ZXMgPSB7DQogICAgICAgICJJREVOVElGSUNBRE9SX0RFX1JFR0lTVFJPIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDMsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDEsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogIjM1MCINCiAgICAgICAgfSwNCiAgICAgICAgIklERU5USUZJQ0FDQU9fRE9fRE9DVU1FTlRPIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDE0LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6IGBDT0JSQSR7KGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHsoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHtkYXRhQXR1YWwuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfSR7ZGF0YUF0dWFsLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfTBgDQogICAgICAgIH0sDQogICAgICAgICJGSUxMRVIiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMjgzLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxOCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gTW9udGFyTGluaGEoQ29tcG9uZXRlcyk7DQp9DQphc3luYyBmdW5jdGlvbiBnZXRfZGFkb3NEYVRyYW5zcG9ydGFkb3JhKGRhdGEsIENURSkgew0KICAgIGxldCBmaWx0cm9VbmlkYWRlRW1pc3NhbyA9IGdlcmFyRmlsdHJvKCJfaWQiLCBDVEUuVXJsSnNvbkNvbnRleHQuTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCk7DQogICAgbGV0IHVuaWRhZGVFbWlzc2FvID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh1bmlkYWRlRW1pc3Nhb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KDQogICAgbGV0IENvbXBvbmVudGVzID0gew0KICAgICAgICAiSURFTlRJRklDQURPUiBERSBSRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIzNTEiDQogICAgICAgIH0sDQogICAgICAgICJDTlBKIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDE0LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6IHVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LmNucGoNCiAgICAgICAgfSwNCiAgICAgICAgIlJBWkFPX1NPQ0lBTCI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA0MCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTgsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6IHVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LnJhemFvX3NvY2lhbA0KICAgICAgICB9LA0KICAgICAgICAiRklMTEVSIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDI0MywNCiAgICAgICAgICAgICJQb3NpY2FvIjogNTgsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIE1vbnRhckxpbmhhKENvbXBvbmVudGVzKTsNCn0NCnZhciBrZXk7DQphc3luYyBmdW5jdGlvbiBnZXRfaWRlbnRpZmljYWNhb0RvRG9jdW1lbnRvRGVDb2JyYW5jYShkYXRhLCBsb3RlQ1RFcywgdG9tYWRvcikgew0KICAgIGxldCBmaWx0cm9VbmlkYWRlRW1pc3NhbyA9IGdlcmFyRmlsdHJvKCJfaWQiLCBsb3RlQ1RFc1swXS5VcmxKc29uQ29udGV4dC5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkKTsNCiAgICBsZXQgdW5pZGFkZUVtaXNzYW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHVuaWRhZGVFbWlzc2FvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9VbmlkYWRlRW1pc3Nhbyk7DQogICAgbGV0IGZpbHRyb0JhbmNvVW5pZGFkZUNheGlhcyA9IGdlcmFyRmlsdHJvKCJMRVNUQWlkIiwgdW5pZGFkZUVtaXNzYW9bMF0uSUQpOw0KICAgIGxldCBvYmpCYW5jb1VuaWRhZGVDYXhpYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGJhbmNvc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQmFuY29VbmlkYWRlQ2F4aWFzKTsNCiAgICBsZXQgdGlwb0NvYnJhbmNhID0gcmV0aXJhQWNlbnRvKHRvbWFkb3IuTUVJUEFHZGVzY3JpY2FvX19lbXByZXNhX21laW9fZGVfcGFnYW1lbnRvKS50b1VwcGVyQ2FzZSgpID09ICJCT0xFVE8iID8gIkJMIiA6ICJCIjsNCiAgICBrZXkgPSAoYXdhaXQgaW5jcmVtZW50KHsNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAga2V5X25hbWU6ICJDT05FTUJfTnVtZXJvIg0KICAgIH0pKTsNCiAgICBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpOw0KICAgIGxldCBkYXRhVmVuY2ltZW50byA9IG5ldyBEYXRlKGdldERhdGFWZW5jaW1lbnRvKHRvbWFkb3IpKTsNCg0KICAgIGxldCBWYWxvclRvdGFsQ1RFcyA9IDA7DQogICAgbGV0IFZhbG9yVG90YWxJQ01TID0gMDsNCiAgICBmb3IgKGNvbnN0IENURSBvZiBsb3RlQ1RFcykgew0KICAgICAgICBWYWxvclRvdGFsQ1RFcyArPSBDVEUuVXJsSnNvbkNvbnRleHQudmFsb3JfcmVjZWJlcl9jdGU7DQoNCiAgICAgICAgc3dpdGNoIChDVEUuVXJsSnNvbkNvbnRleHQuY3N0X2N0ZSkgew0KICAgICAgICAgICAgY2FzZSAiOTAiOg0KICAgICAgICAgICAgICAgIFZhbG9yVG90YWxJQ01TICs9IENURS5VcmxKc29uQ29udGV4dC52YWxvcl9pY21zX291dHJhX3VmX2N0ZTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgIjQwIjoNCiAgICAgICAgICAgICAgICBWYWxvclRvdGFsSUNNUyArPSAwOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiNjAiOg0KICAgICAgICAgICAgICAgIFZhbG9yVG90YWxJQ01TICs9IENURS5VcmxKc29uQ29udGV4dC52YWxvcl9pY21zX3N0X3JldGlkb19jdGU7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICIwMCI6DQogICAgICAgICAgICAgICAgVmFsb3JUb3RhbElDTVMgKz0gQ1RFLlVybEpzb25Db250ZXh0LnZhbG9yX2ljbXNfY3RlDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIGxldCBDb21wb25lbnRlcyA9IHsNCiAgICAgICAgIklERU5USUZJQ0FET1JfREVfUkVHSVNUUk8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICJQb3NpY2FvIjogMSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiAiMzUyIg0KICAgICAgICB9LA0KICAgICAgICAiRklMSUFMX0VNSVNTT1JBX0RPX0RPQ1VNRU5UTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiB1bmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5jbnBqDQogICAgICAgIH0sDQogICAgICAgICJUSVBPX0RPX0RPQ1VNRU5UT19ERV9DT0JSQU7Dh0EiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTgsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogIjAiDQogICAgICAgIH0sDQogICAgICAgICJTRVJJRV9ET19ET0NVTUVOVE9fREVfQ09CUkFOQ0EiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTksDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogIjEiDQogICAgICAgIH0sDQogICAgICAgICJOVU1FUk9fRE9fRE9DVU1FTlRPX0RFX0NPQlJBTkNBIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDEwLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAyMiwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiBrZXkudG9TdHJpbmcoKQ0KICAgICAgICB9LA0KICAgICAgICAiREFUQV9ERV9FTUlTU0FPIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDgsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDMyLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6IGAkeyhkYXRhQXR1YWwuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7KChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7ZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKX1gDQogICAgICAgIH0sDQogICAgICAgICJEQVRBX0RFX1ZFTkNJTUVOVE8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogOCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNDAsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogYCR7KGRhdGFWZW5jaW1lbnRvLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKX0keygoZGF0YVZlbmNpbWVudG8uZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7ZGF0YVZlbmNpbWVudG8uZ2V0RnVsbFllYXIoKS50b1N0cmluZygpfWANCiAgICAgICAgfSwNCiAgICAgICAgIlZBTE9SX0RPX0RPQ1VNRU5UT19ERV9DT0JSQU5DQSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNDgsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogVmFsb3JUb3RhbENURXMudG9GaXhlZCgyKS5yZXBsYWNlKCIuIiwgIiIpDQogICAgICAgIH0sDQogICAgICAgICJUSVBPX0RFX0NPQlJBTkNBIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDMsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDYzLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6IHRpcG9Db2JyYW5jYQ0KICAgICAgICB9LA0KICAgICAgICAiVkFMT1JfVE9UQUxfRE9fSUNNUyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNjYsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogVmFsb3JUb3RhbElDTVMudG9GaXhlZCgyKS5yZXBsYWNlKCIuIiwgIiIpDQogICAgICAgIH0sDQogICAgICAgICJKVVJPU19QT1JfRElBX0RFX0FUUkFTTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogODEsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJEQVRBX0xJTUlURV9QX1BBR1RPX0NfREVTQ09OVE8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogOCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogOTYsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJWQUxPUl9ET19ERVNDT05UT19BQ1JFU0NJTU8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMTUsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDEwNCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgfSwNCiAgICAgICAgIklERU5USUZJQ0FDQU9fRE9fQUdFTlRFX0RFX0NPQlJBTkNBIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDM1LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxMTksDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJOVU1FUk9fREFfQUdFTkNJQV9CQU5DQVJJQSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA0LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxNTQsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6IHRpcG9Db2JyYW5jYSA9PSAiQiIgPyBvYmpCYW5jb1VuaWRhZGVDYXhpYXNbMF0uVXJsSnNvbkNvbnRleHQuYWdlbmNpYSA6ICIiDQogICAgICAgIH0sDQogICAgICAgICJESUdJVE9fVkVSSUZJQ0FET1JfTlVNX0RBX0FHRU5DSUEiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTU4LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiB0aXBvQ29icmFuY2EgPT0gIkIiID8gb2JqQmFuY29VbmlkYWRlQ2F4aWFzWzBdLlVybEpzb25Db250ZXh0LmRpZ2l0b19hZ2VuY2lhIDogIiINCiAgICAgICAgfSwNCiAgICAgICAgIk5VTUVST19EQV9DT05UQV9DT1JSRU5URSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxMCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTU5LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiB0aXBvQ29icmFuY2EgPT0gIkIiID8gb2JqQmFuY29VbmlkYWRlQ2F4aWFzWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19jb250YSA6ICIiDQogICAgICAgIH0sDQogICAgICAgICJESUdJVE9fVkVSSUZJQ0FET1JfQ09OVEFfQ09SUkVOVEUiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMiwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTY5LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiB0aXBvQ29icmFuY2EgPT0gIkIiID8gb2JqQmFuY29VbmlkYWRlQ2F4aWFzWzBdLlVybEpzb25Db250ZXh0LmRpZ2l0b19jb250YSA6ICIiDQogICAgICAgIH0sDQogICAgICAgICJBw4dBT19ET19ET0NVTUVOVE8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTcxLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICJJIg0KICAgICAgICB9LA0KICAgICAgICAiSURFTlRJRklDQURPUiI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA1MCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTcyLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICB9LA0KICAgICAgICAiVElQT19ET19WQUxPUl9ERVNDT05UT19BQ1JFU0NJTU8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMjIyLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICB9LA0KICAgICAgICAiRklMTEVSIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDc4LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAyMjMsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwb3N0SW5mby5FTVBub21lX2ZhbnRhc2lhX2VtcHJlc2FfX2ZhdHVyYXJfcGFyYSA9IHRvbWFkb3Iubm9tZV9mYW50YXNpYV9lbXByZXNhOw0KICAgIHBvc3RJbmZvLkVNUGZhdHVyYXJfcGFyYV9pZCA9IHRvbWFkb3IuZmVkaWQ7DQogICAgcG9zdEluZm8uRU1QY25wal9lbXByZXNhX19jbnBqX2VtcHJlc2FfZmF0dXJhcl9wYXJhID0gdG9tYWRvci5jbnBqX2VtcHJlc2E7DQogICAgcG9zdEluZm8uTEVTVEFTRm5vbWVfZW1wcmVzYV9fdW5pZGFkZV9kZV9lbWlzc2FvID0gdW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQubm9tZV9lbXByZXNhOw0KICAgIHBvc3RJbmZvLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQgPSB1bmlkYWRlRW1pc3Nhb1swXS5JRDsNCiAgICBwb3N0SW5mby5kYXRhX2RlX2ZhdHVyYW1lbnRvX29yZGVtX2RlX3ZlbmRhRGF0ZSA9IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpOw0KICAgIHBvc3RJbmZvLmRhdGFfZGVfZmF0dXJhbWVudG9fb3JkZW1fZGVfdmVuZGEgPSB1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKTsNCiAgICBwb3N0SW5mby5kYXRhX2RlX3ZlbmNpbWVudG9fZGFfcGFyY2VsYURhdGUgPSBkYXRlVG9TdHJpbmcoZGF0YVZlbmNpbWVudG8pOw0KICAgIHBvc3RJbmZvLmRhdGFfZGVfdmVuY2ltZW50b19kYV9wYXJjZWxhID0gZGF0ZVRvU3RyaW5nKGRhdGFWZW5jaW1lbnRvKTsNCiAgICBwb3N0SW5mby52YWxvcl9vcmRlbV9kZV92ZW5kYSA9IFZhbG9yVG90YWxDVEVzOw0KICAgIHBvc3RJbmZvLk1FSVBBR2Rlc2NyaWNhb19fbWVpb19kZV9wYWdhbWVudG9fb3JkZW1fZGVfdmVuZGEgPSB0b21hZG9yLk1FSVBBR2Rlc2NyaWNhb19fZW1wcmVzYV9tZWlvX2RlX3BhZ2FtZW50bzsNCiAgICBwb3N0SW5mby5NRUlQQUdtZWlvX2RlX3BhZ2FtZW50b19vcmRlbV9kZV92ZW5kYV9pZCA9IHRvbWFkb3IuTUVJUEFHZW1wcmVzYV9tZWlvX2RlX3BhZ2FtZW50b19pZDsNCiAgICBwb3N0SW5mby5udW1lcm9fb3JkZW1fZGVfdmVuZGEgPSBhd2FpdCBnZXRTZXJpYWxLZXkoZGF0YSwgbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpKTsNCiAgICByZXR1cm4gTW9udGFyTGluaGEoQ29tcG9uZW50ZXMpOw0KfQ0KYXN5bmMgZnVuY3Rpb24gZ2V0X2luZm9ybWFjYW9Eb3NDVGVzUXVlRXN0YW9TZW5kb0NvYnJhZG9zKGRhdGEsIENURSkgew0KICAgIGxldCBmaWx0cm9VbmlkYWRlRW1pc3NhbyA9IGdlcmFyRmlsdHJvKCJfaWQiLCBDVEUuVXJsSnNvbkNvbnRleHQuTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCk7DQogICAgbGV0IHVuaWRhZGVFbWlzc2FvID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh1bmlkYWRlRW1pc3Nhb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KICAgIGxldCBkYXRhRW1pc3NhbyA9IG5ldyBEYXRlKENURS5VcmxKc29uQ29udGV4dC5kYXRhX2VtaXNzYW9fY3RlKTsNCg0KICAgIGxldCBWYWxvclRvdGFsSUNNUyA9IDA7DQogICAgc3dpdGNoIChDVEUuVXJsSnNvbkNvbnRleHQuY3N0X2N0ZSkgew0KICAgICAgICBjYXNlICI5MCI6DQogICAgICAgICAgICBWYWxvclRvdGFsSUNNUyArPSBDVEUuVXJsSnNvbkNvbnRleHQudmFsb3JfaWNtc19vdXRyYV91Zl9jdGU7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAiNDAiOg0KICAgICAgICAgICAgVmFsb3JUb3RhbElDTVMgKz0gMDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICI2MCI6DQogICAgICAgICAgICBWYWxvclRvdGFsSUNNUyArPSBDVEUuVXJsSnNvbkNvbnRleHQudmFsb3JfaWNtc19zdF9yZXRpZG9fY3RlOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIjAwIjoNCiAgICAgICAgICAgIFZhbG9yVG90YWxJQ01TICs9IENURS5VcmxKc29uQ29udGV4dC52YWxvcl9pY21zX2N0ZQ0KICAgICAgICAgICAgYnJlYWs7DQogICAgfQ0KICAgIGxldCBDb21wb25lbnRlcyA9IHsNCiAgICAgICAgIklERU5USUZJQ0FET1JfREVfUkVHSVNUUk8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICJQb3NpY2FvIjogMSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiAiMzUzIg0KICAgICAgICB9LA0KICAgICAgICAiRklMSUFMX0VNSVNTT1JBX0RPX0RPQ1VNRU5UTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiB1bmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5jbnBqDQogICAgICAgIH0sDQogICAgICAgICJTRVJJRV9ET19DT05IRUNJTUVOVE8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTQsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogQ1RFLlVybEpzb25Db250ZXh0LnNlcmllX2N0ZV9jdGUudG9TdHJpbmcoKQ0KICAgICAgICB9LA0KICAgICAgICAiTlVNRVJPX0RPX0NPTkhFQ0lNRU5UTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA5LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxNywNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiBDVEUuVXJsSnNvbkNvbnRleHQubnVtZXJvX2N0ZV9jdGUudG9TdHJpbmcoKQ0KICAgICAgICB9LA0KICAgICAgICAiVkFMT1JfRE9fRlJFVEUiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMTUsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDI2LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6IENURS5VcmxKc29uQ29udGV4dC52YWxvcl90b3RhbF9wcmVzdGFjYW9fc2Vydmljb3NfY3RlLnRvRml4ZWQoMikucmVwbGFjZSgiLiIsICIiKQ0KICAgICAgICB9LA0KICAgICAgICAiREFUQV9ERV9FTUlTU0FPX0RPX0NPTkhFQ0lNRU5UTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA4LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA0MSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiBgJHsoZGF0YUVtaXNzYW8uZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7KChkYXRhRW1pc3Nhby5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHtkYXRhRW1pc3Nhby5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCl9YA0KICAgICAgICB9LA0KICAgICAgICAiQ05QSl9ET19SRU1FVEVOVEVfRU1JU1NPUl9EQV9ORiI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNDksDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJDTlBKX0RPX0RFU1RJTkFUQVJJT19EQV9ORiI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNjMsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJDTlBKX0RPX0VNSVNTT1JfRE9fQ09OSEVDSU1FTlRPIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDE0LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA3NywNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgInZhbG9yIjogdW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQuY25wag0KICAgICAgICB9LA0KICAgICAgICAiQ0hBVkVfREVfQUNFU1NPX0NUZSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA0NCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogOTEsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogc29tZW50ZU51bWVyb3MoQ1RFLlVybEpzb25Db250ZXh0LmNoYXZlX2N0ZV9jdGUpDQogICAgICAgIH0sDQogICAgICAgICJET01JTklPIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiQSIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDUwLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxMzUsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogQ1RFLlVybEpzb25Db250ZXh0LmNvdG1fY3RlDQogICAgICAgIH0sDQogICAgICAgICJDSEFWRV9ET19FTUJBUlFVRSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA1MCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMTg1LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJJQ01TIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDE1LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAyMzUsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogVmFsb3JUb3RhbElDTVMudG9GaXhlZCgyKS5yZXBsYWNlKCIuIiwgIiIpDQogICAgICAgIH0sDQogICAgICAgICJGSUxMRVIiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogNTEsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDI1MCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gTW9udGFyTGluaGEoQ29tcG9uZW50ZXMpOw0KfQ0KZnVuY3Rpb24gZ2V0X2luZm9ybWFjb2VzRGFzTm90YXNGaXNjYWlzUXVlQ29tcG9lbW9DVGUoTkZFKSB7DQogICAgbGV0IENvbXBvbmVudGVzID0gew0KICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogdHJ1ZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIzNTQiDQogICAgICAgIH0sDQogICAgICAgICJTRVJJRSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAzLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA0LA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiBORkUuVXJsSnNvbkNvbnRleHQuc2VyaWVfZGFfbmZlX2N0ZQ0KICAgICAgICB9LA0KICAgICAgICAiTlVNRVJPX0RBX05PVEFfRklTQ0FMIjogew0KICAgICAgICAgICAgIkZvcm1hdG8iOiAiTiIsDQogICAgICAgICAgICAiVGFtYW5obyI6IDksDQogICAgICAgICAgICAiUG9zaWNhbyI6IDcsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogTkZFLlVybEpzb25Db250ZXh0Lm51bWVyb19kYV9uZmVfY3RlLnRvU3RyaW5nKCkNCiAgICAgICAgfSwNCiAgICAgICAgIkRBVEFfREVfRU1JU1NBT19EQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA4LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAxNiwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICB9LA0KICAgICAgICAiUEVTT19EQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiA3LA0KICAgICAgICAgICAgIlBvc2ljYW8iOiAyNCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICB9LA0KICAgICAgICAiVkFMT1JfREFfTUVSQ0FET1JJQV9OQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogMzEsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiB0cnVlLA0KICAgICAgICAgICAgInZhbG9yIjogKCtORkUuVXJsSnNvbkNvbnRleHQudmFsb3JfbWVyY2Fkb3JpYV9jbGllbnRlKS50b0ZpeGVkKDIpLnJlcGxhY2UoIi4iLCAiIikNCiAgICAgICAgfSwNCiAgICAgICAgIkNOUEpfRE9fRU1JU1NPUl9EQV9OT1RBX0ZJU0NBTCI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNDYsDQogICAgICAgICAgICAiT2JyaWdhdG9yaW8iOiBmYWxzZSwNCiAgICAgICAgICAgICJ2YWxvciI6ICIiDQogICAgICAgIH0sDQogICAgICAgICJGSUxMRVIiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJBIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMjQxLA0KICAgICAgICAgICAgIlBvc2ljYW8iOiA2MCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IGZhbHNlLA0KICAgICAgICAgICAgInZhbG9yIjogIiINCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gTW9udGFyTGluaGEoQ29tcG9uZW50ZXMpOw0KfQ0KZnVuY3Rpb24gZ2V0X2luZm9ybWHDp29lc1NvYnJlT1ZhbG9yVG90YWxEYUZhdHVyYShsb3RlQ1RFcykgew0KDQogICAgbGV0IFZhbG9yVG90YWxDVEVzID0gMDsNCiAgICBmb3IgKGNvbnN0IENURSBvZiBsb3RlQ1RFcykgeyBWYWxvclRvdGFsQ1RFcyArPSBDVEUuVXJsSnNvbkNvbnRleHQudmFsb3JfcmVjZWJlcl9jdGU7IH0NCg0KICAgIGxldCBDb21wb25lbnRlcyA9IHsNCiAgICAgICAgIklERU5USUZJQ0FET1JfREVfUkVHSVNUUk8iOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogMywNCiAgICAgICAgICAgICJQb3NpY2FvIjogMSwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiAiMzU1Ig0KICAgICAgICB9LA0KICAgICAgICAiUVRERV9UT1RBTF9ET0NUT1NfREVfQ09CUkFOQ0EiOiB7DQogICAgICAgICAgICAiRm9ybWF0byI6ICJOIiwNCiAgICAgICAgICAgICJUYW1hbmhvIjogNCwNCiAgICAgICAgICAgICJQb3NpY2FvIjogNCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiAiMSINCiAgICAgICAgfSwNCiAgICAgICAgIlZBTE9SX1RPVEFMX0RPQ1RPU19ERV9DT0JSQU5DQSI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIk4iLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAxNSwNCiAgICAgICAgICAgICJQb3NpY2FvIjogOCwNCiAgICAgICAgICAgICJPYnJpZ2F0b3JpbyI6IHRydWUsDQogICAgICAgICAgICAidmFsb3IiOiBWYWxvclRvdGFsQ1RFcy50b0ZpeGVkKDIpLnJlcGxhY2UoIi4iLCAiIikNCiAgICAgICAgfSwNCiAgICAgICAgIkZJTExFUiI6IHsNCiAgICAgICAgICAgICJGb3JtYXRvIjogIkEiLA0KICAgICAgICAgICAgIlRhbWFuaG8iOiAyNzgsDQogICAgICAgICAgICAiUG9zaWNhbyI6IDIzLA0KICAgICAgICAgICAgIk9icmlnYXRvcmlvIjogZmFsc2UsDQogICAgICAgICAgICAidmFsb3IiOiAiIg0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBNb250YXJMaW5oYShDb21wb25lbnRlcyk7DQp9DQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KDQogICAgaWYgKGpzb24pIHsNCiAgICAgICAgb2JqLmpzb24gPSBKU09OLnN0cmluZ2lmeShqc29uKTsNCiAgICB9DQoNCiAgICByZXR1cm4gb2JqOw0KfQ0KZnVuY3Rpb24gZ2V0UHJveEZhdCh1bHRpbW9GYXR1cmFtZW50bywgcGVyaW9kaWNpZGFkZSkgew0KICAgIGxldCBwcm94aW1vRmF0dXJhbWVudG8gPSBuZXcgRGF0ZSh1bHRpbW9GYXR1cmFtZW50byk7DQogICAgbGV0IHBlcmlvZG8gPSBwZXJpb2RpY2lkYWRlID8gcGVyaW9kaWNpZGFkZSA6ICJEacOhcmlvIjsNCiAgICBzd2l0Y2ggKHBlcmlvZG8pIHsNCiAgICAgICAgY2FzZSAiRGnDoXJpbyI6DQogICAgICAgICAgICBwcm94aW1vRmF0dXJhbWVudG8uc2V0RGF0ZShwcm94aW1vRmF0dXJhbWVudG8uZ2V0RGF0ZSgpICsgMSk7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAiQmllbmFsIjoNCiAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRGdWxsWWVhcihwcm94aW1vRmF0dXJhbWVudG8uZ2V0RnVsbFllYXIoKSArIDIpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIkFudWFsIjoNCiAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRGdWxsWWVhcihwcm94aW1vRmF0dXJhbWVudG8uZ2V0RnVsbFllYXIoKSArIDEpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIlNlbWVzdHJhbCI6DQogICAgICAgICAgICBwcm94aW1vRmF0dXJhbWVudG8uc2V0TW9udGgocHJveGltb0ZhdHVyYW1lbnRvLmdldE1vbnRoKCkgKyA2KTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJRdWFkcmltZXN0cmFsIjoNCiAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRNb250aChwcm94aW1vRmF0dXJhbWVudG8uZ2V0TW9udGgoKSArIDQpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIlRyaW1lc3RyYWwiOg0KICAgICAgICAgICAgcHJveGltb0ZhdHVyYW1lbnRvLnNldE1vbnRoKHByb3hpbW9GYXR1cmFtZW50by5nZXRNb250aCgpICsgMyk7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAiQmltZXN0cmFsIjoNCiAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRNb250aChwcm94aW1vRmF0dXJhbWVudG8uZ2V0TW9udGgoKSArIDIpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIk1lbnNhbCI6DQogICAgICAgICAgICBwcm94aW1vRmF0dXJhbWVudG8uc2V0TW9udGgocHJveGltb0ZhdHVyYW1lbnRvLmdldE1vbnRoKCkgKyAxKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJRdWluemVuYWwiOg0KICAgICAgICAgICAgcHJveGltb0ZhdHVyYW1lbnRvLnNldERhdGUocHJveGltb0ZhdHVyYW1lbnRvLmdldERhdGUoKSArIDE1KTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJTZW1hbmFsIjoNCiAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXREYXRlKHByb3hpbW9GYXR1cmFtZW50by5nZXREYXRlKCkgKyA3KTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJEZWNlbmFsIjoNCiAgICAgICAgICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRGdWxsWWVhcihwcm94aW1vRmF0dXJhbWVudG8uZ2V0RnVsbFllYXIoKSArIDEwKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgcHJveGltb0ZhdHVyYW1lbnRvLnNldERhdGUocHJveGltb0ZhdHVyYW1lbnRvLmdldERhdGUoKSArIDEpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgfQ0KICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRIb3VycygwMCk7DQogICAgcHJveGltb0ZhdHVyYW1lbnRvLnNldE1pbnV0ZXMoMDApOw0KICAgIHByb3hpbW9GYXR1cmFtZW50by5zZXRTZWNvbmRzKDAwKTsNCiAgICBwcm94aW1vRmF0dXJhbWVudG8uc2V0TWlsbGlzZWNvbmRzKDAwKTsNCg0KICAgIHJldHVybiBwcm94aW1vRmF0dXJhbWVudG87DQp9DQpmdW5jdGlvbiB6ZXJhckhvcmEoZGF0YSkgew0KICAgIGxldCBpbXB1dERhdGEgPSBuZXcgRGF0ZShkYXRhKTsNCiAgICBpbXB1dERhdGEuc2V0SG91cnMoMDApOw0KICAgIGltcHV0RGF0YS5zZXRNaW51dGVzKDAwKTsNCiAgICBpbXB1dERhdGEuc2V0U2Vjb25kcygwMCk7DQogICAgaW1wdXREYXRhLnNldE1pbGxpc2Vjb25kcygwMCk7DQogICAgcmV0dXJuIGltcHV0RGF0YTsNCn0NCmZ1bmN0aW9uIGRhdGVUb1N0cmluZyhkYXRhKSB7DQogICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShkYXRhKTsNCiAgICBsZXQgYW5vID0gZGF0ZS5nZXRGdWxsWWVhcigpOw0KICAgIGxldCBtZXMgPSAoKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgIGxldCBkaWEgPSAoZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCn0NCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7DQogICAgICAgIEZpZWxOYW1lOiBmaWVsTmFtZVAsDQogICAgICAgIFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBGaXhlZFR5cGU6ICJzdHJpbmciLA0KICAgICAgICBWYWx1ZTE6IHZhbHVlUA0KICAgIH1dKTsNCn0NCmFzeW5jIGZ1bmN0aW9uIGdldFNlcmlhbEtleShkYXRhLCBkYXRhQXR1YWwpIHsNCiAgICBsZXQga2V5ID0gYXdhaXQgaW5jcmVtZW50KHsNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAga2V5X25hbWU6ICJPViINCiAgICB9KTsNCiAgICBsZXQga2V5TnVtYmVyID0ga2V5LnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgJzAnKTsNCiAgICByZXR1cm4ga2V5TnVtYmVyID0gYE9WLSR7ZGF0YUF0dWFsLmdldFVUQ0Z1bGxZZWFyKCl9LSR7a2V5TnVtYmVyfWANCn0NCmZ1bmN0aW9uIHJldGlyYUFjZW50byhzdHIpIHsNCiAgICBsZXQgY29tX2FjZW50byA9ICLDgMOBw4LDg8OEw4XDhsOHw4jDicOKw4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5jDmcOaw5vDnMOdxZTDnsOfw6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0w7XDtsO4w7nDusO7w7zDvcO+w7/FlSI7DQogICAgbGV0IHNlbV9hY2VudG8gPSAiQUFBQUFBQUNFRUVFSUlJSUROT09PT09PVVVVVVlSc0JhYWFhYWFhY2VlZWVpaWlpb25vb29vb291dXV1eWJ5ciI7DQogICAgbGV0IG5vdmFzdHIgPSAiIjsNCiAgICBpZiAoc3RyICE9PSAiIikgew0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB0cm9jYSA9IGZhbHNlOw0KICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IGNvbV9hY2VudG8ubGVuZ3RoOyBhKyspIHsNCiAgICAgICAgICAgICAgICBpZiAoc3RyLnN1YnN0cihpLCAxKSA9PSBjb21fYWNlbnRvLnN1YnN0cihhLCAxKSkgew0KICAgICAgICAgICAgICAgICAgICBub3Zhc3RyICs9IHNlbV9hY2VudG8uc3Vic3RyKGEsIDEpOw0KICAgICAgICAgICAgICAgICAgICB0cm9jYSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0cm9jYSA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICBub3Zhc3RyICs9IHN0ci5zdWJzdHIoaSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG5vdmFzdHI7DQp9DQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDUwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQogICAgd2hpbGUgKGtlZXBTZWFyY2hpbmcpIHsNCiAgICAgICAgbGV0IHN0clBhZ2VSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgICAgICBmaWx0ZXI6IGZpbHRybywNCiAgICAgICAgICAgIHNraXA6IHNraXAsDQogICAgICAgICAgICB0YWtlOiB0YWtlDQogICAgICAgIH0pOw0KICAgICAgICBza2lwICs9IHRha2U7DQogICAgICAgIGxldCBwYWdlUmVzcCA9IEpTT04ucGFyc2Uoc3RyUGFnZVJlc3ApOw0KICAgICAgICBpZiAocGFnZVJlc3AgIT0gbnVsbCAmJiBwYWdlUmVzcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gcGFnZVJlc3AubGVuZ3RoID09IHRha2U7DQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhZ2VSZXNwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KYXN5bmMgZnVuY3Rpb24gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkLCB1c3JpZCwgYXNzaWQsIGRhdGEpIHsNCiAgICBsZXQgb25lcmd5U2F2ZURhdGEgPSB7DQogICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSkNCiAgICB9DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKTsNCn0NCmZ1bmN0aW9uIE1vbnRhckxpbmhhKENvbXBvbmV0ZXMpIHsNCiAgICBsZXQgTElOSEEgPSAiIjsNCiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIENvbXBvbmV0ZXMpIHsNCiAgICAgICAgY29uc3QgY29tcG9uZXRlID0gQ29tcG9uZXRlc1twcm9wZXJ0eV07DQoNCiAgICAgICAgaWYgKGNvbXBvbmV0ZS52YWxvci5sZW5ndGggIT0gY29tcG9uZXRlLlRhbWFuaG8pIHsNCiAgICAgICAgICAgIGlmIChjb21wb25ldGUudmFsb3IubGVuZ3RoIDwgY29tcG9uZXRlLlRhbWFuaG8pIHsNCiAgICAgICAgICAgICAgICBsZXQgdmFsb3IgPSBjb21wb25ldGUudmFsb3I7DQogICAgICAgICAgICAgICAgd2hpbGUgKHZhbG9yLmxlbmd0aCA8IGNvbXBvbmV0ZS5UYW1hbmhvKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25ldGUuRm9ybWF0byA9PSAiQSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbG9yICs9ICIgIg0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsb3IgPSAiMCIgKyB2YWxvcjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBMSU5IQSArPSB2YWxvcjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgTElOSEEgKz0gdmFsb3Iuc3ViU3RyaW5nKDAsIGNvbXBvbmV0ZS5UYW1hbmhvKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIExJTkhBICs9IENvbXBvbmV0ZXNbcHJvcGVydHldLnZhbG9yOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBMSU5IQTsNCn0NCmZ1bmN0aW9uIGdldERhdGFWZW5jaW1lbnRvKHRvbWFkb3IpIHsNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT0gRGF0YSBWZW5jaW1lbnRvID09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBkYXRhVmVuY2ltZW50byA9IHplcmFySG9yYSh1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSk7DQogICAgZGF0YVZlbmNpbWVudG8uc2V0RGF0ZShkYXRhVmVuY2ltZW50by5nZXREYXRlKCkgKyB0b21hZG9yLmVtcHJlc2FfcHJhem9fZGVfcGFnYW1lbnRvKTsNCg0KICAgIGlmICh0b21hZG9yLmVtcHJlc2FfZGlhX21lc194X2RpYV9zZW1hbmEpIHsNCiAgICAgICAgLyogIDEgPT0+IERpYSBNw6pzIDIgPT0+IERpYSBTZW1hbmEgICovDQogICAgICAgIGlmICh0b21hZG9yLmVtcHJlc2FfZGlhX21lc194X2RpYV9zZW1hbmEgPT0gMSkgew0KICAgICAgICAgICAgbGV0IGRpYXMgPSB0b21hZG9yLkRTTUFkaWFfX2VtcHJlc2FfZGlhc19kb19tZXNfcGFyYV9wYWdhbWVudG87DQogICAgICAgICAgICBpZiAoZGlhcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgbGV0IGRhdGFBbHRlcmFkYSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IHMgaW4gZGlhcykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoK2RpYXNbc10gPj0gZGF0YVZlbmNpbWVudG8uZ2V0RGF0ZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmVuY2ltZW50by5zZXREYXRlKCtkaWFzW3NdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFBbHRlcmFkYSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWRhdGFBbHRlcmFkYSkgew0KICAgICAgICAgICAgICAgICAgICBkYXRhVmVuY2ltZW50by5zZXRNb250aChkYXRhVmVuY2ltZW50by5nZXRNb250aCgpICsgMSk7DQogICAgICAgICAgICAgICAgICAgIGRhdGFWZW5jaW1lbnRvLnNldERhdGUoMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxldCBkaWFTZW1hbmEgPSBkYXRhVmVuY2ltZW50by5nZXREYXkoKTsNCiAgICAgICAgICAgICAgICB3aGlsZSAoZGlhU2VtYW5hID09IDYgfHwgZGlhU2VtYW5hID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0YVZlbmNpbWVudG8uc2V0RGF0ZShkYXRhVmVuY2ltZW50by5nZXREYXRlKCkgKyAxKTsNCiAgICAgICAgICAgICAgICAgICAgZGlhU2VtYW5hID0gZGF0YVZlbmNpbWVudG8uZ2V0RGF5KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2UgaWYgKHRvbWFkb3IuZW1wcmVzYV9kaWFfbWVzX3hfZGlhX3NlbWFuYSA9PSAyKSB7DQogICAgICAgICAgICBsZXQgZGlhcyA9IHRvbWFkb3IuRFNNQXNlbWFuYV9pZF9qczsNCiAgICAgICAgICAgIGlmIChkaWFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBsZXQgZGF0YVZhbGlkYSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGZvciAoOyA7KSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgaW4gZGlhcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFWZW5jaW1lbnRvLmdldERheSgpID09IGRpYXNbc10pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmFsaWRhID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFWYWxpZGEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWZW5jaW1lbnRvLnNldERhdGUoZGF0YVZlbmNpbWVudG8uZ2V0RGF0ZSgpICsgMSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gKGRhdGVUb1N0cmluZyhkYXRhVmVuY2ltZW50bykpOw0KfQ0KZnVuY3Rpb24gc29tZW50ZU51bWVyb3Moc3RycmVjKSB7DQogICAgaWYgKHN0cnJlYykgew0KICAgICAgICBsZXQgc3RycmV0ID0gc3RycmVjLnRvU3RyaW5nKCkucmVwbGFjZSgvW15cZF0rL2csICcnLCAnJyk7DQogICAgICAgIHJldHVybiBzdHJyZXQ7DQogICAgfQ0KICAgIHJldHVybiAiIjsNCn0NCmFzeW5jIGZ1bmN0aW9uIE1vbnRhclhNTENPTkVNQihkYXRhLCBDVEVMb3RlLCB0b21hZG9yKSB7DQogICAgbGV0IGRhdGFBdHVhbCA9IG5ldyBEYXRlKHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpKTsNCiAgICBsZXQgZmlsdHJvVW5pZGFkZUVtaXNzYW8gPSBnZXJhckZpbHRybygiX2lkIiwgQ1RFTG90ZVswXS5VcmxKc29uQ29udGV4dC5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkKTsNCiAgICBsZXQgdW5pZGFkZUVtaXNzYW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHVuaWRhZGVFbWlzc2FvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9VbmlkYWRlRW1pc3Nhbyk7DQogICAgbGV0IGZpbHRyb0JhbmNvVW5pZGFkZUNheGlhcyA9IGdlcmFyRmlsdHJvKCJMRVNUQWlkIiwgdW5pZGFkZUVtaXNzYW9bMF0uSUQpOw0KICAgIGxldCBvYmpCYW5jb1VuaWRhZGVDYXhpYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGJhbmNvc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQmFuY29VbmlkYWRlQ2F4aWFzKTsNCiAgICBsZXQgdGlwb0NvYnJhbmNhID0gcmV0aXJhQWNlbnRvKHRvbWFkb3IuTUVJUEFHZGVzY3JpY2FvX19lbXByZXNhX21laW9fZGVfcGFnYW1lbnRvKS50b1VwcGVyQ2FzZSgpID09ICJCT0xFVE8iID8gIkJMIiA6ICJCIjsNCiAgICBsZXQgZGF0YVZlbmNpbWVudG8gPSBuZXcgRGF0ZShnZXREYXRhVmVuY2ltZW50byh0b21hZG9yKSk7DQoNCiAgICBsZXQgVmFsb3JUb3RhbENURXMgPSAwOw0KICAgIGxldCBWYWxvclRvdGFsSUNNUyA9IDA7DQogICAgZm9yIChjb25zdCBDVEUgb2YgQ1RFTG90ZSkgew0KICAgICAgICBWYWxvclRvdGFsQ1RFcyArPSBDVEUuVXJsSnNvbkNvbnRleHQudmFsb3JfcmVjZWJlcl9jdGU7DQoNCiAgICAgICAgc3dpdGNoIChDVEUuVXJsSnNvbkNvbnRleHQuY3N0X2N0ZSkgew0KICAgICAgICAgICAgY2FzZSAiOTAiOg0KICAgICAgICAgICAgICAgIFZhbG9yVG90YWxJQ01TICs9IENURS5VcmxKc29uQ29udGV4dC52YWxvcl9pY21zX291dHJhX3VmX2N0ZTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgIjQwIjoNCiAgICAgICAgICAgICAgICBWYWxvclRvdGFsSUNNUyArPSAwOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiNjAiOg0KICAgICAgICAgICAgICAgIFZhbG9yVG90YWxJQ01TICs9IENURS5VcmxKc29uQ29udGV4dC52YWxvcl9pY21zX3N0X3JldGlkb19jdGU7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICIwMCI6DQogICAgICAgICAgICAgICAgVmFsb3JUb3RhbElDTVMgKz0gQ1RFLlVybEpzb25Db250ZXh0LnZhbG9yX2ljbXNfY3RlDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCg0KICAgIH0NCg0KDQogICAgbGV0IEpTT05fWE1MID0gew0KICAgICAgICAiSURFTlRJRklDQUNBT19ET1NfUEFSVElDSVBBTlRFUyI6IHsNCiAgICAgICAgICAgICJJREVOVElGSUNBRE9SX0RFX1JFR0lTVFJPIjogIjAwMCIsDQogICAgICAgICAgICAiSURFTlRJRklDQURPUl9ET19SRU1FVEVOVEUiOiBDVEVMb3RlWzBdLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fcmVtZXRlbnRlX2NucGpfY3RlLA0KICAgICAgICAgICAgIklERU5USUZJQ0FET1JfRE9fREVTVElOQVRBUklPIjogQ1RFTG90ZVswXS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jbnBqX2N0ZSwNCiAgICAgICAgICAgICJEQVRBIjogYCR7KGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHsoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHtkYXRhQXR1YWwuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpLnN1YnN0cmluZygyLCA0KX1gLA0KICAgICAgICAgICAgIkhPUkEiOiBgJHtkYXRhQXR1YWwuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfSR7ZGF0YUF0dWFsLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfWAsDQogICAgICAgICAgICAiSURFTlRJRklDQUNBT19ET19JTlRFUkNBTUJJTyI6IGBDT0IkeyhkYXRhQXR1YWwuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7KChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7ZGF0YUF0dWFsLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX0ke2RhdGFBdHVhbC5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX0wYA0KICAgICAgICB9LA0KICAgICAgICAiQ0FCRUNBTEhPX0RPX0RPQ0NPQiI6IHsNCiAgICAgICAgICAgICJJREVOVElGSUNBRE9SX0RFX1JFR0lTVFJPIjogIjM1MCIsDQogICAgICAgICAgICAiSURFTlRJRklDQUNBT19ET19ET0NVTUVOVE8iOiBgQ09CUkEkeyhkYXRhQXR1YWwuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7KChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7ZGF0YUF0dWFsLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX0ke2RhdGFBdHVhbC5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX0wYA0KICAgICAgICB9LA0KICAgICAgICAiREFET1NfREFfVFJBTlNQT1JUQURPUkEiOiB7DQogICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6ICIzNTEiLA0KICAgICAgICAgICAgIkNOUEoiOiB1bmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5jbnBqLA0KICAgICAgICAgICAgIlJBWkFPX1NPQ0lBTCI6IHVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LnJhemFvX3NvY2lhbA0KICAgICAgICB9LA0KICAgICAgICAiSURFTlRJRklDQUNBT19ET19ET0NVTUVOVE9fREVfQ09CUkFOQ0EiOiB7DQogICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6ICIzNTIiLA0KICAgICAgICAgICAgIkZJTElBTF9FTUlTU09SQV9ET19ET0NVTUVOVE8iOiB1bmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5jbnBqLA0KICAgICAgICAgICAgIlRJUE9fRE9fRE9DVU1FTlRPX0RFX0NPQlJBTkNBIjogIjAiLA0KICAgICAgICAgICAgIlNFUklFX0RPX0RPQ1VNRU5UT19ERV9DT0JSQU5DQSI6ICIxIiwNCiAgICAgICAgICAgICJOVU1FUk9fRE9fRE9DVU1FTlRPX0RFX0NPQlJBTkNBIjogYXdhaXQga2V5LnRvU3RyaW5nKCksDQogICAgICAgICAgICAiREFUQV9ERV9FTUlTU0FPIjogYCR7KGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHsoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSl9JHtkYXRhQXR1YWwuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpfWAsDQogICAgICAgICAgICAiREFUQV9ERV9WRU5DSU1FTlRPIjogYCR7KGRhdGFWZW5jaW1lbnRvLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKX0keygoZGF0YVZlbmNpbWVudG8uZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpfSR7ZGF0YVZlbmNpbWVudG8uZ2V0RnVsbFllYXIoKS50b1N0cmluZygpfWAsDQogICAgICAgICAgICAiVkFMT1JfRE9fRE9DVU1FTlRPX0RFX0NPQlJBTkNBIjogVmFsb3JUb3RhbENURXMudG9GaXhlZCgyKSwNCiAgICAgICAgICAgICJUSVBPX0RFX0NPQlJBTkNBIjogdGlwb0NvYnJhbmNhLA0KICAgICAgICAgICAgIlZBTE9SX1RPVEFMX0RPX0lDTVMiOiBWYWxvclRvdGFsSUNNUy50b0ZpeGVkKDIpLA0KICAgICAgICAgICAgIlZBTE9SX0pVUk9TX1BPUl9ESUFfREVfQVRSQVNPIjogMCwNCiAgICAgICAgICAgICJEQVRBX0xJTUlURV9QX1BBR1RPX0NfREVTQ09OVE8iOiAiICIsDQogICAgICAgICAgICAiVkFMT1JfRE9fREVTQ09OVE9fQUNSRVNDSU1PIjogMCwNCiAgICAgICAgICAgICJJREVOVElGSUNBQ0FPX0RPX0FHRU5URV9ERV9DT0JSQU5DQSI6ICIgIiwNCiAgICAgICAgICAgICJOVU1FUk9fREFfQUdFTkNJQV9CQU5DQVJJQSI6IHRpcG9Db2JyYW5jYSA9PSAiQiIgPyBvYmpCYW5jb1VuaWRhZGVDYXhpYXNbMF0uVXJsSnNvbkNvbnRleHQuYWdlbmNpYSA6ICIgIiwNCiAgICAgICAgICAgICJESUdJVE9fVkVSSUZJQ0FET1JfTlVNX0RBX0FHRU5DSUEiOiB0aXBvQ29icmFuY2EgPT0gIkIiID8gb2JqQmFuY29VbmlkYWRlQ2F4aWFzWzBdLlVybEpzb25Db250ZXh0LmRpZ2l0b19hZ2VuY2lhIDogIiAiLA0KICAgICAgICAgICAgIk5VTUVST19EQV9DT05UQV9DT1JSRU5URSI6IHRpcG9Db2JyYW5jYSA9PSAiQiIgPyBvYmpCYW5jb1VuaWRhZGVDYXhpYXNbMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX2NvbnRhIDogIiAiLA0KICAgICAgICAgICAgIkRJR0lUT19WRVJJRklDQURPUl9DT05UQV9DT1JSRU5URSI6IHRpcG9Db2JyYW5jYSA9PSAiQiIgPyBvYmpCYW5jb1VuaWRhZGVDYXhpYXNbMF0uVXJsSnNvbkNvbnRleHQuZGlnaXRvX2NvbnRhIDogIiAiLA0KICAgICAgICAgICAgIkFDQU9fRE9fRE9DVU1FTlRPIjogIkkiLA0KICAgICAgICAgICAgIklERU5USUZJQ0FET1IiOiAiICIsDQogICAgICAgICAgICAiVElQT19ET19WQUxPUl9ERVNDT05UT19BQ1JFU0NJTU8iOiAiICIsDQogICAgICAgIH0sDQogICAgICAgICJJTkZPUk1BQ0FPX0RPU19DVEVTX1FVRV9FU1RBT19TRU5ET19DT0JSQURPUyI6IFtdLA0KICAgICAgICAiSU5GT1JNQUNPRVNfU09CUkVfT19WQUxPUl9UT1RBTF9EQV9GQVRVUkEiOiB7DQogICAgICAgICAgICAiSURFTlRJRklDQURPUl9ERV9SRUdJU1RSTyI6ICIzNTUiLA0KICAgICAgICAgICAgIlFUREVfVE9UQUxfRE9DVE9TX0RFX0NPQlJBTkNBIjogIjEiLA0KICAgICAgICAgICAgIlZBTE9SX1RPVEFMX0RPQ1RPU19ERV9DT0JSQU5DQSI6IFZhbG9yVG90YWxDVEVzLnRvRml4ZWQoMiksDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmb3IgKGxldCBDVEUgb2YgQ1RFTG90ZSkgew0KICAgICAgICBsZXQgaW5mb0NURSA9IHsNCiAgICAgICAgICAgICJJREVOVElGSUNBRE9SX0RFX1JFR0lTVFJPIjogIjM1MyIsDQogICAgICAgICAgICAiRklMSUFMX0VNSVNTT1JBX0RPX0RPQ1VNRU5UTyI6IHVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LmNucGosDQogICAgICAgICAgICAiU0VSSUVfRE9fQ09OSEVDSU1FTlRPIjogQ1RFLlVybEpzb25Db250ZXh0LnNlcmllX2N0ZV9jdGUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICJOVU1FUk9fRE9fQ09OSEVDSU1FTlRPIjogQ1RFLlVybEpzb25Db250ZXh0Lm51bWVyb19jdGVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAiVkFMT1JfRE9fRlJFVEUiOiBDVEUuVXJsSnNvbkNvbnRleHQudmFsb3JfdG90YWxfcHJlc3RhY2FvX3NlcnZpY29zX2N0ZS50b0ZpeGVkKDIpLA0KICAgICAgICAgICAgIkRBVEFfREVfRU1JU1NBT19ET19DT05IRUNJTUVOVE8iOiBDVEUuVXJsSnNvbkNvbnRleHQuZGF0YV9lbWlzc2FvX2N0ZS5zdWJzdHJpbmcoMCwgMTApLA0KICAgICAgICAgICAgIkNOUEpfRE9fUkVNRVRFTlRFX0VNSVNTT1JfREFfTkYiOiAiICIsDQogICAgICAgICAgICAiQ05QSl9ET19ERVNUSU5BVEFSSU9fREFfTkYiOiAiICIsDQogICAgICAgICAgICAiQ05QSl9ET19FTUlTU09SX0RPX0NPTkhFQ0lNRU5UTyI6IHVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0LmNucGosDQogICAgICAgICAgICAiQ0hBVkVfREVfQUNFU1NPX0NUZSI6IHNvbWVudGVOdW1lcm9zKENURS5VcmxKc29uQ29udGV4dC5jaGF2ZV9jdGVfY3RlKSwNCiAgICAgICAgICAgICJET01JTklPIjogQ1RFLlVybEpzb25Db250ZXh0LmNvdG1fY3RlLA0KICAgICAgICAgICAgIkNIQVZFX0RPX0VNQkFSUVVFIjogIiAiLA0KICAgICAgICAgICAgIklDTVMiOiBWYWxvclRvdGFsSUNNUy50b0ZpeGVkKDIpLA0KICAgICAgICAgICAgIklORk9STUFDT0VTX0RBU19OT1RBU19GSVNDQUlTX1FVRV9DT01QT0VNX09fQ1RFIjogW10NCiAgICAgICAgfQ0KICAgICAgICBsZXQgZmlsdHJvTkZFcyA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgQ1RFLklEKTsNCiAgICAgICAgbGV0IE5GRXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKE5GRXNDVEVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb05GRXMpOw0KICAgICAgICBmb3IgKGxldCBORkUgb2YgTkZFcykgew0KICAgICAgICAgICAgbGV0IGluZm9ORkUgPSB7DQogICAgICAgICAgICAgICAgIklERU5USUZJQ0FET1JfREVfUkVHSVNUUk8iOiAiMzU0IiwNCiAgICAgICAgICAgICAgICAiU0VSSUUiOiBORkUuVXJsSnNvbkNvbnRleHQuc2VyaWVfZGFfbmZlX2N0ZSwNCiAgICAgICAgICAgICAgICAiTlVNRVJPX0RBX05PVEFfRklTQ0FMIjogTkZFLlVybEpzb25Db250ZXh0Lm51bWVyb19kYV9uZmVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICAgICAgICAgIkRBVEFfREVfRU1JU1NBT19EQV9OT1RBX0ZJU0NBTCI6ICIgIiwNCiAgICAgICAgICAgICAgICAiUEVTT19EQV9OT1RBX0ZJU0NBTCI6ICIiLA0KICAgICAgICAgICAgICAgICJWQUxPUl9EQV9NRVJDQURPUklBX05BX05PVEFfRklTQ0FMIjogTkZFLlVybEpzb25Db250ZXh0LnZhbG9yX21lcmNhZG9yaWFfY2xpZW50ZSwNCiAgICAgICAgICAgICAgICAiQ05QSl9ET19FTUlTU09SX0RBX05PVEFfRklTQ0FMIjogIiAiLA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaW5mb0NURS5JTkZPUk1BQ09FU19EQVNfTk9UQVNfRklTQ0FJU19RVUVfQ09NUE9FTV9PX0NURS5wdXNoKGluZm9ORkUpOw0KICAgICAgICB9DQogICAgICAgIEpTT05fWE1MLklORk9STUFDQU9fRE9TX0NURVNfUVVFX0VTVEFPX1NFTkRPX0NPQlJBRE9TLnB1c2goaW5mb0NURSk7DQogICAgfQ0KICAgIHJldHVybiBKU09OX1hNTDsNCn0NCg0KDQoNCg0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQp2YXIganNvbklucHV0ID0gew0KICAgICJhdGl2byI6ICJzaW0iLA0KICAgICJkYXRhX3VsdGltYV9leGVjdWNhb0RhdGUiOiAiMjAyMi0wNy0yMlQxODo0MjozNFoiLA0KICAgICJkYXRhX3VsdGltYV9leGVjdWNhbyI6ICIyMDIyLTA3LTIyIDE1OjQyOjM0IiwNCiAgICAiYXRpdm9fZGVzYyI6ICJTaW0iLA0KICAgICJvbmVUZW1wbGF0ZVRpdGxlIjogIiIsDQogICAgIkVYRUNVVEFSIjogdHJ1ZSwNCiAgICAiYXNzX2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgImVtYWlsIjogInZhbmVzc2EuYW1hcmFsQHByZXN0ZXhob21vbC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICIyMjY3YmFjNS1hMDY3LTQyNWQtYmM5NC03Yzc1ZjYzOTc4NmIiLA0KICAgICJmZWRpZCI6ICJhMzljMjRlMi05NTViLTEyZGEtMWUxZC03ZDczMDIwNjY0MDMiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiYTJhN2EwYzAtN2M2MC00YjIyLTg2ZmEtN2EyMjJmNDdiY2Y1IiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJ1c3JpZCI6ICJiZjliNDU5ZS02ZmNlLTRmNmItODQ1OS0xNmIxYjMxYWY2NGIiLA0KICAgICJsb2ciOiAiIiwNCiAgICAib25lcmd5X2pzX2N0eCI6IHsNCiAgICAgICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgICAgICJmZWRpZCI6ICJhMzljMjRlMi05NTViLTEyZGEtMWUxZC03ZDczMDIwNjY0MDMiLA0KICAgICAgICAiZmR0aWQiOiAiMjI2N2JhYzUtYTA2Ny00MjVkLWJjOTQtN2M3NWY2Mzk3ODZiIiwNCiAgICAgICAgInVzcmlkIjogImJmOWI0NTllLTZmY2UtNGY2Yi04NDU5LTE2YjFiMzFhZjY0YiIsDQogICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTA2LTIyVDE2OjM0OjAzLjEyMloiLA0KICAgICAgICAidXBkYXRlRHQiOiAiMjAyMi0wNi0yMlQxNjozNDowMy4xMjJaIiwNCiAgICAgICAgImN1cl91c2VyaWQiOiAiMzIzMDI2MmItZTE0OC00OTE1LWFhZjUtYWVmYWMzNTNkMWQ0IiwNCiAgICAgICAgImVtYWlsIjogInZhbmVzc2EuYW1hcmFsQHByZXN0ZXhob21vbC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogIlZhbmVzc2EgZG8gQW1hcmFsIiwNCiAgICAgICAgIm9uZXJneV9yb2xpZCI6ICJhMmE3YTBjMC03YzYwLTRiMjItODZmYS03YTIyMmY0N2JjZjUiLA0KICAgICAgICAicHJhaWQiOiAiOGNmZTIwYzItZWZiMC00NTJiLWE3YzItZmY1MzQwOGU3ZDExIiwNCiAgICAgICAgInBjdmlkIjogIjhmNjVhNTU1LTQ2NTAtNDEwOS04YWFlLTBkMjUwYTlhOTMwNCIsDQogICAgICAgICJwcmNpZCI6ICIyM2QwNGYzOC0zMjA5LTFhOTUtYjhjMy00ZjE2MzUxMjk4MGMiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAidGltZXpvbmVfdmFsdWUiOiAiLTAzOjAwIiwNCiAgICAgICAgInB1Yk51Ykhvb2siOiBudWxsDQogICAgfQ0KfTsNCmluaXQoSlNPTi5zdHJpbmdpZnkoanNvbklucHV0KSk7" }, { "name": "(DOOTAX) - Consultar Guias.js", "isDirectory": false, "__KEY__": "ee2b3ee3-36dd-2b24-92c8-1ce69ca439b5", "size": 26911, "dateModified": "2022-08-26T19:43:45.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9jb3VudGRvY3MoYXJncykgew0KICAgIGxldCByZXN1bHQgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGFyZ3NbImZkdGlkIl0sIGFyZ3NbImFzc2lkIl0sIGFyZ3NbInVzcmlkIl0sIGFyZ3NbImZpbHRlciJdKTsNCiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aDsNCn0NCg0KY2xhc3MgTWVtb3J5IHsNCiAgICB2YWxNZW1vcnkgPSBbXTsNCiAgICBUcnlBZGQoa2V5LCB2YWx1ZSwgdGltZSkgew0KICAgICAgICB2YXIgZXhpc3QgPSBmYWxzZTsNCiAgICAgICAgZm9yIChsZXQgcyBpbiB0aGlzLnZhbE1lbW9yeSkgew0KICAgICAgICAgICAgaWYgKHRoaXMudmFsTWVtb3J5W3NdLmtleSA9PSBrZXkpIHsNCiAgICAgICAgICAgICAgICBleGlzdCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGV4aXN0KSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnZhbE1lbW9yeS5wdXNoKHsgJ2tleSc6IGtleSwgJ3ZhbHVlJzogdmFsdWUsICd0aW1lJzogdGltZSB9KQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgUmVtb3ZlKGtleSkgew0KDQogICAgfQ0KfQ0KbGV0IG1lbW9yeSA9IG5ldyBNZW1vcnkoKTsNCi8qDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgIFNDUklQVCAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KKi8NCg0KdmFyIHBhZ2FtZW50b3NJbXBvc3Rvc0lEID0gIjc0Mzg5Y2RhLWEzZWItNGI1Mi05N2M1LTMwNjBiNGNmMmVmYiI7DQp2YXIgY3Rlc1NlbGVjaW9uYWRhc0Rvb3RheCA9ICJiZDI3ODM3Yi1kOTI5LTQ3N2MtOWRlMy02NTNkZmQzN2U5MTQiOw0KdmFyIGN0ZXNOYW9FbWl0aWRvcyA9ICJiZTMwMjEyOC00NGRlLTQyZTctODc0ZC03N2IwODY3ZmI1NTciOw0KdmFyIGd1aWFzUGFnYXNJRCA9ICJkMzAyZDI1Yy1jODBlLTRjNzMtOGNlYi1lYTdiMWUzNzIxNWUiOw0KdmFyIGNvZGlnb1JlY2VpdGEgPSAiMGYzY2QyNmUtYzc1NC00MDI3LWIyZTItNjg4NjNjNzhkODcxIjsNCg0KZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KLy9UT0RPIGluaXRCZWZvcmUNCnZhciBDVEVzQXR1YWxpemFkYXMgPSBbXTsNCmFzeW5jIGZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCg0KICAgIC8vIEJ1c2NhIE9iaiBkYSB0ZWxhIGRvIGJvdGFvDQogICAgbGV0IGZpbHRyb0NUZSA9IGdlcmFyRmlsdHJvKCJfaWQiLCBkYXRhLmN0ZXNTZWxlY2lvbmFkYXNJRCk7DQogICAgdmFyIFBhZ2FtZW50b0ltcG9zdG8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGN0ZXNTZWxlY2lvbmFkYXNEb290YXgsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9DVGUpOw0KICAgIFBhZ2FtZW50b0ltcG9zdG9bMF0uVXJsSnNvbkNvbnRleHQuYXNzaWQgPSBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQ7DQogICAgUGFnYW1lbnRvSW1wb3N0b1swXS5VcmxKc29uQ29udGV4dC51c3JpZCA9IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZDsNCiAgICBQYWdhbWVudG9JbXBvc3RvWzBdLlVybEpzb25Db250ZXh0LmZlZGlkID0gUGFnYW1lbnRvSW1wb3N0b1swXS5JRDsNCg0KICAgIGxldCBPQkpSZXR1cm4gPSB7fTsNCiAgICBpZiAoUGFnYW1lbnRvSW1wb3N0by5sZW5ndGggPiAwKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBsZXQgbXNnID0gYXdhaXQgY29uc3VsdGFHdWlhc1BhZ2FzKFBhZ2FtZW50b0ltcG9zdG9bMF0uVXJsSnNvbkNvbnRleHQpOw0KICAgICAgICAgICAgT0JKUmV0dXJuID0gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiBtc2cNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBpZiAoQ1RFc0F0dWFsaXphZGFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBhZ3VhcmRhck11ZGFuY2FDYXJkKGRhdGEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvKSB7DQogICAgICAgICAgICBsZXQgT3JpZ2VtID0gIltFUlJPXSAoQ29uc3VsdGFyIEd1aWFzIFBhZ2FzIC0gRG90YXgpIGZ1bmN0aW9uOiBjb25zdWx0YUd1aWFzUGFnYXMuIg0KICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSB7DQogICAgICAgICAgICAgICAgIm1lbnNhZ2VtIjogZXJyby5tZXNzYWdlLA0KICAgICAgICAgICAgICAgICJwaWxoYSI6IGVycm8uc3RhY2sNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9uZXJneS5sb2coSlNPTi5zdHJpbmdpZnkoY29udGVudCksIE9yaWdlbSk7DQogICAgICAgIH0NCiAgICB9DQogICAgcHVzaGVyKHsNCiAgICAgICAgc3Via2V5OiAic3ViLWMtYzE4NTg5NDQtZWVlYy0xMWVhLWEzYTAtOTY3ZDI3MjUwZWZhIiwNCiAgICAgICAgcHVia2V5OiAicHViLWMtMTc5NjIzZDMtNzJhMS00MDc0LWEyNjYtZGQ5OWY2YTkzMjBmIiwNCiAgICAgICAgY2hhbm5lbDogZGF0YS5zY3JlZW5TZXNzaW9uSUQsDQogICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KE9CSlJldHVybikNCiAgICB9KTsNCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCmZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGNvbnN1bHRhR3VpYXNQYWdhcyhjdGVzQ3R4KSB7DQogICAgLy8gY29uc3QgdXJsRG90YXggPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJ1cmxfRE9UQVgiKTsNCiAgICBjb25zdCB1cmxEb3RheCA9ICJodHRwczovL2hvbS5hcHAuZG9vdGF4LmNvbS5ici9hcGkvdjIvZG9vZG9jL3BhZ3RyaWIvIjsNCg0KDQogICAgLy9CdXNjYW5kbyBDVEVzIHF1ZSBlc3TDo28gbm8gR1JJRCBkZSBDVEVzIFNlbGVjaW9uYWRhcw0KICAgIGxldCBmaWx0ZXJDdGVzU2VsZWNpb25hZGFzID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBjdGVzQ3R4LmZlZGlkKTsNCiAgICBsZXQgY3Rlc19zZWxlY2lvbmFkYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHBhZ2FtZW50b3NJbXBvc3Rvc0lELCBjdGVzQ3R4LmFzc2lkLCBjdGVzQ3R4LnVzcmlkLCBmaWx0ZXJDdGVzU2VsZWNpb25hZGFzKTsNCg0KDQogICAgbGV0IGxvZyA9IFtdOw0KICAgIGlmIChjdGVzX3NlbGVjaW9uYWRhcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IGkgaW4gY3Rlc19zZWxlY2lvbmFkYXMpIHsNCiAgICAgICAgICAgIGxldCBjdGVOdW1lcm8gPSBjdGVzX3NlbGVjaW9uYWRhc1tpXS5VcmxKc29uQ29udGV4dC5udW1lcm9fY3RlX2N0ZTsNCiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB7DQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9HdWlhIjogZmFsc2UsDQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9HdWlhX2Rlc2MiOiAiQWd1YXJkYW5kbyBHdWlhIiwNCiAgICAgICAgICAgICAgICAicHJvY2Vzc2FuZG9HdWlhIjogZmFsc2UsDQogICAgICAgICAgICAgICAgInByb2Nlc3NhbmRvR3VpYV9kZXNjIjogIlByb2Nlc3NhbmRvIEd1aWEiLA0KICAgICAgICAgICAgICAgICJhZ3VhcmRhbmRvQXByb3ZhY2FvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9BcHJvdmFjYW9fZGVzYyI6ICJBZ3VhcmRhbmRvIEFwcm92YcOnw6NvIiwNCiAgICAgICAgICAgICAgICAicHJvY2Vzc2FuZG9QYWdhbWVudG8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAicHJvY2Vzc2FuZG9QYWdhbWVudG9fZGVzYyI6ICJQcm9jZXNzYW5kbyBQYWdhbWVudG8iLA0KICAgICAgICAgICAgICAgICJhZ3VhcmRhbmRvUGFnYW1lbnRvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9QYWdhbWVudG9fZGVzYyI6ICJBZ3VhcmRhbmRvIFBhZ2FtZW50byIsDQogICAgICAgICAgICAgICAgImd1aWFzUGFnYXMiOiBmYWxzZQ0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNjYSBDVEUgZW0gQWd1YXJkYW5kbyBHdWlhcy4NCiAgICAgICAgICAgIGxldCBkYXRhUG9zdF9BZ3VhcmRhbmRvR3VpYSA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkFndWFyZGFuZG8gR3VpYSIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fYWd1YXJkYW5kb0d1aWFzID0gYXdhaXQgYWpheENhbGwoY3Rlc0N0eCwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9BZ3VhcmRhbmRvR3VpYSk7DQogICAgICAgICAgICBzdGF0dXMuYWd1YXJkYW5kb0d1aWEgPSBSZXRvcm5vX2FndWFyZGFuZG9HdWlhcy5jb250ZW50Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7DQoNCiAgICAgICAgICAgIC8vVE9ETyAoQUpBWCkgQnVzY2EgQ1RFIGVtIFByb2Nlc3NhbmRvIEd1aWEuDQogICAgICAgICAgICBsZXQgZGF0YVBvc3RfUHJvY2Vzc2FuZG9HdWlhID0gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiUHJvY2Vzc2FuZG8gR3VpYSIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fUHJvY2Vzc2FuZG9HdWlhID0gYXdhaXQgYWpheENhbGwoY3Rlc0N0eCwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9Qcm9jZXNzYW5kb0d1aWEpOw0KICAgICAgICAgICAgc3RhdHVzLnByb2Nlc3NhbmRvR3VpYSA9IFJldG9ybm9fUHJvY2Vzc2FuZG9HdWlhLmNvbnRlbnQubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNjYSBDVEUgZW0gQWd1YXJkYW5kbyBBcHJvdmHDp8Ojby4NCiAgICAgICAgICAgIGxldCBkYXRhUG9zdF9BZ3VhcmRhbmRvQXByb3ZhY2FvID0gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiQWd1YXJkYW5kbyBBcHJvdmHDp8OjbyIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fQWd1YXJkYW5kb0Fwcm92YWNhbyA9IGF3YWl0IGFqYXhDYWxsKGN0ZXNDdHgsIGAke3VybERvdGF4ICsgImxpc3QifWAsICJQT1NUIiwgZGF0YVBvc3RfQWd1YXJkYW5kb0Fwcm92YWNhbyk7DQogICAgICAgICAgICBzdGF0dXMuYWd1YXJkYW5kb0Fwcm92YWNhbyA9IFJldG9ybm9fQWd1YXJkYW5kb0Fwcm92YWNhby5jb250ZW50Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7DQoNCiAgICAgICAgICAgIC8vVE9ETyAoQUpBWCkgQnVzY2EgQ1RFIGVtIFByb2Nlc3NhbmRvIFBhZ2FtZW50by4NCiAgICAgICAgICAgIGxldCBkYXRhUG9zdF9Qcm9jZXNzYW5kb1BhZ2FtZW50byA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkFndWFyZGFuZG8gQXByb3Zhw6fDo28iLA0KICAgICAgICAgICAgICAgICJkb2NOdW0iOiBjdGVOdW1lcm8sDQogICAgICAgICAgICAgICAgInBkZkJ5dGVzIjogImZhbHNlIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGxldCBSZXRvcm5vX1Byb2Nlc3NhbmRvUGFnYW1lbnRvID0gYXdhaXQgYWpheENhbGwoY3Rlc0N0eCwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9Qcm9jZXNzYW5kb1BhZ2FtZW50byk7DQogICAgICAgICAgICBzdGF0dXMucHJvY2Vzc2FuZG9QYWdhbWVudG8gPSBSZXRvcm5vX1Byb2Nlc3NhbmRvUGFnYW1lbnRvLmNvbnRlbnQubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNjYSBDVEUgZW0gQWd1YXJkYW5kbyBQYWdhbWVudG8uDQogICAgICAgICAgICBsZXQgZGF0YVBvc3RfQWd1YXJkYW5kb1BhZ2FtZW50byA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkFndWFyZGFuZG8gUGFnYW1lbnRvIiwNCiAgICAgICAgICAgICAgICAiZG9jTnVtIjogY3RlTnVtZXJvLA0KICAgICAgICAgICAgICAgICJwZGZCeXRlcyI6ICJmYWxzZSINCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsZXQgUmV0b3Jub19hZ3VhcmRhbmRvUGFnYW1lbnRvID0gYXdhaXQgYWpheENhbGwoY3Rlc0N0eCwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9BZ3VhcmRhbmRvUGFnYW1lbnRvKTsNCiAgICAgICAgICAgIHN0YXR1cy5hZ3VhcmRhbmRvUGFnYW1lbnRvID0gUmV0b3Jub19hZ3VhcmRhbmRvUGFnYW1lbnRvLmNvbnRlbnQubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNhY2EgQ1RFIGVtIEd1aWFzIFBhZ2FzIFNlbSBwZGYuDQogICAgICAgICAgICBsZXQgZGF0YVBvc3RfR3VpYXNQYWdhcyA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkd1aWEgUGFnYSIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fR3VpYXNQYWdhcyA9IGF3YWl0IGFqYXhDYWxsKGN0ZXNDdHgsIGAke3VybERvdGF4ICsgImxpc3QifWAsICJQT1NUIiwgZGF0YVBvc3RfR3VpYXNQYWdhcyk7DQogICAgICAgICAgICBzdGF0dXMuZ3VpYXNQYWdhcyA9ICFzdGF0dXMuYWd1YXJkYW5kb0d1aWEgJiYgIXN0YXR1cy5wcm9jZXNzYW5kb0d1aWEgJiYgIXN0YXR1cy5hZ3VhcmRhbmRvQXByb3ZhY2FvICYmICFzdGF0dXMucHJvY2Vzc2FuZG9QYWdhbWVudG8gJiYgIXN0YXR1cy5hZ3VhcmRhbmRvUGFnYW1lbnRvICYmIFJldG9ybm9fR3VpYXNQYWdhcy5jb250ZW50Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7DQoNCiAgICAgICAgICAgIC8vVE9ETyAoSUYpIEd1aWFzIHBhZ2FzDQogICAgICAgICAgICBpZiAoc3RhdHVzLmd1aWFzUGFnYXMpIHsNCiAgICAgICAgICAgICAgICAvL1RPRE8gKEFKQVgpIEJ1c2FjYSBDVEUgZW0gR3VpYXMgUGFnYXMgY29tIHBkZi4NCiAgICAgICAgICAgICAgICBsZXQgZGF0YVBvc3RfR3VpYXNQYWdhcyA9IHsNCiAgICAgICAgICAgICAgICAgICAgInN0YXR1cyI6ICJHdWlhIFBhZ2EiLA0KICAgICAgICAgICAgICAgICAgICAiZG9jTnVtIjogY3RlTnVtZXJvLA0KICAgICAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAidHJ1ZSINCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGxldCBSZXRvcm5vX0d1aWFzUGFnYXNQREYgPSBhd2FpdCBhamF4Q2FsbChjdGVzQ3R4LCBgJHt1cmxEb3RheCArICJsaXN0In1gLCAiUE9TVCIsIGRhdGFQb3N0X0d1aWFzUGFnYXMpOw0KICAgICAgICAgICAgICAgIGxldCBjb250ZW50UGFnYXMgPSBSZXRvcm5vX0d1aWFzUGFnYXNQREYuY29udGVudDsNCg0KICAgICAgICAgICAgICAgIGxldCBkYXRhX1VwZGF0ZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgInBhZ2FtZW50b0dOUkUiOiB0cnVlDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBHVUlBIG9mIGNvbnRlbnRQYWdhcykgew0KICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvQ29kaWdvUmVjZWl0YSA9IGdlcmFyRmlsdHJvKCJjb2RpZ28iLCBHVUlBLnJldmVudWVDb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNvZGlnb1JlY2VpdGEgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGNvZGlnb1JlY2VpdGEsIGN0ZXNDdHguYXNzaWQsIGN0ZXNDdHgudXNyaWQsIGZpbHRyb0NvZGlnb1JlY2VpdGEpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChvYmpDb2RpZ29SZWNlaXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETyBHdWlhIERpZmFsDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqQ29kaWdvUmVjZWl0YVswXS5VcmxKc29uQ29udGV4dC50aXBvX2RlX2RvY3VtZW50byA9PSAiRElGQUwiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBkZkJ5dGVzQWxpcXVvdGEgPSBHVUlBLnBkZkJ5dGVzOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmxQZGZHTlJFQWxpcXVvdGEgPSBmaWxldXRpbHMuRGVjb21wcmVzc1psaWJDb250ZW50KHBkZkJ5dGVzQWxpcXVvdGEsICJwZGYiKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLnVybEducmVBbGlxdW90YSA9IHVybFBkZkdOUkVBbGlxdW90YTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVBbGlxdW90YSA9IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmluZm9HdWlhRGlmYWwgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3NLZXkiOiBHVUlBLmFjY2Vzc0tleSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImF1dGhlbnRpY2F0aW9uTnVtIjogR1VJQS5hdXRoZW50aWNhdGlvbk51bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImJhcmNvZGUiOiBHVUlBLmJhcmNvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb250cm9sTnVtIjogR1VJQS5jb250cm9sTnVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGViaXREYXRlIjogR1VJQS5kZWJpdERhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2NOdW0iOiBHVUlBLmRvY051bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImR1ZURhdGUiOiBHVUlBLmR1ZURhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwZXJpb2QiOiBHVUlBLnBlcmlvZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByaW5jaXBhbEFtb3VudCI6IEdVSUEucHJpbmNpcGFsQW1vdW50LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicmV2ZW51ZUNvZGUiOiBHVUlBLnJldmVudWVDb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhdGUiOiBHVUlBLnN0YXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG90YWxBbW91bnQiOiBHVUlBLnRvdGFsQW1vdW50LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaW5zZXJ0RGF0ZSI6IEdVSUEuaW5zZXJ0RGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNhdGVnb3JpYSI6ICJESUZBTCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUFsaXF1b3RhLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsIjogdXJsUGRmR05SRUFsaXF1b3RhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsQXp1cmUiOiB1cmxQZGZHTlJFQWxpcXVvdGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOYW1lIjogYEd1aWFEaWZhbC0ke2N0ZU51bWVyb30ucGRmYA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPIEd1aWEgRmVjb3ANCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9iakNvZGlnb1JlY2VpdGFbMF0uVXJsSnNvbkNvbnRleHQudGlwb19kZV9kb2N1bWVudG8gPT0gIkZFQ09QIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwZGZCeXRlc0ZlY29wID0gR1VJQS5wZGZCeXRlczsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsUGRmR05SRUZlY29wID0gZmlsZXV0aWxzLkRlY29tcHJlc3NabGliQ29udGVudChwZGZCeXRlc0ZlY29wLCAicGRmIik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS51cmxHbnJlRmVjb3AgPSB1cmxQZGZHTlJFRmVjb3A7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlRmVjb3AgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5pbmZvR3VpYUZlY29wID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzS2V5IjogR1VJQS5hY2Nlc3NLZXksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhdXRoZW50aWNhdGlvbk51bSI6IEdVSUEuYXV0aGVudGljYXRpb25OdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJiYXJjb2RlIjogR1VJQS5iYXJjb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY29udHJvbE51bSI6IEdVSUEuY29udHJvbE51bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRlYml0RGF0ZSI6IEdVSUEuZGViaXREYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jTnVtIjogR1VJQS5kb2NOdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkdWVEYXRlIjogR1VJQS5kdWVEYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGVyaW9kIjogR1VJQS5wZXJpb2QsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcmluY2lwYWxBbW91bnQiOiBHVUlBLnByaW5jaXBhbEFtb3VudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJldmVudWVDb2RlIjogR1VJQS5yZXZlbnVlQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXRlIjogR1VJQS5zdGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvdGFsQW1vdW50IjogR1VJQS50b3RhbEFtb3VudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc2VydERhdGUiOiBHVUlBLmluc2VydERhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXRlZ29yaWEiOiAiRkVDT1AiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVGZWNvcC5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybCI6IHVybFBkZkdOUkVGZWNvcCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEF6dXJlIjogdXJsUGRmR05SRUZlY29wLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6IGBHdWlhRmVjb3AtJHtjdGVOdW1lcm99LnBkZmANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETyBHdWlhIElDTVMgKEdOUkUpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGRmQnl0ZXNJQ01TID0gR1VJQS5wZGZCeXRlczsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsUGRmR05SRUlDTVMgPSBmaWxldXRpbHMuRGVjb21wcmVzc1psaWJDb250ZW50KHBkZkJ5dGVzSUNNUywgInBkZiIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUudXJsR25yZUlDTVMgPSB1cmxQZGZHTlJFSUNNUzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVJQ01TID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuaW5mb0d1aWFHbmVyID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzS2V5IjogR1VJQS5hY2Nlc3NLZXksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhdXRoZW50aWNhdGlvbk51bSI6IEdVSUEuYXV0aGVudGljYXRpb25OdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJiYXJjb2RlIjogR1VJQS5iYXJjb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY29udHJvbE51bSI6IEdVSUEuY29udHJvbE51bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRlYml0RGF0ZSI6IEdVSUEuZGViaXREYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jTnVtIjogR1VJQS5kb2NOdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkdWVEYXRlIjogR1VJQS5kdWVEYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGVyaW9kIjogR1VJQS5wZXJpb2QsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcmluY2lwYWxBbW91bnQiOiBHVUlBLnByaW5jaXBhbEFtb3VudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJldmVudWVDb2RlIjogR1VJQS5yZXZlbnVlQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXRlIjogR1VJQS5zdGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvdGFsQW1vdW50IjogR1VJQS50b3RhbEFtb3VudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc2VydERhdGUiOiBHVUlBLmluc2VydERhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXRlZ29yaWEiOiAiR05SRSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUlDTVMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmwiOiB1cmxQZGZHTlJFSUNNUywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEF6dXJlIjogdXJsUGRmR05SRUlDTVMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOYW1lIjogYEd1aWFHbnJlLSR7Y3RlTnVtZXJvfS5wZGZgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2cucHVzaChgQ1RFOiR7Y3RlTnVtZXJvfSBUb2RhcyBhcyBndWlhcyBmb3JhbSBwYWdhcywgbWFzIG7Do28gZm9pIGluZGVudGlmaWNhZG8gbyB0aXBvIGRlIGRvY3VtZW50byBwYXJhIG8gY8OzZGlnbyBkYSByZWNlaXRhICR7R1VJQS5yZXZlbnVlQ29kZX1cbmApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUucGFnYW1lbnRvR05SRSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGRhdGFfVXBkYXRlLnBhZ2FtZW50b0dOUkUpIHsNCiAgICAgICAgICAgICAgICAgICAgbG9nLnB1c2goYFRvZGFzIGFzIGd1aWFzIGRvIENURToke2N0ZU51bWVyb30gZm9yYW0gcGFnYXMuXG5gKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL0F0dWFsaXphIG8gc3RhdHVzIGRhIENURSBzZWxlY2lvbmFkYSBwYXJhIHF1ZSBvIGluaXRCZWZvcmUgbmFvIGNhbmNlbGUgbyBTYXZlLg0KICAgICAgICAgICAgICAgICAgICBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogY3Rlc05hb0VtaXRpZG9zLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGN0ZXNDdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgICAgICB1c3JpZDogY3Rlc0N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwYWdhbWVudG9HTlJFIjogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGN0ZXNfc2VsZWNpb25hZGFzW2ldLklELA0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAvL0F0dWFsaXphIENURXMgc2VsZWNpb25hZGFzIGRvIHBhZ2FtZW50byBkZSBJbXBvc3Rvcy4NCiAgICAgICAgICAgICAgICAgICAgb25lcmd5X3NhdmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IHBhZ2FtZW50b3NJbXBvc3Rvc0lELA0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGN0ZXNDdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgICAgICB1c3JpZDogY3Rlc0N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdGVzX3NlbGVjaW9uYWRhc1tpXS5JRCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGFfVXBkYXRlKQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICBDVEVzQXR1YWxpemFkYXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiBjdGVzX3NlbGVjaW9uYWRhc1tpXS5JRCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJmcm9tIjogcGFnYW1lbnRvc0ltcG9zdG9zSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAidG8iOiBndWlhc1BhZ2FzSUQNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy9BdHVhbGl6YSBDVEVzIGVtIENURXMgRW1pdGlkb3MuDQogICAgICAgICAgICAgICAgICAgIGxldCBwb3NySW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ3VpYXNfZG9vdGF4IjogW10NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuaGFzT3duUHJvcGVydHkoImFycXVpdm9fR25yZUFsaXF1b3RhIikgJiYgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlQWxpcXVvdGEubGVuZ3RoID4gMCA/IHBvc3JJbmZvLlVybEpzb25Db250ZXh0Lmd1aWFzX2Rvb3RheC5wdXNoKGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUFsaXF1b3RhWzBdKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5oYXNPd25Qcm9wZXJ0eSgiYXJxdWl2b19HbnJlRmVjb3AiKSAmJiBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVGZWNvcC5sZW5ndGggPiAwID8gcG9zckluZm8uVXJsSnNvbkNvbnRleHQuZ3VpYXNfZG9vdGF4LnB1c2goZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlRmVjb3BbMF0pIDogIiI7DQogICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmhhc093blByb3BlcnR5KCJhcnF1aXZvX0ducmVJQ01TIikgJiYgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlSUNNUy5sZW5ndGggPiAwID8gcG9zckluZm8uVXJsSnNvbkNvbnRleHQuZ3VpYXNfZG9vdGF4LnB1c2goZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlSUNNU1swXSkgOiAiIjsNCg0KICAgICAgICAgICAgICAgICAgICBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogY3Rlc05hb0VtaXRpZG9zLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGN0ZXNDdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgICAgICB1c3JpZDogY3Rlc0N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBvc3JJbmZvKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdGVzX3NlbGVjaW9uYWRhc1tpXS5VcmxKc29uQ29udGV4dC5vbmVfY29waWVkX2Zyb20sDQogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT0gRW52aW8gZGUgZW1haWwgQ29udGF0b3MgPT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZUdOUkUgPSAiODIwMDZlZjAtZTQxNy00ZDAyLWI0ZTktOTFlNTdjMmQwZmJmIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZUNvbnRldWRvRW1haWwgPSAnMTcwZDdkZDEtZDQyZS00MDY0LWFjZjktOWE3YzcyMjYxYWNjJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGV0ZUVtYWlscyA9ICIyY2M5NDlmMi1mYTI2LTRjMGUtODdmMC1kNjFhMDkyMzE2NWEiOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IEVtcHJlc2FJRCA9ICJhZjY2ZmIyZC05NjBlLTRlMWItOWE2Ni00NDRjZGFkNjRmNjMiOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb1RvbWFkb3IgPSBnZXJhckZpbHRybygiY25wal9lbXByZXNhIiwgY3Rlc19zZWxlY2lvbmFkYXNbaV0uVXJsSnNvbkNvbnRleHQuRU1QY25wal9lbXByZXNhX190b21hZG9yX2NucGpfY3RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmpUb21hZG9yID0gZ2V0T25lcmd5SXRlbShFbXByZXNhSUQsIGN0ZXNDdHguYXNzaWQsIGN0ZXNDdHgudXNyaWQsIGZpbHRyb1RvbWFkb3IpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRyb0VtYWlsc1RvYW1kb3IgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIG9ialRvbWFkb3JbMF0uSUQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVtYWlsc1RvbWFkb3IgPSBnZXRPbmVyZ3lJdGVtKHRlbXBsZXRlRW1haWxzLCBjdGVzQ3R4LmFzc2lkLCBjdGVzQ3R4LnVzcmlkLCBmaWx0cm9FbWFpbHNUb2FtZG9yKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhRW1pc3NhbyA9IG5ldyBEYXRlKGN0ZXNfc2VsZWNpb25hZGFzW2ldLlVybEpzb25Db250ZXh0LmRhdGFfZW1pc3Nhb19jdGVEYXRlKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsc1RvbWFkb3IubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXVkb0VtYWlsID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibnVtZXJvX2N0ZSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkR0RW1pc3NhbyI6ICgoZGF0YUVtaXNzYW8uZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpKSArICIvIiArICgoZGF0YUVtaXNzYW8uZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpICsgIi8iICsgZGF0YUVtaXNzYW8uZ2V0RnVsbFllYXIoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNoYXZlX2N0ZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoY3Rlc19zZWxlY2lvbmFkYXNbaV0uVXJsSnNvbkNvbnRleHQuY2hhdmVfY3RlX2N0ZSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6IGN0ZXNfc2VsZWNpb25hZGFzW2ldLlVybEpzb25Db250ZXh0LnZhbG9yX3RvdGFsX3RyaWJ1dG9zX2N0ZS50b0ZpeGVkKDIpLnJlcGxhY2UoIi4iLCAiLCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgQW5leG9zID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuaGFzT3duUHJvcGVydHkoImFycXVpdm9fR25yZUFsaXF1b3RhIikgJiYgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlQWxpcXVvdGEubGVuZ3RoID4gMCA/IEFuZXhvcy5wdXNoKGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUFsaXF1b3RhWzBdKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmhhc093blByb3BlcnR5KCJhcnF1aXZvX0ducmVGZWNvcCIpICYmIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUZlY29wLmxlbmd0aCA+IDAgPyBBbmV4b3MucHVzaChkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVGZWNvcFswXSkgOiAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5oYXNPd25Qcm9wZXJ0eSgiYXJxdWl2b19HbnJlSUNNUyIpICYmIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUlDTVMubGVuZ3RoID4gMCA/IEFuZXhvcy5wdXNoKGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUlDTVNbMF0pIDogIiI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV1ZG9FbWFpbElEID0gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZUNvbnRldWRvRW1haWwsIGN0ZXNDdHguYXNzaWQsIGN0ZXNDdHgudXNyaWQsIGNvbnRldWRvRW1haWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgaW4gZW1haWxzVG9tYWRvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWxzVG9tYWRvcltzXS5VcmxKc29uQ29udGV4dC5oYXNPd25Qcm9wZXJ0eSgnZW52aWFyX2ducmUnKSAmJiBlbWFpbHNUb21hZG9yW3NdLlVybEpzb25Db250ZXh0LmVudmlhcl9nbnJlID09ICdzaW0nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kbWFpbCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGN0ZXNDdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGN0ZXNDdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1waWQ6IHRlbXBsYXRlR05SRSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbF90bzogZW1haWxzVG9tYWRvcltzXS5VcmxKc29uQ29udGV4dC5lbWFpbF91c3UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbnRldWRvRW1haWxJRCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsc3RBbmV4b3M6IEpTT04uc3RyaW5naWZ5KEFuZXhvcykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJneS5sb2coYEVycm8gbm8gZW52aW8gZGUgZW1haWwgQ1RFIFxuIEVycm86JHtlcnJ9YCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxldCBtZW5zYWdlbSA9IGBDVEU6JHtjdGVOdW1lcm99IHBvc3N1aSBndWlhcyBlbSBbYDsNCiAgICAgICAgICAgICAgICBsZXQgaW5jbHVpZG8gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHN0YXR1cykgew0KICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0YXR1c1twcm9wZXJ0eV0gPT0gJ2Jvb2xlYW4nICYmIHN0YXR1c1twcm9wZXJ0eV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnNhZ2VtICs9IChgJHtpbmNsdWlkbyA/IChgLyR7c3RhdHVzW2Ake3Byb3BlcnR5fV9kZXNjYF19YCkgOiBzdGF0dXNbYCR7cHJvcGVydHl9X2Rlc2NgXX1gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgIWluY2x1aWRvID8gKGluY2x1aWRvID0gIWluY2x1aWRvKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxvZy5wdXNoKGAke21lbnNhZ2VtfV0uXG5gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGxvZy5wdXNoKCJOw6NvIGV4aXN0ZSBndWlhcyBwYXJhIHBhZ2FtZW50by5cbiIpOw0KICAgIH0NCiAgICByZXR1cm4gbG9nLmpvaW4oIiIpOw0KfTsNCg0KLy9UT0RPIChGVU5DVElPTikgQUpBWA0KYXN5bmMgZnVuY3Rpb24gYWpheENhbGwoY3Rlc0N0eCwgVVJMLCBtZXRob2QsIGRhdGFDYWxsKSB7DQogICAgY29uc3Qgb3VhdGhUb2tlbiA9ICJmYzYzMzE1Yy02MjJjLTQxNDItOGU5Ni05NzBjYTBhNTU3ZTkiOw0KICAgIGNvbnN0IHRlbmFudG9sZCA9ICJwcmVzdGV4IjsNCg0KICAgIGxldCByZXRvcm5vOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiBVUkwsDQogICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAnb2F1dGgtdG9rZW4nOiBvdWF0aFRva2VuLA0KICAgICAgICAgICAgJ3RlbmFudC1hbGlhcyc6IHRlbmFudG9sZA0KICAgICAgICB9LA0KICAgICAgICBkYXRhOiBkYXRhQ2FsbCwNCiAgICB9KS50aGVuKA0KICAgICAgICAocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgIHJldG9ybm8gPSByZXNwb25zZS5kYXRhOw0KICAgICAgICB9LA0KICAgICAgICAoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIHJldG9ybm8gPSBlcnJvci5yZXNwb25zZS5kYXRhOw0KICAgICAgICB9DQogICAgKTsNCiAgICByZXR1cm4gcmV0b3JubzsNCiAgICAvKg0KICAgIGNvbnN0IG91YXRoVG9rZW4gPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJvYXV0aC10b2tlbl9ET1RBWCIpOw0KICAgIGNvbnN0IHRlbmFudG9sZCA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInRlbmFudF9ET1RBWCIpOw0KICAgIGxldCByZXNwb25zZTsNCiAgICBhamF4KHsNCiAgICAgICAgdXJsOiBVUkwsDQogICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgIGNvbnRlbnRUeXBlQ2hhclNldDogIiIsDQogICAgICAgIGhlYWRlcnM6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICdvYXV0aC10b2tlbic6IG91YXRoVG9rZW4sDQogICAgICAgICAgICAndGVuYW50LWFsaWFzJzogdGVuYW50b2xkDQogICAgICAgIH0pLA0KICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhQ2FsbCksDQogICAgICAgIGFzc2lkOiBjdGVzQ3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogY3Rlc0N0eC51c3JpZCwNCiAgICAgICAgZmVkaWQ6IGN0ZXNDdHguZmVkaWQsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChjdGVzQ3R4LCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgcmVzcG9uc2UgPSBjdGVzQ3R4Ow0KICAgICAgICB9LA0KICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGN0ZXNDdHgsIGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgIHJlc3BvbnNlID0gZXJyb3I7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZSk7DQogICAgKi8NCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkLCBhc3NpZCwgdXNyaWQsIGRhdGEpIHsNCiAgICBsZXQgb25lcmd5U2F2ZURhdGEgPSB7DQogICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSkNCiAgICB9Ow0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IGtlZXBTZWFyY2hpbmcgPSB0cnVlOw0KICAgIGxldCBza2lwID0gMDsNCiAgICB0YWtlID0gNTAwOw0KICAgIGxldCByZXN1bHQgPSBbXTsNCiAgICB3aGlsZSAoa2VlcFNlYXJjaGluZykgew0KICAgICAgICBsZXQgc3RyUGFnZVJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgICAgIGZpbHRlcjogZmlsdHJvLA0KICAgICAgICAgICAgc2tpcDogc2tpcCwNCiAgICAgICAgICAgIHRha2U6IHRha2UNCiAgICAgICAgfSk7DQogICAgICAgIHNraXAgKz0gdGFrZTsNCiAgICAgICAgbGV0IHBhZ2VSZXNwID0gSlNPTi5wYXJzZShzdHJQYWdlUmVzcCk7DQogICAgICAgIGlmIChwYWdlUmVzcCAhPSBudWxsICYmIHBhZ2VSZXNwLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBwYWdlUmVzcC5sZW5ndGggPT0gdGFrZTsNCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocGFnZVJlc3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpDQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQoNCiAgICB2YXIgb2JqID0gew0KICAgICAgICAnY29uZCc6IGNvbmQsDQogICAgICAgICdqc29uJzogSlNPTi5zdHJpbmdpZnkoanNvbiksDQogICAgICAgICdXYWl0aW5nV2ViSG9vayc6IFdhaXRpbmdXZWJIb29rLA0KICAgIH07DQogICAgcmV0dXJuIG9iajsNCn0NCg0KZnVuY3Rpb24gZ2VyYXJGaWx0cm8oZmllbE5hbWVQLCB2YWx1ZVApIHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6IGZpZWxOYW1lUCwgVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIEZpeGVkVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIFZhbHVlMTogdmFsdWVQIH1dKTsNCn0NCg0KZnVuY3Rpb24gcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhzdHJyZWMpIHsNCiAgICBpZiAoc3RycmVjKSB7DQogICAgICAgIGxldCBzdHJyZXQgPSBzdHJyZWMudG9TdHJpbmcoKS5yZXBsYWNlKC9bXlxkXSsvZywgJycsICcnKTsNCiAgICAgICAgcmV0dXJuIHN0cnJldDsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gIiI7DQogICAgfQ0KDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGFndWFyZGFyTXVkYW5jYUNhcmQoZGF0YSkgew0KICAgIGZvciAobGV0IHMgaW4gQ1RFc0F0dWFsaXphZGFzKSB7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzA7IGorKykgew0KICAgICAgICAgICAgbGV0IENURV9FTV9HVUlBU19QQUdBUyA9IGF3YWl0IG9uZXJneV9jb3VudGRvY3Moew0KICAgICAgICAgICAgICAgIGZkdGlkOiBndWlhc1BhZ2FzSUQsDQogICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICAgICAgICAgIGZpbHRlcjogSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgICAgICB7IEZpZWxOYW1lOiAiX2lkIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogQ1RFc0F0dWFsaXphZGFzW3NdLmlkIH0NCiAgICAgICAgICAgICAgICBdKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoQ1RFX0VNX0dVSUFTX1BBR0FTID4gMCkgew0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB1dGlscy5zbGVlcCgyNTAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vVE9ETyBEQVRBDQp2YXIganNvbklucHV0ID0gew0KICAgICJzY3JlZW5TZXNzaW9uSUQiOiAiMzYyMzBkZWMtM2NiYS1iNjA1LTUzYTEtZGQ1MDQyYzBiMWE1IiwNCiAgICAiY3Rlc1NlbGVjaW9uYWRhc0lEIjogIjZhNzJjNjk5LTFkYWEtMTZjNS0wZDdkLTcyMjQyZjk0YzQzZCIsDQogICAgImFzc19pZCI6ICIxNmMxN2QyOC1kMDQ1LTQ1MDEtODY1ZS0zMDlhM2Y5NWUyODkiLA0KICAgICJhc3NpZCI6ICIxNmMxN2QyOC1kMDQ1LTQ1MDEtODY1ZS0zMDlhM2Y5NWUyODkiLA0KICAgICJmZWRpZCI6ICIwODQzYWQwYS03MDNkLTQxYTMtYjU4OC0xNzQ2M2IxMjQ1Y2UiLA0KICAgICJmZHRpZCI6ICJmMTllMDhmMi0xOGMxLTQ0YzgtODNlZC04ZmViZjA1ZTliOWIiLA0KICAgICJ1c3JpZCI6ICIzMjMwMjYyYi1lMTQ4LTQ5MTUtYWFmNS1hZWZhYzM1M2QxZDQiLA0KICAgICJlbWFpbCI6ICJ2YW5lc3NhLmFtYXJhbEBwcmVzdGV4aG9tb2wuY29tLmJyIiwNCiAgICAib25lcmd5X3JvbGlkIjogImEyYTdhMGMwLTdjNjAtNGIyMi04NmZhLTdhMjIyZjQ3YmNmNSIsDQogICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAib25lcmd5X2pzX2N0eCI6IHsNCiAgICAgICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgICAgICJmZWRpZCI6ICIwODQzYWQwYS03MDNkLTQxYTMtYjU4OC0xNzQ2M2IxMjQ1Y2UiLA0KICAgICAgICAiZmR0aWQiOiAiZjE5ZTA4ZjItMThjMS00NGM4LTgzZWQtOGZlYmYwNWU5YjliIiwNCiAgICAgICAgInVzcmlkIjogIjMyMzAyNjJiLWUxNDgtNDkxNS1hYWY1LWFlZmFjMzUzZDFkNCIsDQogICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTA4LTI2VDE5OjQzOjI4LjY1NzM4MzQiLA0KICAgICAgICAidXBkYXRlRHQiOiAiMjAyMi0wOC0yNlQxOTo0MzoyOC42NTczODM0IiwNCiAgICAgICAgImN1cl91c2VyaWQiOiAiMzIzMDI2MmItZTE0OC00OTE1LWFhZjUtYWVmYWMzNTNkMWQ0IiwNCiAgICAgICAgImVtYWlsIjogInZhbmVzc2EuYW1hcmFsQHByZXN0ZXhob21vbC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogIlZhbmVzc2EgZG8gQW1hcmFsIiwNCiAgICAgICAgIm9uZXJneV9yb2xpZCI6ICJhMmE3YTBjMC03YzYwLTRiMjItODZmYS03YTIyMmY0N2JjZjUiLA0KICAgICAgICAicHJhaWQiOiAiMTdlZGQ2YmUtMDNhMi00ZjIxLWIyMTAtMmJlY2QzODBiNDk3IiwNCiAgICAgICAgInBjdmlkIjogImZlYmQ5MzNlLTA3N2YtNGQ2My05YmJkLWM3Y2U0ZDBhZjdmZCIsDQogICAgICAgICJwcmNpZCI6ICIzZmM5ZjU1My1hZjA0LTQyZTgtYmY2YS03OTUxZTVmOWNhZWQiLA0KICAgICAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICAgICAidGltZXpvbmVfdmFsdWUiOiAiLTAzOjAwIiwNCiAgICAgICAgInB1Yk51Ykhvb2siOiBudWxsDQogICAgfQ0KfQ0KDQppbml0QmVmb3JlKEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(DOOTAX) - Garao de Contas a Pagar.js", "isDirectory": false, "__KEY__": "4d2faa76-29b6-477b-6e5e-31cdec0aa0ca", "size": 35330, "dateModified": "2022-05-27T17:46:10.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uKGNvbnRlbnQsIG5lZWRsZSwgcmVwbGFjZW1lbnQpIHsNCiAgICByZXR1cm4gY29udGVudC5zcGxpdChuZWVkbGUpLmpvaW4ocmVwbGFjZW1lbnQpOw0KfTsNCg0KYXN5bmMgZnVuY3Rpb24gUmVhZEV4Y2VsVG9Kc29uKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LlJlYWRFeGNlbFRvSnNvbihhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X2dldChhcmdzKSB7DQogICAgdmFyIHIgPSBhd2FpdCBvbmVyZ3kub25lcmd5X2dldChhcmdzKTsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocik7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGhhc2hNZDUoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuaGFzaE1kNShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb25lcmd5X3NhdmUoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kub25lcmd5X3NhdmUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgdXNyaWQsIGFzc2lkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfQ0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV91cGRhdGVtYW55KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kbWFpbChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5zZW5kbWFpbChhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5jcmVtZW50KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5LmluY3JlbWVudChhcmdzKTsNCn0NCg0KY2xhc3MgTWVtb3J5IHsNCiAgICB2YWxNZW1vcnkgPSBbXTsNCiAgICBUcnlBZGQoa2V5LCB2YWx1ZSwgdGltZSkgew0KICAgICAgICB2YXIgZXhpc3QgPSBmYWxzZTsNCiAgICAgICAgZm9yIChsZXQgcyBpbiB0aGlzLnZhbE1lbW9yeSkgew0KICAgICAgICAgICAgaWYgKHRoaXMudmFsTWVtb3J5W3NdLmtleSA9PSBrZXkpIHsNCiAgICAgICAgICAgICAgICBleGlzdCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGV4aXN0KSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnZhbE1lbW9yeS5wdXNoKHsgJ2tleSc6IGtleSwgJ3ZhbHVlJzogdmFsdWUsICd0aW1lJzogdGltZSB9KQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgUmVtb3ZlKGtleSkgew0KDQogICAgfQ0KfQ0KbGV0IG1lbW9yeSA9IG5ldyBNZW1vcnkoKTsNCi8qDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgIFNDUklQVCAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KKi8NCg0KdmFyIGVtcHJlc2FzSUQgPSAiYWY2NmZiMmQtOTYwZS00ZTFiLTlhNjYtNDQ0Y2RhZDY0ZjYzIjsNCnZhciBFc3RhZG9YRW1wcmVzYUlEID0gImQ1OWE4NTUyLTY2NWEtNDUzMy1hMDRmLWZjNTg2OGNiMGZmMiI7DQp2YXIgdW5pZGFkZUVtaXNzYW9JRCA9ICIyMzhhYmQ4ZC1jZTFiLTRkY2UtODBjZi1iYzdkZWU5MmY4Y2YiOw0KdmFyIGJhbmNvc0lEID0gImIzZTk1MjViLTY4NmMtNDBhYS05YTYxLWRlYzRkMTVjZmE5MiI7DQp2YXIgUGFyY2VsYXNJRCA9ICJlNWU5ZmY3ZC01OTM2LTQxYTEtOGE4MC03MjM1NmMyNjAxZjMiOw0KdmFyIHVuaWRhZGVOZWdvY2lvSUQgPSAiZmI3ZDg1NzQtNTU2ZS00ZTYzLTg0ZGItODQwNDBlYjRhZjU3IjsNCnZhciBjb250YXNQYWdhcklEID0gImMwZTI4MWZjLTYyZGYtNDEyMy04YjhkLWEwZGM5NTllODc3NiI7DQp2YXIgY2F0ZWdvcmlhc0Rlc3Blc2FJRCA9ICJlNmE0MDRlOC1mODIxLTRkYWUtYWNiNy1iNWFiOTIxMGRjNGMiOw0KdmFyIHBhZ2FtZW50b0ltcG9zdG9JRCA9ICJiZDI3ODM3Yi1kOTI5LTQ3N2MtOWRlMy02NTNkZmQzN2U5MTQiOw0KDQphc3luYyBmdW5jdGlvbiBpbml0KGpzb24pIHsNCiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQoNCiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgiaW5mb0d1aWFEaWZhbCIpICYmIGRhdGEuaW5mb0d1aWFEaWZhbCkgew0KICAgICAgICBsZXQgcmV0b3JubyA9IGF3YWl0IGNyaWFyRXNwZWxob0NvbnRhc1BhZ2FyKGRhdGEsIGRhdGEuaW5mb0d1aWFEaWZhbCk7DQogICAgICAgIG9uZXJneS5sb2coSk9TTi5zdHJpbmdpZnkocmV0b3JubykpOw0KICAgIH0NCiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgiaW5mb0d1aWFGZWNvcCIpICYmIGRhdGEuaW5mb0d1aWFGZWNvcCkgew0KICAgICAgICBsZXQgcmV0b3JubyA9IGF3YWl0Y3JpYXJFc3BlbGhvQ29udGFzUGFnYXIoZGF0YSwgZGF0YS5pbmZvR3VpYUZlY29wKTsNCiAgICAgICAgb25lcmd5LmxvZyhKT1NOLnN0cmluZ2lmeShyZXRvcm5vKSk7DQogICAgfQ0KICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCJpbmZvR3VpYUduZXIiKSAmJiBkYXRhLmluZm9HdWlhR25lcikgew0KICAgICAgICBsZXQgcmV0b3JubyA9IGNyaWFyRXNwZWxob0NvbnRhc1BhZ2FyKGRhdGEsIGRhdGEuaW5mb0d1aWFHbmVyKTsNCiAgICAgICAgb25lcmd5LmxvZyhKT1NOLnN0cmluZ2lmeShyZXRvcm5vKSk7DQogICAgfQ0KDQogICAgcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIGRhdGEsIHRydWUpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0T2JqZWN0UmVzcG9uc2UoY29uZCwganNvbiwgV2FpdGluZ1dlYkhvb2spIHsNCiAgICBpZiAoV2FpdGluZ1dlYkhvb2sgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCg0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ2pzb24nOiBKU09OLnN0cmluZ2lmeShqc29uKSwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCiAgICByZXR1cm4gb2JqOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIGFzc2lkLCB1c3JpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH07DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2V0T25lcmd5SXRlbShmZHRpZCwgYXNzaWQsIHVzcmlkLCBmaWx0cm8pIHsNCiAgICBsZXQga2VlcFNlYXJjaGluZyA9IHRydWU7DQogICAgbGV0IHNraXAgPSAwOw0KICAgIHRha2UgPSA1MDA7DQogICAgbGV0IHJlc3VsdCA9IFtdOw0KICAgIHdoaWxlIChrZWVwU2VhcmNoaW5nKSB7DQogICAgICAgIGxldCBzdHJQYWdlUmVzcCA9IGF3YWl0IG9uZXJneV9nZXQoew0KICAgICAgICAgICAgZmR0aWQ6IGZkdGlkLA0KICAgICAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICAgICAgZmlsdGVyOiBmaWx0cm8sDQogICAgICAgICAgICBza2lwOiBza2lwLA0KICAgICAgICAgICAgdGFrZTogdGFrZQ0KICAgICAgICB9KTsNCiAgICAgICAgc2tpcCArPSB0YWtlOw0KICAgICAgICBsZXQgcGFnZVJlc3AgPSBKU09OLnBhcnNlKHN0clBhZ2VSZXNwKTsNCiAgICAgICAgaWYgKHBhZ2VSZXNwICE9IG51bGwgJiYgcGFnZVJlc3AubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IHBhZ2VSZXNwLmxlbmd0aCA9PSB0YWtlOw0KICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChwYWdlUmVzcCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KZnVuY3Rpb24gZ2VyYXJGaWx0cm8oZmllbE5hbWVQLCB2YWx1ZVApIHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6IGZpZWxOYW1lUCwgVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIjoic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyI6InN0cmluZyJ9YCwgVmFsdWUxOiB2YWx1ZVAgfV0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBjcmlhckVzcGVsaG9Db250YXNQYWdhcihkYXRhLCBndWlhKSB7DQogICAgbGV0IGxvZyA9IFtdOw0KICAgIGxldCBlc3RhZG9YRW1wcmVzYTsNCiAgICBsZXQgZW1wcmVzYTsNCiAgICBsZXQgYmFuY287DQogICAgbGV0IHVuaWRhZGVFbWlzc2FvOw0KICAgIGxldCBjYXRlZ29yaWFFbXByZXNhOw0KDQogICAgbGV0IGZpbHRyb1BhZ2FtZW50b0ltcG9zdG8gPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5JRF9PTkVfUkVGKTsNCiAgICBsZXQgcGFnYW1lbnRvSW1wb3N0byA9IGF3YWl0IGdldE9uZXJneUl0ZW0ocGFnYW1lbnRvSW1wb3N0b0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvUGFnYW1lbnRvSW1wb3N0byk7DQoNCiAgICBsZXQgZmlsdHJvRXN0YWRvWEVtcHJlc2EgPSBnZXJhckZpbHRybygiTUxPQ2VzdGFkb191Zl9fdWYiLCBndWlhLnN0YXRlKTsNCiAgICBlc3RhZG9YRW1wcmVzYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oRXN0YWRvWEVtcHJlc2FJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0VzdGFkb1hFbXByZXNhKTsNCiAgICBpZiAoZXN0YWRvWEVtcHJlc2EubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgZmlsdHJvRW1wcmVzYSA9IGdlcmFyRmlsdHJvKCJfaWQiLCBlc3RhZG9YRW1wcmVzYVswXS5VcmxKc29uQ29udGV4dC5FTVBlbXByZXNhX2lkKTsNCiAgICAgICAgZW1wcmVzYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oZW1wcmVzYXNJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0VtcHJlc2EpOw0KICAgICAgICBpZiAoZW1wcmVzYS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBpZiAoIWVtcHJlc2FbMF0uVXJsSnNvbkNvbnRleHQuZW1wcmVzYV9zb2Z0ZmluX2lkKSB7DQogICAgICAgICAgICAgICAgbG9nLnB1c2goYEVtcHJlc2EgUmVmZXJlbmNpYWRhIGVtIEVtcHJlc2EgWCBFc3RhZG8gcGFyYSBlc3RhZG8gJHtndWlhLnN0YXRlfSBuw6NvIHBvc3N1aSBjw7NkaWdvIFNvZnRGaW4uXG5gKTsNCiAgICAgICAgICAgICAgICByZXR1cm4geyAic3RhdXMiOiAiTk9LIiwgIm1zZyI6IGxvZy5qb2luKCIiKSB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbG9nLnB1c2goYE7Do28gZm9pIGVuY29udHJhZGEgYSBlbXByZXNhIHJlZmVyZW5jaWFkYSBlbSBFc3RhZG8gWCBFbXByZXNhIHBhcmEgZXN0YWRvICR7Z3VpYS5zdGF0ZX0uXG5gKTsNCiAgICAgICAgICAgIHJldHVybiB7ICJzdGF1cyI6ICJOT0siLCAibXNnIjogbG9nLmpvaW4oIiIpIH07DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBsb2cucHVzaChgTsOjbyBmb2kgZW5jb250cmFkYSBhIHJlZmVyZW5jaWEgZGUgRXN0YWRvIFggRW1wcmVzYSBwYXJhIGVzdGFkbyAke2d1aWEuc3RhdGV9LlxuYCk7DQogICAgICAgIHJldHVybiB7ICJzdGF1cyI6ICJOT0siLCAibXNnIjogbG9nLmpvaW4oIiIpIH07DQogICAgfQ0KICAgIGxldCBmaWx0cm9VbmlkYWRlRW1pc3NhbyA9IGdlcmFyRmlsdHJvKCJfaWQiLCBkYXRhLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQpOw0KICAgIHVuaWRhZGVFbWlzc2FvID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh1bmlkYWRlRW1pc3Nhb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KICAgIGlmICh1bmlkYWRlRW1pc3Nhby5sZW5ndGggPiAwKSB7DQogICAgICAgIGxldCBmaWx0cm9CYW5jbyA9IGdlcmFyRmlsdHJvKCJMRVNUQWlkIiwgdW5pZGFkZUVtaXNzYW9bMF0uSUQpOw0KICAgICAgICBiYW5jbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oYmFuY29zSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9CYW5jbyk7DQogICAgICAgIGlmIChiYW5jby5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgbG9nLnB1c2goYE7Do28gZm9pIGVuY29udHJhZG8gYmFuY28gcGFyYSB1bmlkYWRlIGRlIGVtaXNzw6NvICR7ZGF0YS5MRVNUQVNGbm9tZV9lc3RhYmVsZWNpbWVub3RfX3VuaWRhZGVfZGVfZW1pc3Nhb30gZW0gSW50ZWdyYcOnw6NvIFNGIC0+IFRhYmVsYXMgQmFzZSBTRiAtPiBDb250YXMgQmFuY8Ohcmlhcy5cbmApOw0KICAgICAgICAgICAgcmV0dXJuIHsgInN0YXVzIjogIk5PSyIsICJtc2ciOiBsb2cuam9pbigiIikgfTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGxvZy5wdXNoKGBBIHVuaWRhZGUgZGUgZW1pc3PDo28gbsOjbyBmb2kgZW5jb250cmFkYSBlbSBDYWRzdHJvcyAtPiBPcGVyYWNpb25haXMgLT4gTGlzdGEgZGUgZXN0YWJlbGVjaW1lbnRvcy5cbmApOw0KICAgICAgICByZXR1cm4geyAic3RhdXMiOiAiTk9LIiwgIm1zZyI6IGxvZy5qb2luKCIiKSB9Ow0KICAgIH0NCiAgICBsZXQgZmlsdHJvQ2F0ZWdvcmlhRGVzcGVzYSA9IGdlcmFyRmlsdHJvKCJkZXNjcmljYW8iLCBndWlhLmNhdGVnb3JpYSk7DQogICAgY2F0ZWdvcmlhRW1wcmVzYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oY2F0ZWdvcmlhc0Rlc3Blc2FJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0NhdGVnb3JpYURlc3Blc2EpOw0KICAgIGlmIChjYXRlZ29yaWFFbXByZXNhLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIGxvZy5wdXNoKGBOw6NvIGZvaSBlbmNvbnRyYWRhIGNhdGVnb3JpYSBjb20gZGVzY3Jpw6fDo28gKCR7Z3VpYS5jYXRlZ29yaWF9KSBlbSBJbnRlZ3Jhw6fDo28gU29mdEZpbiAtPiBUYWJlbGEgQmFzZSBTRiAtPiBDYXRlZ29yaWFzIGRlIERlc3Blc2EuIFxuYCk7DQogICAgICAgIHJldHVybiB7ICJzdGF1cyI6ICJOT0siLCAibXNnIjogbG9nLmpvaW4oIiIpIH07DQogICAgfQ0KDQogICAgbGV0IG9ialBvc3RfQ29udGFzUGFnYXIgPSB7DQogICAgICAgICJFWEVDVVRBUiI6IGZhbHNlLA0KICAgICAgICAiRVJSTyI6IGZhbHNlLA0KDQogICAgICAgICJMRVNUQVNGbm9tZV9lc3RhYmVsZWNpbWVub3RfX3VuaWRhZGVfZGVfZW1pc3NhbyI6IGRhdGEuTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X191bmlkYWRlX2RlX2VtaXNzYW8sDQogICAgICAgICJUSVBET0NkZXNjcmljYW9fX3RpcG9fZG9jdW1lbnRvIjogIkdOUkUiLA0KICAgICAgICAiVElQRE9DdGlwb19kb2N1bWVudG9faWQiOiAiMTg5ZGY5OGUtMWU3NC0yZmZiLWZmMDEtZTJjOGFjZjFjNDZhIiwNCiAgICAgICAgIkNBVERjYXRlZ29yaWFfX2NhdGVnb3JpYV9kZV9kZXNwZXNhIjogY2F0ZWdvcmlhRW1wcmVzYVswXS5VcmxKc29uQ29udGV4dC5kZXNjcmljYW8sDQogICAgICAgICJDQVREY2F0ZWdvcmlhX2RlX2Rlc3Blc2FfaWQiOiBjYXRlZ29yaWFFbXByZXNhWzBdLklELA0KICAgICAgICAiY29kaWdvX2RlX2JhcnJhcyI6IGd1aWEuYmFyY29kZSwNCiAgICAgICAgImZvcm5lY2Vkb3IiOiBlbXByZXNhWzBdLlVybEpzb25Db250ZXh0LmNucGpfZW1wcmVzYSwNCiAgICAgICAgImRhZG9zX2JhbmNvIjogIiIsDQogICAgICAgICJudW1lcm9fZG9jdW1lbnRvX2Zpc2NhbCI6IGd1aWEuY29udHJvbE51bSwNCiAgICAgICAgIm51bWVyb19kb2N1bWVudG9fYmFuY2FyaW8iOiBndWlhLmNvbnRyb2xOdW0sDQogICAgICAgICJkYXRhX2xhbmNhbWVudG8iOiBndWlhLmluc2VydERhdGUsDQogICAgICAgICJkYXRhX2xhbmNhbWVudG9EYXRlIjogZ3VpYS5pbnNlcnREYXRlLA0KICAgICAgICAiZGF0YV9jb21wZXRlbmNpYSI6IGAkeyhuZXcgRGF0ZShndWlhLnBlcmlvZCkuZ2V0TW9udGgoKSsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKX0vJHtuZXcgRGF0ZShndWlhLnBlcmlvZCkuZ2V0RnVsbFllYXIoKX1gLA0KICAgICAgICAiZGlhX2ZpeG9fcGFyYV92ZW5jaW1lbnRvcyI6ICIiLA0KICAgICAgICAiZGF0YV9kb2N1bWVudG8iOiBndWlhLmluc2VydERhdGUsDQogICAgICAgICJkaWFfZGFfc2VtYW5hX2ZpeG9fdmVuY2ltZW50b3MiOiAiIiwNCiAgICAgICAgImRpYV9kYV9zZW1hbmFfZml4b192ZW5jaW1lbnRvc19kZXNjIjogIiIsDQogICAgICAgICJ2YWxvcl9icnV0byI6IGd1aWEudG90YWxBbW91bnQsDQogICAgICAgICJ2YWxvcl9saXF1aWRvIjogMCwNCiAgICAgICAgInBlZGlkb19jb21wcmEiOiBkYXRhLm51bWVyb19jdGVfY3RlLnRvU3RyaW5nKCksDQogICAgICAgICJ0aXBvX2xhbmNhbWVudG8iOiAiMSIsDQogICAgICAgICJ0aXBvX2xhbmNhbWVudG9fZGVzYyI6ICJSZWFsIiwNCiAgICAgICAgInJlZmVyZW5jaWFfZXh0ZXJuYSI6IGAke3BhZ2FtZW50b0ltcG9zdG9bMF0uVXJsSnNvbkNvbnRleHQuY29kaWdvX2ltcG9zdG9fZ2VyYWRvfS8oJHtjYXRlZ29yaWFFbXByZXNhWzBdLlVybEpzb25Db250ZXh0LmRlc2NyaWNhb30pYCwNCiAgICAgICAgIkNCQU5DYmFuY29jb250YV9pZCI6IGJhbmNvWzBdLklELA0KICAgICAgICAiQ0JBTkNub21lX2JhbmNvX19iYW5jb2NvbnRhIjogYmFuY29bMF0uVXJsSnNvbkNvbnRleHQubm9tZV9iYW5jbywNCiAgICAgICAgIkNCQU5DIjogIiIsDQogICAgfTsNCiAgICBsZXQgaWRDb250YXNQYWdhciA9IEpTT04ucGFyc2UoYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShjb250YXNQYWdhcklELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgb2JqUG9zdF9Db250YXNQYWdhcikpOw0KDQogICAgbGV0IG9ialBvc3RfQ29udGFzUGFnYXJfUGFyY2VsYW1lbnRvID0gew0KICAgICAgICAiSURfT05FX1JFRiI6IGlkQ29udGFzUGFnYXIsDQogICAgICAgICJwYXJjIjogMSwNCiAgICAgICAgImRhdGFfdmVuY2ltZW50b19nZSI6IGd1aWEuZHVlRGF0ZSwNCiAgICAgICAgImRhdGFfcGFnX3ByZXZfZ2UiOiBndWlhLmRlYml0RGF0ZSwNCiAgICAgICAgImhpc3Rvcmljb19nZSI6ICJQYXJjZWxhIMO6bmljYSIsDQogICAgICAgICJ2YWxvcl9nZSI6IGd1aWEudG90YWxBbW91bnQsDQogICAgfQ0KICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3koUGFyY2VsYXNJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIG9ialBvc3RfQ29udGFzUGFnYXJfUGFyY2VsYW1lbnRvKTsNCg0KICAgIGxldCBvYmpQb3N0X0NvbnRhc1BhZ2FyX1VuaWRhZGVOZWdvY2lvID0gew0KICAgICAgICAiSURfT05FX1JFRiI6IGlkQ29udGFzUGFnYXIsDQogICAgICAgICJVTkVHT3VuaWRhZGVfZGVfbmVnb2Npb19pZCI6ICI4MTI3YjVlOC0wNDUzLTRlYjItZTAyYS1jN2Y0ZWNhYzc3YjYiLA0KICAgICAgICAiVU5FR091bmlkYWRlX191bmlkYWRlX2RlX25lZ29jaW8iOiAiQWRtaW5pc3RyYXRpdm8iLA0KICAgICAgICAiVU5FR08iOiAiIiwNCiAgICAgICAgImhpc3Rvcmljb191bmkiOiAiVW5pZGFkZSDDum5pY2EiLA0KICAgICAgICAidmFsb3IiOiBndWlhLnRvdGFsQW1vdW50LA0KICAgICAgICAicG9yY2VudGFnZW0iOiAxMDAsDQogICAgfTsNCiAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHVuaWRhZGVOZWdvY2lvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBvYmpQb3N0X0NvbnRhc1BhZ2FyX1VuaWRhZGVOZWdvY2lvKTsNCg0KICAgIC8vQXR1YWxpemFjYW8gZG8gcmVnaXN0cm8gcGFyYSBpbnRlZ3Jhci4NCiAgICBhd2FpdCBvbmVyZ3lfc2F2ZSh7DQogICAgICAgIGZkdGlkOiBjb250YXNQYWdhcklELA0KICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICBpZDogaWRDb250YXNQYWdhciwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgIkVYRUNVVEFSIjogdHJ1ZQ0KICAgICAgICB9KQ0KICAgIH0pOw0KfQ0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vVE9ETyBEQVRBDQp2YXIganNvbklucHV0ID0gew0KICAgICJzdGF0dXNfY3RlX2N0ZSI6ICJlbWl0aWRvIiwNCiAgICAic3RhdHVzX2N0ZV9jdGVfZGVzYyI6ICJFbWl0aWRvIiwNCiAgICAibW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZSI6ICJyb2RvdmlhcmlvIiwNCiAgICAibW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZV9kZXNjIjogIlJvZG92acOhcmlvIiwNCiAgICAiZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGUiOiAibm9ybWFsIiwNCiAgICAiZmluYWxpZGFkZV9lbWlzc2FvX2N0ZV9jdGVfZGVzYyI6ICJOb3JtYWwiLA0KICAgICJ0aXBvX3NlcnZpY29fY3RlX2N0ZSI6ICIxIiwNCiAgICAidGlwb19zZXJ2aWNvX2N0ZV9jdGVfZGVzYyI6ICJOb3JtYWwiLA0KICAgICJtb2RhbGlkYWRlX2N0ZSI6ICI1NyIsDQogICAgIm1vZGFsaWRhZGVfY3RlX2Rlc2MiOiAiNTcgLSBUcmFuc3BvcnRlIGRlIENhcmdhIiwNCiAgICAiaWRlbnRpZmljYWRvcl9nbG9iYWxpemFkb19jdGUiOiAibmFvIiwNCiAgICAiaWRlbnRpZmljYWRvcl9nbG9iYWxpemFkb19jdGVfZGVzYyI6ICJOw6NvIiwNCiAgICAicmVjZWJlZG9yX3JldGlyYV9jdGUiOiAic2ltIiwNCiAgICAicmVjZWJlZG9yX3JldGlyYV9jdGVfZGVzYyI6ICJTaW0iLA0KICAgICJyZWNlYmVkb3JfcmV0aXJhX2N0ZV9SRVNVTU8iOiAic2ltIiwNCiAgICAicmVjZWJlZG9yX3JldGlyYV9jdGVfUkVTVU1PX2Rlc2MiOiAiU2ltIiwNCiAgICAiZGV0YWxoZXNfcmV0aXJhZGFfY3RlIjogIiIsDQogICAgInJlc3BvbnNhdmVsX2ZyZXRlX2N0ZSI6ICJkZXN0aW5hdGFyaW8iLA0KICAgICJyZXNwb25zYXZlbF9mcmV0ZV9jdGVfZGVzYyI6ICJEZXN0aW5hdMOhcmlvIiwNCiAgICAibnVtZXJvX2RvX3BlZGlkbyI6ICIiLA0KICAgICJTRVJkZXNjcmljYW9fc2VyX190aXBvX2RlX3NlcnZpY28iOiAiWFAiLA0KICAgICJTRVJ0aXBvX2RlX3NlcnZpY29faWQiOiAiOWIzNWU2MTktZjMxMC1kZGNmLTI0MDctY2Q0ZDYwMTUzNGZhIiwNCiAgICAiU0VSdGlwb19kZV9zZXJ2aWNvIjogIlhQIiwNCiAgICAiUEFJU19PUklHRU0iOiAiQlJBU0lMIiwNCiAgICAiVUZfT1JJR0VNIjogIlNQIiwNCiAgICAiTVVOSUNJUElPX09SSUdFTSI6ICJESUFERU1BIiwNCiAgICAiTUxPQ3BhaXNfb3JpZ2VtX2NhcmdhX2lkIjogImRhMGQ4NGQzLTc5MmEtNDk2Ny1hMjQyLTUwMjZkMmUxZTQ4MiIsDQogICAgIk1MT0NwYWlzX25vbWVfX3BhaXNfb3JpZ2VtX2NhcmdhIjogIkJSQVNJTCIsDQogICAgIk1MT0NwYWlzX25vbWVfX29yaWdlbV9wYWlzX25vbWUiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ3VmX29yaWdlbV9kYV9jYXJnYV9pZCI6ICJhYTk3NDU4OS02NDgwLTRiNzEtOTE3Ny02MDRjMzA1OTI1ZDUiLA0KICAgICJNTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2EiOiAiU1AiLA0KICAgICJNTE9DZXN0YWRvX3VmIjogIlNQIiwNCiAgICAiTUxPQ211bmljaXBpb19ub21lX19tdW5pY2lwaW9fb3JpZ2VtX2RhX2NhcmdhIjogIkRJQURFTUEiLA0KICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX29yaWdlbV9tdW5pY2lwaW9fbm9tZSI6ICJESUFERU1BIiwNCiAgICAiTUxPQ211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2FfaWQiOiAiZmI2MTQ1ZTgtZjYwOC00ZTM1LThhYzctNmFhMjAxM2ExODAxIiwNCiAgICAiTUxPQ211bmljaXBpb19pYmdlX19vcmlnZW1fbXVuaWNpcGlvX2liZ2UiOiAzNTEzODAxLA0KICAgICJQQUlTX0RFU1RJTk8iOiAiQlJBU0lMIiwNCiAgICAiVUZfREVTVElOTyI6ICJHTyIsDQogICAgIk1VTklDSVBJT19ERVNUSU5PIjogIkdPScOCTklBIiwNCiAgICAiTUxPQ3BhaXNfZGVzdGlub19kYV9jYXJnYV9pZCI6ICJkYTBkODRkMy03OTJhLTQ5NjctYTI0Mi01MDI2ZDJlMWU0ODIiLA0KICAgICJNTE9DcGFpc19ub21lX19wYWlzX2Rlc3Rpbm9fZGFfY2FyZ2EiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ3BhaXNfbm9tZV9fZGVzdGlub19wYWlzX25vbWUiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ3VmX2Rlc3Rpbm9fZGFfY2FyZ2FfaWQiOiAiYjU0MGI5NDgtMWFkMy00MmE1LTljMTYtYjA5ODhhNTkyZDAxIiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fdWZfZGVzdGlub19kYV9jYXJnYSI6ICJSSiIsDQogICAgIk1MT0Nlc3RhZG9fdWZfX2Rlc3Rpbm9fZXN0YWRvX3VmIjogIlJKIiwNCiAgICAiTUxPQ211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhX2lkIjogImE1YjY3OTg3LWQzNzEtNDJmNy04MWY0LTMyZTE2YWYzYzY1ZCIsDQogICAgIk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2Rlc3Rpbm9fZGFfY2FyZ2EiOiAiVkFSUkUtU0FJIiwNCiAgICAiTUxPQ211bmljaXBpb19ub21lX19kZXN0aW5vX211bmljaXBpb19ub21lIjogIlZBUlJFLVNBSSIsDQogICAgIk1MT0NtdW5pY2lwaW9faWJnZV9fZGVzdGlub19tdW5pY2lwaW9faWJnZSI6IDMzMDYxNTYsDQogICAgIkxFU1RBU0Zub21lX2VzdGFiZWxlY2ltZW5vdF9fdW5pZGFkZV9kZV9lbWlzc2FvIjogIlByZXN0ZXggQ2F4aWFzIiwNCiAgICAiTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19pZCI6ICIyMWNkZWI1MC1kY2NhLTRiNDQtOWVkNy0wZTMzNzgxMzc3YWEiLA0KICAgICJMRVNUQVNGbm9tZV9lc3RhYmVsZWNpbWVub3QiOiAiUHJlc3RleCBDYXhpYXMiLA0KICAgICJjb3RtX2N0ZSI6ICI1MDUwODEyIiwNCiAgICAicm50cmNfY3RlIjogIjU0MDkzMTExIiwNCiAgICAiQ0ZPUF9jZm9wX2N0ZV9pZCI6ICJlYTIxNTM1Mi01MjUyLTQwMTktYjgzOS0zNTk3NGEzYWExNTgiLA0KICAgICJDRk9QX2Rlc2NyaWNhb19jZm9wIjogIlByZXN0YcOnw6NvIGRlIHNlcnZpw6dvIGRlIHRyYW5zcG9ydGUgaW5pY2lhZGEgZW0gdW5pZGFkZSBkYSBGZWRlcmHDp8OjbyBkaXZlcnNhIGRhcXVlbGEgb25kZSBpbnNjcml0byBvIHByZXN0YWRvciIsDQogICAgIkNGT1BfY29kaWdvX2Nmb3BfX2Nmb3BfY3RlIjogNjkzMiwNCiAgICAiaW5mb3JtYWNvZXNfYWRpY2lvbmFpc19maXNjb19jdGUiOiAiUklDTVNJQ01TIFJFQ09MSElETyBQT1IgR05SRXwgQmFzZSBMZWdhbCBEaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGEgfHwgVmFsb3IgRElGQUw6IFIkMzgsNDY0IHx8IFZhbG9yIEZFQ09QOiBSJDksNjE2IHwiLA0KICAgICJFTVB0b21hZG9yX2NucGpfY3RlX2lkIjogIjI4YmEzOTE0LWRkNWQtNDlkNS1iMjIyLTcyMGU0NzczOThlNyIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSI6ICIwMDc5OTIwNTAwMDE4OSIsDQogICAgIkVNUHRpcG9fZW1wcmVzYV9fdG9tYWRvcl90aXBvX2VtcHJlc2EiOiAiTmFjaW9uYWwiLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX3RvbWFkb3JfdGlwb19lbXByZXNhX2Rlc2MiOiAiTmFjaW9uYWwiLA0KICAgICJFTVBlbXByZXNhX3RheF9pZF9fdG9tYWRvcl9lbXByZXNhX3RheF9pZCI6ICIiLA0KICAgICJFTVByYXphb19zb2NpYWxfZW1wcmVzYV9fdG9tYWRvcl9yYXphb19zb2NpYWxfbm9tZV9jdGUiOiAiRlVOQVBFIEZVTkRBQ0FPIERFIEFQT0lPIEEgUEVTUVVJU0EiLA0KICAgICJFTVBub21lX2ZhbnRhc2lhX2VtcHJlc2FfX3RvbWFkb3Jfbm9tZV9mYW50YXNpYV9jdGUiOiAiRlVOQVBFIGZhcyIsDQogICAgIkVNUGllX2VtcHJlc2FfX3RvbWFkb3JfaWVfY3RlIjogIjEwMjQ3OTE0MyIsDQogICAgIkVNUGluZGljYWRvcl9kZV9pZV90b21hZG9yX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGUiOiAiTmFvQ29udHJpYnVpbnRlIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZV9kZXNjIjogIk7Do28gQ29udHJpYnVpbnRlIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGUiOiAiTmFvQ29udHJpYnVpbnRlIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGVfZGVzYyI6ICJOw6NvIENvbnRyaWJ1aW50ZSIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9zaW1wbGVzX25hY2lvbmFsX2N0ZSI6ICJuYW8iLA0KICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfc2ltcGxlc19uYWNpb25hbF9jdGVfZGVzYyI6ICJOw6NvIiwNCiAgICAiRU1QZW1haWxfZW1wcmVzYV9fdG9tYWRvcl9lbWFpbF9jdGUiOiAiIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fdG9tYWRvcl9mb25lX2N0ZSI6ICI2MjMyMTY3MzA5IiwNCiAgICAiRU1QY3BmX2VtcHJlc2FfX3RvbWFkb3JfY3BmX2N0ZSI6ICIiLA0KICAgICJFTVBsb2dyYWRvdXJvX2VtcHJlc2FfX3RvbWFkb3JfbG9ncmFkb3Vyb19jdGUiOiAiQVZFTklEQSBTQU1BTkJBSUEiLA0KICAgICJFTVBudW1lcm9fZW1wcmVzYV9fdG9tYWRvcl9udW1lcm9fbG9ncmFkb3Vyb19jdGUiOiAiU04iLA0KICAgICJFTVBjb21wbGVtZW50b19lbXByZXNhX190b21hZG9yX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlIjogIiAiLA0KICAgICJFTVBiYWlycm9fZW1wcmVzYV9fdG9tYWRvcl9iYWlycm9fbG9ncmFkb3Vyb19jdGUiOiAiQ0hBQ0FSQSBERSBSRUMgQ09OVkkiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fdG9tYWRvcl9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICJHT0lBTklBIiwNCiAgICAiRU1QTUxPQ1ptdW5pY2lwaW9faWJnZV9fdG9tYWRvcl9jb2RfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlIjogIjUyMDg3MDciLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fdG9tYWRvcl91Zl9sb2dyYWRvdXJvX2N0ZSI6ICJHTyIsDQogICAgIkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fdG9tYWRvcl9ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUiOiAiQlJBU0lMIiwNCiAgICAiRU1QTUxPQ1pwYWlzX2liZ2VfX3RvbWFkb3JfY29kX3BhaXNfbG9ncmFkb3Vyb19jdGUiOiAiMTA1OCIsDQogICAgIkVNUGNlcF9lbXByZXNhX190b21hZG9yX2NlcF9sb2dyYWRvdXJvX2N0ZSI6ICI3NDY5MC05MDAiLA0KICAgICJFTVByZW1ldGVudGVfY25wal9jdGVfaWQiOiAiNGJkMzE0ZDctZTAxMi00Y2QxLWE3Y2UtY2M4ZTI1YWJmZjdkIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19yZW1ldGVudGVfY25wal9jdGUiOiAiMjY5Mzk5NDMwMDAxNzgiLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX3JlbWV0ZW50ZV90aXBvX2VtcHJlc2EiOiAiTmFjaW9uYWwiLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX3JlbWV0ZW50ZV90aXBvX2VtcHJlc2FfZGVzYyI6ICJOYWNpb25hbCIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19yZW1ldGVudGVfZW1wcmVzYV90YXhfaWQiOiAiIiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JlbWV0ZW50ZV9yYXphb19zb2NpYWxfbm9tZV9jdGUiOiAiQUNMQVJJUyBTT0xVQ09FUyBQQVJBIFRSQVRBTUVOVE8gREUgQUdVQSIsDQogICAgIkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfZmFudGFzaWFfYXBlbGlkb19jdGUiOiAiQUNMQVJJUyIsDQogICAgIkVNUGllX2VtcHJlc2FfX3JlbWV0ZW50ZV9pZV9jdGUiOiAiNjc1MjkzMDM4MTEzIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfZGVfaWVfcmVtZXRlbnRlIjogIkNvbnRyaWJ1aW50ZUlDTVMiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9kZV9pZV9yZW1ldGVudGVfZGVzYyI6ICJDb250cmlidWludGUgZGUgSUNNUyIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfcmVtZXRlbnRlIjogIm5hbyIsDQogICAgIkVNUGNvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfX2NvbnRyaWJ1aW50ZV9kb19zaW1wbGVzX25hY2lvbmFsX2VtcHJlc2FfcmVtZXRlbnRlX2Rlc2MiOiAiTsOjbyIsDQogICAgIkVNUFRMT0dSdGlwb19sb2dyYWRvdXJvX19lbXByZXNhX3RpcG9fZGVfbG9ncmFkb3VybyI6ICIiLA0KICAgICJFTVBsb2dyYWRvdXJvX2VtcHJlc2FfX3JlbWV0ZW50ZV9sb2dyYWRvdXJvX2N0ZSI6ICJSdWEgQWZvbnNvIERlc2lkw6lyaW8iLA0KICAgICJFTVBudW1lcm9fZW1wcmVzYV9fcmVtZXRlbnRlX251bWVyb19sb2dyYWRvdXJvX2N0ZSI6ICIzMCIsDQogICAgIkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX3JlbWV0ZW50ZV9jb21wbGVtZW50b19sb2dyYWRvdXJvX2N0ZSI6ICJzZW0iLA0KICAgICJFTVBiYWlycm9fZW1wcmVzYV9fcmVtZXRlbnRlX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSI6ICJQYXJxdWUgTGFndW5hIiwNCiAgICAiRU1QTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfX3JlbWV0ZW50ZV9ub21lX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICJUQUJPQU8gREEgU0VSUkEiLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fcmVtZXRlbnRlX3VmX2xvZ3JhZG91cm9fY3RlIjogIlNQIiwNCiAgICAiRU1QTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX19yZW1ldGVudGVfbm9tZV9wYWlzX2xvZ3JhZG91cm9fY3RlIjogIkJSQVNJTCIsDQogICAgIkVNUGNlcF9lbXByZXNhX19yZW1ldGVudGVfY2VwX2xvZ3JhZG91cm9fY3RlIjogIjA2Nzk1LTA0MCIsDQogICAgIkVNUHRlbGVmb25lX2VtcHJlc2FfX3JlbWV0ZW50ZV9mb25lX2N0ZSI6ICIxMTQ3ODc2NDAyIiwNCiAgICAiRU1QY3BmX2VtcHJlc2FfX3JlbWV0ZW50ZV9jcGZfY3RlIjogIiIsDQogICAgIkVNUGVtYWlsX2VtcHJlc2FfX3JlbWV0ZW50ZV9lbWFpbF9jdGUiOiAiIiwNCiAgICAiRU1QTUxPQ1ptdW5pY2lwaW9faWJnZV9fcmVtZXRlbnRlX2NvZF9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUiOiAzNTUyODA5LA0KICAgICJFTVBNTE9DWnBhaXNfaWJnZV9fcmVtZXRlbnRlX2NvZF9wYWlzX2xvZ3JhZG91cm9fY3RlIjogMTA1OCwNCiAgICAiRU1QZGVzdGluYXRhcmlvX2NucGpfY3RlX2lkIjogIjI4YmEzOTE0LWRkNWQtNDlkNS1iMjIyLTcyMGU0NzczOThlNyIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NucGpfY3RlIjogIjAwNzk5MjA1MDAwMTg5IiwNCiAgICAiRU1QdGlwb19lbXByZXNhX19kZXN0aW5hdGFyaW9fdGlwb19lbXByZXNhIjogIk5hY2lvbmFsIiwNCiAgICAiRU1QdGlwb19lbXByZXNhX19kZXN0aW5hdGFyaW9fdGlwb19lbXByZXNhX2Rlc2MiOiAiTmFjaW9uYWwiLA0KICAgICJFTVBlbXByZXNhX3RheF9pZF9fZGVzdGluYXRhcmlvX2VtcHJlc2FfdGF4X2lkIjogIiIsDQogICAgIkVNUHJhemFvX3NvY2lhbF9lbXByZXNhX19kZXN0aW5hdGFyaW9fcmF6YW9fc29jaWFsX25vbWVfY3RlIjogIkZVTkFQRSBGVU5EQUNBTyBERSBBUE9JTyBBIFBFU1FVSVNBIiwNCiAgICAiRU1Qbm9tZV9mYW50YXNpYV9lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9mYW50YXNpYV9hcGVsaWRvX2N0ZSI6ICJGVU5BUEUgZmFzIiwNCiAgICAiRU1QaWVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2llX2N0ZSI6ICIxMDI0NzkxNDMiLA0KICAgICJFTVBpbmRpY2Fkb3JfZGVfaWVfX2luZGljYWRvcl9kZV9pZV9kZXN0aW5hdGFyaW8iOiAiTmFvQ29udHJpYnVpbnRlIiwNCiAgICAiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfZGVfaWVfZGVzdGluYXRhcmlvX2Rlc2MiOiAiTsOjbyBDb250cmlidWludGUiLA0KICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX2Rlc3RpbmF0YXJpbyI6ICJuYW8iLA0KICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX2Rlc3RpbmF0YXJpb19kZXNjIjogIk7Do28iLA0KICAgICJFTVBsb2dyYWRvdXJvX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19sb2dyYWRvdXJvX2N0ZSI6ICJBVkVOSURBIFNBTUFOQkFJQSIsDQogICAgIkVNUG51bWVyb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbnVtZXJvX2xvZ3JhZG91cm9fY3RlIjogIlNOIiwNCiAgICAiRU1QY29tcGxlbWVudG9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NvbXBsZW1lbnRvX2xvZ3JhZG91cm9fY3RlIjogIiAiLA0KICAgICJFTVBiYWlycm9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX2JhaXJyb19sb2dyYWRvdXJvX2N0ZSI6ICJDSEFDQVJBIERFIFJFQyBDT05WSSIsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19kZXN0aW5hdGFyaW9fbm9tZV9tdW5pY2lwaW9fbG9ncmFkb3Vyb19jdGUiOiAiR09JQU5JQSIsDQogICAgIkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19kZXN0aW5hdGFyaW9fdWZfbG9ncmFkb3Vyb19jdGUiOiAiR08iLA0KICAgICJFTVBNTE9DWnBhaXNfbm9tZV9fbm9tZV9kb19wYWlzX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19ub21lX3BhaXNfbG9ncmFkb3Vyb19jdGUiOiAiQlJBU0lMIiwNCiAgICAiRU1QY2VwX2VtcHJlc2FfX2Rlc3RpbmF0YXJpb19jZXBfbG9ncmFkb3Vyb19jdGUiOiAiNzQ2OTAtOTAwIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2ZvbmVfY3RlIjogIjYyMzIxNjczMDkiLA0KICAgICJFTVBjcGZfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NwZl9jdGUiOiAiIiwNCiAgICAiRU1QZW1haWxfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2VtYWlsX2N0ZSI6ICIiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19pYmdlX19kZXN0aW5hdGFyaW9fY29kX211bmljaXBpb19sb2dyYWRvdXJvX2N0ZSI6ICI1MjA4NzA3IiwNCiAgICAiRU1QTUxPQ1pwYWlzX2liZ2VfX2Rlc3RpbmF0YXJpb19jb2RfcGFpc19sb2dyYWRvdXJvX2N0ZSI6ICIxMDU4IiwNCiAgICAiY3N0X2N0ZSI6ICI5MCIsDQogICAgImNzdF9jdGVfZGVzYyI6ICI5MCAtIE91dHJhcyBPcGVyYcOnw7JlcyIsDQogICAgInZhbG9yX2Jhc2VfY2FsY19jdGUiOiAwLA0KICAgICJwZXJjX2ljbXNfY3RlIjogMCwNCiAgICAidmFsb3JfaWNtc19jdGUiOiAwLA0KICAgICJ2YWxvcl90b3RhbF90cmlidXRvc19jdGUiOiA1Ny42OTUzODQ2MTUzODQ2MSwNCiAgICAidmFsb3JfdG90YWxfY2FyZ2FfY3RlIjogMTgxMC4yNCwNCiAgICAiUFBUcHJvZHV0b19wcmVkb21pbmFudGVfY3RlX2lkIjogIjUyMWQ5MjI2LWI3NGEtNTRlZi00MjgzLTE4ZmExNTUyOWM0YSIsDQogICAgIlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19wcm9kdXRvX3ByZWRvbWluYW50ZV9jdGUiOiAiTUFURVJJQUwgUVVJTUlDTyIsDQogICAgIkNDR291dHJhc19jYXJhY3RlcmlzdGNhc19jYXJnYV9jdGVfaWQiOiAiYzEwYTQ0MTItN2FhMC1iODk4LWM4ZTQtMDcyM2Y5ZjcwNGZlIiwNCiAgICAiQ0NHY2FyYWN0ZXJpc3RpY2FfZGFfY2FyZ2FfX291dHJhc19jYXJhY3RlcmlzdGNhc19jYXJnYV9jdGUiOiAiQ2FyZ2EgR2VyYWwiLA0KICAgICJjYXJhY3RlcmlzdGljYXNfYWRfdHJhbnNwb3J0ZV9jdGUiOiAiTkFPU0VMRUNJT05BRE8iLA0KICAgICJjYXJhY3RlcmlzdGljYXNfYWRfc2Vydmljb19jdGUiOiAiMzA5MDYwIiwNCiAgICAiZnVuY2lvbmFyaW9fZW1pc3Nvcl9jdGUiOiAicm9nZXJpby5hbm51bmNpYXRhIiwNCiAgICAic2lnbGFfY29kX2ZpbGlhbF9wb3J0b19lc3RhY2FvX2Flcm9fb3JpZ2VtX2N0ZSI6IDM1MTM4MDEsDQogICAgInNpZ2xhX2NvZF9maWxpYWxfcG9ydG9fZXN0YWNhb19hZXJvX2Rlc3Rpbm9fY3RlIjogMzMwNjE1NiwNCiAgICAib2JzZXJ2YWNvZXNfY3RlIjogIjMwOTA2MCIsDQogICAgImluZGljYWRvcl9uZWdvY2lhdmVsX2N0ZSI6ICJuYW8iLA0KICAgICJpbmRpY2Fkb3JfbmVnb2NpYXZlbF9jdGVfZGVzYyI6ICJOw6NvIiwNCiAgICAibG9nX2N0ZSI6ICIiLA0KICAgICJlbnZpYXJfY3RlIjogInNpbSIsDQogICAgImVudmlhcl9jdGVfZGVzYyI6ICJTaW0iLA0KICAgICJudW1lcm9fYXBvbGljZV9jdGUiOiAiMTAwMjEwMDAwMzMyMiIsDQogICAgIm51bWVyb19hdmVyYmFjYW9fY3RlIjogIjAwMDAwMDkyMjA1NTU2MTU5MDAwMTAwNTcwMDEwMDAxMDQyMzIxNDkiLA0KICAgICJjb2RpZ29fYXRtIjogIjExNDIxMzMxIiwNCiAgICAiRU1QY25wal9zZWd1cmFkb3JhX2N0ZV9pZCI6ICI2NGEyOTQ5ZS1iMjEyLTRhOGQtYWFjZS01MTY5MjZlMmQ1MGYiLA0KICAgICJFTVBjbnBqX2VtcHJlc2FfX2NucGpfc2VndXJhZG9yYV9jdGUiOiAiMzMwNjU2OTkwMDAxMjciLA0KICAgICJFTVByYXphb19zb2NpYWxfZW1wcmVzYV9fbm9tZV9zZWd1cmFkb3JhX2N0ZSI6ICJTRUdVUk9TIFNVUkEgU0EiLA0KICAgICJ2YWxvcl9kb19mcmV0ZSI6IDM3NS4wMiwNCiAgICAiZWRfdmFsb3JlbiI6IDAsDQogICAgImFkX3ZhbG9yZW1fcG9yY2VudGFuZ2VtIjogMCwNCiAgICAidmFsb3JfYmFzZV9jYWxjX3VmX2ZpbV9jdGUiOiA0ODAuNzk0ODcxNzk0ODcxNzcsDQogICAgInBlcmNfaWNtc191Zl9maW1fY3RlIjogMjAsDQogICAgInZhbG9yX2ljbXNfdWZfZmltX2N0ZSI6IDM4LjQ2MzU4OTc0MzU4OTc0LA0KICAgICJhbGlxdW90YV9pbnRlcl9lc3RhZHVhbF9jdGUiOiAxMiwNCiAgICAicGVyY19mY3BfdWZfZmltX2N0ZSI6IDIsDQogICAgInZhbG9yX2ZjcF91Zl9maW1fY3RlIjogOS42MTU4OTc0MzU4OTc0MzYsDQogICAgInZhbG9yX2Jhc2VfY2FsY19vdXRyYV91Zl9jdGUiOiA0ODAuNzk0ODcxNzk0ODcxNzcsDQogICAgInBlcmNfaWNtc19vdXRyYV91Zl9jdGUiOiAxMiwNCiAgICAidmFsb3JfaWNtc19vdXRyYV91Zl9jdGUiOiA1Ny42OTUzODQ2MTUzODQ2MSwNCiAgICAidmFsb3JfdG90YWxfcHJlc3RhY2FvX3NlcnZpY29zX2N0ZSI6IDQ4MC43OTQ4NzE3OTQ4NzE3NywNCiAgICAidmFsb3JfcmVjZWJlcl9jdGUiOiA0ODAuNzk0ODcxNzk0ODcxNzcsDQogICAgImxvZ19tb3Rvcl9kZV9jYWxjdWxvIjogIlZhbG9yIGRvIEZyZXRlIERlZmluaWRvOiAzNzUuMDJcbistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG5EaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGEgQXBsaWNhZG8gXG4gICBEZXNjcmnDp8OjbyBEaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGE6QmFzZSBMZWdhbCBEaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGFcbklDTVMgY2FsY3VsYWRvOiA1Ny42OTUgXG5WYWxvciBCYXNlIGRlIEPDoWxjdWxvOiA0ODAuNzk1IFxuRElGQUwgY2FsY3VsYWRvOiAzOC40NjQgXG5GZWNvcCBjYWxjdWxhZG86IDkuNjE2IFxuVmFsb3IgVG90YWwgZGEgUHJlc3Rhw6fDo28gZG8gU2VydmnDp286IDQ4MC43OTUgXG5WYWxvciBUb3RhbCBhIHJlY2ViZXI6IDQ4MC43OTUgXG4iLA0KICAgICJDYWxjX0NhY2hlIjogIntcIkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19yZW1ldGVudGVfdWZfbG9ncmFkb3Vyb19jdGVcIjpcIlNQXCIsXCJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fcmVtZXRlbnRlX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlXCI6XCJUQUJPQU8gREEgU0VSUkFcIixcIkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19kZXN0aW5hdGFyaW9fdWZfbG9ncmFkb3Vyb19jdGVcIjpcIkdPXCIsXCJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fZGVzdGluYXRhcmlvX25vbWVfbXVuaWNpcGlvX2xvZ3JhZG91cm9fY3RlXCI6XCJHT0lBTklBXCIsXCJFTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGVcIjpcIjAwNzk5MjA1MDAwMTg5XCIsXCJFTVBjbnBqX2VtcHJlc2FfX3JlbWV0ZW50ZV9jbnBqX2N0ZVwiOlwiMjY5Mzk5NDMwMDAxNzhcIixcIkVNUGNucGpfZW1wcmVzYV9fZGVzdGluYXRhcmlvX2NucGpfY3RlXCI6XCIwMDc5OTIwNTAwMDE4OVwiLFwiRU1QaW5kaWNhZG9yX2RlX2llX19pbmRpY2Fkb3JfaWVfdG9tYWRvcl9jdGVcIjpcIk5hb0NvbnRyaWJ1aW50ZVwiLFwiRU1QaW5kaWNhZG9yX2RlX2llX3RvbWFkb3JfX2luZGljYWRvcl9pZV90b21hZG9yX2N0ZVwiOlwiTmFvQ29udHJpYnVpbnRlXCIsXCJFTVB0b21hZG9yX2NucGpfY3RlX2lkXCI6XCIyOGJhMzkxNC1kZDVkLTQ5ZDUtYjIyMi03MjBlNDc3Mzk4ZTdcIixcIkVNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX190b21hZG9yX3VmX2xvZ3JhZG91cm9fY3RlXCI6XCJHT1wiLFwiRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX3NpbXBsZXNfbmFjaW9uYWxfY3RlXCI6XCJuYW9cIixcInJlc3BvbnNhdmVsX2ZyZXRlX2N0ZVwiOlwiZGVzdGluYXRhcmlvXCIsXCJNTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2FcIjpcIlNQXCIsXCJNTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2FcIjpcIkRJQURFTUFcIixcIlVGX09SSUdFTVwiOlwiU1BcIixcIk1VTklDSVBJT19PUklHRU1cIjpcIkRJQURFTUFcIixcIk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2FcIjpcIlJKXCIsXCJNTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhXCI6XCJWQVJSRS1TQUlcIixcIlVGX0RFU1RJTk9cIjpcIlJKXCIsXCJNVU5JQ0lQSU9fREVTVElOT1wiOlwiVkFSUkUtU0FJXCIsXCJMRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkXCI6XCIyMWNkZWI1MC1kY2NhLTRiNDQtOWVkNy0wZTMzNzgxMzc3YWFcIixcIkxFU1RBU0Zub21lX2VzdGFiZWxlY2ltZW5vdF9fdW5pZGFkZV9kZV9lbWlzc2FvXCI6XCJQcmVzdGV4IENheGlhc1wiLFwianNEYXRhXCI6e1wiQ2xpZW50ZVJldGlyYVwiOlwiMVwiLFwiTkZFc1wiOlt7XCJWYWxvck5vdGFGaXNjYWxcIjpcIjE4MTAuMjRcIn1dLFwiUXVhbnRpZGFkZXNDYXJnYVwiOlt7XCJUaXBvTWVkaWRhXCI6XCJDYWl4YXNcIixcIlVuaWRhZGVNZWRpZGFcIjpcIlVOSURBREVcIixcIlF1YW50aWRhZGVDYXJnYVwiOjJ9LHtcIlRpcG9NZWRpZGFcIjpcIlBlc28gQ3ViYWRvXCIsXCJVbmlkYWRlTWVkaWRhXCI6XCJVTklEQURFXCIsXCJRdWFudGlkYWRlQ2FyZ2FcIjoxMX1dLFwiTW9kYWxpZGFkZVRyYW5zcG9ydGVcIjpcIlJvZG92acOhcmlvXCIsXCJUaXBvU2Vydmljb1wiOlwiWFBcIixcIlZhbG9yRnJldGVcIjozNzUuMDIsXCJDTlBKUmVtZXRlbnRlXCI6XCIyNjkzOTk0MzAwMDE3OFwiLFwiQ05QSkRlc3RpbmF0YXJpb1wiOlwiMDA3OTkyMDUwMDAxODlcIixcIlBvcmNlbnRhZ2VtQWRWYWxvcmVtXCI6MH19IiwNCiAgICAib25lVGVtcGxhdGVUaXRsZSI6ICJHdWlhcyBQYWdhcyIsDQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICJkMzAyZDI1Yy1jODBlLTRjNzMtOGNlYi1lYTdiMWUzNzIxNWUiLA0KICAgICJmZWRpZCI6ICI2ZDc5YmJiMC1hYjA4LTQ0MDUtYjI1NC02MDFlMTYwYWU5YzYiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJDVEVHZXJhZGFQYXJhTURGRSI6ICJuYW8iLA0KICAgICJFTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX01MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX01MT0NabXVuaWNpcGlvX2liZ2VfZXhwZWRpZG9yX2N0ZSI6IDAsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX2liZ2VfX01MT0NabXVuaWNpcGlvX2liZ2VfcmVjZWJlZG9yX2N0ZSI6IDAsDQogICAgIkVNUE1MT0NabXVuaWNpcGlvX25vbWVfX211bmljaXBpb19lbXByZXNhX19NTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBNTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYV9fTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QTUxPQ1pwYWlzX2liZ2VfX01MT0NacGFpc19pYmdlX2V4cGVkaWRvcl9jdGUiOiAwLA0KICAgICJFTVBNTE9DWnBhaXNfaWJnZV9fTUxPQ1pwYWlzX2liZ2VfcmVjZWJlZG9yX2N0ZSI6IDAsDQogICAgIkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUE1MT0NacGFpc19ub21lX19ub21lX2RvX3BhaXNfZW1wcmVzYV9fTUxPQ1pwYWlzX25vbWVfX25vbWVfZG9fcGFpc19lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGJhaXJyb19lbXByZXNhX19iYWlycm9fZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBiYWlycm9fZW1wcmVzYV9fYmFpcnJvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QY2VwX2VtcHJlc2FfX2NlcF9lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNlcF9lbXByZXNhX19jZXBfZW1wcmVzYV9yZWNlYmVkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjbnBqX2RvX2V4cGVkaWRvcl9jdGVfaWQiOiAiICIsDQogICAgIkVNUGNucGpfZG9fcmVjZWJlZG9yX2N0ZV9pZCI6ICIgIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19jbnBqX2RvX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNucGpfZW1wcmVzYV9fY25wal9kb19yZWNlYmVkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjb21wbGVtZW50b19lbXByZXNhX19jb21wbGVtZW50b19lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNvbXBsZW1lbnRvX2VtcHJlc2FfX2NvbXBsZW1lbnRvX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9fY29udHJpYnVpbnRlX2RvX3NpbXBsZXNfbmFjaW9uYWxfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX19jb250cmlidWludGVfZG9fc2ltcGxlc19uYWNpb25hbF9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGNwZl9lbXByZXNhX19jcGZfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBjcGZfZW1wcmVzYV9fY3BmX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QZW1haWxfZW1wcmVzYV9fZW1haWxfZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogIiAiLA0KICAgICJFTVBlbWFpbF9lbXByZXNhX19lbWFpbF9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19leHBlZGlkb3JfZW1wcmVzYV90YXhfaWQiOiAiICIsDQogICAgIkVNUGVtcHJlc2FfdGF4X2lkX19yZWNlYmVkb3JfZW1wcmVzYV90YXhfaWQiOiAiICIsDQogICAgIkVNUGllX2VtcHJlc2FfX2llX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6IDAsDQogICAgIkVNUGllX2VtcHJlc2FfX2llX2VtcHJlc2FfcmVjZWJlZG9yX2N0ZSI6IDAsDQogICAgIkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGluZGljYWRvcl9kZV9pZV9faW5kaWNhZG9yX2RlX2llX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fbG9ncmFkb3Vyb19lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUGxvZ3JhZG91cm9fZW1wcmVzYV9fbG9ncmFkb3Vyb19lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fbm9tZV9mYW50YXNpYV9lbXByZXNhX2V4cGVkaWRvcl9jdGUiOiAiICIsDQogICAgIkVNUG5vbWVfZmFudGFzaWFfZW1wcmVzYV9fbm9tZV9mYW50YXNpYV9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUG51bWVyb19lbXByZXNhX19udW1lcm9fZW1wcmVzYV9leHBlZGlkb3JfY3RlIjogMCwNCiAgICAiRU1QbnVtZXJvX2VtcHJlc2FfX251bWVyb19lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAwLA0KICAgICJFTVByYXphb19zb2NpYWxfZW1wcmVzYSI6ICJTRUdVUk9TIFNVUkEgU0EiLA0KICAgICJFTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9lbXByZXNhX3JlY2ViZWRvcl9jdGUiOiAiICIsDQogICAgIkVNUHRlbGVmb25lX2VtcHJlc2FfX3RlbGVmb25lX2VtcHJlc2FfZXhwZWRpZG9yX2N0ZSI6ICIgIiwNCiAgICAiRU1QdGVsZWZvbmVfZW1wcmVzYV9fdGVsZWZvbmVfZW1wcmVzYV9yZWNlYmVkb3JfY3RlIjogIiAiLA0KICAgICJFTVB0aXBvX2VtcHJlc2FfX2V4cGVkaWRvcl90aXBvX2VtcHJlc2EiOiAiICIsDQogICAgIkVNUHRpcG9fZW1wcmVzYV9fcmVjZWJlZG9yX3RpcG9fZW1wcmVzYSI6ICIgIiwNCiAgICAiT1ZTRmRhdGFfZGVfZmF0dXJhbWVudG9fb3JkZW1fZGVfdmVuZGEiOiBudWxsLA0KICAgICJPVlNGZGF0YV9kZV92ZW5jaW1lbnRvX2RhX3BhcmNlbGEiOiBudWxsLA0KICAgICJPVlNGbnVtZXJvX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgIk9WU0ZudW1lcm9fb3JkZW1fZGVfdmVuZGFfX29yZGVtX2RlX3ZlbmRhIjogIiIsDQogICAgIk9WU0ZzZl9vdl9pZCI6IDAsDQogICAgIlRQUmRlc2NyaWNhb19faXRlbnNfdGFiZWxhX2RlX3ByZWNvIjogIiIsDQogICAgIlRQUmRlc2NyaWNhb190cHJfX3RhYmVsYV9kZV9wcmVjbyI6ICIiLA0KICAgICJUUFJpdGVuc190YWJlbGFfZGVfcHJlY29faWQiOiBudWxsLA0KICAgICJUUFJ0YWJlbGFfZGVfcHJlY29faWQiOiBudWxsLA0KICAgICJhbGlxdW90YV9pY21zX3N0X3JldGlkbyI6IDAsDQogICAgImFuZXhvX2FudWxhY2FvX2N0ZSI6ICIgIiwNCiAgICAiYXZlcmJhY2FvX2NhbmNlbGFkbyI6ICIgIiwNCiAgICAiY2FyYWN0ZXJpc3RpY2FzX2FkX3NlcnZpY29fY3RlX1JFU1VNTyI6ICIzMDkwNjAiLA0KICAgICJjYXJhY3RlcmlzdGljYXNfYWRfdHJhbnNwb3J0ZV9jdGVfZGVzYyI6ICJOw6NvIFNlbGVjaW9uYWRvIiwNCiAgICAiY2FydGFjb3JyZWNhbyI6ICIgIiwNCiAgICAiY2hhdmVfY3RlX2N0ZSI6ICJDVGU0MzIyMDUwNTU1NjE1OTAwMDEwMDU3MDAxMDAwMTA0MjMyMTE2MTU5MTgzOCIsDQogICAgImNoYXZlX2N0ZV9lbWl0aWRhX3BlbG9fdG9tYWRvcl9jdGUiOiAiICIsDQogICAgImNoYXZlX2N0ZV9vcmlnaW5hbF9jdGUiOiAiICIsDQogICAgImNoYXZlX2RvX2N0ZV9hbnVsYWRvX2N0ZSI6ICIgIiwNCiAgICAiY2hhdmVfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSI6ICIgIiwNCiAgICAiY29kaWdvX3JvdGFfZW50cmVnYV9jdGUiOiAiIiwNCiAgICAiY3RlX2F2ZXJiYWRvIjogInNpbSIsDQogICAgImN0ZV9hdmVyYmFkb19kZXNjIjogIlNpbSIsDQogICAgImN0ZWdlcmFkYXBhcmFkb3RheCI6ICJuYW8iLA0KICAgICJkYWRvc2R1cGxpY2F0YXMiOiAiIiwNCiAgICAiZGF0YV9kZV9lbWlzc2FvX2RhX2RlY2xhcmFjYW9fZG9fdG9tYWRvcl9jdGUiOiAiICIsDQogICAgImRhdGFfZGVfZW1pc3Nhb19uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlIjogIiAiLA0KICAgICJkYXRhX2RlX2VudHJhZGFEYXRlIjogIjIwMjItMDUtMTkgMDM6MDA6MDAiLA0KICAgICJkYXRhX2RlX2VudHJhZGEiOiAiMjAyMi0wNS0xOSAwMDowMDowMCIsDQogICAgImRhdGFfZW1pc3Nhb19jdGVEYXRlIjogIjIwMjItMDUtMTkgMDM6MDA6MDAiLA0KICAgICJkYXRhX2VtaXNzYW9fY3RlIjogIjIwMjItMDUtMTkgMDA6MDA6MDAiLA0KICAgICJkZXRhbGhlc19yZXRpcmFkYV9jdGVfUkVTVU1PIjogIiIsDQogICAgImRvY3VtZW50b3NfY3RlIjogIiIsDQogICAgImZhdHVyYWRvX2N0ZSI6ICJuYW8iLA0KICAgICJmYXR1cmFkb19jdGVfZGVzYyI6ICJOw6NvIiwNCiAgICAiZmF0dXJhbWVudG9fcGVuZGVudGUiOiAibmFvIiwNCiAgICAiZmF0dXJhbWVudG9fcGVuZGVudGVfZGVzYyI6ICJOw6NvIiwNCiAgICAiZ3VpYXNfZG9vdGF4IjogIiIsDQogICAgImluZm9ybWFyIjogIiAiLA0KICAgICJtb2RhbGlkYWRlX3RyYW5zcG9ydGVfY3RlX1JFU1VNTyI6ICJyb2RvdmlhcmlvIiwNCiAgICAibW9kYWxpZGFkZV90cmFuc3BvcnRlX2N0ZV9SRVNVTU9fZGVzYyI6ICJSb2RvdmnDoXJpbyIsDQogICAgIm1vdGl2b19hbnVsYWNhb19jdGUiOiAiICIsDQogICAgIm1vdGl2b19kb19jYW5jZWxhbWVudG9fY3RlIjogIiAiLA0KICAgICJtdW5pY2lwaW9fdWZfZGVzdGlub19jYWxjX2ZyZXRlX2N0ZSI6ICIiLA0KICAgICJtdW5pY2lwaW9fdWZfb3JpZ2VtX2NhbGNfZnJldGVfY3RlIjogIiIsDQogICAgIm5mZV9hbnVsYWNhb19jdGUiOiAiICIsDQogICAgIm5mZXMiOiAiIiwNCiAgICAibmZlc19jb3B5IjogIiIsDQogICAgIm51bWVyb19jdGVfYW51bGFkb19jdGUiOiAwLA0KICAgICJudW1lcm9fY3RlX2N0ZSI6IDEwNDIzMiwNCiAgICAibnVtZXJvX2N0ZV9vcmlnaW5hbF9jdGUiOiAwLA0KICAgICJudW1lcm9fZGFfZmF0dXJhX2N0ZSI6IDAsDQogICAgIm51bWVyb19kYV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlIjogMCwNCiAgICAibnVtZXJvX2RvX3BlZGlkb19SRVNVTU8iOiAiIiwNCiAgICAib2JzZXJ2YWNvZXNfY3RlX1JFU1VNTyI6ICIzMDkwNjAiLA0KICAgICJvYnNlcnZhY29lc2NvbnRyaWJ1aW50ZSI6ICIiLA0KICAgICJvYnNlcnZhY29lc2Zpc2NvIjogIiIsDQogICAgInByb3RvY29sb19kZV9jYW5jZWxhbWVudG8iOiAiICIsDQogICAgInF1YW5DYXJnYV9jb3B5IjogIiIsDQogICAgInF1YW50aWRhZGVzY2FyZ2EiOiAiIiwNCiAgICAicmVjYWxjdWxhciI6ICIiLA0KICAgICJyZXNwb25zYXZlbF9mcmV0ZV9jdGVfUkVTVU1PIjogImRlc3RpbmF0YXJpbyIsDQogICAgInJlc3BvbnNhdmVsX2ZyZXRlX2N0ZV9SRVNVTU9fZGVzYyI6ICJEZXN0aW5hdMOhcmlvIiwNCiAgICAic2VyaWVfY3RlX2FudWxhZG9fY3RlIjogMCwNCiAgICAic2VyaWVfY3RlX2N0ZSI6IDEsDQogICAgInNlcmllX2N0ZV9vcmlnaW5hbF9jdGUiOiAwLA0KICAgICJzZXJpZV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlIjogMCwNCiAgICAic3Vic2VyaWVfbmZlX2VtaXRpZGFfcGVsb190b21hZG9yX2N0ZSI6IDAsDQogICAgInRheGFzX2NvbXBvbmVudGVzIjogIiIsDQogICAgInRpcG9fZGVfY3RlX1JFU1VNTyI6IG51bGwsDQogICAgInZhbG9yX2Jhc2VfY2FsY19zdF9yZXRpZG9fY3RlIjogMCwNCiAgICAidmFsb3JfY3JlZGl0b19jdGUiOiAwLA0KICAgICJ2YWxvcl9kYV9uZmVfZW1pdGlkYV9wZWxvX3RvbWFkb3JfY3RlIjogMCwNCiAgICAidmFsb3JfZGVzY29udG9fZmF0dXJhX2N0ZSI6IDAsDQogICAgInZhbG9yX2ljbXNfc3RfcmV0aWRvX2N0ZSI6IDAsDQogICAgInZhbG9yX2ljbXNfdWZfaW5pX2N0ZSI6IDAsDQogICAgInZhbG9yX2xpcXVpZG9fZmF0dXJhX2N0ZSI6IDAsDQogICAgInZhbG9yX29yaWdpbmFsX2ZhdHVyYV9jdGUiOiAwLA0KICAgICJlbWl0aWRvX3RtcCI6ICJlbWl0aWRvIiwNCiAgICAiZW1pdGlkb190bXBfZGVzYyI6ICJFbWl0aWRvIiwNCiAgICAianNvbl9hdXRvcml6YWNhb19zZWZhel9jdGUiOiAie1wiZW1pdGVudGVcIjp7XCJ4RmFudFwiOlwiUHJlc3RleCBDYXhpYXNcIixcIkNOUEpcIjpcIjA1NTU2MTU5MDAwMTAwXCIsXCJJRVwiOlwiMjkwNDA1MDA5XCIsXCJ4TGdyXCI6XCJBdmVuaWRhIFJ1YmVuIEJlbnRvIEFsdmVzXCIsXCJucm9cIjpcIjY3NTBcIixcInhCYWlycm9cIjpcIk1hcmVjaGFsIEZsb3JpYW5vXCIsXCJ4TXVuXCI6XCJDQVhJQVMgRE8gU1VMXCIsXCJVRlwiOlwiUlNcIixcIkNFUFwiOlwiOTUwMTMwMzhcIn0sXCJpbXBcIjp7XCJJQ01TXCI6e1wiSUNNU091dHJhVUZcIjp7XCJDU1RcIjpcIjkwXCIsXCJ2QkNPdXRyYVVGXCI6XCI0ODAuNzlcIixcInBJQ01TT3V0cmFVRlwiOlwiMTIuMDBcIixcInZJQ01TT3V0cmFVRlwiOlwiNTcuNzBcIn19LFwidlRvdFRyaWJcIjpcIjU3LjcwXCIsXCJJQ01TVUZGaW1cIjp7XCJ2QkNVRkZpbVwiOlwiNDgwLjc5XCIsXCJwRkNQVUZGaW1cIjpcIjIuMDBcIixcInBJQ01TVUZGaW1cIjpcIjIwLjAwXCIsXCJwSUNNU0ludGVyXCI6XCIxMi4wMFwiLFwidkZDUFVGRmltXCI6XCI5LjYyXCIsXCJ2SUNNU1VGRmltXCI6XCIzOC40NlwiLFwidklDTVNVRkluaVwiOlwiMC4wMFwifX0sXCJjaENUZVwiOlwiNDMyMjA1MDU1NTYxNTkwMDAxMDA1NzAwMTAwMDEwNDIzMjExNjE1OTE4MzhcIixcInFyQ29kQ1RlXCI6XCJodHRwczovL2RmZS1wb3J0YWwuc3Zycy5ycy5nb3YuYnIvY3RlL3FyQ29kZT9jaENUZT00MzIyMDUwNTU1NjE1OTAwMDEwMDU3MDAxMDAwMTA0MjMyMTE2MTU5MTgzOCZ0cEFtYj0yXCIsXCJpbmZRXCI6W3tcImNVbmlkXCI6XCIwM1wiLFwidHBNZWRcIjpcIkNhaXhhc1wiLFwicUNhcmdhXCI6XCIyLjAwMDBcIn0se1wiY1VuaWRcIjpcIjAzXCIsXCJ0cE1lZFwiOlwiUGVzbyBDdWJhZG9cIixcInFDYXJnYVwiOlwiMTEuMDAwMFwifV0sXCJ4T2JzXCI6XCIuMzA5MDYwIHwgUklDTVNJQ01TIFJFQ09MSElETyBQT1IgR05SRXwgQmFzZSBMZWdhbCBEaWZlcmVuY2lhbCBkZSBBbMOtcXVvdGEgfHwgVmFsb3IgRElGQUw6IFIkMzgsNDY0IHx8IFZhbG9yIEZFQ09QOiBSJDksNjE2IHwuXCIsXCJ2UHJlc3RcIjp7XCJ2VFByZXN0XCI6XCI0ODAuNzlcIixcInZSZWNcIjpcIjQ4MC43OVwifX0iLA0KICAgICJwcm90b2NvbG9fY3RlX2N0ZSI6ICIxNDMyMjAwMDAxMzEwNzIiLA0KICAgICJ1cmxfcGRmX2N0ZSI6ICJodHRwczovL29uZXJneWRvY3MuYXp1cmV3ZWJzaXRlcy5uZXQvIy9kb2N1bWVudG9zL2RhY3RlLzBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNS84NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMvYzUyY2ZiM2UtZDdjOC00MjhjLTgzNzgtZDRhMmE0ZTlhYWNjL2JlMzAyMTI4LTQ0ZGUtNDJlNy04NzRkLTc3YjA4NjdmYjU1NyIsDQogICAgInVybF94bWwiOiAiaHR0cHM6Ly9vbmViYWNrdXBzZXJ2aWNlcy5ibG9iLmNvcmUud2luZG93cy5uZXQvMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1LzU3NjU2Y2QzLTIyZDUtNGU3NC05ZGQzLTI0NTFhZjA2NjkzMS54bWw/c3Y9MjAxOC0wMy0yOCZzcj1iJnNpZz1HQmJDcGZYdksxRHhaMjZZaWVKMUJ1NmRZTlJUMnZuYjVwS1J0M01BTWN3JTNEJnNlPTIwMjItMTItMDVUMTMlM0E1NSUzQTEzWiZzcD1yIiwNCiAgICAib25lX2NvcGllZF9mcm9tIjogImM1MmNmYjNlLWQ3YzgtNDI4Yy04Mzc4LWQ0YTJhNGU5YWFjYyIsDQogICAgImlkT25lUmVmIjogIjViNWVmNmIxLWZjZmUtZjI3ZC1jN2IzLWY2M2EyMzc0NTM2NiIsDQogICAgIklEX09ORV9SRUYiOiAiNWI1ZWY2YjEtZmNmZS1mMjdkLWM3YjMtZjYzYTIzNzQ1MzY2IiwNCiAgICAiYXJxdWl2b19HbnJlSUNNUyI6IFt7DQogICAgICAgICJVcmwiOiAiaHR0cHM6Ly9vbmViYWNrdXBzZXJ2aWNlcy5ibG9iLmNvcmUud2luZG93cy5uZXQvMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1LzJmNzY2ZDRlLTNjNDYtNGNmZi05OTAyLTZhNjRhNGNiMzI0Yy5wZGY/c3Y9MjAxOC0wMy0yOCZzcj1iJnNpZz01ZDNOOVpZUUVvVzhtOUlIQ2ZwdUdkaEN4NXhvTmJmRHNNSk9Md0Q3RzQ4JTNEJnNlPTIwMjItMTItMTNUMTclM0EwMSUzQTQ0WiZzcD1yIiwNCiAgICAgICAgIlVybEF6dXJlIjogImh0dHBzOi8vb25lYmFja3Vwc2VydmljZXMuYmxvYi5jb3JlLndpbmRvd3MubmV0LzBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNS8yZjc2NmQ0ZS0zYzQ2LTRjZmYtOTkwMi02YTY0YTRjYjMyNGMucGRmP3N2PTIwMTgtMDMtMjgmc3I9YiZzaWc9NWQzTjlaWVFFb1c4bTlJSENmcHVHZGhDeDV4b05iZkRzTUpPTHdEN0c0OCUzRCZzZT0yMDIyLTEyLTEzVDE3JTNBMDElM0E0NFomc3A9ciIsDQogICAgICAgICJOYW1lIjogIkd1aWFHbnJlLTEwNDIzMi5wZGYiDQogICAgfV0sDQogICAgImluZm9HdWlhR25lciI6IHsNCiAgICAgICAgImFjY2Vzc0tleSI6ICI0MzIyMDUwNTU1NjE1OTAwMDEwMDU3MDAxMDAwMTA0MjMyMTE2MTU5MTgzOCIsDQogICAgICAgICJhdXRoZW50aWNhdGlvbk51bSI6ICJkZyIsDQogICAgICAgICJiYXJjb2RlIjogIjg1ODAwMDAwMDAwMzU3NzAwMTg1MTEyODIwNTkwMDU1ODk2NjAzOTIwMjIwNTI3MCIsDQogICAgICAgICJjb250cm9sTnVtIjogIjIyMDU5MDA1NTg5NjAzOSIsDQogICAgICAgICJkZWJpdERhdGUiOiAiMjAyMi0wNS0yNyIsDQogICAgICAgICJkb2NOdW0iOiAiMTA0MjMyIiwNCiAgICAgICAgImR1ZURhdGUiOiAiMjAyMi0wNS0yNyIsDQogICAgICAgICJwZXJpb2QiOiAiMjAyMi0wNS0xOSIsDQogICAgICAgICJwcmluY2lwYWxBbW91bnQiOiA1Ny43LA0KICAgICAgICAicmV2ZW51ZUNvZGUiOiAxMTE5LA0KICAgICAgICAic3RhdGUiOiAiU1AiLA0KICAgICAgICAidG90YWxBbW91bnQiOiA1Ny43LA0KICAgICAgICAiaW5zZXJ0RGF0ZSI6ICIyMDIyLTA1LTI3IDE2OjU5OjAwIiwNCiAgICAgICAgImNhdGVnb3JpYSI6ICJHTlJFIg0KICAgIH0sDQogICAgInBhZ2FtZW50b0dOUkUiOiB0cnVlLA0KICAgICJ1cmxHbnJlSUNNUyI6ICJodHRwczovL29uZWJhY2t1cHNlcnZpY2VzLmJsb2IuY29yZS53aW5kb3dzLm5ldC8wYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUvMmY3NjZkNGUtM2M0Ni00Y2ZmLTk5MDItNmE2NGE0Y2IzMjRjLnBkZj9zdj0yMDE4LTAzLTI4JnNyPWImc2lnPTVkM045WllRRW9XOG05SUhDZnB1R2RoQ3g1eG9OYmZEc01KT0x3RDdHNDglM0Qmc2U9MjAyMi0xMi0xM1QxNyUzQTAxJTNBNDRaJnNwPXIiLA0KICAgICJvbmVyZ3lfanNfY3R4Ijogew0KICAgICAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAgICAgImZlZGlkIjogIjZkNzliYmIwLWFiMDgtNDQwNS1iMjU0LTYwMWUxNjBhZTljNiIsDQogICAgICAgICJmZHRpZCI6ICI3NDM4OWNkYS1hM2ViLTRiNTItOTdjNS0zMDYwYjRjZjJlZmIiLA0KICAgICAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAgICAgImluc2VydER0IjogIjIwMjItMDUtMjcgMTY6NTg6MDQuODg2IiwNCiAgICAgICAgInVwZGF0ZUR0IjogIjIwMjItMDUtMjcgMTc6MDE6NDkuNjk0IiwNCiAgICAgICAgImN1cl91c2VyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAgICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJ1c2VyX25hbWUiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAgICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICAgICAicHJhaWQiOiAiYjA4M2ExYWQtZDcxYi00YjMyLWE4YWUtODk5OGM1YTI0NzQ5IiwNCiAgICAgICAgInBjdmlkIjogIjc2YzE1NmQxLWJmMGMtNDEzNS1hN2QzLWYzOGM1NjViNmMwZCIsDQogICAgICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgICAgICJ0aW1lem9uZV92YWx1ZSI6ICItMDM6MDAiLA0KICAgICAgICAicHViTnViSG9vayI6IG51bGwNCiAgICB9DQp9Ow0KDQovLyBqc29uSW5wdXQub25lcmd5X2pzX2N0eCA9IHsNCi8vICAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQovLyAgICAgImZkdGlkIjogImJkMjc4MzdiLWQ5MjktNDc3Yy05ZGUzLTY1M2RmZDM3ZTkxNCIsDQovLyAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyINCi8vIH0NCg0KaW5pdChKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(DOOTAX) - Tarefa de consulta.js", "isDirectory": false, "__KEY__": "53f7dcd7-a255-3c1d-2b79-d84c6ca3ecb4", "size": 26615, "dateModified": "2022-07-17T00:37:27.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9jb3VudGRvY3MoYXJncykgew0KICAgIGxldCByZWdzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShhcmdzLmZkdGlkLCBhcmdzLmFzc2lkLCBhcmdzLnVzcmlkLCBhcmdzLmZpbHRlcik7DQogICAgcmV0dXJuIHJlZ3MubGVuZ3RoOw0KfQ0KDQpjbGFzcyBNZW1vcnkgew0KICAgIHZhbE1lbW9yeSA9IFtdOw0KICAgIFRyeUFkZChrZXksIHZhbHVlLCB0aW1lKSB7DQogICAgICAgIHZhciBleGlzdCA9IGZhbHNlOw0KICAgICAgICBmb3IgKGxldCBzIGluIHRoaXMudmFsTWVtb3J5KSB7DQogICAgICAgICAgICBpZiAodGhpcy52YWxNZW1vcnlbc10ua2V5ID09IGtleSkgew0KICAgICAgICAgICAgICAgIGV4aXN0ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZXhpc3QpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMudmFsTWVtb3J5LnB1c2goeyAna2V5Jzoga2V5LCAndmFsdWUnOiB2YWx1ZSwgJ3RpbWUnOiB0aW1lIH0pDQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBSZW1vdmUoa2V5KSB7DQoNCiAgICB9DQp9DQpsZXQgbWVtb3J5ID0gbmV3IE1lbW9yeSgpOw0KDQpjbGFzcyBVdGlscyB7DQogICAgR2V0VXNlckR0Tm93KGZvcm1hdCkgew0KICAgICAgICBsZXQgZGF0YUF0dWFsID0gbmV3IERhdGUoKTsNCiAgICAgICAgbGV0IGFubyA9IGRhdGFBdHVhbC5nZXRGdWxsWWVhcigpOw0KICAgICAgICBsZXQgbWVzID0gKChkYXRhQXR1YWwuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpOw0KICAgICAgICBsZXQgZGlhID0gKGRhdGFBdHVhbC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIHJldHVybiBgJHthbm99LSR7bWVzfS0ke2RpYX0gMDA6MDA6MDBgDQogICAgfQ0KfQ0KbGV0IHV0aWxzID0gbmV3IFV0aWxzKCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCnZhciBwYWdhbWVudG9zSW1wb3N0b3NJRCA9ICI3NDM4OWNkYS1hM2ViLTRiNTItOTdjNS0zMDYwYjRjZjJlZmIiOw0KdmFyIGN0ZXNTZWxlY2lvbmFkYXNEb290YXggPSAiYmQyNzgzN2ItZDkyOS00NzdjLTlkZTMtNjUzZGZkMzdlOTE0IjsNCnZhciBjdGVzTmFvRW1pdGlkb3MgPSAiYmUzMDIxMjgtNDRkZS00MmU3LTg3NGQtNzdiMDg2N2ZiNTU3IjsNCnZhciBjb2RpZ29SZWNlaXRhID0gIjBmM2NkMjZlLWM3NTQtNDAyNy1iMmUyLTY4ODYzYzc4ZDg3MSI7DQp2YXIgZ3VpYXNQYWdhc0lEID0gImQzMDJkMjVjLWM4MGUtNGM3My04Y2ViLWVhN2IxZTM3MjE1ZSI7DQoNCnZhciBDVEVzQXR1YWxpemFkYXMgPSBbXTsNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBpZiAoZGF0YS5hdGl2byA9PSAic2ltIikgew0KICAgICAgICBkZWJ1Z2dlcjsNCiAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICJkYXRhX3VsdGltYV9leGVjdWNhb0RhdGUiOiB1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSwNCiAgICAgICAgICAgICJkYXRhX3VsdGltYV9leGVjdWNhbyI6IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCIpLA0KICAgICAgICB9DQoNCiAgICAgICAgbGV0IGZpbHRyb0xvdGVzTmFvUGFnb3MgPSBnZXJhckZpbHRybygiZ3VpYXNfcGFnYXMiLCAibmFvIik7DQogICAgICAgIGxldCBsb3Rlc05hb1BhZ29zID0gYXdhaXQgZ2V0T25lcmd5SXRlbShjdGVzU2VsZWNpb25hZGFzRG9vdGF4LCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvTG90ZXNOYW9QYWdvcyk7DQogICAgICAgIGZvciAobGV0IExPVEUgb2YgbG90ZXNOYW9QYWdvcykgew0KICAgICAgICAgICAgYXdhaXQgY29uc3VsdGFHdWlhc1BhZ2FzKGRhdGEsIExPVEUpOw0KICAgICAgICAgICAgYXdhaXQgbXVkYXJTdGF0dXNMb3RlKGRhdGEsIExPVEUpOw0KICAgICAgICB9DQogICAgICAgIGlmIChDVEVzQXR1YWxpemFkYXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgYWd1YXJkYXJNdWRhbmNhQ2FyZChkYXRhKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgcmVzdWx0LCB0cnVlKTsNCiAgICB9DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCi8vVE9ETyBpbml0QmVmb3JlDQphc3luYyBmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gYWd1YXJkYXJNdWRhbmNhQ2FyZChkYXRhKSB7DQogICAgZm9yIChsZXQgcyBpbiBDVEVzQXR1YWxpemFkYXMpIHsNCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzMDsgaisrKSB7DQogICAgICAgICAgICBsZXQgQ1RFX0VNX0dVSUFTX1BBR0FTID0gb25lcmd5X2NvdW50ZG9jcyh7DQogICAgICAgICAgICAgICAgZmR0aWQ6IGd1aWFzUGFnYXNJRCwNCiAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgZmlsdGVyOiBKU09OLnN0cmluZ2lmeShbDQogICAgICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBDVEVzQXR1YWxpemFkYXNbc10uaWQgfQ0KICAgICAgICAgICAgICAgIF0pDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmIChDVEVfRU1fR1VJQVNfUEFHQVMgPiAwKSB7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHV0aWxzLnNsZWVwKDI1MDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBtdWRhclN0YXR1c0xvdGUoZGF0YSwgTE9URSkgew0KDQogICAgbGV0IHBvc3RJbmZvID0gew0KICAgICAgICAicG9kZV9zZXJfZXhjbHVpZG8iOiAic2ltIiwNCiAgICAgICAgInBvZGVfc2VyX2V4Y2x1aWRvX2Rlc2MiOiAiU2ltIiwNCiAgICAgICAgImd1aWFzX3BhZ2FzIjogIm5hbyIsDQogICAgICAgICJndWlhc19wYWdhc19kZXNjIjogIk7Do28iLA0KICAgIH0NCg0KICAgIGxldCBxdWFudGlkYWRlTmFvUGFnYXMgPSBhd2FpdCBvbmVyZ3lfY291bnRkb2NzKHsNCiAgICAgICAgZmR0aWQ6IHBhZ2FtZW50b3NJbXBvc3Rvc0lELA0KICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICBmaWx0ZXI6IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgIHsgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogTE9URS5JRCB9DQogICAgICAgIF0pDQogICAgfSk7DQoNCiAgICBsZXQgcXVhbnRpZGFkZVBhZ2FzID0gYXdhaXQgb25lcmd5X2NvdW50ZG9jcyh7DQogICAgICAgIGZkdGlkOiBndWlhc1BhZ2FzSUQsDQogICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgIGZpbHRlcjogSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgeyBGaWVsTmFtZTogIklEX09ORV9SRUYiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBMT1RFLklEIH0NCiAgICAgICAgXSkNCiAgICB9KTsNCg0KICAgIGlmIChxdWFudGlkYWRlUGFnYXMgPiAwKSB7DQogICAgICAgIHBvc3RJbmZvLnBvZGVfc2VyX2V4Y2x1aWRvID0gIm5hbyINCiAgICAgICAgcG9zdEluZm8ucG9kZV9zZXJfZXhjbHVpZG9fZGVzYyA9ICJuw6NvIg0KICAgIH0NCiAgICBpZiAocXVhbnRpZGFkZVBhZ2FzID4gMCAmJiBxdWFudGlkYWRlTmFvUGFnYXMgPT0gMCkgew0KICAgICAgICBwb3N0SW5mby5ndWlhc19wYWdhcyA9ICJzaW0iOw0KICAgICAgICBwb3N0SW5mby5ndWlhc19wYWdhc19kZXNjID0gIlNpbSI7DQogICAgfQ0KDQogICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICBmZHRpZDogTE9URS50ZW1wbGF0ZWlkLA0KICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShwb3N0SW5mbyksDQogICAgICAgIGlkOiBMT1RFLklEDQogICAgfSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGNvbnN1bHRhR3VpYXNQYWdhcyhkYXRhLCBjdGVzQ3R4KSB7DQogICAgY29uc3QgdXJsRG90YXggPSAiaHR0cHM6Ly9ob20uYXBwLmRvb3RheC5jb20uYnIvYXBpL3YyL2Rvb2RvYy9wYWd0cmliLyI7IC8vb25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygidXJsX0RPVEFYIik7DQoNCiAgICAvL0J1c2NhbmRvIENURXMgcXVlIGVzdMOjbyBubyBHUklEIGRlIENURXMgU2VsZWNpb25hZGFzDQogICAgbGV0IGZpbHRlckN0ZXNTZWxlY2lvbmFkYXMgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGN0ZXNDdHguSUQpOw0KICAgIGxldCBjdGVzX3NlbGVjaW9uYWRhcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0ocGFnYW1lbnRvc0ltcG9zdG9zSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0ZXJDdGVzU2VsZWNpb25hZGFzKTsNCg0KICAgIGlmIChjdGVzX3NlbGVjaW9uYWRhcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAobGV0IGkgaW4gY3Rlc19zZWxlY2lvbmFkYXMpIHsNCiAgICAgICAgICAgIGxldCBjdGVOdW1lcm8gPSBjdGVzX3NlbGVjaW9uYWRhc1tpXS5VcmxKc29uQ29udGV4dC5udW1lcm9fY3RlX2N0ZTsNCiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB7DQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9HdWlhIjogZmFsc2UsDQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9HdWlhX2Rlc2MiOiAiQWd1YXJkYW5kbyBHdWlhIiwNCiAgICAgICAgICAgICAgICAicHJvY2Vzc2FuZG9HdWlhIjogZmFsc2UsDQogICAgICAgICAgICAgICAgInByb2Nlc3NhbmRvR3VpYV9kZXNjIjogIlByb2Nlc3NhbmRvIEd1aWEiLA0KICAgICAgICAgICAgICAgICJhZ3VhcmRhbmRvQXByb3ZhY2FvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9BcHJvdmFjYW9fZGVzYyI6ICJBZ3VhcmRhbmRvIEFwcm92YcOnw6NvIiwNCiAgICAgICAgICAgICAgICAicHJvY2Vzc2FuZG9QYWdhbWVudG8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAicHJvY2Vzc2FuZG9QYWdhbWVudG9fZGVzYyI6ICJQcm9jZXNzYW5kbyBQYWdhbWVudG8iLA0KICAgICAgICAgICAgICAgICJhZ3VhcmRhbmRvUGFnYW1lbnRvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgImFndWFyZGFuZG9QYWdhbWVudG9fZGVzYyI6ICJBZ3VhcmRhbmRvIFBhZ2FtZW50byIsDQogICAgICAgICAgICAgICAgImd1aWFzUGFnYXMiOiBmYWxzZQ0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNjYSBDVEUgZW0gQWd1YXJkYW5kbyBHdWlhcy4NCiAgICAgICAgICAgIGxldCBkYXRhUG9zdF9BZ3VhcmRhbmRvR3VpYSA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkFndWFyZGFuZG8gR3VpYSIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fYWd1YXJkYW5kb0d1aWFzID0gYXdhaXQgYWpheENhbGwoZGF0YSwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9BZ3VhcmRhbmRvR3VpYSk7DQogICAgICAgICAgICBzdGF0dXMuYWd1YXJkYW5kb0d1aWEgPSBSZXRvcm5vX2FndWFyZGFuZG9HdWlhcy5jb250ZW50Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7DQoNCiAgICAgICAgICAgIC8vVE9ETyAoQUpBWCkgQnVzY2EgQ1RFIGVtIFByb2Nlc3NhbmRvIEd1aWEuDQogICAgICAgICAgICBsZXQgZGF0YVBvc3RfUHJvY2Vzc2FuZG9HdWlhID0gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiUHJvY2Vzc2FuZG8gR3VpYSIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fUHJvY2Vzc2FuZG9HdWlhID0gYXdhaXQgYWpheENhbGwoZGF0YSwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9Qcm9jZXNzYW5kb0d1aWEpOw0KICAgICAgICAgICAgc3RhdHVzLnByb2Nlc3NhbmRvR3VpYSA9IFJldG9ybm9fUHJvY2Vzc2FuZG9HdWlhLmNvbnRlbnQubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNjYSBDVEUgZW0gQWd1YXJkYW5kbyBBcHJvdmHDp8Ojby4NCiAgICAgICAgICAgIGxldCBkYXRhUG9zdF9BZ3VhcmRhbmRvQXByb3ZhY2FvID0gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiQWd1YXJkYW5kbyBBcHJvdmHDp8OjbyIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fQWd1YXJkYW5kb0Fwcm92YWNhbyA9IGF3YWl0IGFqYXhDYWxsKGRhdGEsIGAke3VybERvdGF4ICsgImxpc3QifWAsICJQT1NUIiwgZGF0YVBvc3RfQWd1YXJkYW5kb0Fwcm92YWNhbyk7DQogICAgICAgICAgICBzdGF0dXMuYWd1YXJkYW5kb0Fwcm92YWNhbyA9IFJldG9ybm9fQWd1YXJkYW5kb0Fwcm92YWNhby5jb250ZW50Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7DQoNCiAgICAgICAgICAgIC8vVE9ETyAoQUpBWCkgQnVzY2EgQ1RFIGVtIFByb2Nlc3NhbmRvIFBhZ2FtZW50by4NCiAgICAgICAgICAgIGxldCBkYXRhUG9zdF9Qcm9jZXNzYW5kb1BhZ2FtZW50byA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkFndWFyZGFuZG8gQXByb3Zhw6fDo28iLA0KICAgICAgICAgICAgICAgICJkb2NOdW0iOiBjdGVOdW1lcm8sDQogICAgICAgICAgICAgICAgInBkZkJ5dGVzIjogImZhbHNlIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGxldCBSZXRvcm5vX1Byb2Nlc3NhbmRvUGFnYW1lbnRvID0gYXdhaXQgYWpheENhbGwoZGF0YSwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9Qcm9jZXNzYW5kb1BhZ2FtZW50byk7DQogICAgICAgICAgICBzdGF0dXMucHJvY2Vzc2FuZG9QYWdhbWVudG8gPSBSZXRvcm5vX1Byb2Nlc3NhbmRvUGFnYW1lbnRvLmNvbnRlbnQubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNjYSBDVEUgZW0gQWd1YXJkYW5kbyBQYWdhbWVudG8uDQogICAgICAgICAgICBsZXQgZGF0YVBvc3RfQWd1YXJkYW5kb1BhZ2FtZW50byA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkFndWFyZGFuZG8gUGFnYW1lbnRvIiwNCiAgICAgICAgICAgICAgICAiZG9jTnVtIjogY3RlTnVtZXJvLA0KICAgICAgICAgICAgICAgICJwZGZCeXRlcyI6ICJmYWxzZSINCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsZXQgUmV0b3Jub19hZ3VhcmRhbmRvUGFnYW1lbnRvID0gYXdhaXQgYWpheENhbGwoZGF0YSwgYCR7dXJsRG90YXggKyAibGlzdCJ9YCwgIlBPU1QiLCBkYXRhUG9zdF9BZ3VhcmRhbmRvUGFnYW1lbnRvKTsNCiAgICAgICAgICAgIHN0YXR1cy5hZ3VhcmRhbmRvUGFnYW1lbnRvID0gUmV0b3Jub19hZ3VhcmRhbmRvUGFnYW1lbnRvLmNvbnRlbnQubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsNCg0KICAgICAgICAgICAgLy9UT0RPIChBSkFYKSBCdXNhY2EgQ1RFIGVtIEd1aWFzIFBhZ2FzIFNlbSBwZGYuDQogICAgICAgICAgICBsZXQgZGF0YVBvc3RfR3VpYXNQYWdhcyA9IHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIkd1aWEgUGFnYSIsDQogICAgICAgICAgICAgICAgImRvY051bSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAiZmFsc2UiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbGV0IFJldG9ybm9fR3VpYXNQYWdhcyA9IGF3YWl0IGFqYXhDYWxsKGRhdGEsIGAke3VybERvdGF4ICsgImxpc3QifWAsICJQT1NUIiwgZGF0YVBvc3RfR3VpYXNQYWdhcyk7DQogICAgICAgICAgICBzdGF0dXMuZ3VpYXNQYWdhcyA9ICFzdGF0dXMuYWd1YXJkYW5kb0d1aWEgJiYgIXN0YXR1cy5wcm9jZXNzYW5kb0d1aWEgJiYgIXN0YXR1cy5hZ3VhcmRhbmRvQXByb3ZhY2FvICYmICFzdGF0dXMucHJvY2Vzc2FuZG9QYWdhbWVudG8gJiYgIXN0YXR1cy5hZ3VhcmRhbmRvUGFnYW1lbnRvICYmIFJldG9ybm9fR3VpYXNQYWdhcy5jb250ZW50Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7DQoNCiAgICAgICAgICAgIC8vVE9ETyAoSUYpIEd1aWFzIHBhZ2FzDQogICAgICAgICAgICBpZiAoc3RhdHVzLmd1aWFzUGFnYXMpIHsNCiAgICAgICAgICAgICAgICAvL1RPRE8gKEFKQVgpIEJ1c2FjYSBDVEUgZW0gR3VpYXMgUGFnYXMgY29tIHBkZi4NCiAgICAgICAgICAgICAgICBsZXQgZGF0YVBvc3RfR3VpYXNQYWdhcyA9IHsNCiAgICAgICAgICAgICAgICAgICAgInN0YXR1cyI6ICJHdWlhIFBhZ2EiLA0KICAgICAgICAgICAgICAgICAgICAiZG9jTnVtIjogY3RlTnVtZXJvLA0KICAgICAgICAgICAgICAgICAgICAicGRmQnl0ZXMiOiAidHJ1ZSINCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGxldCBSZXRvcm5vX0d1aWFzUGFnYXNQREYgPSBhd2FpdCBhamF4Q2FsbChkYXRhLCBgJHt1cmxEb3RheCArICJsaXN0In1gLCAiUE9TVCIsIGRhdGFQb3N0X0d1aWFzUGFnYXMpOw0KICAgICAgICAgICAgICAgIGxldCBjb250ZW50UGFnYXMgPSBSZXRvcm5vX0d1aWFzUGFnYXNQREYuY29udGVudDsNCg0KICAgICAgICAgICAgICAgIGxldCBkYXRhX1VwZGF0ZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgInBhZ2FtZW50b0dOUkUiOiB0cnVlDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBHVUlBIG9mIGNvbnRlbnRQYWdhcykgew0KICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvQ29kaWdvUmVjZWl0YSA9IGdlcmFyRmlsdHJvKCJjb2RpZ28iLCBHVUlBLnJldmVudWVDb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG9iakNvZGlnb1JlY2VpdGEgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGNvZGlnb1JlY2VpdGEsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9Db2RpZ29SZWNlaXRhKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAob2JqQ29kaWdvUmVjZWl0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE8gR3VpYSBEaWZhbA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iakNvZGlnb1JlY2VpdGFbMF0uVXJsSnNvbkNvbnRleHQudGlwb19kZV9kb2N1bWVudG8gPT0gIkRJRkFMIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwZGZCeXRlc0FsaXF1b3RhID0gR1VJQS5wZGZCeXRlczsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsUGRmR05SRUFsaXF1b3RhID0gImdvb2dsZS5jb20iOyAvL2ZpbGV1dGlscy5EZWNvbXByZXNzWmxpYkNvbnRlbnQocGRmQnl0ZXNBbGlxdW90YSwgInBkZiIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUudXJsR25yZUFsaXF1b3RhID0gdXJsUGRmR05SRUFsaXF1b3RhOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUFsaXF1b3RhID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuaW5mb0d1aWFEaWZhbCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjY2Vzc0tleSI6IEdVSUEuYWNjZXNzS2V5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXV0aGVudGljYXRpb25OdW0iOiBHVUlBLmF1dGhlbnRpY2F0aW9uTnVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYmFyY29kZSI6IEdVSUEuYmFyY29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRyb2xOdW0iOiBHVUlBLmNvbnRyb2xOdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkZWJpdERhdGUiOiBHVUlBLmRlYml0RGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY051bSI6IEdVSUEuZG9jTnVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZHVlRGF0ZSI6IEdVSUEuZHVlRGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBlcmlvZCI6IEdVSUEucGVyaW9kLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJpbmNpcGFsQW1vdW50IjogR1VJQS5wcmluY2lwYWxBbW91bnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZXZlbnVlQ29kZSI6IEdVSUEucmV2ZW51ZUNvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdGF0ZSI6IEdVSUEuc3RhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0b3RhbEFtb3VudCI6IEdVSUEudG90YWxBbW91bnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnNlcnREYXRlIjogR1VJQS5pbnNlcnREYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2F0ZWdvcmlhIjogIkRJRkFMIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlQWxpcXVvdGEucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmwiOiB1cmxQZGZHTlJFQWxpcXVvdGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxBenVyZSI6IHVybFBkZkdOUkVBbGlxdW90YSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiBgR3VpYURpZmFsLSR7Y3RlTnVtZXJvfS5wZGZgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE8gR3VpYSBGZWNvcA0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqQ29kaWdvUmVjZWl0YVswXS5VcmxKc29uQ29udGV4dC50aXBvX2RlX2RvY3VtZW50byA9PSAiRkVDT1AiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBkZkJ5dGVzRmVjb3AgPSBHVUlBLnBkZkJ5dGVzOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmxQZGZHTlJFRmVjb3AgPSAiZ29vZ2xlLmNvbSI7IC8vZmlsZXV0aWxzLkRlY29tcHJlc3NabGliQ29udGVudChwZGZCeXRlc0ZlY29wLCAicGRmIik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS51cmxHbnJlRmVjb3AgPSB1cmxQZGZHTlJFRmVjb3A7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlRmVjb3AgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5pbmZvR3VpYUZlY29wID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYWNjZXNzS2V5IjogR1VJQS5hY2Nlc3NLZXksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhdXRoZW50aWNhdGlvbk51bSI6IEdVSUEuYXV0aGVudGljYXRpb25OdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJiYXJjb2RlIjogR1VJQS5iYXJjb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY29udHJvbE51bSI6IEdVSUEuY29udHJvbE51bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRlYml0RGF0ZSI6IEdVSUEuZGViaXREYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jTnVtIjogR1VJQS5kb2NOdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkdWVEYXRlIjogR1VJQS5kdWVEYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGVyaW9kIjogR1VJQS5wZXJpb2QsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcmluY2lwYWxBbW91bnQiOiBHVUlBLnByaW5jaXBhbEFtb3VudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInJldmVudWVDb2RlIjogR1VJQS5yZXZlbnVlQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXRlIjogR1VJQS5zdGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvdGFsQW1vdW50IjogR1VJQS50b3RhbEFtb3VudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImluc2VydERhdGUiOiBHVUlBLmluc2VydERhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXRlZ29yaWEiOiAiRkVDT1AiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVGZWNvcC5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybCI6IHVybFBkZkdOUkVGZWNvcCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEF6dXJlIjogdXJsUGRmR05SRUZlY29wLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6IGBHdWlhRmVjb3AtJHtjdGVOdW1lcm99LnBkZmANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETyBHdWlhIElDTVMgKEdOUkUpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGRmQnl0ZXNJQ01TID0gR1VJQS5wZGZCeXRlczsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsUGRmR05SRUlDTVMgPSAiZ29vZ2xlLmNvbSI7IC8vZmlsZXV0aWxzLkRlY29tcHJlc3NabGliQ29udGVudChwZGZCeXRlc0lDTVMsICJwZGYiKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLnVybEducmVJQ01TID0gdXJsUGRmR05SRUlDTVM7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlSUNNUyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmluZm9HdWlhR25lciA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFjY2Vzc0tleSI6IEdVSUEuYWNjZXNzS2V5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXV0aGVudGljYXRpb25OdW0iOiBHVUlBLmF1dGhlbnRpY2F0aW9uTnVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYmFyY29kZSI6IEdVSUEuYmFyY29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRyb2xOdW0iOiBHVUlBLmNvbnRyb2xOdW0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkZWJpdERhdGUiOiBHVUlBLmRlYml0RGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY051bSI6IEdVSUEuZG9jTnVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZHVlRGF0ZSI6IEdVSUEuZHVlRGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBlcmlvZCI6IEdVSUEucGVyaW9kLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJpbmNpcGFsQW1vdW50IjogR1VJQS5wcmluY2lwYWxBbW91bnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZXZlbnVlQ29kZSI6IEdVSUEucmV2ZW51ZUNvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdGF0ZSI6IEdVSUEuc3RhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0b3RhbEFtb3VudCI6IEdVSUEudG90YWxBbW91bnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnNlcnREYXRlIjogR1VJQS5pbnNlcnREYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2F0ZWdvcmlhIjogIkdOUkUiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVJQ01TLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXJsIjogdXJsUGRmR05SRUlDTVMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcmxBenVyZSI6IHVybFBkZkdOUkVJQ01TLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6IGBHdWlhR25yZS0ke2N0ZU51bWVyb30ucGRmYA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUucGFnYW1lbnRvR05SRSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGRhdGFfVXBkYXRlLnBhZ2FtZW50b0dOUkUpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9BdHVhbGl6YSBDVEVzIHNlbGVjaW9uYWRhcyBkbyBwYWdhbWVudG8gZGUgSW1wb3N0b3MuIA0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfc2F2ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogcGFnYW1lbnRvc0ltcG9zdG9zSUQsDQogICAgICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdGVzX3NlbGVjaW9uYWRhc1tpXS5JRCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGFfVXBkYXRlKQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICBDVEVzQXR1YWxpemFkYXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiBjdGVzX3NlbGVjaW9uYWRhc1tpXS5JRCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJmcm9tIjogcGFnYW1lbnRvc0ltcG9zdG9zSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAidG8iOiBndWlhc1BhZ2FzSUQNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy9BdHVhbGl6YSBDVEVzIGVtIENURXMgRW1pdGlkb3MuDQogICAgICAgICAgICAgICAgICAgIGxldCBwb3NySW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ3VpYXNfZG9vdGF4IjogW10NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuaGFzT3duUHJvcGVydHkoImFycXVpdm9fR25yZUFsaXF1b3RhIikgJiYgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlQWxpcXVvdGEubGVuZ3RoID4gMCA/IHBvc3JJbmZvLlVybEpzb25Db250ZXh0Lmd1aWFzX2Rvb3RheC5wdXNoKGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUFsaXF1b3RhWzBdKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5oYXNPd25Qcm9wZXJ0eSgiYXJxdWl2b19HbnJlRmVjb3AiKSAmJiBkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVGZWNvcC5sZW5ndGggPiAwID8gcG9zckluZm8uVXJsSnNvbkNvbnRleHQuZ3VpYXNfZG9vdGF4LnB1c2goZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlRmVjb3BbMF0pIDogIiI7DQogICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmhhc093blByb3BlcnR5KCJhcnF1aXZvX0ducmVJQ01TIikgJiYgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlSUNNUy5sZW5ndGggPiAwID8gcG9zckluZm8uVXJsSnNvbkNvbnRleHQuZ3VpYXNfZG9vdGF4LnB1c2goZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlSUNNU1swXSkgOiAiIjsNCg0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgICAgICBmZHRpZDogY3Rlc05hb0VtaXRpZG9zLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShwb3NySW5mbyksDQogICAgICAgICAgICAgICAgICAgICAgICBpZDogY3Rlc19zZWxlY2lvbmFkYXNbaV0uVXJsSnNvbkNvbnRleHQub25lX2NvcGllZF9mcm9tLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09IEVudmlvIGRlIGVtYWlsIENvbnRhdG9zID09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVHTlJFID0gIjgyMDA2ZWYwLWU0MTctNGQwMi1iNGU5LTkxZTU3YzJkMGZiZiI7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGVDb250ZXVkb0VtYWlsID0gJzE3MGQ3ZGQxLWQ0MmUtNDA2NC1hY2Y5LTlhN2M3MjI2MWFjYyc7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxldGVFbWFpbHMgPSAiMmNjOTQ5ZjItZmEyNi00YzBlLTg3ZjAtZDYxYTA5MjMxNjVhIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBFbXByZXNhSUQgPSAiYWY2NmZiMmQtOTYwZS00ZTFiLTlhNjYtNDQ0Y2RhZDY0ZjYzIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWx0cm9Ub21hZG9yID0gZ2VyYXJGaWx0cm8oImNucGpfZW1wcmVzYSIsIGN0ZXNfc2VsZWNpb25hZGFzW2ldLlVybEpzb25Db250ZXh0LkVNUGNucGpfZW1wcmVzYV9fdG9tYWRvcl9jbnBqX2N0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqVG9tYWRvciA9IGF3YWl0IGdldE9uZXJneUl0ZW0oRW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvVG9tYWRvcik7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdHJvRW1haWxzVG9hbWRvciA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgb2JqVG9tYWRvclswXS5JRCk7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW1haWxzVG9tYWRvciA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxldGVFbWFpbHMsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9FbWFpbHNUb2FtZG9yKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhRW1pc3NhbyA9IG5ldyBEYXRlKGN0ZXNfc2VsZWNpb25hZGFzW2ldLlVybEpzb25Db250ZXh0LmRhdGFfZW1pc3Nhb19jdGVEYXRlKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsc1RvbWFkb3IubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXVkb0VtYWlsID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibnVtZXJvX2N0ZSI6IGN0ZU51bWVybywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkR0RW1pc3NhbyI6ICgoZGF0YUVtaXNzYW8uZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpKSArICIvIiArICgoZGF0YUVtaXNzYW8uZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgMCkpICsgIi8iICsgZGF0YUVtaXNzYW8uZ2V0RnVsbFllYXIoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNoYXZlX2N0ZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoY3Rlc19zZWxlY2lvbmFkYXNbaV0uVXJsSnNvbkNvbnRleHQuY2hhdmVfY3RlX2N0ZSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWxvciI6IGN0ZXNfc2VsZWNpb25hZGFzW2ldLlVybEpzb25Db250ZXh0LnZhbG9yX3RvdGFsX3RyaWJ1dG9zX2N0ZS50b0ZpeGVkKDIpLnJlcGxhY2UoIi4iLCAiLCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgQW5leG9zID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9VcGRhdGUuaGFzT3duUHJvcGVydHkoImFycXVpdm9fR25yZUFsaXF1b3RhIikgJiYgZGF0YV9VcGRhdGUuYXJxdWl2b19HbnJlQWxpcXVvdGEubGVuZ3RoID4gMCA/IEFuZXhvcy5wdXNoKGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUFsaXF1b3RhWzBdKSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfVXBkYXRlLmhhc093blByb3BlcnR5KCJhcnF1aXZvX0ducmVGZWNvcCIpICYmIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUZlY29wLmxlbmd0aCA+IDAgPyBBbmV4b3MucHVzaChkYXRhX1VwZGF0ZS5hcnF1aXZvX0ducmVGZWNvcFswXSkgOiAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX1VwZGF0ZS5oYXNPd25Qcm9wZXJ0eSgiYXJxdWl2b19HbnJlSUNNUyIpICYmIGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUlDTVMubGVuZ3RoID4gMCA/IEFuZXhvcy5wdXNoKGRhdGFfVXBkYXRlLmFycXVpdm9fR25yZUlDTVNbMF0pIDogIiI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV1ZG9FbWFpbElEID0gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZUNvbnRldWRvRW1haWwsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBjb250ZXVkb0VtYWlsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzIGluIGVtYWlsc1RvbWFkb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsc1RvbWFkb3Jbc10uVXJsSnNvbkNvbnRleHQuaGFzT3duUHJvcGVydHkoJ2Vudmlhcl9nbnJlJykgJiYgZW1haWxzVG9tYWRvcltzXS5VcmxKc29uQ29udGV4dC5lbnZpYXJfZ25yZSA9PSAnc2ltJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZG1haWwoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBpZDogdGVtcGxhdGVHTlJFLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsX3RvOiBlbWFpbHNUb21hZG9yW3NdLlVybEpzb25Db250ZXh0LmVtYWlsX3VzdSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY29udGV1ZG9FbWFpbElELA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxzdEFuZXhvczogSlNPTi5zdHJpbmdpZnkoQW5leG9zKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgb25lcmd5LmxvZyhgRXJybyBubyBlbnZpbyBkZSBlbWFpbCBDVEUgXG4gRXJybzoke2Vycn1gKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn07DQoNCi8vVE9ETyAoRlVOQ1RJT04pIEFKQVgNCmFzeW5jIGZ1bmN0aW9uIGFqYXhDYWxsKGRhdGEsIFVSTCwgbWV0aG9kLCBkYXRhQ2FsbCkgew0KICAgIGNvbnN0IG91YXRoVG9rZW4gPSAiZmM2MzMxNWMtNjIyYy00MTQyLThlOTYtOTcwY2EwYTU1N2U5IjsgLy9vbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJvYXV0aC10b2tlbl9ET1RBWCIpOw0KICAgIGNvbnN0IHRlbmFudG9sZCA9ICJwcmVzdGV4IjsgLy9vbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJ0ZW5hbnRfRE9UQVgiKTsNCg0KICAgIGxldCByZXRvcm5vOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiBVUkwsDQogICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAnb2F1dGgtdG9rZW4nOiBvdWF0aFRva2VuLA0KICAgICAgICAgICAgJ3RlbmFudC1hbGlhcyc6IHRlbmFudG9sZA0KICAgICAgICB9LA0KICAgICAgICBkYXRhOiBkYXRhQ2FsbCwNCiAgICB9KS50aGVuKA0KICAgICAgICAocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgIHJldG9ybm8gPSByZXNwb25zZS5kYXRhOw0KICAgICAgICB9LA0KICAgICAgICAoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIHJldG9ybm8gPSBlcnJvci5yZXNwb25zZS5kYXRhOw0KICAgICAgICB9DQogICAgKTsNCiAgICByZXR1cm4gcmV0b3JubzsNCiAgICAvKg0KICAgIGxldCByZXNwb25zZTsNCiAgICBhamF4KHsNCiAgICAgICAgdXJsOiBVUkwsDQogICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgIGNvbnRlbnRUeXBlQ2hhclNldDogIiIsDQogICAgICAgIGhlYWRlcnM6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICdvYXV0aC10b2tlbic6IG91YXRoVG9rZW4sDQogICAgICAgICAgICAndGVuYW50LWFsaWFzJzogdGVuYW50b2xkDQogICAgICAgIH0pLA0KICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhQ2FsbCksDQogICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgIGZlZGlkOiBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGN0ZXNDdHgsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQogICAgICAgICAgICByZXNwb25zZSA9IGN0ZXNDdHg7DQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiBmdW5jdGlvbihjdGVzQ3R4LCBqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICByZXNwb25zZSA9IGVycm9yOw0KICAgICAgICB9DQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UpOw0KICAgICovDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgYXNzaWQsIHVzcmlkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfTsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBrZWVwU2VhcmNoaW5nID0gdHJ1ZTsNCiAgICBsZXQgc2tpcCA9IDA7DQogICAgdGFrZSA9IDUwMDsNCiAgICBsZXQgcmVzdWx0ID0gW107DQogICAgd2hpbGUgKGtlZXBTZWFyY2hpbmcpIHsNCiAgICAgICAgbGV0IHN0clBhZ2VSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgICAgICBmaWx0ZXI6IGZpbHRybywNCiAgICAgICAgICAgIHNraXA6IHNraXAsDQogICAgICAgICAgICB0YWtlOiB0YWtlDQogICAgICAgIH0pOw0KICAgICAgICBza2lwICs9IHRha2U7DQogICAgICAgIGxldCBwYWdlUmVzcCA9IEpTT04ucGFyc2Uoc3RyUGFnZVJlc3ApOw0KICAgICAgICBpZiAocGFnZVJlc3AgIT0gbnVsbCAmJiBwYWdlUmVzcC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBrZWVwU2VhcmNoaW5nID0gcGFnZVJlc3AubGVuZ3RoID09IHRha2U7DQogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhZ2VSZXNwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnanNvbic6IEpTT04uc3RyaW5naWZ5KGpzb24pLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIHJldHVybiBvYmo7DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgbGV0IHN0cnJldCA9IHN0cnJlYy50b1N0cmluZygpLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgIHJldHVybiBzdHJyZXQ7DQp9DQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgImF0aXZvIjogInNpbSIsDQogICAgImRhdGFfdWx0aW1hX2V4ZWN1Y2FvRGF0ZSI6ICIyMDIyLTA3LTE1VDAzOjAwOjAwWiIsDQogICAgImRhdGFfdWx0aW1hX2V4ZWN1Y2FvIjogIjIwMjItMDctMTUgMDA6MDA6MDAiLA0KICAgICJsb2ciOiAiIiwNCiAgICAiYXRpdm9fZGVzYyI6ICJTaW0iLA0KICAgICJvbmVUZW1wbGF0ZVRpdGxlIjogIlRhcmVmYSBCdXNjYSBkZSBHdWlhcyBwYWdhcyIsDQogICAgIkV4ZWN1dGFyIjogdHJ1ZSwNCiAgICAiYXNzX2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgImZlZGlkIjogIjg5YjI5MzUzLTkzY2QtM2YwNC0wM2EwLTdmYzFiYjljNWE4ZSIsDQogICAgImZkdGlkIjogIjMxNTA4ZmNlLTM3ZDctNGE0OC1hNjgxLWQyMjUxNzk5Y2Y5NyIsDQogICAgInVzcmlkIjogImJmOWI0NTllLTZmY2UtNGY2Yi04NDU5LTE2YjFiMzFhZjY0YiIsDQogICAgImVtYWlsIjogInByZXN0ZXhAaG9tb2wuY29tIiwNCiAgICAib25lcmd5X3JvbGlkIjogIiIsDQogICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAib25lcmd5X2pzX2N0eCI6IHsNCiAgICAgICAgImFzc2lkIjogIjE2YzE3ZDI4LWQwNDUtNDUwMS04NjVlLTMwOWEzZjk1ZTI4OSIsDQogICAgICAgICJmZWRpZCI6ICI4OWIyOTM1My05M2NkLTNmMDQtMDNhMC03ZmMxYmI5YzVhOGUiLA0KICAgICAgICAiZmR0aWQiOiAiMzE1MDhmY2UtMzdkNy00YTQ4LWE2ODEtZDIyNTE3OTljZjk3IiwNCiAgICAgICAgInVzcmlkIjogImJmOWI0NTllLTZmY2UtNGY2Yi04NDU5LTE2YjFiMzFhZjY0YiIsDQogICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTA3LTE1VDE4OjE2OjI1LjY2M1oiLA0KICAgICAgICAidXBkYXRlRHQiOiAiMjAyMi0wNy0xNVQxODoxODo1NS4wNDVaIiwNCiAgICAgICAgImN1cl91c2VyaWQiOiAiYmY5YjQ1OWUtNmZjZS00ZjZiLTg0NTktMTZiMWIzMWFmNjRiIiwNCiAgICAgICAgImVtYWlsIjogInByZXN0ZXhAaG9tb2wuY29tIiwNCiAgICAgICAgInVzZXJfbmFtZSI6ICJwcmVzdGV4QGhvbW9sLmNvbSIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAgICAgInByYWlkIjogIjdmOGViOWY5LWM0ZWItNDk3MS05NDQyLWNmNzNhMTE2ZGEyYyIsDQogICAgICAgICJwY3ZpZCI6ICIxNGE3YjhhZC04YjE4LWE2OTYtMjUwNC0zNGQ5OGI5M2EyNTYiLA0KICAgICAgICAicHJjaWQiOiAiNzI0Njg2YzgtOTY2Yy02OTIwLTI3YTItZjVkNjgwYWRjN2I5IiwNCiAgICAgICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAgICAgInRpbWV6b25lX3ZhbHVlIjogIi0wMzowMCIsDQogICAgICAgICJwdWJOdWJIb29rIjogbnVsbA0KICAgIH0NCn0NCg0KaW5pdChKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(MDFE) - Cancelamento.js", "isDirectory": false, "__KEY__": "9cee4ecb-f1c2-de0d-2896-fa9a95489256", "size": 21338, "dateModified": "2022-06-20T14:26:14.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KDQp2YXIgTURGRU5hb0VNaXRpZG9JRCA9ICI4MzZlYjY2Yi04M2YyLTQ2ODgtOTRjZi0yNTY1NDE1Y2JhNmMiOw0KdmFyIE1ERkVFbWl0aWRvc0lEID0gIjEwNzExMTg4LTFlMDItNDE1Yy05MjdmLTRhZGQ3YTFjZDllMCI7DQp2YXIgaGlzdG9yaWNvRnJldGVJRCA9ICI5ZjU5MTg2OS0yNTJiLTQ4YzUtOGRhNy05MDMyNTU5OTExNGIiOw0KdmFyIHVuaWRhZGVFbWlzc2FvSUQgPSAnMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmJzsNCnZhciB1bmlkYWRlRW1pc3Nhb0VuZGVyZWNvSUQgPSAnOGRlODg2OTItMDgwZi00NGZlLTlmMGMtMjljOGVhNTM3ZjRmJzsNCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KDQogICAgdmFyIHJlZ2lzdHJvTURGZSA9IFtdOw0KICAgIGxldCBmaWx0cm9faWRfbWRmZSA9IGdlcmFyRmlsdHJvKCJfaWQiLCBkYXRhLklEX09ORV9SRUYpOw0KICAgIGxldCBNREZFID0gYXdhaXQgZ2V0T25lcmd5SXRlbShNREZFRW1pdGlkb3NJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb19pZF9tZGZlKTsNCiAgICBpZiAoTURGRS5sZW5ndGggPT0gMCkgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6ICIoRXJybyBlbmNhcnJhbWVudG8pIC0gTsOjbyBmb2kgcG9zc8OtdmVsIGJ1c2NhciBNREZFLiAiDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZWdpc3Ryb01ERmUgPSBNREZFWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIH0NCg0KICAgIGlmIChyZWdpc3Ryb01ERmUuc3RhdHVzX21kZmUgPT09ICJlbWl0aWRvIiAmJiBkYXRhLm1vdGl2b19kb19jYW5jZWxhbWVudG9fbWRmZSAhPT0gIiIpIHsNCg0KICAgICAgICAvL1RPRE8gT0JKIENhbmNlbGFtZW50by4NCiAgICAgICAgbGV0IE9iakNhbmNlbGFtZW50b01ERmU7DQogICAgICAgIGxldCByZXN1bHRGdW5jdGlvbiA9IGF3YWl0IENyaWFPYmpldG9DYW5jZWxhbWVudG9NREZlKHJlZ2lzdHJvTURGZSwgZGF0YSk7DQogICAgICAgIGlmIChyZXN1bHRGdW5jdGlvbi5zdGF0dXMgPT0gIk5PSyIpIHsNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiByZXN1bHRGdW5jdGlvbi5tc2cNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIE9iakNhbmNlbGFtZW50b01ERmUgPSByZXN1bHRGdW5jdGlvbi5vYmo7DQogICAgICAgIH0NCg0KICAgICAgICAvL1RPRE8gIFRva2VuDQogICAgICAgIGxldCB0b2tlbk9iaiA9IGF3YWl0IFBlZ2FUb2tlbihkYXRhKTsNCiAgICAgICAgaWYgKCF0b2tlbk9iaiB8fCAhdG9rZW5PYmoudG9rZW4pIHsNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiAiVG9rZW4gSW52w6FsaWRvIG91IEVtcHJlc2EgbsOjbyBBdXRvcml6YWRhICEiDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICAvL1RPRE8gYWpheA0KICAgICAgICBsZXQgdXJsZW1pc3NhbyA9ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Qcm9jTURGZS9DYW5jZWxhck1ERmUiOw0KICAgICAgICBsZXQgcmVzcG9zdGFNZW5zYWdlcmlhID0gYXdhaXQgRWZldHVhTWVuc2FnZXJpYShkYXRhLCBPYmpDYW5jZWxhbWVudG9NREZlLCB0b2tlbk9iaiwgdXJsZW1pc3Nhbyk7DQogICAgICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5zdGF0dXMgPT0gNDAwKSB7DQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogYEVycm8gbmEgZXhlY3XDp8Ojbzoke0pTT04uc3RyaW5naWZ5KHJlc3Bvc3RhTWVuc2FnZXJpYS5lcnJvcnMpfWANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEgJiYgcmVzcG9zdGFNZW5zYWdlcmlhLmhhc093blByb3BlcnR5KCJpZCIpICYmIHJlc3Bvc3RhTWVuc2FnZXJpYS5pZCA9PSAiMTM1Iikgew0KICAgICAgICAgICAgYXdhaXQgR3JhdmFFdmVudG8ocmVnaXN0cm9NREZlLmZlZGlkLCAiQ2FuY2VsYW1lbnRvIiwgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMucHJvdG9jb2xvQXV0b3JpemFjYW8sICIiLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCk7DQoNCiAgICAgICAgICAgIGxldCByZXN1bHRJbmZvID0gew0KICAgICAgICAgICAgICAgICJzdGF0dXNfbWRmZSI6ICJjYW5jZWxhZG8iLA0KICAgICAgICAgICAgICAgICJzdGF0dXNfbWRmZV9kZXNjIjogIkNhbmNlbGFkbyIsDQogICAgICAgICAgICAgICAgImxvZ19tZGZlIjogcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMucmV0b3Jub1NFRkFaDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChyZWdpc3Ryb01ERmUuc3RhdHVzX2Npb3RfbWRmZSA9PSAiRW1pdGlkbyIgJiYgcmVnaXN0cm9NREZlLmNvZGlnb19pZGVudGlmaWNhZG9yX2RhX29wZXJhY2FvX2RlX3RyYW5zcG9ydGVfbWRmZSkgew0KICAgICAgICAgICAgICAgIGxldCByZXN1bHRDYW5jZWxhbWVudG8gPSBhd2FpdCBDYW5jZWxhckNJT1QoZGF0YSwgcmVnaXN0cm9NREZlKTsNCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Q2FuY2VsYW1lbnRvLnN0YXR1cyA9PSAiT0siKSB7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdEluZm8uc3RhdHVzX2Npb3RfbWRmZSA9ICJDYW5jZWxhZG8iOw0KICAgICAgICAgICAgICAgICAgICByZXN1bHRJbmZvLnN0YXR1c19jaW90X21kZmVfZGVzYyA9ICJDYW5jZWxhZG8iOw0KICAgICAgICAgICAgICAgICAgICByZXN1bHRJbmZvLnByb3RvY29sb19kZV9jYW5jZWxhbWVudG9fY2lvdCA9IHJlc3VsdENhbmNlbGFtZW50by5wcm90b2NvbG87DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0SW5mby5sb2dfbWRmZSA9IHJlc3VsdENhbmNlbGFtZW50by5tc2c7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHsgIlVybEpzb25Db250ZXh0IjogcmVzdWx0SW5mbyB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5yZXRvcm5vU0VGQVoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghcmVzcG9zdGFNZW5zYWdlcmlhKSB7DQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogYEVycm8gbmEgZXhlY3XDp8Ojbzoke0pTT04uc3RyaW5naWZ5KHJlc3Bvc3RhTWVuc2FnZXJpYS5lcnJvcnMpfWANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEuaGFzT3duUHJvcGVydHkoImV4Y2VwdGlvbnMiKSAmJiByZXNwb3N0YU1lbnNhZ2VyaWEuZXhjZXB0aW9ucy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB2YXIgbmxvZyA9ICIiOw0KICAgICAgICAgICAgZm9yICh2YXIgY2EgaW4gcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMpIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVzcGNhID0gcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnNbY2FdOw0KICAgICAgICAgICAgICAgIGlmIChubG9nID09PSAiIikgew0KICAgICAgICAgICAgICAgICAgICBubG9nID0gcmVzcGNhLmRlc2NyaWNhbzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBubG9nID0gbmxvZyArICIgLyAiICsgcmVzcGNhLmRlc2NyaWNhbzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogYChFcnJvIEFQSSBFbmNlcnJhbWVudG8pIC0gJHtubG9nfWANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgImxvZ19tZGZlIjogIk7Do28gZm9pIHBvc3PDrXZlbCBjYW5jZWxhciBNREZFIGUgZXJybyBuw6NvIGZvaSBpZGVudGlmaWNhZG8uIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICBhd2FpdCBTZXRSZXR1cm4oZGF0YSwgcmVzdWx0KTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICAgIHJldHVybiB0cnVlOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBDYW5jZWxhckNJT1QoZGF0YSwgb2JqTURGZSkgew0KICAgIHRyeSB7DQogICAgICAgIGxldCBmaWx0cm9IaXN0b3JpY29GcmV0ZSA9IGdlcmFyRmlsdHJvKCJudW1lcm9fZG9fY2lvdF9tZGZlIiwgb2JqTURGZS5jb2RpZ29faWRlbnRpZmljYWRvcl9kYV9vcGVyYWNhb19kZV90cmFuc3BvcnRlX21kZmUpOw0KICAgICAgICBsZXQgaGlzdG9yaWNvRnJldGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGhpc3Rvcmljb0ZyZXRlSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9IaXN0b3JpY29GcmV0ZSk7DQoNCiAgICAgICAgbGV0IEVuY2VycmFtZW50b0NJT1RQb3N0ID0gew0KICAgICAgICAgICAgImF1dGgiOiB7DQogICAgICAgICAgICAgICAgImtleSI6ICIyODk3N2NkOS0zMmVkLTRmOTgtYjVlMy1lZDA0ZTI1YmI0N2UiLA0KICAgICAgICAgICAgICAgICJ1c2VyIjogInVzdWFyaW9Aa2VlcHRydWUiLA0KICAgICAgICAgICAgICAgICJwYXNzd29yZCI6ICJ1c3VhcmlvI2tlZXB0cnVlIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJyZXEiOiB7DQogICAgICAgICAgICAgICAgIkNvZGlnb0lkZW50aWZpY2FjYW9PcGVyYWNhbyI6IGN0eENpb3QuY29kaWdvX2lkZW50aWZpY2Fkb3JfZGFfb3BlcmFjYW9fZGVfdHJhbnNwb3J0ZV9tZGZlLA0KICAgICAgICAgICAgICAgICJNb3Rpdm8iOiBkYXRhLm1vdGl2b19kb19jYW5jZWxhbWVudG9fbWRmZSwNCiAgICAgICAgICAgICAgICAiVmVyc2FvIjogMQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIGxldCBSZXR1cm5DYW5jZWxhbWVudG9DaW90ID0gYXdhaXQgQXBpQ2FuY2VsYW1lbnRvQ0lPVChkYXRhLCBFbmNlcnJhbWVudG9DSU9UUG9zdCk7DQogICAgICAgIGlmICghUmV0dXJuQ2FuY2VsYW1lbnRvQ2lvdCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6ICJNZW5zYWdlcmlhIHNlbSByZXNwb3N0YS4iLA0KICAgICAgICAgICAgICAgICJwcm90b2NvbG8iOiAiIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChSZXR1cm5DYW5jZWxhbWVudG9DaW90Lmhhc093blByb3BlcnR5KCJzdGF0dXMiKSAmJiBSZXR1cm5DYW5jZWxhbWVudG9DaW90LnN0YXR1cyA9PSA0MDApIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiBgKEVycm8gQVBJKVxuJHtSZXR1cm5DYW5jZWxhbWVudG9DaW90LmRhdGF9YCwNCiAgICAgICAgICAgICAgICAicHJvdG9jb2xvIjogIiINCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBjb25zdWx0YVN1Y2Vzc28gPSBSZXR1cm5DYW5jZWxhbWVudG9DaW90LmNhbmNlbGFyT3BlcmFjYW9UcmFuc3BvcnRlUmVzdWx0LnN1Y2Vzc287DQogICAgICAgIGxldCBwcm90b2NvbG9DYW5jZWxhbWVudG8gPSBSZXR1cm5DYW5jZWxhbWVudG9DaW90LmNhbmNlbGFyT3BlcmFjYW9UcmFuc3BvcnRlUmVzdWx0LnByb3RvY29sbzsNCiAgICAgICAgbGV0IGVycm8gPSBSZXR1cm5DYW5jZWxhbWVudG9DaW90LmNhbmNlbGFyT3BlcmFjYW9UcmFuc3BvcnRlUmVzdWx0LmV4Y2VjYW8ubWVuc2FnZW07DQogICAgICAgIGlmIChjb25zdWx0YVN1Y2Vzc28pIHsNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJPSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6ICIiLA0KICAgICAgICAgICAgICAgICJwcm90b2NvbG8iOiBwcm90b2NvbG9DYW5jZWxhbWVudG8NCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGlmIChoaXN0b3JpY29GcmV0ZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogaGlzdG9yaWNvRnJldGVJRCwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdGF0dXNfY2lvdF9tZGZlIjogIkNhbmNlbGFkbyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXR1c19jaW90X21kZmVfZGVzYyI6ICJDYW5jZWxhZG8iDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBpZDogaGlzdG9yaWNvRnJldGVbMF0uSUQNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0gZWxzZSBpZiAoZXJybykgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6IGVycm8sDQogICAgICAgICAgICAgICAgInByb3RvY29sbyI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIm1zZyI6ICJOw6NvIGZvaSBwb3Nzw612ZWwgY2FuY2VsYXIgQ0lPVC4gKFNlbSByZXNwb3N0YSBkZSBlcnJvIGUgc2VtIHN1Y2Vzc28pLiIsDQogICAgICAgICAgICAgICAgInByb3RvY29sbyI6ICIiDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfSBjYXRjaCAoZXJybykgew0KICAgICAgICBsZXQgT3JpZ2VtID0gIihFUlJPIC0gQ2FuY2VsYXIgTURGZSkgZnVuY3Rpb24gQ2FuY2VsYXJDSU9UIg0KICAgICAgICBsZXQgY29udGVudCA9IHsNCiAgICAgICAgICAgICJtZW5zYWdlbSI6IGVycm8ubWVzc2FnZSwNCiAgICAgICAgICAgICJwaWxoYSI6IGVycm8uc3RhY2sNCiAgICAgICAgfQ0KICAgICAgICBvbmVyZ3kubG9nKEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpLCBPcmlnZW0pOw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGAoRVJSTylcbk9yaWdlbToke09yaWdlbX1cbkNvbnRlbnQ6JHtKU09OLnN0cmluZ2lmeShjb250ZW50KX1gLA0KICAgICAgICAgICAgInByb3RvY29sbyI6ICIiDQogICAgICAgIH07DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBBcGlDYW5jZWxhbWVudG9DSU9UKGRhdGEsIGRhdGFDYWxsKSB7DQoNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogImh0dHBzOi8vZm5jaW90ZWZyZXRlcy5henVyZXdlYnNpdGVzLm5ldC9hcGkvZm5DYW5jZWxPcFRyYW5zcG9ydGUiLA0KICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgZGF0YTogZGF0YUNhbGwsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgc3RyUmVzcFRva2VuID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LCAoZXJyb3IpID0+IHsNCiAgICAgICAgc3RyUmVzcFRva2VuID0gZXJyb3IucmVzcG9uc2UuZGF0YQ0KICAgIH0pOw0KICAgIHJldHVybiBzdHJSZXNwVG9rZW47DQoNCiAgICAvKg0KICAgIGxldCBzdHJSZXNwb25zZUNJT1Q7DQogICAgY29uc3QgdXJsQ0lPVCA9ICJodHRwczovL2ZuY2lvdGVmcmV0ZXMuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL2ZuQ2FuY2VsT3BUcmFuc3BvcnRlIjsNCiAgICBhamF4KHsNCiAgICAgICAgdXJsOiB1cmxDSU9ULA0KICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBjb250ZW50VHlwZUNoYXJTZXQ6ICIiLA0KICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhQ2FsbCksDQogICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgZmVkaWQ6IGRhdGEuZmVkaWQsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgc3RyUmVzcG9uc2VDSU9UID0gZGF0YTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhLCBqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICBzdHJSZXNwb25zZUNJT1QgPSBlcnJvci5yZXNwb25zZS5kYXRhOw0KICAgICAgICB9DQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcG9uc2VDSU9UKTsNCiAgICAqLw0KfQ0KDQpmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBQZWdhVG9rZW4ob2JqKSB7DQoNCiAgICBsZXQgdXNyTG9naW4gPSAicHIzc3QzeCI7DQogICAgbGV0IHB3ZCA9ICJwcjNzdDN4Y3QzMjAyMSI7DQogICAgbGV0IHN0clJlc3BUb2tlbiA9ICIiOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvTG9naW4/cFVzZXJOYW1lPSIgKyB1c3JMb2dpbiArICImcFBhc3M9IiArIHB3ZCwNCiAgICAgICAgLy91cmw6ICJodHRwczovL2xvY2FsaG9zdDo0NDM1Mi9hcGkvTG9naW4/cFVzZXJOYW1lPXByM3N0M3gmcFBhc3M9cHIzc3QzeGN0MzIwMjEiLA0KICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICBkYXRhOiAiIiwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSAnJw0KICAgIH0pOw0KICAgIHJldHVybiBzdHJSZXNwVG9rZW47DQoNCiAgICAvKg0KICAgICAgICBsZXQgdXNyTG9naW4gPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJ1c3VhcmlvX2RmZSIpOw0KICAgICAgICBsZXQgcHdkID0gb25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygic2VuaGFfZGZlIik7DQogICAgICAgIGxldCBzdHJSZXNwVG9rZW4gPSAiIjsNCiAgICAgICAgQWpheCh7DQogICAgICAgICAgICB1cmw6ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Mb2dpbj9wVXNlck5hbWU9IiArIHVzckxvZ2luICsgIiZwUGFzcz0iICsgcHdkLA0KICAgICAgICAgICAgYXNzaWQ6IG9iai5hc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiBvYmoudXNyaWQsDQogICAgICAgICAgICBmZWRpZDogb2JqLmZlZGlkLA0KICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgICAgIGRhdGE6ICIiLA0KICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQogICAgICAgICAgICAgICAgc3RyUmVzcFRva2VuID0gZGF0YTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BUb2tlbiA9IGV4Y2VwdGlvbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3BUb2tlbik7DQogICAgKi8NCn0NCg0KYXN5bmMgZnVuY3Rpb24gRWZldHVhTWVuc2FnZXJpYShvYmosIG9iamVudmlvLCB0b2tlbk9iaiwgZ251cmwpIHsNCg0KICAgIGxldCByZXRvcm5vOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiBnbnVybCwNCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgdG9rZW5PYmoudG9rZW4NCiAgICAgICAgfSwNCiAgICAgICAgZGF0YTogb2JqZW52aW8sDQogICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgcmV0b3JubyA9IHJlc3BvbnNlLmRhdGE7DQogICAgfSwgKGVycm9yKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSBlcnJvci5yZXNwb25zZS5kYXRhDQogICAgfSk7DQogICAgcmV0dXJuIHJldG9ybm8NCg0KICAgIC8qDQogICAgICAgIGxldCBzdHJSZXNwQ1RlID0gIiI7DQogICAgICAgIGFqYXgoew0KICAgICAgICAgICAgdXJsOiBnbnVybCwNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwNCiAgICAgICAgICAgIGFzc2lkOiBvYmouYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogb2JqLnVzcmlkLA0KICAgICAgICAgICAgZmVkaWQ6IG9iai5mZWRpZCwNCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG9iamVudmlvKSwNCiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmVhcmVyIiwNCiAgICAgICAgICAgICAgICB2YWx1ZTogdG9rZW5PYmoudG9rZW4NCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwQ1RlID0gZGF0YTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BDVGUgPSBleGNlcHRpb247DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwQ1RlKTsNCiAgICAgICAgKi8NCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2V0T25lcmd5SXRlbShmZHRpZCwgYXNzaWQsIHVzcmlkLCBmaWx0cm8pIHsNCiAgICBsZXQgc3RyUmVzcCA9IGF3YWl0IG9uZXJneV9nZXQoew0KICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBmaWx0ZXI6IGZpbHRybw0KICAgIH0pOw0KICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3ApOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIGFzc2lkLCB1c3JpZCwgZGF0YSwgZmVkaWQsIHVrRmllbGQpIHsNCiAgICBsZXQgb25lcmd5U2F2ZURhdGEgPSB7DQogICAgICAgIGZkdGlkOiB0ZW1wbGF0ZWlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSkNCiAgICB9Ow0KDQogICAgaWYgKGZlZGlkICE9PSB1bmRlZmluZWQgJiYgZmVkaWQgIT09ICcnKSB7DQogICAgICAgIG9uZXJneVNhdmVEYXRhLmlkID0gZmVkaWQ7DQogICAgfQ0KICAgIGlmICh1a0ZpZWxkICE9PSB1bmRlZmluZWQgJiYgdWtGaWVsZCAhPT0gJycpIHsNCiAgICAgICAgb25lcmd5U2F2ZURhdGEudWtGaWVsZCA9IHVrRmllbGQ7DQogICAgfQ0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIENyaWFPYmpldG9DYW5jZWxhbWVudG9NREZlKE9iak1ERmUsIGRhdGEpIHsNCiAgICB0cnkgew0KICAgICAgICAvLyBEYWRvcyBkbyBFbWl0ZW50ZQ0KICAgICAgICBsZXQgRmlsdHJvTGlzdGFFc3RhYmVsZWNpbWVudG8gPSBnZXJhckZpbHRybygiX2lkIiwgT2JqTURGZS5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX21kZmVfaWQpDQogICAgICAgIGxldCBvYmpFbWl0ZW50ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odW5pZGFkZUVtaXNzYW9JRCwgT2JqTURGZS5hc3NpZCwgT2JqTURGZS51c3JpZCwgRmlsdHJvTGlzdGFFc3RhYmVsZWNpbWVudG8pOw0KICAgICAgICBsZXQgY3R4RW1pdGVudGUgPSAnJzsNCiAgICAgICAgaWYgKG9iakVtaXRlbnRlICE9IG51bGwgJiYgb2JqRW1pdGVudGUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgY3R4RW1pdGVudGUgPSBvYmpFbWl0ZW50ZVswXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiBgKEVycm8gRW5jZXJyYW1lbnRvKSAtIFVuaWRhZGUgZGUgZW1pc3PDo28gbmFvIGZvaSBlbmNvbnRyYWRhLmAsDQogICAgICAgICAgICAgICAgIm9iaiI6IG51bGwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCg0KICAgICAgICAvLyBFbmRlcmXDp28gZG8gRW1pdGVudGUNCiAgICAgICAgbGV0IEZpbHRyb0VuZGVyZWNvRW1pdGVudGUgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIG9iakVtaXRlbnRlWzBdLklEKTsNCiAgICAgICAgbGV0IG9iakVuZGVyZWNvRW1pdGVudGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHVuaWRhZGVFbWlzc2FvRW5kZXJlY29JRCwgT2JqTURGZS5hc3NpZCwgT2JqTURGZS51c3JpZCwgRmlsdHJvRW5kZXJlY29FbWl0ZW50ZSk7DQogICAgICAgIGxldCBjdHhFbmRlcmVjb0VtaXRlbnRlID0gJyc7DQogICAgICAgIGlmIChvYmpFbmRlcmVjb0VtaXRlbnRlICE9IG51bGwgJiYgb2JqRW5kZXJlY29FbWl0ZW50ZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBjdHhFbmRlcmVjb0VtaXRlbnRlID0gb2JqRW5kZXJlY29FbWl0ZW50ZVswXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiBgKEVycm8gRW5jZXJyYW1lbnRvKSAtIEVuZGVyZcOnbyBkYSB1bmlkYWRlIGRlIGVtaXNzw6NvIG7Do28gZm9pIGVuY29udHJhZG8uYCwNCiAgICAgICAgICAgICAgICAib2JqIjogbnVsbA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBPYmpDYW5jTURGRVRNUCA9IHsNCiAgICAgICAgICAgICJsaW5rQ2VydGlmaWNhZG8iOiBjdHhFbWl0ZW50ZS5jZXJ0aWZpY2Fkb1swXS5VcmwsDQogICAgICAgICAgICAic2VuaGFDZXJ0IjogY3R4RW1pdGVudGUuc2VuaGFfY2VydGlmaWNhZG8sDQogICAgICAgICAgICAidGlwb0FtYmllbnRlIjogcmV0aXJhX2FjZW50b3MoY3R4RW1pdGVudGUuYW1iaWVudGVfZGVzYyksDQogICAgICAgICAgICAidWZFbWl0ZW50ZUNUZSI6IGN0eEVuZGVyZWNvRW1pdGVudGUuTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2EsDQogICAgICAgICAgICAiY25wakVtaXRlbnRlQ1RlIjogY3R4RW1pdGVudGUuY25waiwNCiAgICAgICAgICAgICJjb2RNdW5pY2lwaW9FbWl0ZW50ZUNUZSI6IGN0eEVuZGVyZWNvRW1pdGVudGUuTUxPQ1ptdW5pY2lwaW9faWJnZSwNCiAgICAgICAgICAgICJjaGF2ZU1ERmUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKE9iak1ERmUuY2hhdmVfbWRmZSksDQogICAgICAgICAgICAibnVtZXJvUHJvdG9jb2xvIjogT2JqTURGZS5udW1lcm9fcHJvdG9jb2xvX21kZmUsDQogICAgICAgICAgICAianVzdGlmaWNhdGl2YSI6IGRhdGEubW90aXZvX2RvX2NhbmNlbGFtZW50b19tZGZlLA0KICAgICAgICAgICAgImR0b0NvbmR1dG9yZXNWZWljdWxvcyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJub21lQ29uZHV0b3IiOiBPYmpNREZlLlBFU25vbWVfcGVzc29hX19ub21lX2RvX2NvbmR1dG9yX21kZmUsDQogICAgICAgICAgICAgICAgICAgICJjcGZDb25kdXRvciI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoT2JqTURGZS5QRVNjcGZfcGVzc29hKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiT0siLA0KICAgICAgICAgICAgIm1zZyI6ICIiLA0KICAgICAgICAgICAgIm9iaiI6IE9iakNhbmNNREZFVE1QDQogICAgICAgIH07DQoNCiAgICB9IGNhdGNoIChlcnJvKSB7DQogICAgICAgIGxldCBPcmlnZW0gPSAiKEVSUk8gLSBDYW5jZWxhciBNREZlKSBmdW5jdGlvbiBDcmlhT2JqZXRvQ2FuY2VsYW1lbnRvTURGZSINCiAgICAgICAgbGV0IGNvbnRlbnQgPSB7DQogICAgICAgICAgICAibWVuc2FnZW0iOiBlcnJvLm1lc3NhZ2UsDQogICAgICAgICAgICAicGlsaGEiOiBlcnJvLnN0YWNrDQogICAgICAgIH0NCiAgICAgICAgb25lcmd5LmxvZyhKU09OLnN0cmluZ2lmeShjb250ZW50KSwgT3JpZ2VtKTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiBgKEVSUk8pXG5PcmlnZW06JHtPcmlnZW19XG5Db250ZW50OiR7SlNPTi5zdHJpbmdpZnkoY29udGVudCl9YCwNCiAgICAgICAgICAgICJvYmoiOiBudWxsDQogICAgICAgIH07DQogICAgfQ0KDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEdyYXZhRXZlbnRvKHBJRF9PTkVfUkVGLCB0aXBvZXZlbnRvLCBwcHJvdG9jb2xvLCBwY2hhdmUsIHBhc3NpZCwgcHVzcmlkKSB7DQogICAgbGV0IGZkdF9ldmVudG8gPSAiZjI2MjZjMjktMzkyMy00NmE3LThjMzktOGNjNDEwY2ViMjk3IjsNCiAgICBsZXQgb2JqZXZlbnRvID0gew0KICAgICAgICBJRF9PTkVfUkVGOiBwSURfT05FX1JFRiwNCiAgICAgICAgZGF0YWhvcmFfZG9fZXZlbnRvRGF0ZTogdXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiksDQogICAgICAgIGRhdGFob3JhX2RvX2V2ZW50bzogdXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiksDQogICAgICAgIHRpcG9fZG9fZXZlbnRvX21kZmU6IHRpcG9ldmVudG8sDQogICAgICAgIHByb3RvY29sb19tZGZlOiBwcHJvdG9jb2xvLA0KICAgICAgICBjaGF2ZV9tZGZlOiBwY2hhdmUNCiAgICB9Ow0KICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3koZmR0X2V2ZW50bywgcHVzcmlkLCBwYXNzaWQsIG9iamV2ZW50byk7DQogICAgcmV0dXJuOw0KfQ0KDQpmdW5jdGlvbiByZXRpcmFfYWNlbnRvcyhzdHIpIHsNCiAgICBsZXQgY29tX2FjZW50byA9ICLDgMOBw4LDg8OEw4XDhsOHw4jDicOKw4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5jDmcOaw5vDnMOdxZTDnsOfw6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0w7XDtsO4w7nDusO7w7zDvcO+w7/FlSI7DQogICAgbGV0IHNlbV9hY2VudG8gPSAiQUFBQUFBQUNFRUVFSUlJSUROT09PT09PVVVVVVlSc0JhYWFhYWFhY2VlZWVpaWlpb25vb29vb291dXV1eWJ5ciI7DQogICAgbGV0IG5vdmFzdHIgPSAiIjsNCiAgICBpZiAoc3RyKSB7DQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHRyb2NhID0gZmFsc2U7DQogICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgY29tX2FjZW50by5sZW5ndGg7IGErKykgew0KICAgICAgICAgICAgICAgIGlmIChzdHIuc3Vic3RyKGksIDEpID09IGNvbV9hY2VudG8uc3Vic3RyKGEsIDEpKSB7DQogICAgICAgICAgICAgICAgICAgIG5vdmFzdHIgKz0gc2VtX2FjZW50by5zdWJzdHIoYSwgMSk7DQogICAgICAgICAgICAgICAgICAgIHRyb2NhID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHRyb2NhID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgIG5vdmFzdHIgKz0gc3RyLnN1YnN0cihpLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICB9DQogICAgcmV0dXJuIG5vdmFzdHI7DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgaWYgKHN0cnJlYykgew0KICAgICAgICBsZXQgc3RycmV0ID0gc3RycmVjLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgICAgICByZXR1cm4gc3RycmV0Ow0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIFNldFJldHVybihkYXRhLCByZXN1bHQpIHsNCiAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgIGZkdGlkOiBNREZFTmFvRU1pdGlkb0lELA0KICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyZXN1bHQpLA0KICAgICAgICBpZDogZGF0YS5JRF9PTkVfUkVGDQogICAgfSk7DQp9DQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgImRhdGFfZGVfZW5jZXJyYW1lbnRvX21kZmUiOiAiMjAyMi02LTE0IiwNCiAgICAiTUxPQ3BhaXNfbm9tZV9fcGFpc19kZV9lbmNlcnJhbWVudG9fbWRmZSI6ICJCUkFTSUwiLA0KICAgICJNTE9DcGFpc19kZV9lbmNlcnJhbWVudG9fbWRmZV9pZCI6ICJkYTBkODRkMy03OTJhLTQ5NjctYTI0Mi01MDI2ZDJlMWU0ODIiLA0KICAgICJNTE9DZXN0YWRvX3VmX191Zl9kZV9lbmNlcnJhbWVudG9fbWRmZSI6ICJNRyIsDQogICAgIk1MT0N1Zl9kZV9lbmNlcnJhbWVudG9fbWRmZV9pZCI6ICI0MWNiZmZkMy1jMWNiLWJlM2ItMzA3Yy1kNmQ4ODhmNTk5ZTQiLA0KICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19kZV9lbmNlcnJhbWVudG9fbWRmZSI6ICJBUkNPUyIsDQogICAgIk1MT0NtdW5pY2lwaW9fZGVfZW5jZXJyYW1lbnRvX21kZmVfaWQiOiAiYmFjZjg3ZjMtZDg1MS00NDE4LTk5MmQtNzVjMGFlZWExY2Y1IiwNCiAgICAiTUxPQ211bmljaXBpb19pYmdlX19tdW5pY2lwaW9faWJnZV9lbmNlcnJhbWVudG9fbWRmZSI6IDMxMDQyMDUsDQogICAgIklEX09ORV9SRUYiOiAiNTZjODQyNDEtOGI3Ni00MmE1LThiMGEtYmFkNTMyOGQzNzE3Ig0KfQ0KDQoNCmpzb25JbnB1dC5vbmVyZ3lfanNfY3R4ID0gew0KICAgICJhc3NfaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAiZmR0aWQiOiAiODM2ZWI2NmItODNmMi00Njg4LTk0Y2YtMjU2NTQxNWNiYTZjIiwNCiAgICAidXNyaWQiOiAiM2RiZGU2Y2UtOThiZC00YTQ5LWJjYjctNGY4Mzk4NjkwZjQxIiwNCiAgICAiZmVkaWQiOiAiMzA2ODlkZjQtNDUyNy00OWY1LTE5MjMtNzdlNzhmNmFhNmE5IiwNCn0NCg0KaW5pdChKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(MDFE) - Emisso.js", "isDirectory": false, "__KEY__": "c35755d2-e915-05cd-814b-2fd0a4245a3a", "size": 66579, "dateModified": "2022-09-04T00:07:06.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQogICAgc2xlZXAobWlsbGlzZWNvbmRzKSB7DQogICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDFlNzsgaSsrKSB7DQogICAgICAgICAgICBpZiAoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnQpID4gbWlsbGlzZWNvbmRzKSB7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KY2xhc3MgZmlsZXV0aWxzIHsNCiAgICAvKg0KICAgICNQYXJhbSBqc29uOiBKc29uIHF1ZSBzZXLDoSBjb252ZXJ0aWRvLg0KICAgICNQYXJhbSB0aXBvRG9jdW1lbnRvOiBPIHRpcG8gZGUgZG9jdW1lbnRvIGRlIHNhw61kYSAuanNvbi8ueG1sLy50eHQgLi4uDQogICAgI3JldHVybjogRmlsZQ0KICAgICovDQogICAgQ3JlYXRlRmlsZShqc29uLCB0aXBvRG9jdW1lbnRvKSB7DQogICAgICAgIHJldHVybiBuZXcgRmlsZShbImZvbyJdLCAiZm9vLnR4dCIsIHsNCiAgICAgICAgICAgIHR5cGU6ICJ0ZXh0L3BsYWluIiwNCiAgICAgICAgfSk7DQogICAgfTsNCiAgICAvKg0KICAgICNQYXJhbSBmaWxldGVtcDogRmlsZSBxdWUgc2Vyw6EgdXBhZG8NCiAgICAjcmV0dXJuOiBVcmwgZGUgdXBsb2FkDQogICAgKi8NCiAgICBVcGxvYWRGaWxlKGZpbGV0ZW1wKSB7DQogICAgICAgIHJldHVybiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8iOw0KICAgIH07DQoNCn0NCi8vLjsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KDQp2YXIgSUQgPSAiIjsNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBJRCA9IGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZDsNCiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgiUkVFTUlTU0FPIikgJiYgIWRhdGEuUkVFTUlTU0FPKSB7DQogICAgICAgIGxldCByZXN1bHQgPSBtb250YXJNREZFZGVSZWVtaXNzYW8oZGF0YSk7DQogICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCByZXN1bHQsIGZhbHNlKTsNCiAgICB9DQoNCiAgICBpZiAoZGF0YS5lbnZpYXJfbWRmZSA9PSAic2ltIiAmJiBkYXRhLnN0YXR1c19tZGZlID09ICJuYW9lbWl0aWRvIikgew0KICAgICAgICAvLyBVbmlkYWRlIGRlIEVtaXNzw6NvDQogICAgICAgIGxldCBDYXJkVW5pZGFkZUVtaXNzYW8gPSAiMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmIjsNCiAgICAgICAgbGV0IEZpbHRyb1VuaWRhZGVEZUVtaXNzYW8gPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX21kZmVfaWQpOw0KICAgICAgICBsZXQgT2JqVW5pZGFkZUVtaXNzYW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKENhcmRVbmlkYWRlRW1pc3NhbywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb1VuaWRhZGVEZUVtaXNzYW8pOw0KDQogICAgICAgIGxldCBnbkxvZyA9IGF3YWl0IFZhbGlkYUluZm9ybWFjb2VzRW1pc3Nhb01ERmUoZGF0YSk7DQogICAgICAgIGlmIChnbkxvZykgew0KICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICAgICAibG9nX21kZmUiOiBnbkxvZw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCByZXN1bHQsIGZhbHNlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCB0b2tlbk9iaiA9IGF3YWl0IFBlZ2FUb2tlbihkYXRhKTsNCiAgICAgICAgaWYgKCF0b2tlbk9iaikgew0KICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICAgICAibG9nX21kZmUiOiAiVG9rZW4gSW52w6FsaWRvIG91IEVtcHJlc2EgbsOjbyBBdXRvcml6YWRhICEiDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKHRydWUsIHJlc3VsdCwgZmFsc2UpOw0KICAgICAgICB9DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGxldCBlbnZpb21kZmVPYmogPSBbXTsNCiAgICAgICAgICAgIGxldCBOdW1lcm9NREZlID0gYXdhaXQgYnVzY2FyTnVtZXJhY2FvKGRhdGEsIE9ialVuaWRhZGVFbWlzc2FvWzBdLklELCBmYWxzZSwgbnVsbCk7DQogICAgICAgICAgICBlbnZpb21kZmVPYmogPSBhd2FpdCBDcmlhT2JqZXRvRW1pc3Nhb01ERmUoZGF0YSwgTnVtZXJvTURGZS5OdW1lcm8sIE51bWVyb01ERmUuU2VyaWUpOw0KDQogICAgICAgICAgICBpZiAoIWVudmlvbWRmZU9iaikgew0KICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IGZhbHNlDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBhd2FpdCBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiBgRXJybyBkdXJhbnRlIGEgbW9udGFnZW0gZGEgbWVuc2FnZW0gcGFyYSBTRUZBWmANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCByZXN1bHQsIGZhbHNlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbGV0IHJlc3Bvc3RhTWVuc2FnZXJpYSA9IGF3YWl0IEVmZXR1YU1lbnNhZ2VyaWEoZGF0YSwgZW52aW9tZGZlT2JqLCB0b2tlbk9iaiwgYCR7b25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygiQVBJc19TRUZBWiIpfWFwaS9Qcm9jTURGZS9FbnZpYXJNREZlYCk7DQoNCiAgICAgICAgICAgIC8vVE9ETyBFUlJPIE5BIEFQSQ0KICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5oYXNPd25Qcm9wZXJ0eSgic3RhdHVzIikgJiYgcmVzcG9zdGFNZW5zYWdlcmlhLnN0YXR1cyA9PSA0MDApIHsNCiAgICAgICAgICAgICAgICAvL0RlaXhhIGEgbnVtZXJhw6fDo28gZGlzcG9uw612ZWwNCiAgICAgICAgICAgICAgICBsZXQgb2JqQ2FsbEJhY2sgPSB7DQogICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9LJywNCiAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2lkYWRlJzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICduZXh0JzogZmFsc2UNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGF3YWl0IGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBPYmpVbmlkYWRlRW1pc3Nhb1swXS5JRCwgdHJ1ZSwgb2JqQ2FsbEJhY2spOw0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGBFcnJvIG5hIGV4ZWN1w6fDo286JHtKU09OLnN0cmluZ2lmeShyZXNwb3N0YU1lbnNhZ2VyaWEuZXJyb3JzKX1gDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgcmVzdWx0LCBmYWxzZSk7DQoNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy9UT0RPIFNFTSBSRVNQT1NUQSBNRU5TQUdFUklBDQogICAgICAgICAgICBpZiAoIXJlc3Bvc3RhTWVuc2FnZXJpYSkgew0KICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAnRHVwbGljaWRhZGUnOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgYXdhaXQgYnVzY2FyTnVtZXJhY2FvKGRhdGEsIE9ialVuaWRhZGVFbWlzc2FvWzBdLklELCB0cnVlLCBvYmpDYWxsQmFjayk7DQogICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogYFNlbSBSZXNwb3N0YSBkYSBNZW5zYWdlcmlhLmANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCByZXN1bHQsIGZhbHNlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy9UT0RPIFJFU1BPU1RBIE5PSw0KICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5zdGF0dXMgPT0gIk5PSyIpIHsNCiAgICAgICAgICAgICAgICBsZXQgbG9nUmV0dXJuID0gW107DQogICAgICAgICAgICAgICAgbGV0IGR1cGxpY2lkYWRlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZW4gaW4gcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BlbiA9IHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zW2VuXTsNCiAgICAgICAgICAgICAgICAgICAgbG9nUmV0dXJuLnB1c2goYCR7cmVzcGVuLmRlc2NyaWNhb31cbmApOw0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcGVuLmRlc2NyaWNhby5pbmRleE9mKCdEdXBsaWNpZGFkZScpICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkdXBsaWNpZGFkZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBsZXQgb2JqQ2FsbEJhY2s7DQogICAgICAgICAgICAgICAgaWYgKGR1cGxpY2lkYWRlKSB7DQogICAgICAgICAgICAgICAgICAgIG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT0snLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2lkYWRlJzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0JzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAnbnVtZXJvJzogTnVtZXJvTURGZS5OdW1lcm8NCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9LJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdEdXBsaWNpZGFkZSc6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhd2FpdCBidXNjYXJOdW1lcmFjYW8oZGF0YSwgT2JqVW5pZGFkZUVtaXNzYW9bMF0uSUQsIHRydWUsIG9iakNhbGxCYWNrKTsNCg0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGxvZ1JldHVybi5sZW5ndGggPiAwID8gbG9nUmV0dXJuLmpvaW4oJycpIDogJycNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCByZXN1bHQsIGZhbHNlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5zdGF0dXMgPT0gIk9LIikgew0KICAgICAgICAgICAgICAgIGxldCBvYmpDYWxsQmFjayA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdPSycsDQogICAgICAgICAgICAgICAgICAgICdudW1lcm8nOiBOdW1lcm9NREZlLk51bWVybw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgYnVzY2FyTnVtZXJhY2FvKGRhdGEsIE9ialVuaWRhZGVFbWlzc2FvWzBdLklELCB0cnVlLCBvYmpDYWxsQmFjayk7DQogICAgICAgICAgICAgICAgR3JhdmFFdmVudG8oZGF0YS5mZWRpZCwgIkF1dG9yaXphw6fDo28iLCByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5udW1lcm9Qcm90b2NvbG8sIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLmNoYXZlQWNlc3NvTURGZSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCk7DQogICAgICAgICAgICAgICAgLy9hcXVpDQogICAgICAgICAgICAgICAgdmFyIGZpbGV0ZW1wID0gZmlsZXV0aWxzLkNyZWF0ZUZpbGUocmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuanNvbkF1dG9yaXphY2FvLCAiLnhtbCIpOw0KICAgICAgICAgICAgICAgIHZhciB1cmx4bWwgPSBmaWxldXRpbHMuVXBsb2FkRmlsZShmaWxldGVtcCk7DQogICAgICAgICAgICAgICAgdmFyIGpzb25jdGUgPSBmaWxldXRpbHMuQ29udmVydFhtbFVybFRvSnNvbih1cmx4bWwpOw0KICAgICAgICAgICAgICAgIGpzb25jdGUgPSBKU09OLnBhcnNlKGpzb25jdGUpOw0KICAgICAgICAgICAgICAgIGF3YWl0IGJsb3F1ZWFyRXhjbHVzYW9DVEVzVmluY3VsYWRhcyhkYXRhKTsNCg0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgICAgICJudW1lcm9fZG9fbWFuaWZlc3RvX21mZGUiOiBOdW1lcm9NREZlLk51bWVybywNCiAgICAgICAgICAgICAgICAgICAgInNlcmllX2RvX21hbmlmZXN0b19tZGZlIjogTnVtZXJvTURGZS5TZXJpZSwNCiAgICAgICAgICAgICAgICAgICAgInN0YXR1c19tZGZlIjogImVtaXRpZG8iLA0KICAgICAgICAgICAgICAgICAgICAic3RhdHVzX21kZmVfZGVzYyI6ICJFbWl0aWRvIiwNCiAgICAgICAgICAgICAgICAgICAgImNoYXZlX21kZmUiOiByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5jaGF2ZUFjZXNzb01ERmUsDQogICAgICAgICAgICAgICAgICAgICJudW1lcm9fcHJvdG9jb2xvX21kZmUiOiByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5udW1lcm9Qcm90b2NvbG8sDQogICAgICAgICAgICAgICAgICAgICJ1cmxfeG1sIjogdXJseG1sLA0KICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgInVybF9wZGZfbWRmZSI6IGBodHRwczovL2RvY3Mub25lcmd5LmNvbS5ici9kb2N1bWVudG9zL2RhbWRmZS8ke2RhdGEuYXNzaWR9LyR7ZGF0YS51c3JpZH0vJHtkYXRhLmZlZGlkfS8ke2RhdGEuZmR0aWR9YCwNCiAgICAgICAgICAgICAgICAgICAgImRhdGFfZGFfZW1pc3Nhb19tZGZlIjogdXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiksDQogICAgICAgICAgICAgICAgICAgICJkYXRhX2RhX2VtaXNzYW9fbWRmZURhdGUiOiB1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSwNCiAgICAgICAgICAgICAgICAgICAgImpzb25fcmV0b3Jub19hdXRvcml6YWRvX21kZmUiOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAicXJDb2RNREZlIjoganNvbmN0ZS5tZGZlUHJvYy5NREZlLmluZk1ERmVTdXBsLnFyQ29kTURGZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtb2QiOiBqc29uY3RlLm1kZmVQcm9jLk1ERmUuaW5mTURGZS5pZGUubW9kLA0KICAgICAgICAgICAgICAgICAgICAgICAgInNlcmllIjoganNvbmN0ZS5tZGZlUHJvYy5NREZlLmluZk1ERmUuaWRlLnNlcmllDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgcmVzdWx0LCBmYWxzZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgbGV0IG9iakNhbGxCYWNrID0gew0KICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9LJywNCiAgICAgICAgICAgICAgICAnbmV4dCc6IGZhbHNlDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgYXdhaXQgYnVzY2FyTnVtZXJhY2FvKGRhdGEsIE9ialVuaWRhZGVFbWlzc2FvWzBdLklELCB0cnVlLCBvYmpDYWxsQmFjayk7DQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGBFUlJPIG5vIGPDs2RpZ29cbiBFUlJPOiR7ZXJyfWANCiAgICAgICAgICAgIH07DQogICAgICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgcmVzdWx0LCBmYWxzZSk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgbnVsbCwgZmFsc2UpOw0KICAgIH0NCiAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UodHJ1ZSwgZGF0YSwgZmFsc2UpOw0KfQ0KDQpmdW5jdGlvbiBpbml0QmVmb3JlKGpzb24pIHsNCiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7DQogICAgbGV0IGFkaWNpb25hZG8gPSBtZW1vcnkuVHJ5QWRkKGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkLCA2MCk7DQogICAgaWYgKGFkaWNpb25hZG8pIHsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCn0NCg0KZnVuY3Rpb24gbW9udGFyTURGRWRlUmVlbWlzc2FvKGRhdGEpIHsNCiAgICByZXR1cm4gew0KICAgICAgICAiUkVFTUlTU0FPIjogdHJ1ZSwNCiAgICAgICAgImNoYXZlX21kZmUiOiAiIiwNCiAgICAgICAgIm51bWVyb19wcm90b2NvbG9fbWRmZSI6ICIiLA0KICAgICAgICAiZGF0YV9kYV9lbWlzc2FvX21kZmUiOiAiIiwNCiAgICAgICAgImRhdGFfZGFfZW1pc3Nhb19tZGZlRGF0ZSI6ICIiLA0KICAgICAgICAibnVtZXJvX2RvX21hbmlmZXN0b19tZmRlIjogMCwNCiAgICAgICAgInNlcmllX2RvX21hbmlmZXN0b19tZGZlIjogMCwNCiAgICAgICAgInN0YXR1c19tZGZlIjogIm5hb2VtaXRpZG8iLA0KICAgICAgICAic3RhdHVzX21kZmVfZGVzYyI6ICJOw6NvIEVtaXRpZG8iLA0KICAgICAgICAiZGF0YWhvcmFfcHJldmlzdG9zX2RlX2luaWNpb19kYV92aWFnZW1fbWRmZSI6ICIiLA0KICAgICAgICAiZGF0YWhvcmFfcHJldmlzdG9zX2RlX2luaWNpb19kYV92aWFnZW1fbWRmZURhdGUiOiAiIiwNCiAgICAgICAgImRhdGFob3JhX3ByZXZpc3Rvc19kZV9maW1fZGFfdmlhZ2VtIjogIiIsDQogICAgICAgICJkYXRhaG9yYV9wcmV2aXN0b3NfZGVfZmltX2RhX3ZpYWdlbURhdGUiOiAiIiwNCiAgICAgICAgImxvZ19tZGZlIjogIiIsDQogICAgICAgICJWRUlfRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX01MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX3Byb3ByaWV0YXJpb19QSl9fRU1QTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfX01MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX3Byb3ByaWV0YXJpb19QSl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8iOiAiIiwNCiAgICAgICAgIlZFSV9FTVBjbnBqX2VtcHJlc2FfX2NucGpfcHJvcHJpZXRhcmlvX1BKX19FTVBjbnBqX2VtcHJlc2FfX2NucGpfcHJvcHJpZXRhcmlvX1BKX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyI6ICIiLA0KICAgICAgICAiVkVJX0VNUGVtcHJlc2Ffc29mdGZpbl9pZF9fc29mdGZpbl9pZF9wcm9wcmlldGFyaW9fUEpfX0VNUGVtcHJlc2Ffc29mdGZpbl9pZF9fc29mdGZpbl9pZF9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogMCwNCiAgICAgICAgIlZFSV9FTVBpZV9lbXByZXNhX19pZV9wcm9wcmlldGFyaW9fUEpfX0VNUGllX2VtcHJlc2FfX2llX3Byb3ByaWV0YXJpb19QSl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8iOiAiIiwNCiAgICAgICAgIlZFSV9FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX3Byb3ByaWV0YXJpb19QSl9fRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfTUxPQ2VzdGFkb191Zl9fdWZfbGljZW5jaWFtZW50b192ZWljdWxvX19NTE9DZXN0YWRvX3VmX191Zl9saWNlbmNpYW1lbnRvX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfUEVTTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9fTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfX1BFU01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfX01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyI6ICIiLA0KICAgICAgICAiVkVJX1BFU2NwZl9wZXNzb2FfX2NwZl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX19QRVNjcGZfcGVzc29hX19jcGZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8iOiAiIiwNCiAgICAgICAgIlZFSV9QRVNpZF9zb2Z0ZmluX19pZF9zb2Z0ZmluX3Byb3ByaWV0YXJpb19QRl9fUEVTaWRfc29mdGZpbl9faWRfc29mdGZpbl9wcm9wcmlldGFyaW9fUEZfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogMCwNCiAgICAgICAgIlZFSV9QRVNub21lX3Blc3NvYV9fbm9tZV9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX19QRVNub21lX3Blc3NvYV9fbm9tZV9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyI6ICIiLA0KICAgICAgICAiVkVJX2NhcGFjaWRhZGVfa2dfdmVpX19jYXBhY2lkYWRlX2tnX3ZlaWN1bG9fdHJhY2FvIjogMCwNCiAgICAgICAgIlZFSV9jYXBhY2lkYWRlX20zX3ZlaV9fY2FwYWNpZGFkZV9tM192ZWljdWxvX3RyYWNhbyI6IDAsDQogICAgICAgICJWRUlfZGVzY3JpY2FvX3ZlaWN1bG9fX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfbnVtZXJvX2VpeG9zX3ZlaV9fbnVtZXJvX2VpeG9zX3ZlaWN1bG9fdHJhY2FvIjogMCwNCiAgICAgICAgIlZFSV9wbGFjYV92ZWlfX3BsYWNhX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfcHJvcHJpZXRhcmlvX2NhZGFzdHJhZG9fZWZyZXRlX19wcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGVfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfcHJvcHJpZXRhcmlvX2NhZGFzdHJhZG9fZWZyZXRlX19wcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGVfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvX2Rlc2MiOiAiIiwNCiAgICAgICAgIlZFSV9yZW5hdmFtX3ZlaV9fcmVuYXZhbV92ZWljdWxvX3RyYWNhbyI6IDAsDQogICAgICAgICJWRUlfcm50cmNfcHJvcHJpZXRhcmlvX19ybnRyY19wcm9wcmlldGFyaW9fcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfdGFyYV92ZWlfX3RhcmFfdmVpY3Vsb190cmFjYW8iOiAwLA0KICAgICAgICAiVkVJX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWlfX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWljdWxvX3RyYWNhbyI6ICIiLA0KICAgICAgICAiVkVJX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWlfX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWljdWxvX3RyYWNhb19kZXNjIjogIiIsDQogICAgICAgICJWRUlfdGlwb19kZV9yb2RhZG9fdmVpX190aXBvX2RlX3JvZGFkb192ZWljdWxvX3RyYWNhbyI6ICIiLA0KICAgICAgICAiVkVJX3RpcG9fZGVfcm9kYWRvX3ZlaV9fdGlwb19kZV9yb2RhZG9fdmVpY3Vsb190cmFjYW9fZGVzYyI6ICIiLA0KICAgICAgICAiVkVJX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl9fdGlwb19kZV90cmFuc3BvcnRhZG9yX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyI6ICIiLA0KICAgICAgICAiVkVJX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl9fdGlwb19kZV90cmFuc3BvcnRhZG9yX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhb19kZXNjIjogIiIsDQogICAgICAgICJWRUlfdGlwb19wcm9wcmlldGFyaW9fdmVpX190aXBvX3Byb3ByaWV0YXJpb192ZWlfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfdGlwb19wcm9wcmlldGFyaW9fdmVpX190aXBvX3Byb3ByaWV0YXJpb192ZWlfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvX2Rlc2MiOiAiIiwNCiAgICAgICAgIlZFSV92ZWljdWxvX2NhZGFzdHJhZG9fZWZyZXRlX192ZWljdWxvX2NhZGFzdHJhZG9fZWZyZXRlX3ZlaWN1bG9fdHJhY2FvIjogIiIsDQogICAgICAgICJWRUlfdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV9fdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV92ZWljdWxvX3RyYWNhb19kZXNjIjogIiIsDQogICAgICAgICJWRUlfdmVpY3Vsb190cmFjYW9faWQiOiAiIiwNCiAgICAgICAgImluZm9ybWFjb2VzX2FkaWNpb25haXNfZGVfaW50ZXJlc3NlX2RvX2Zpc2NvX21kZmUiOiAiIiwNCiAgICAgICAgImluZm9ybWFjb2VzX2NvbXBsZW1lbnRhcmVzX2RlX2ludGVyZXNzZV9kb19jb250cmlidWludGVfbWRmZSI6ICIiLA0KICAgICAgICAib2JzZXJ2YWNvZXNfYW9fY3JlZGVuY2lhZG9fbWRmZV9jaW90IjogIiIsDQogICAgICAgICJ0b3RhbF9kZV9hZGlhbnRhbWVudG9fbWRmZV9jaW90IjogMCwNCiAgICAgICAgInRvdGFsX2RlX3F1aXRhY2FvX2Npb3QiOiAwLA0KICAgICAgICAiZGF0YV9kZV9saWJlcmFjYW9fZG9fcGFnYW1lbnRvX2Npb3QiOiAiIiwNCiAgICAgICAgImRhdGFfZGVfbGliZXJhY2FvX2RvX3BhZ2FtZW50b19jaW90RGF0ZSI6ICIiLA0KICAgICAgICAiZnJldGVfbWluaW1vIjogMCwNCiAgICAgICAgImRpc3RhbmNpYV9wZXJjb3JyaWRhX2Npb3QiOiAwLA0KICAgICAgICAic3RhdHVzX2Npb3RfbWRmZSI6ICJuYW9FbWl0aWRvIiwNCiAgICAgICAgInN0YXR1c19jaW90X21kZmVfZGVzYyI6ICJOw6NvIEVtaXRpZG8iLA0KICAgICAgICAiY29kaWdvX2lkZW50aWZpY2Fkb3JfZGFfb3BlcmFjYW9fZGVfdHJhbnNwb3J0ZV9tZGZlIjogIiIsDQogICAgICAgICJwcm90b2NvbG9fZGVfc2Vydmljb19jaW90IjogIiIsDQogICAgICAgICJlbnZpYXJfbWRmZSI6ICJuYW8iLA0KICAgICAgICAiZW52aWFyX21kZmVfZGVzYyI6ICJOw6NvIiwNCiAgICAgICAgInVybF9wZGZfbWRmZSI6ICIiLA0KICAgICAgICAidXJsX3htbCI6ICIiLA0KICAgICAgICAiVXJsWE1MX0VuY2VycmFtZW50byI6ICIiLA0KICAgICAgICAiUEVTY2VsdWxhcl8xX3Blc3NvYV9fY2VsdWxhcl9tb3RvcmlzdGEiOiAiIiwNCiAgICAgICAgIlBFU2NuaF9wZXNzb2FfX2NuaF9tb3RvcmlzdGEiOiAwLA0KICAgICAgICAiUEVTY3BmX3Blc3NvYV9fY3BmX21vdG9yaXN0YSI6ICIiLA0KICAgICAgICAiUEVTbW90b3Jpc3RhX2NhZGFzdHJhZG9fZWZyZXRlIjogIiIsDQogICAgICAgICJQRVNtb3RvcmlzdGFfY2FkYXN0cmFkb19lZnJldGVfZGVzYyI6ICIiLA0KICAgICAgICAiUEVTbm9tZV9kb19jb25kdXRvcl9tZGZlX2lkIjogIiIsDQogICAgICAgICJQRVNub21lX3Blc3NvYV9fbm9tZV9kb19jb25kdXRvcl9tZGZlIjogIiIsDQogICAgfTsNCn0NCg0KZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGEpIHsNCiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGEpOw0KICAgIGxldCBhbm8gPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgbGV0IG1lcyA9ICgoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgbGV0IGRpYSA9IChkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9YDsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gYmxvcXVlYXJFeGNsdXNhb0NURXNWaW5jdWxhZGFzKGRhdGEpIHsNCiAgICBsZXQgQ1RFc1ZpbmN1bGFkYXNJRCA9ICI1ZGQ1ZjkxMC05ODlhLTQ5NGItYWY0Zi00ZmI5MTdkMGE2YjIiOw0KICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgZmR0aWQ6IENURXNWaW5jdWxhZGFzSUQsDQogICAgICAgIGFzc2lkOiBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsDQogICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAicG9kZXNlcmV4Y2x1aWRvIjogIm5hbyIsDQogICAgICAgICAgICAgICAgInBvZGVzZXJleGNsdWlkb19kZXNjIjogIk7Do28iDQogICAgICAgICAgICB9DQogICAgICAgIH0pLA0KICAgICAgICBmaWx0ZXI6IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgIHsgRmllbE5hbWU6ICJJRF9PTkVfUkVGIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkIH0NCiAgICAgICAgXSksDQogICAgICAgIGlzTXVsdGlVcGRhdGU6IHRydWUNCiAgICB9KTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gVmFsaWRhSW5mb3JtYWNvZXNFbWlzc2FvTURGZShkYXRhKSB7DQogICAgbGV0IGduTG9nID0gW107DQoNCiAgICBsZXQgRmlsdHJvSWRQcmluY2lwYWwgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCk7DQogICAgbGV0IHRlbXBsYXRlY29udHJhdGFudGVzc2VydmljbyA9ICJjYzc2NDAyZC0yNTVkLTQ5NTgtYTdjNS0yMDk3MWYwOTgyNDciOw0KICAgIGxldCB0ZW1wbGF0ZWN0ZXN2aW5jdWxhZG9zID0gIjVkZDVmOTEwLTk4OWEtNDk0Yi1hZjRmLTRmYjkxN2QwYTZiMiI7DQoNCg0KICAgIC8vQ29udHJhdGFudGVzIGRvIFNlcnZpw6dvIGRlIFRyYW5zcG9ydGUNCiAgICBsZXQgb2JqY29udHJhdGFudGVzc2VydnRyYW5zcCA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVjb250cmF0YW50ZXNzZXJ2aWNvLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvSWRQcmluY2lwYWwpOw0KICAgIGlmIChvYmpjb250cmF0YW50ZXNzZXJ2dHJhbnNwLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIGduTG9nLnB1c2goIkNvbnRyYXRhbnRlcyBkbyBTZXJ2acOnbyBkZSBUcmFuc3BvcnRlIEludsOhbGlkb3MhXG4iKTsNCiAgICB9DQoNCiAgICAvL0NhcnJlZ2FtZW50bw0KICAgIGlmICghZGF0YS5NTE9DcGFpc19ub21lX19ub3ZvX3BhaXNfZGVfY2FycmVnYW1lbnRvKSB7DQogICAgICAgIGduTG9nLnB1c2goIlBhw61zIGRlIENhcnJlZ2FtZW50byBpbnbDoWxpZG8hXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLk1MT0Nlc3RhZG9fdWZfX25vdm9fdWZfZGVfY2FycmVnYW1lbnRvKSB7DQogICAgICAgIGduTG9nLnB1c2goIlVGIGRlIENhcnJlZ2FtZW50byBpbnbDoWxpZGEhXG4iKTsNCiAgICB9DQogICAgaWYgKCFkYXRhLk1MT0NtdW5pY2lwaW9fbm9tZV9fbm92b19tdW5pY2lwaW9fZGVfY2FycmVnYW1lbnRvKSB7DQogICAgICAgIGduTG9nLnB1c2goIk11bmljw61waW8gZGUgQ2FycmVnYW1lbnRvIGludsOhbGlkbyFcbiIpOw0KICAgIH0NCg0KICAgIC8vRGVzY2FycmVnYW1lbnRvDQogICAgaWYgKCFkYXRhLk1MT0NwYWlzX25vbWVfX25vdm9fcGFpc19kZV9kZXNjYXJyZWdhbWVudG8pIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiUGHDrXMgZGUgRGVzY2FycmVnYW1lbnRvIGludsOhbGlkbyFcbiIpOw0KICAgIH0NCiAgICBpZiAoIWRhdGEuTUxPQ2VzdGFkb191Zl9fbm92b191Zl9kZV9kZXNjYXJyZWdhbWVudG8pIHsNCiAgICAgICAgZ25Mb2cucHVzaCgiVUYgZGUgRGVzYXJyZWdhbWVudG8gaW52w6FsaWRhIVxuIik7DQogICAgfQ0KICAgIGlmICghZGF0YS5NTE9DbXVuaWNpcGlvX25vbWVfX25vdm9fbXVuaWNpcGlvX2RlX2Rlc2NhcnJlZ2FtZW50bykgew0KICAgICAgICBnbkxvZy5wdXNoKCJNdW5pY8OtcGlvIGRlIERlc2FycmVnYW1lbnRvIGludsOhbGlkbyFcbiIpOw0KICAgIH0NCg0KICAgIC8vQ1RFcyBWaW5jdWxhZG9zDQogICAgbGV0IEZpbHRyb0lkbXVuZGVzY2FyZ2EgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCk7DQogICAgbGV0IG9iamN0ZXN2aW5jID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWN0ZXN2aW5jdWxhZG9zLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvSWRtdW5kZXNjYXJnYSk7DQogICAgaWYgKG9iamN0ZXN2aW5jLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIGduTG9nLnB1c2goIkNURXMgVmluY3VsYWRvcyBhbyBNREZlIEludsOhbGlkb3MhXG4iKTsNCiAgICB9DQoNCiAgICBpZiAoZ25Mb2cubGVuZ3RoID4gMCkgew0KICAgICAgICByZXR1cm4gZ25Mb2cuam9pbigiIik7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICIiOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gUGVnYVRva2VuKG9iaikgew0KDQogICAgbGV0IHVzckxvZ2luID0gInByM3N0M3giOw0KICAgIGxldCBwd2QgPSAicHIzc3QzeGN0MzIwMjEiOw0KICAgIGxldCBzdHJSZXNwVG9rZW4gPSAiIjsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogImh0dHBzOi8va3RkZmUuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL0xvZ2luP3BVc2VyTmFtZT0iICsgdXNyTG9naW4gKyAiJnBQYXNzPSIgKyBwd2QsDQogICAgICAgIG1ldGhvZDogJ0dFVCcsDQogICAgICAgIGRhdGE6ICIiLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHN0clJlc3BUb2tlbiA9IHJlc3BvbnNlLmRhdGE7DQogICAgfSwgKGVycm9yKSA9PiB7DQogICAgICAgIHN0clJlc3BUb2tlbiA9ICcnDQogICAgfSk7DQogICAgcmV0dXJuIHN0clJlc3BUb2tlbjsNCg0KICAgIC8qDQogICAgICAgIGxldCB1c3JMb2dpbiA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVzdWFyaW9fZGZlIik7DQogICAgICAgIGxldCBwd2QgPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJzZW5oYV9kZmUiKTsNCiAgICAgICAgbGV0IHN0clJlc3BUb2tlbiA9ICIiOw0KICAgICAgICBBamF4KHsNCiAgICAgICAgICAgIHVybDogYCR7b25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygiQVBJc19TRUZBWiIpfWFwaS9Mb2dpbj9wVXNlck5hbWU9JHt1c3JMb2dpbn0mcFBhc3M9JHtwd2R9YCwNCiAgICAgICAgICAgIGFzc2lkOiBvYmouYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogb2JqLnVzcmlkLA0KICAgICAgICAgICAgZmVkaWQ6IG9iai5mZWRpZCwNCiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsDQogICAgICAgICAgICBkYXRhOiAiIiwNCiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBkYXRhOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BUb2tlbiA9IGV4Y2VwdGlvbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3BUb2tlbik7DQogICAgICovDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGJ1c2Nhck51bWVyYWNhbyhkYXRhLCBlc3RhYmVsZWNpbWVudG8sIGNhbGxiYWNrLCBjYWxsYmFja09CSikgew0KICAgIGxldCBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSA9ICIyMzhhYmQ4ZC1jZTFiLTRkY2UtODBjZi1iYzdkZWU5MmY4Y2YiOw0KICAgIGlmICghY2FsbGJhY2spIHsNCiAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCAzMDsgcysrKSB7DQogICAgICAgICAgICBsZXQgZXhpc3QgPSBtZW1vcnkuVHJ5QWRkKGVzdGFiZWxlY2ltZW50bywgZXN0YWJlbGVjaW1lbnRvLCAyMCk7DQogICAgICAgICAgICBpZiAoZXhpc3QgfHwgcyA9PSAyOSkgew0KICAgICAgICAgICAgICAgIGxldCBGaWx0cm9VbmlkYWRlRW1pc3NhbyA9IEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiAiX2lkIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogZXN0YWJlbGVjaW1lbnRvIH1dKTsNCiAgICAgICAgICAgICAgICBsZXQgb2JqRXN0YWJlbGVjaW1lbnRvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgRmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KICAgICAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19tZGZlJzogJ3Byb2Nlc3NhbmRvJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19tZGZlX2Rlc2MnOiAnUFJPQ0VTU0FORE8nDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgJ051bWVybyc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fc2VxdWVuY2lhbF9kb19tZGZlLA0KICAgICAgICAgICAgICAgICAgICAnU2VyaWUnOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX2RhX3NlcmllX2RvX21kZmUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9uZXJneS5sb2coIltFbWl0aXIgTURGZV0gc2xlZXAiKTsNCiAgICAgICAgICAgICAgICB1dGlscy5zbGVlcCg1MDAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGlmIChjYWxsYmFja09CSi5zdGF0dXMgPT0gJ09LJykgew0KICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX21kZmUnOiAnZGlzcG9uaXZlbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19tZGZlX2Rlc2MnOiAnRElTUE9Ow41WRUwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ251bWVyb19zZXF1ZW5jaWFsX2RvX21kZmUnOiBjYWxsYmFja09CSi5udW1lcm8gKyAxDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBpZDogZXN0YWJlbGVjaW1lbnRvDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIG1lbW9yeS5SZW1vdmUoZXN0YWJlbGVjaW1lbnRvKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmIChjYWxsYmFja09CSi5uZXh0KSB7DQogICAgICAgICAgICAgICAgb2JqRXN0YWJlbGVjaW1lbnRvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwgZGF0YS5hc3NpZCwgZGF0YS51c3JpZCwgRmlsdHJvVW5pZGFkZUVtaXNzYW8pOw0KICAgICAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgZmR0aWQ6IGVzdGFiZWxlY2ltZW50b1RlbXBsYXRlLA0KICAgICAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtZXJvX3NlcXVlbmNpYWxfZG9fbWRmZSc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fc2VxdWVuY2lhbF9kb19tZGZlICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICdOdW1lcm8nOiBvYmpFc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQubnVtZXJvX3NlcXVlbmNpYWxfZG9fbWRmZSArIDEsDQogICAgICAgICAgICAgICAgICAgICdTZXJpZSc6IG9iakVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5udW1lcm9fZGFfc2VyaWVfZG9fbWRmZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2tPQkouRHVwbGljaWRhZGUpIHsNCiAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiBlc3RhYmVsZWNpbWVudG9UZW1wbGF0ZSwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fbWRmZSc6ICdkaXNwb25pdmVsJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX251bWVyb19tZGZlX2Rlc2MnOiAnRElTUE9Ow41WRUwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1lcm9fc2VxdWVuY2lhbF9kb19tZGZlJzogY2FsbGJhY2tPQkoubnVtZXJvICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVzdGFiZWxlY2ltZW50bw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIG1lbW9yeS5SZW1vdmUoZXN0YWJlbGVjaW1lbnRvKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogZXN0YWJlbGVjaW1lbnRvVGVtcGxhdGUsDQogICAgICAgICAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNfbnVtZXJvX21kZmUnOiAnZGlzcG9uaXZlbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19udW1lcm9fbWRmZV9kZXNjJzogJ0RJU1BPTsONVkVMJywNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIGlkOiBlc3RhYmVsZWNpbWVudG8NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBtZW1vcnkuUmVtb3ZlKGVzdGFiZWxlY2ltZW50byk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIENyaWFPYmpldG9FbWlzc2FvTURGZShkYXRhLCBOdW1lcm9NREZlLCBTZXJpZU1ERmUpIHsNCiAgICAvL1JlY3VwZXJhIG8gUHJvZHV0byBQcmVkb21pbmFudGUgZG8gUHJpbWVpcm8gQ1RlIFZpbmN1bGFkbw0KICAgIHZhciBnblByb2RQcmVkb21pbmFudGUgPSAiIjsNCg0KICAgIGxldCBGaWx0cm9JZFByaW5jaXBhbCA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkKQ0KICAgIGxldCB0ZW1wbGF0ZWN0ZXN2aW5jdWxhZG9zID0gIjVkZDVmOTEwLTk4OWEtNDk0Yi1hZjRmLTRmYjkxN2QwYTZiMiI7DQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBNdW7DrWNpcGlvIGRlIERlc2NhcnJlZ2FtZW50byA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgdmFyIERUT011bmljaXBpb3NEZXNjYXJyZWdhbWVudG8gPSBbew0KICAgICAgICAiQ29kTXVuaWNpcGlvRGVzY2FycmVnYW1lbnRvIjogK2RhdGEuTUxPQ211bmljaXBpb19pYmdlX19ub3ZvX211bmljaXBpb19pYmdlX2Rlc2NhcnJlZ2FtZW50bywNCiAgICAgICAgIk5vbWVNdW5pY2lwaW9EZXNjYXJyZWdhbWVudG8iOiByZXRpcmFfYWNlbnRvcyhkYXRhLk1MT0NtdW5pY2lwaW9fbm9tZV9fbm92b19tdW5pY2lwaW9fZGVfZGVzY2FycmVnYW1lbnRvKSwNCiAgICAgICAgIkRUT0RvY3VtZW50b3NDVGUiOiBbXQ0KICAgIH1dOw0KDQogICAgbGV0IEZpbHRyb0lkbXVuZGVzY2FyZ2EgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCk7DQogICAgbGV0IG9iamN0ZXN2aW5jID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZWN0ZXN2aW5jdWxhZG9zLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvSWRtdW5kZXNjYXJnYSk7DQogICAgZm9yIChsZXQgcyBpbiBvYmpjdGVzdmluYykgew0KICAgICAgICBEVE9NdW5pY2lwaW9zRGVzY2FycmVnYW1lbnRvWzBdLkRUT0RvY3VtZW50b3NDVGUucHVzaCh7DQogICAgICAgICAgICAiQ2hhdmVBY2Vzc29DVGUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKG9iamN0ZXN2aW5jW3NdLlVybEpzb25Db250ZXh0LkNURWNoYXZlX2N0ZV9jdGVfX2NvbmhlY2ltZW50b19lbGV0cm9uaWNvX19jaGF2ZV9kZV9hY2Vzc29fY3RlX21kZmUpLA0KICAgICAgICAgICAgIlNlZ3VuZG9Db2RpZ29CYXJyYXMiOiAiIiwNCiAgICAgICAgICAgICJJbmRpY2Fkb3JSZWVudHJlZ2EiOiAiTmFvIg0KICAgICAgICB9KTsNCiAgICB9DQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQoNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IE11bsOtY2lwaW8gZGUgQ2FycmVnYW1lbnRvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgdmFyIERUT011bmljaXBpb3NDYXJyZWdhbWVudG8gPSBbew0KICAgICAgICAiQ29kTXVuaWNpcGlvQ2FycmVnYW1lbnRvIjogZGF0YS5NTE9DbXVuaWNpcGlvX2liZ2VfX25vdm9fbXVuaWNpcGlvX2liZ2VfY2FycmVnYW1lbnRvLnRvU3RyaW5nKCksDQogICAgICAgICJOb21lTXVuaWNpcGlvQ2FycmVnYW1lbnRvIjogcmV0aXJhX2FjZW50b3MoZGF0YS5NTE9DbXVuaWNpcGlvX25vbWVfX25vdm9fbXVuaWNpcGlvX2RlX2NhcnJlZ2FtZW50bykNCiAgICB9XTsNCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQZXJjdXJzb3MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIHZhciBEVE9JbmZQZXJjdXJzb3MgPSBbXTsNCiAgICBsZXQgdGVtcGxhdGVJZFBlcmN1cnNvcyA9ICIyNjI4YmZlZi0wMGFmLTQzNzgtOWE1NS1mMjY1NDk4MWY1NTUiOw0KICAgIGxldCBvYmpwZXJjdXJzb3MgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlSWRQZXJjdXJzb3MsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBGaWx0cm9JZFByaW5jaXBhbCk7DQogICAgaWYgKG9ianBlcmN1cnNvcyAhPSBudWxsICYmIG9ianBlcmN1cnNvcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAodmFyIHAgaW4gb2JqcGVyY3Vyc29zKSB7DQogICAgICAgICAgICB2YXIgcmVjb3JkcGUgPSBvYmpwZXJjdXJzb3NbcF0uVXJsSnNvbkNvbnRleHQ7DQogICAgICAgICAgICBEVE9JbmZQZXJjdXJzb3MucHVzaCh7DQogICAgICAgICAgICAgICAgIlVGUGVyY3Vyc28iOiByZWNvcmRwZS5NTE9DWmVzdGFkb191Zl9fc2lnbGFfZGFzX3VuaWRhZGVzX2RhX2ZlZGVyYWNhb19kb19wZXJjdXJzb19kb192ZWljdWxvX21kZmUNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBDb250cmF0YW50ZXMgZG8gU2VydmnDp28gZGUgVHJhbnNwb3J0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIHZhciBEVE9Db250cmF0YW50ZXNTZXJ2aWNvc1RyYW5zcG9ydGUgPSBbXTsNCiAgICBsZXQgdGVtcGxhdGVjb250cmF0YW50ZXNzZXJ2aWNvID0gImNjNzY0MDJkLTI1NWQtNDk1OC1hN2M1LTIwOTcxZjA5ODI0NyI7DQogICAgbGV0IG9iamNvbnRyYXRhbnRlc3NlcnZ0cmFuc3AgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlY29udHJhdGFudGVzc2VydmljbywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb0lkUHJpbmNpcGFsKTsNCiAgICBpZiAob2JqY29udHJhdGFudGVzc2VydnRyYW5zcCAhPSBudWxsICYmIG9iamNvbnRyYXRhbnRlc3NlcnZ0cmFuc3AubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKHZhciBjcyBpbiBvYmpjb250cmF0YW50ZXNzZXJ2dHJhbnNwKSB7DQogICAgICAgICAgICB2YXIgcmVjb3JkY3MgPSBvYmpjb250cmF0YW50ZXNzZXJ2dHJhbnNwW2NzXS5VcmxKc29uQ29udGV4dDsNCiAgICAgICAgICAgIGlmIChyZWNvcmRjcy5udW1lcm9fZG9fY3BmX2RvX2NvbnRyYXRhbnRlX2RvX3NlcnZpY29fbWRmZSAhPSBudWxsICYmIHJlY29yZGNzLm51bWVyb19kb19jcGZfZG9fY29udHJhdGFudGVfZG9fc2Vydmljb19tZGZlICE9PSAiIikgew0KICAgICAgICAgICAgICAgIERUT0NvbnRyYXRhbnRlc1NlcnZpY29zVHJhbnNwb3J0ZS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgIkNQRkNvbnRyYXRhbnRlIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhyZWNvcmRjcy5udW1lcm9fZG9fY3BmX2RvX2NvbnRyYXRhbnRlX2RvX3NlcnZpY29fbWRmZSksDQogICAgICAgICAgICAgICAgICAgICJDTlBKQ29udHJhdGFudGUiOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgIklkRXN0cmFuZ2Vpcm8iOiAiIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmRjcy5udW1lcm9fZG9fY25wal9kb19jb250cmF0YW50ZV9kb19zZXJ2aWNvX21kZmUgIT0gbnVsbCAmJiByZWNvcmRjcy5udW1lcm9fZG9fY25wal9kb19jb250cmF0YW50ZV9kb19zZXJ2aWNvX21kZmUgIT09ICIiKSB7DQogICAgICAgICAgICAgICAgRFRPQ29udHJhdGFudGVzU2Vydmljb3NUcmFuc3BvcnRlLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAiQ1BGQ29udHJhdGFudGUiOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgIkNOUEpDb250cmF0YW50ZSI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MocmVjb3JkY3MubnVtZXJvX2RvX2NucGpfZG9fY29udHJhdGFudGVfZG9fc2Vydmljb19tZGZlKSwNCiAgICAgICAgICAgICAgICAgICAgIklkRXN0cmFuZ2Vpcm8iOiAiIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb25kdXRvciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgdmFyIERUT0NvbmR1dG9yZXNWZWljdWxvcyA9IFtdOw0KICAgIGxldCB0ZW1wbGF0ZWNvbmR1dG9yZXMgPSAiZWQzZjdkNzUtYzNkMC00ZjU4LTk2MDQtNjM5ZmRmZjAxZjk1IjsNCiAgICBsZXQgb2JqY29uZHV0b3JlcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVjb25kdXRvcmVzLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgRmlsdHJvSWRQcmluY2lwYWwpOw0KICAgIGlmIChvYmpjb25kdXRvcmVzICE9IG51bGwgJiYgb2JqY29uZHV0b3Jlcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGZvciAodmFyIGN2IGluIG9iamNvbmR1dG9yZXMpIHsNCiAgICAgICAgICAgIHZhciByZWNvcmRjdiA9IG9iamNvbmR1dG9yZXNbY3ZdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgRFRPQ29uZHV0b3Jlc1ZlaWN1bG9zLnB1c2goew0KICAgICAgICAgICAgICAgICJOb21lQ29uZHV0b3IiOiByZWNvcmRjdi5QRVNub21lX3Blc3NvYV9fbm9tZV9kb19jb25kdXRvcl9tZGZlLA0KICAgICAgICAgICAgICAgICJDUEZDb25kdXRvciI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MocmVjb3JkY3YuUEVTY3BmX3Blc3NvYV9fY3BmX3Blc3NvYV9jb25kdXRvcl9tZGZlKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBEVE9Db25kdXRvcmVzVmVpY3Vsb3MucHVzaCh7DQogICAgICAgICAgICAiTm9tZUNvbmR1dG9yIjogZGF0YS5QRVNub21lX3Blc3NvYV9fbm9tZV9kb19jb25kdXRvcl9tZGZlLA0KICAgICAgICAgICAgIkNQRkNvbmR1dG9yIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhkYXRhLlBFU2NwZl9wZXNzb2FfX2NwZl9tb3RvcmlzdGEpDQogICAgICAgIH0pOw0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBEYWRvcyBDSU9UID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBEVE9JbmZDSU9UUm9kb3ZpYXJpbyA9IFtdOw0KICAgIGlmIChkYXRhLnN0YXR1c19jaW90X21kZmUgPT0gJ0VtaXRpZG8nKSB7DQogICAgICAgIERUT0luZkNJT1RSb2RvdmlhcmlvLnB1c2goew0KICAgICAgICAgICAgIkRhZG9zQ2lvdCI6IGRhdGEuY29kaWdvX2lkZW50aWZpY2Fkb3JfZGFfb3BlcmFjYW9fZGVfdHJhbnNwb3J0ZV9tZGZlDQogICAgICAgIH0pOw0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBdmVyYmHDp8OjbyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgdmFyIERUT051bWVyb3NBdmVyYmFjb2VzU2VndXJvID0gW107DQogICAgRFRPTnVtZXJvc0F2ZXJiYWNvZXNTZWd1cm8ucHVzaCh7DQogICAgICAgICJOdW1lcm9BdmVyYmFjYW8iOiBkYXRhLm51bWVyb19kYV9hdmVyYmFjYW9fbWRmZQ0KICAgIH0pOw0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBdXRvcml6YWRvcyBwYXJhIERvd25sb2FkID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgdmFyIERUT0F1dG9yaXphZG9zTURGZSA9IFtdOw0KICAgIGxldCB0ZW1wbGF0ZWF1dG9yaXphZG9zID0gIjJkYzIyYmE2LTA0NzEtNDQ4Yi05NmViLTQ3NGNhOGZjZGU1NiI7DQogICAgbGV0IG9iamF1dCA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVhdXRvcml6YWRvcywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb0lkUHJpbmNpcGFsKTsNCiAgICBpZiAob2JqYXV0ICE9IG51bGwgJiYgb2JqYXV0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yICh2YXIgYXVkIGluIG9iamF1dCkgew0KICAgICAgICAgICAgdmFyIHJlY29yZGF1ZCA9IG9iamF1dFthdWRdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICAgICAgaWYgKHJlY29yZGF1ZC5jbnBqX2RvX2F1dG9yaXphZG9fbWRmZSAhPSBudWxsICYmIHJlY29yZGF1ZC5jbnBqX2RvX2F1dG9yaXphZG9fbWRmZSAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICBEVE9BdXRvcml6YWRvc01ERmUucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICJDTlBKQXV0b3JpemFkbyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MocmVjb3JkYXVkLmNucGpfZG9fYXV0b3JpemFkb19tZGZlKSwNCiAgICAgICAgICAgICAgICAgICAgIkNQRkF1dG9yaXphZG8iOiAiIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmRhdWQuY3BmX2RvX2F1dG9yaXphZG9fbWRmZSAhPSBudWxsICYmIHJlY29yZGF1ZC5jcGZfZG9fYXV0b3JpemFkb19tZGZlICE9PSAiIikgew0KICAgICAgICAgICAgICAgIERUT0F1dG9yaXphZG9zTURGZS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgIkNOUEpBdXRvcml6YWRvIjogIiIsDQogICAgICAgICAgICAgICAgICAgICJDUEZBdXRvcml6YWRvIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhyZWNvcmRhdWQuY3BmX2RvX2F1dG9yaXphZG9fbWRmZSkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IERhZG9zIGRvIEVtaXRlbnRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCB0ZW1wbGF0ZUxpc3RhRXN0YWJlbGVjaW1lbnRvcyA9ICcyMzhhYmQ4ZC1jZTFiLTRkY2UtODBjZi1iYzdkZWU5MmY4Y2YnOw0KICAgIGxldCBGaWx0cm9MaXN0YUVzdGFiZWxlY2ltZW50byA9IGdlcmFyRmlsdHJvKCJfaWQiLCBkYXRhLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9fbWRmZV9pZCkNCg0KICAgIGxldCBvYmpFbWl0ZW50ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVMaXN0YUVzdGFiZWxlY2ltZW50b3MsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBGaWx0cm9MaXN0YUVzdGFiZWxlY2ltZW50byk7DQogICAgbGV0IGN0eEVtaXRlbnRlID0gJyc7DQogICAgaWYgKG9iakVtaXRlbnRlICE9IG51bGwgJiYgb2JqRW1pdGVudGUubGVuZ3RoID4gMCkgew0KICAgICAgICBjdHhFbWl0ZW50ZSA9IG9iakVtaXRlbnRlWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRW5kZXJlw6dvIGRvIEVtaXRlbnRlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgdGVtcGxhdGVFbmRlcmVjb0VtaXRlbnRlID0gJzhkZTg4NjkyLTA4MGYtNDRmZS05ZjBjLTI5YzhlYTUzN2Y0Zic7DQogICAgbGV0IEZpbHRyb0VuZGVyZWNvRW1pdGVudGUgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIG9iakVtaXRlbnRlWzBdLklEKQ0KDQogICAgbGV0IG9iakVuZGVyZWNvRW1pdGVudGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlRW5kZXJlY29FbWl0ZW50ZSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb0VuZGVyZWNvRW1pdGVudGUpOw0KICAgIGxldCBjdHhFbmRlcmVjb0VtaXRlbnRlID0gJyc7DQogICAgaWYgKG9iakVuZGVyZWNvRW1pdGVudGUgIT0gbnVsbCAmJiBvYmpFbmRlcmVjb0VtaXRlbnRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY3R4RW5kZXJlY29FbWl0ZW50ZSA9IG9iakVuZGVyZWNvRW1pdGVudGVbMF0uVXJsSnNvbkNvbnRleHQ7DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJbmZvcm1hw6dvZXMgZG8gdmFsZSBwZWTDoWdpbyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCiAgICBsZXQgRFRPRGlzcG9zaXRpdm9zVmFsZVBlZGFnaW8gPSBbXTsNCiAgICBsZXQgdmFsZVBlZGFnaW9JRCA9ICJiYjRiN2Y2NC1jYTllLTQ4NGMtYWRjMi1jZTI3ODlkY2JjZDkiOw0KICAgIGxldCBmaWx0cm9WYWxlUGVkYWdpbyA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkKTsNCiAgICBsZXQgdmFsZXBlZGFnaW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHZhbGVQZWRhZ2lvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9WYWxlUGVkYWdpbyk7DQogICAgaWYgKHZhbGVwZWRhZ2lvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgVkFMRSBvZiB2YWxlcGVkYWdpbykgew0KICAgICAgICAgICAgRFRPRGlzcG9zaXRpdm9zVmFsZVBlZGFnaW8ucHVzaCh7DQogICAgICAgICAgICAgICAgImNucGpGb3JuZWNlZG9yVmFsZVBlZGFnaW8iOiBWQUxFLlVybEpzb25Db250ZXh0LmNucGpfZGFfZW1wcmVzYV9mb3JuZWNlZG9yYV9kb192YWxlcGVkYWdpb19tZGZlLA0KICAgICAgICAgICAgICAgICJjbnBqUmVzcG9uc2F2ZWxQYWd0b1ZhbGVQZWRhZ2lvIjogVkFMRS5VcmxKc29uQ29udGV4dC5jbnBqX2RvX3Jlc3BvbnNhdmVsX3BlbG9fcGFnYW1lbnRvX2RvX3ZhbGVwZWRhZ2lvX21kZmUsDQogICAgICAgICAgICAgICAgImNwZlJlc3BvbnNhdmVsUGFndG9WYWxlUGVkYWdpbyI6ICIiLA0KICAgICAgICAgICAgICAgICJudW1lcm9Db21wcm92YW50ZUNvbXByYVZhbGVQZWRhZ2lvIjogVkFMRS5VcmxKc29uQ29udGV4dC5udW1lcm9fZG9fY29tcHJvdmFudGVfZGVfY29tcHJhX21kZmUudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAidmFsb3JWYWxlUGVkYWdpbyI6IFZBTEUuVXJsSnNvbkNvbnRleHQudmFsb3JfZG9fdmFsZXBlZGFnaW8NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUmVib3F1ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgbGV0IER0b1JlYm9xdWVSb2RvdmlhcmlvID0gW107DQogICAgaWYgKGRhdGEudmVpY3Vsb19wb3NzdWlfcmVib3F1ZSA9PSAic2ltIikgew0KDQogICAgICAgIGxldCByYXphb1NvY2lhbFByb3ByaWV0YXJpb1JlYm9xdWUgPSBkYXRhLlZFSV90aXBvX2RlX3RyYW5zcG9ydGFkb3JfX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl92ZWljdWxvX3JlYm9xdWUgPT0gJzInID8gZGF0YS5WRUlfUEVTbm9tZV9wZXNzb2FfX25vbWVfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9fUEVTbm9tZV9wZXNzb2FfX25vbWVfcGVzc29hX3Byb3ByaWV0YXJpb19QRl92ZWljdWxvX3JlYm9xdWUgOiBkYXRhLlZFSV9FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX3Byb3ByaWV0YXJpb19QSl9fRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9wcm9wcmlldGFyaW9fUEpfdmVpY3Vsb19yZWJvcXVlOw0KICAgICAgICBpZiAocmF6YW9Tb2NpYWxQcm9wcmlldGFyaW9SZWJvcXVlLmxlbmd0aCA+IDYwKSB7DQogICAgICAgICAgICByYXphb1NvY2lhbFByb3ByaWV0YXJpb1JlYm9xdWUgPSByYXphb1NvY2lhbFByb3ByaWV0YXJpb1JlYm9xdWUuc3Vic3RyaW5nKDAsIDYwKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vSUUgcHJvcHJpZXTDoXJpbw0KICAgICAgICBsZXQgSUVQcm9wcmlldGFyaW9SZWJvcXVlID0gIiI7DQogICAgICAgIGlmIChkYXRhLlZFSV90aXBvX2RlX3RyYW5zcG9ydGFkb3JfX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl92ZWljdWxvX3JlYm9xdWUgIT0gJzInKSB7DQogICAgICAgICAgICBpZiAocmV0b3JuYV9zb21lbnRlbnVtZXJvcyhkYXRhLlZFSV9FTVBpZV9lbXByZXNhX19pZV9wcm9wcmlldGFyaW9fUEpfX0VNUGllX2VtcHJlc2FfX2llX3Byb3ByaWV0YXJpb19QSl92ZWljdWxvX3JlYm9xdWUpKSB7DQogICAgICAgICAgICAgICAgSUVQcm9wcmlldGFyaW9SZWJvcXVlID0gZGF0YS5WRUlfRU1QaWVfZW1wcmVzYV9faWVfcHJvcHJpZXRhcmlvX1BKX19FTVBpZV9lbXByZXNhX19pZV9wcm9wcmlldGFyaW9fUEpfdmVpY3Vsb19yZWJvcXVlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIElFUHJvcHJpZXRhcmlvUmVib3F1ZSA9ICJJU0VOVE8iOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGxldCBwb3N0SW5mb1JlYm9xdWUgPSB7DQogICAgICAgICAgICAiY29kaWdvSW50ZXJub1JlYm9xdWUiOiBkYXRhLlZFSV9wbGFjYV92ZWlfX3BsYWNhX3ZlaV92ZWljdWxvX3JlYm9xdWUsDQogICAgICAgICAgICAicGxhY2FSZWJvcXVlIjogZGF0YS5WRUlfcGxhY2FfdmVpX19wbGFjYV92ZWlfdmVpY3Vsb19yZWJvcXVlLA0KICAgICAgICAgICAgInJlbmF2YW1SZWJvcXVlIjogZGF0YS5WRUlfcmVuYXZhbV92ZWlfX3JlbmF2YW1fdmVpX3ZlaWN1bG9fcmVib3F1ZS50b1N0cmluZygpLA0KICAgICAgICAgICAgInRhcmFLR1JlYm9xdWUiOiBOdW1iZXIoZGF0YS5WRUlfdGFyYV92ZWlfX3RhcmFfdmVpX3ZlaWN1bG9fcmVib3F1ZSksDQogICAgICAgICAgICAiY2FwYWNpZGFkZUtHUmVib3F1ZSI6IE51bWJlcihkYXRhLlZFSV9jYXBhY2lkYWRlX2tnX3ZlaV9fY2FwYWNpZGFkZV9rZ192ZWlfdmVpY3Vsb19yZWJvcXVlKSwNCiAgICAgICAgICAgICJjYXBhY2lkYWRlTUNVQlJlYm9xdWUiOiBOdW1iZXIoZGF0YS5WRUlfY2FwYWNpZGFkZV9tM192ZWlfX2NhcGFjaWRhZGVfbTNfdmVpX3ZlaWN1bG9fcmVib3F1ZSksDQogICAgICAgICAgICAiY3BmUHJvcFJlYm9xdWUiOiBkYXRhLlZFSV90aXBvX2RlX3RyYW5zcG9ydGFkb3JfX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl92ZWljdWxvX3JlYm9xdWUgPT0gJzInID8gcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhkYXRhLlZFSV9QRVNjcGZfcGVzc29hX19jcGZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9fUEVTY3BmX3Blc3NvYV9fY3BmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfdmVpY3Vsb19yZWJvcXVlKSA6ICIiLA0KICAgICAgICAgICAgImNucGpQcm9wUmVib3F1ZSI6IGRhdGEuVkVJX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl9fdGlwb19kZV90cmFuc3BvcnRhZG9yX3ZlaWN1bG9fcmVib3F1ZSAhPSAnMicgPyByZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEuVkVJX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfdmVpY3Vsb19yZWJvcXVlKSA6ICIiLA0KICAgICAgICAgICAgInJudHJjUHJvcFJlYm9xdWUiOiBkYXRhLlZFSV9ybnRyY19wcm9wcmlldGFyaW9fX3JudHJjX3Byb3ByaWV0YXJpb192ZWljdWxvX3JlYm9xdWUsDQogICAgICAgICAgICAicmF6YW9Tb2NpYWxOb21lUHJvcFJlYm9xdWUiOiByYXphb1NvY2lhbFByb3ByaWV0YXJpb1JlYm9xdWUsDQogICAgICAgICAgICAiaWVQcm9wUmVib3F1ZSI6IElFUHJvcHJpZXRhcmlvUmVib3F1ZSwNCiAgICAgICAgICAgICJ1ZlByb3BSZWJvcXVlIjogZGF0YS5WRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfdmVpY3Vsb19yZWJvcXVlID09ICcyJyA/IGRhdGEuVkVJX1BFU01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfX01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX19QRVNNTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hX19NTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl92ZWljdWxvX3JlYm9xdWUgOiBkYXRhLlZFSV9FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfcHJvcHJpZXRhcmlvX1BKX19FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfcHJvcHJpZXRhcmlvX1BKX3ZlaWN1bG9fcmVib3F1ZSwNCiAgICAgICAgICAgICJ0aXBvUHJvcHJpZXRhcmlvUHJvcFJlYm9xdWUiOiBkYXRhLlZFSV90aXBvX3Byb3ByaWV0YXJpb192ZWlfX3RpcG9fcHJvcHJpZXRhcmlvX3ZlaV92ZWljdWxvX3JlYm9xdWUsDQogICAgICAgICAgICAidGlwb0NhcnJvY2VyaWEiOiBkYXRhLlZFSV90aXBvX2RlX2NhcnJvY2VyaWFfdmVpX190aXBvX2RlX2NhcnJvY2VyaWFfdmVpX3ZlaWN1bG9fcmVib3F1ZSwNCiAgICAgICAgICAgICJ1ZkxpY2VuY2lhbWVudG8iOiBkYXRhLlZFSV9NTE9DZXN0YWRvX3VmX191Zl9saWNlbmNpYW1lbnRvX3ZlaWN1bG9fX01MT0Nlc3RhZG9fdWZfX3VmX2xpY2VuY2lhbWVudG9fdmVpY3Vsb192ZWljdWxvX3JlYm9xdWUNCiAgICAgICAgfQ0KICAgICAgICBEdG9SZWJvcXVlUm9kb3ZpYXJpby5wdXNoKHBvc3RJbmZvUmVib3F1ZSk7DQogICAgfQ0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IExhY3JlcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgbGV0IER0b0xhY3Jlc1JvZG92aWFyaW8gPSBbXTsNCiAgICBsZXQgbGFjcmVzSUQgPSAiZmUzNTY3ODctNzcwZC00OTczLWE4ZjAtYjM0MGQ1Mzg4ZDEyIjsNCiAgICBsZXQgZmlsdHJvTGFjcmVzID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQpOw0KICAgIGxldCBsYWNyZXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGxhY3Jlc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvTGFjcmVzKTsNCiAgICBpZiAobGFjcmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgTEFDUkUgb2YgbGFjcmVzKSB7DQogICAgICAgICAgICBsZXQgcG9zdEluZm9MYWNyZSA9IHsNCiAgICAgICAgICAgICAgICAibnVtZXJvTGFjcmUiOiBMQUNSRS5VcmxKc29uQ29udGV4dC5udW1lcm9fZG9fbGFjcmVfbGFjcmVzX21kZmUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIER0b0xhY3Jlc1JvZG92aWFyaW8ucHVzaChwb3N0SW5mb0xhY3JlKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFwNCg0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT0gQ3JpYcOnw6NvIGRvIE9iaiA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIGxldCBlbnZpb21kZmVPYmp0bXAgPSBbXTsNCg0KICAgIC8vSUUgcHJvcHJpZXTDoXJpbw0KICAgIGxldCBJRVByb3ByaWV0YXJpbyA9ICIiOw0KICAgIGlmIChkYXRhLlZFSV90aXBvX2RlX3RyYW5zcG9ydGFkb3JfX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8gIT0gJzInKSB7DQogICAgICAgIGlmIChyZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEuVkVJX0VNUGllX2VtcHJlc2FfX2llX3Byb3ByaWV0YXJpb19QSl9fRU1QaWVfZW1wcmVzYV9faWVfcHJvcHJpZXRhcmlvX1BKX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbykpIHsNCiAgICAgICAgICAgIElFUHJvcHJpZXRhcmlvID0gZGF0YS5WRUlfRU1QaWVfZW1wcmVzYV9faWVfcHJvcHJpZXRhcmlvX1BKX19FTVBpZV9lbXByZXNhX19pZV9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBJRVByb3ByaWV0YXJpbyA9ICJJU0VOVE8iOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgbGV0IHJhemFvU29jaWFsUHJvcHJpZXRhcmlvID0gZGF0YS5WRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvID09ICcyJyA/IGRhdGEuVkVJX1BFU25vbWVfcGVzc29hX19ub21lX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfX1BFU25vbWVfcGVzc29hX19ub21lX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIDogZGF0YS5WRUlfRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9wcm9wcmlldGFyaW9fUEpfX0VNUHJhemFvX3NvY2lhbF9lbXByZXNhX19yYXphb19zb2NpYWxfcHJvcHJpZXRhcmlvX1BKX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbzsNCiAgICBpZiAocmF6YW9Tb2NpYWxQcm9wcmlldGFyaW8ubGVuZ3RoID4gNjApIHsNCiAgICAgICAgcmF6YW9Tb2NpYWxQcm9wcmlldGFyaW8gPSByYXphb1NvY2lhbFByb3ByaWV0YXJpby5zdWJzdHJpbmcoMCwgNjApOw0KICAgIH0NCg0KICAgIGxldCBUaXBvVHJhbnNwb3J0YWRvcjsNCiAgICBpZiAoZGF0YS5WRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvID09ICIwIikgew0KICAgICAgICBUaXBvVHJhbnNwb3J0YWRvciA9IDE7DQogICAgfSBlbHNlIHsNCiAgICAgICAgVGlwb1RyYW5zcG9ydGFkb3IgPSBOdW1iZXIoZGF0YS5WRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvKTsNCiAgICB9DQoNCiAgICBsZXQgY2F0ZWdvcmlhQ29tYmluYWNhb1ZlaWN1bGFyID0gMDsNCiAgICBpZiAoZGF0YS5WRUlfbnVtZXJvX2VpeG9zX3ZlaV9fbnVtZXJvX2VpeG9zX3ZlaWN1bG9fdHJhY2FvID4gMTApIHsNCiAgICAgICAgY2F0ZWdvcmlhQ29tYmluYWNhb1ZlaWN1bGFyID0gMTENCiAgICB9DQogICAgc3dpdGNoIChkYXRhLlZFSV9udW1lcm9fZWl4b3NfdmVpX19udW1lcm9fZWl4b3NfdmVpY3Vsb190cmFjYW8pIHsNCiAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgY2F0ZWdvcmlhQ29tYmluYWNhb1ZlaWN1bGFyID0gMjsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlIDM6DQogICAgICAgICAgICBjYXRlZ29yaWFDb21iaW5hY2FvVmVpY3VsYXIgPSAzOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgNDoNCiAgICAgICAgICAgIGNhdGVnb3JpYUNvbWJpbmFjYW9WZWljdWxhciA9IDQ7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSA1Og0KICAgICAgICAgICAgY2F0ZWdvcmlhQ29tYmluYWNhb1ZlaWN1bGFyID0gNTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlIDY6DQogICAgICAgICAgICBjYXRlZ29yaWFDb21iaW5hY2FvVmVpY3VsYXIgPSA2Ow0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgNzoNCiAgICAgICAgICAgIGNhdGVnb3JpYUNvbWJpbmFjYW9WZWljdWxhciA9IDc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSA4Og0KICAgICAgICAgICAgY2F0ZWdvcmlhQ29tYmluYWNhb1ZlaWN1bGFyID0gODsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlIDk6DQogICAgICAgICAgICBjYXRlZ29yaWFDb21iaW5hY2FvVmVpY3VsYXIgPSA5Ow0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgMTA6DQogICAgICAgICAgICBjYXRlZ29yaWFDb21iaW5hY2FvVmVpY3VsYXIgPSAxMDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgYnJlYWs7DQogICAgfQ0KDQogICAgZW52aW9tZGZlT2JqdG1wID0gew0KICAgICAgICAiTGlua0NlcnRpZmljYWRvIjogY3R4RW1pdGVudGUuY2VydGlmaWNhZG9bMF0uVXJsLA0KICAgICAgICAiU2VuaGFDZXJ0IjogY3R4RW1pdGVudGUuc2VuaGFfY2VydGlmaWNhZG8sDQogICAgICAgICJ0aXBvQW1iaWVudGUiOiByZXRpcmFfYWNlbnRvcyhjdHhFbWl0ZW50ZS5hbWJpZW50ZV9kZXNjKSwNCiAgICAgICAgImVtaXRlbnRlQ05QSiI6IGN0eEVtaXRlbnRlLmNucGosDQogICAgICAgIC8vImVtaXRlbnRlQ1BGIjogY3R4RW1pdGVudGUuLA0KICAgICAgICAiZW1pdGVudGVJRSI6IGN0eEVtaXRlbnRlLmllLnRvU3RyaW5nKCksDQogICAgICAgICJlbWl0ZW50ZVJhemFvU29jaWFsTm9tZSI6IGN0eEVtaXRlbnRlLnJhemFvX3NvY2lhbCwNCiAgICAgICAgImVtaXRlbnRlTm9tZUZhbnRhc2lhIjogY3R4RW1pdGVudGUubm9tZV9mYW50YXNpYSwNCiAgICAgICAgImVtaXRlbnRlTG9ncmFkb3VybyI6IGN0eEVuZGVyZWNvRW1pdGVudGUubG9ncmFkb3Vyb19lbXByZXNhLA0KICAgICAgICAiZW1pdGVudGVOdW1lcm9Mb2dyYWRvdXJvIjogY3R4RW5kZXJlY29FbWl0ZW50ZS5udW1lcm9fZW1wcmVzYS50b1N0cmluZygpLA0KICAgICAgICAiZW1pdGVudGVDb21wbGVtZW50b0xvZ3JhZG91cm8iOiBjdHhFbmRlcmVjb0VtaXRlbnRlLmNvbXBsZW1lbnRvX2VtcHJlc2EsDQogICAgICAgICJlbWl0ZW50ZUJhaXJyb0xvZ3JhZG91cm8iOiBjdHhFbmRlcmVjb0VtaXRlbnRlLmJhaXJyb19lbXByZXNhLA0KICAgICAgICAiZW1pdGVudGVDb2RNdW5pY2lwaW9Mb2dyYWRvdXJvIjogY3R4RW5kZXJlY29FbWl0ZW50ZS5NTE9DWm11bmljaXBpb19pYmdlLnRvU3RyaW5nKCksDQogICAgICAgICJlbWl0ZW50ZU5vbWVNdW5pY2lwaW9Mb2dyYWRvdXJvIjogY3R4RW5kZXJlY29FbWl0ZW50ZS5NTE9DWm11bmljaXBpb19ub21lX19tdW5pY2lwaW9fZW1wcmVzYSwNCiAgICAgICAgImVtaXRlbnRlQ0VQTG9ncmFkb3VybyI6IHJldG9ybmFfc29tZW50ZW51bWVyb3MoY3R4RW5kZXJlY29FbWl0ZW50ZS5jZXBfZW1wcmVzYSksDQogICAgICAgICJlbWl0ZW50ZVVGTG9ncmFkb3VybyI6IGN0eEVuZGVyZWNvRW1pdGVudGUuTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2EsDQogICAgICAgICJlbWl0ZW50ZUZvbmUiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKGN0eEVtaXRlbnRlLnRlbGVmb25lKSwNCiAgICAgICAgImVtaXRlbnRlRW1haWwiOiBjdHhFbWl0ZW50ZS5lbWFpbF9lc3RhYmVsZWNpbWVudG8sDQogICAgICAgICJUaXBvRW1pdGVudGUiOiAyLA0KICAgICAgICAiVGlwb1RyYW5zcG9ydGFkb3IiOiBUaXBvVHJhbnNwb3J0YWRvciwNCiAgICAgICAgIlNlcmllTURGZSI6IFNlcmllTURGZS50b1N0cmluZygpLA0KICAgICAgICAiTnVtZXJvTURGZSI6IE51bWVyb01ERmUudG9TdHJpbmcoKSwNCiAgICAgICAgIk1vZGFsaWRhZGVUcmFuc3BvcnRlIjogIlJvZG92aWFyaW8iLA0KICAgICAgICAiRGF0YUVtaXNzYW8iOiBkYXRlVG9TdHJpbmcoZGF0YS5kYXRhaG9yYV9wcmV2aXN0b3NfZGVfaW5pY2lvX2RhX3ZpYWdlbV9tZGZlRGF0ZSksDQogICAgICAgICJUaXBvRW1pc3NhbyI6IDEsDQogICAgICAgICJVRkluaSI6IGRhdGEuTUxPQ2VzdGFkb191Zl9fbm92b191Zl9kZV9jYXJyZWdhbWVudG8sDQogICAgICAgICJVRkZpbSI6IGRhdGEuTUxPQ2VzdGFkb191Zl9fbm92b191Zl9kZV9kZXNjYXJyZWdhbWVudG8sDQogICAgICAgICJEYXRhSG9yYVByZXZpc3Rvc0luaWNpb1ZpYWdlbSI6IGRhdGVUb1N0cmluZyhkYXRhLmRhdGFob3JhX3ByZXZpc3Rvc19kZV9pbmljaW9fZGFfdmlhZ2VtX21kZmVEYXRlKSwNCiAgICAgICAgIkNhdGVnb3JpYUNvbWJpbmFjYW9WZWljdWxhciI6IGNhdGVnb3JpYUNvbWJpbmFjYW9WZWljdWxhciwNCiAgICAgICAgIlJOVFJDIjogZGF0YS5ybnRyY19tZGZlLA0KICAgICAgICAiQ29kaWdvSW50ZXJub1ZlaWN1bG8iOiBkYXRhLlZFSV9wbGFjYV92ZWlfX3BsYWNhX3ZlaWN1bG9fdHJhY2FvLA0KICAgICAgICAiUGxhY2FWZWljdWxvIjogZGF0YS5WRUlfcGxhY2FfdmVpX19wbGFjYV92ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIlJFTkFWQU1WZWljdWxvIjogZGF0YS5WRUlfcmVuYXZhbV92ZWlfX3JlbmF2YW1fdmVpY3Vsb190cmFjYW8gPyBkYXRhLlZFSV9yZW5hdmFtX3ZlaV9fcmVuYXZhbV92ZWljdWxvX3RyYWNhby50b1N0cmluZygpIDogIiIsDQogICAgICAgICJUYXJhS0dWZWljdWxvIjogZGF0YS5WRUlfdGFyYV92ZWlfX3RhcmFfdmVpY3Vsb190cmFjYW8sDQogICAgICAgICJDYXBhY2lkYWRlS0dWZWljdWxvIjogZGF0YS5WRUlfY2FwYWNpZGFkZV9rZ192ZWlfX2NhcGFjaWRhZGVfa2dfdmVpY3Vsb190cmFjYW8sDQogICAgICAgICJDYXBhY2lkYWRlTUNVQlZlaWN1bG8iOiBkYXRhLlZFSV9jYXBhY2lkYWRlX20zX3ZlaV9fY2FwYWNpZGFkZV9tM192ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIkNQRlByb3BWZWljIjogZGF0YS5WRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvID09ICcyJyA/IHJldG9ybmFfc29tZW50ZW51bWVyb3MoZGF0YS5WRUlfUEVTY3BmX3Blc3NvYV9fY3BmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfX1BFU2NwZl9wZXNzb2FfX2NwZl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbykgOiAiIiwNCiAgICAgICAgIkNOUEpQcm9wVmVpYyI6IGRhdGEuVkVJX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl9fdGlwb19kZV90cmFuc3BvcnRhZG9yX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyAhPSAnMicgPyByZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEuVkVJX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvKSA6ICIiLA0KICAgICAgICAiUk5UUkNQcm9wVmVpYyI6IGRhdGEuVkVJX3JudHJjX3Byb3ByaWV0YXJpb19fcm50cmNfcHJvcHJpZXRhcmlvX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIlJhemFvU29jaWFsTm9tZVByb3BWZWljIjogcmF6YW9Tb2NpYWxQcm9wcmlldGFyaW8sDQogICAgICAgICJJRVByb3BWZWljIjogSUVQcm9wcmlldGFyaW8sDQogICAgICAgICJVRlByb3BWZWljIjogZGF0YS5WRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvID09ICcyJyA/IGRhdGEuVkVJX1BFU01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfX01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX19QRVNNTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hX19NTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8gOiBkYXRhLlZFSV9FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfcHJvcHJpZXRhcmlvX1BKX19FTVBNTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9fTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2FfcHJvcHJpZXRhcmlvX1BKX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIlRpcG9Qcm9wcmlldGFyaW9Qcm9wVmVpYyI6IGRhdGEuVkVJX3RpcG9fcHJvcHJpZXRhcmlvX3ZlaV9fdGlwb19wcm9wcmlldGFyaW9fdmVpX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIlRpcG9Sb2RhZG9WZWljdWxvIjogZGF0YS5WRUlfdGlwb19kZV9yb2RhZG9fdmVpX190aXBvX2RlX3JvZGFkb192ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIlRpcG9DYXJyb2NlcmlhVmVpY3VsbyI6IGRhdGEuVkVJX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWlfX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWljdWxvX3RyYWNhbywNCiAgICAgICAgIlVGTGljZW5jaWFtZW50b1ZlaWN1bG8iOiBkYXRhLlZFSV9NTE9DZXN0YWRvX3VmX191Zl9saWNlbmNpYW1lbnRvX3ZlaWN1bG9fX01MT0Nlc3RhZG9fdWZfX3VmX2xpY2VuY2lhbWVudG9fdmVpY3Vsb190cmFjYW8sDQogICAgICAgICJDb2RpZ29BZ2VuZGFtZW50b1BvcnRvIjogZGF0YS5jb2RpZ29fZGVfYWdlbmRhbWVudG9fbm9fcG9ydG9fbWRmZSwNCiAgICAgICAgIlJlc3BvbnNhdmVsU2VndXJvIjogZGF0YS5yZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlLA0KICAgICAgICAiQ05QSlJlc3BvbnNhdmVsU2VndXJvIjogZGF0YS5udW1lcm9fZG9fY25wal9kb19yZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlLA0KICAgICAgICAiQ1BGUmVzcG9uc2F2ZWxTZWd1cm8iOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEubnVtZXJvX2RvX2NwZl9kb19yZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlKSwNCiAgICAgICAgIk5vbWVTZWd1cmFkb3JhIjogZGF0YS5FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX2VtcHJlc2FfbWRmZS5zdWJzdHJpbmcoMCwgMjkpLA0KICAgICAgICAiQ05QSlNlZ3VyYWRvcmEiOiBkYXRhLkVNUGNucGpfZW1wcmVzYV9fbnVtZXJvX2RvX2NucGpfZGFfc2VndXJhZG9yYV9tZGZlLA0KICAgICAgICAiTnVtZXJvQXBvbGljZSI6IGRhdGEubnVtZXJvX2RhX2Fwb2xpY2VfbWRmZSwNCiAgICAgICAgIkRlc2NyaWNhb1Byb2R1dG8iOiBnblByb2RQcmVkb21pbmFudGUsDQogICAgICAgICJDRVBDYXJyZWdhbWVudG8iOiAiMTcwMzQ0ODAiLA0KICAgICAgICAiQ0VQRGVzY2FycmVnYW1lbnRvIjogIjYwMzEwMDAwIiwNCiAgICAgICAgInByb2R1dG9QcmVkb21pbmFudGUiOiBkYXRhLlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19ub21lX2RvX3Byb2R1dG9fbWRmZSwNCiAgICAgICAgIm5jbSI6IGRhdGEuUFBUY29kaWdvX25jbV9kb19wcm9kdXRvX19jb2RpZ29fbmNtX2RvX3Byb2R1dG9fbWRmZS50b1N0cmluZygpLA0KICAgICAgICAidGlwb0NhcmdhIjogIjA0IiwNCiAgICAgICAgIlF1YW50aWRhZGVDVEVzIjogZGF0YS5xdWFudGlkYWRlX3RvdGFsX2RlX2N0ZV9yZWxhY2lvbmFkb3Nfbm9fbWFuaWZlc3RvX21kZmUsDQogICAgICAgICJRdWFudGlkYWRlTkZFcyI6IDAsDQogICAgICAgICJRdWFudGlkYWRlTURGRXMiOiAwLA0KICAgICAgICAiVmFsb3JUb3RhbENhcmdhIjogZGF0YS52YWxvcl90b3RhbF9kYV9jYXJnYV9fbWVyY2Fkb3JpYXNfdHJhbnNwb3J0YWRhc19tZGZlLA0KICAgICAgICAiQ29kaWdvVW5pZGFkZU1lZGlkYSI6IGRhdGEuY29kaWdvX2RhX3VuaWRhZGVfZGVfbWVkaWRhX2RvX3Blc29fYnJ1dG9fZGFfY2FyZ2FfX21lcmNhZG9yaWFzX3RyYW5zcG9ydGFkYXNfbWRmZS50b1VwcGVyQ2FzZSgpLA0KICAgICAgICAiUGVzb0JydXRvVG90YWxDYXJnYSI6IGRhdGEucGVzb19icnV0b190b3RhbF9kYV9jYXJnYV9fbWVyY2Fkb3JpYXNfdHJhbnNwb3J0YWRhc19tZGZlLA0KICAgICAgICAiSW5mb3JtYWNvZXNBZGljaW9uYWlzRmlzY28iOiBkYXRhLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZGVfaW50ZXJlc3NlX2RvX2Zpc2NvX21kZmUgPyBkYXRhLmluZm9ybWFjb2VzX2FkaWNpb25haXNfZGVfaW50ZXJlc3NlX2RvX2Zpc2NvX21kZmUgOiAiLiIsDQogICAgICAgICJJbmZvcm1hY29lc0NvbXBsZW1lbnRhcmVzIjogZGF0YS5pbmZvcm1hY29lc19jb21wbGVtZW50YXJlc19kZV9pbnRlcmVzc2VfZG9fY29udHJpYnVpbnRlX21kZmUgPyBkYXRhLmluZm9ybWFjb2VzX2NvbXBsZW1lbnRhcmVzX2RlX2ludGVyZXNzZV9kb19jb250cmlidWludGVfbWRmZSA6ICIuIg0KICAgIH07DQoNCiAgICBlbnZpb21kZmVPYmp0bXAuRFRPTXVuaWNpcGlvc0NhcnJlZ2FtZW50byA9IERUT011bmljaXBpb3NDYXJyZWdhbWVudG87DQogICAgZW52aW9tZGZlT2JqdG1wLkRUT0luZlBlcmN1cnNvcyA9IERUT0luZlBlcmN1cnNvczsNCiAgICBlbnZpb21kZmVPYmp0bXAuRFRPQ29udHJhdGFudGVzU2Vydmljb3NUcmFuc3BvcnRlID0gRFRPQ29udHJhdGFudGVzU2Vydmljb3NUcmFuc3BvcnRlOw0KICAgIGVudmlvbWRmZU9ianRtcC5EVE9Db25kdXRvcmVzVmVpY3Vsb3MgPSBEVE9Db25kdXRvcmVzVmVpY3Vsb3M7DQogICAgZW52aW9tZGZlT2JqdG1wLkRUT011bmljaXBpb3NEZXNjYXJyZWdhbWVudG8gPSBEVE9NdW5pY2lwaW9zRGVzY2FycmVnYW1lbnRvOw0KICAgIGVudmlvbWRmZU9ianRtcC5EVE9OdW1lcm9zQXZlcmJhY29lc1NlZ3VybyA9IERUT051bWVyb3NBdmVyYmFjb2VzU2VndXJvOw0KICAgIGVudmlvbWRmZU9ianRtcC5EVE9BdXRvcml6YWRvc01ERmUgPSBEVE9BdXRvcml6YWRvc01ERmU7DQogICAgZW52aW9tZGZlT2JqdG1wLkRUT0luZkNJT1RSb2RvdmlhcmlvID0gRFRPSW5mQ0lPVFJvZG92aWFyaW87DQogICAgZW52aW9tZGZlT2JqdG1wLkRUT0Rpc3Bvc2l0aXZvc1ZhbGVQZWRhZ2lvID0gRFRPRGlzcG9zaXRpdm9zVmFsZVBlZGFnaW87DQogICAgZW52aW9tZGZlT2JqdG1wLkRUT0xhY3Jlc1JvZG92aWFyaW8gPSBEdG9MYWNyZXNSb2RvdmlhcmlvOw0KICAgIGVudmlvbWRmZU9ianRtcC5EVE9SZWJvcXVlUm9kb3ZpYXJpbyA9IER0b1JlYm9xdWVSb2RvdmlhcmlvDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcDQogICAgcmV0dXJuIGVudmlvbWRmZU9ianRtcDsNCn0NCg0KZnVuY3Rpb24gcmV0aXJhX2FjZW50b3Moc3RyKSB7DQogICAgbGV0IGNvbV9hY2VudG8gPSAiw4DDgcOCw4PDhMOFw4bDh8OIw4nDisOLw4zDjcOOw4/DkMORw5LDk8OUw5XDlsOYw5nDmsObw5zDncWUw57Dn8Ogw6HDosOjw6TDpcOmw6fDqMOpw6rDq8Osw63DrsOvw7DDscOyw7PDtMO1w7bDuMO5w7rDu8O8w73DvsO/xZUiOw0KICAgIGxldCBzZW1fYWNlbnRvID0gIkFBQUFBQUFDRUVFRUlJSUlETk9PT09PT1VVVVVZUnNCYWFhYWFhYWNlZWVlaWlpaW9ub29vb29vdXV1dXlieXIiOw0KICAgIGxldCBub3Zhc3RyID0gIiI7DQogICAgaWYgKHN0ciAhPT0gIiIpIHsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdHJvY2EgPSBmYWxzZTsNCiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBjb21fYWNlbnRvLmxlbmd0aDsgYSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHN0ci5zdWJzdHIoaSwgMSkgPT0gY29tX2FjZW50by5zdWJzdHIoYSwgMSkpIHsNCiAgICAgICAgICAgICAgICAgICAgbm92YXN0ciArPSBzZW1fYWNlbnRvLnN1YnN0cihhLCAxKTsNCiAgICAgICAgICAgICAgICAgICAgdHJvY2EgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHJvY2EgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgbm92YXN0ciArPSBzdHIuc3Vic3RyKGksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBub3Zhc3RyOw0KfQ0KDQpmdW5jdGlvbiByZXRvcm5hX3NvbWVudGVudW1lcm9zKHN0cnJlYykgew0KICAgIGlmIChzdHJyZWMpIHsNCiAgICAgICAgcmV0dXJuIHN0cnJlYy50b1N0cmluZygpLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEVmZXR1YU1lbnNhZ2VyaWEob2JqLCBvYmplbnZpbywgdG9rZW5PYmosIGdudXJsKSB7DQoNCiAgICBsZXQgcmV0b3JubzsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogZ251cmwsDQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdiZWFyZXIgJyArIHRva2VuT2JqLnRva2VuDQogICAgICAgIH0sDQogICAgICAgIGRhdGE6IG9iamVudmlvLA0KICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICByZXRvcm5vID0gZXJyb3IucmVzcG9uc2UuZGF0YQ0KICAgIH0pOw0KICAgIHJldHVybiByZXRvcm5vDQoNCiAgICAvKg0KICAgICAgICBsZXQgc3RyUmVzcENUZSA9ICIiOw0KICAgICAgICBhamF4KHsNCiAgICAgICAgICAgIHVybDogZ251cmwsDQogICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgICBhc3NpZDogb2JqLmFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IG9iai51c3JpZCwNCiAgICAgICAgICAgIGZlZGlkOiBvYmouZmVkaWQsDQogICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShvYmplbnZpbyksDQogICAgICAgICAgICBhdXRob3JpemF0aW9uOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgdHlwZTogImJlYXJlciIsDQogICAgICAgICAgICAgICAgdmFsdWU6IHRva2VuT2JqLnRva2VuDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BDVGUgPSBkYXRhOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BDVGUgPSBleGNlcHRpb247DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwQ1RlKTsNCiAgICAgKi8NCn0NCg0KYXN5bmMgZnVuY3Rpb24gR3JhdmFFdmVudG8ocElEX09ORV9SRUYsIHRpcG9ldmVudG8sIHBwcm90b2NvbG8sIHBjaGF2ZSwgcGFzc2lkLCBwdXNyaWQpIHsNCiAgICBsZXQgZmR0X2V2ZW50byA9ICJmMjYyNmMyOS0zOTIzLTQ2YTctOGMzOS04Y2M0MTBjZWIyOTciOw0KICAgIGxldCBvYmpldmVudG8gPSB7DQogICAgICAgICJJRF9PTkVfUkVGIjogcElEX09ORV9SRUYsDQogICAgICAgICJkYXRhaG9yYV9kb19ldmVudG9EYXRlIjogdXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiksDQogICAgICAgICJkYXRhaG9yYV9kb19ldmVudG8iOiB1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQgSEg6bW06c3MiKSwNCiAgICAgICAgInRpcG9fZG9fZXZlbnRvX21kZmUiOiB0aXBvZXZlbnRvLA0KICAgICAgICAicHJvdG9jb2xvX21kZmUiOiBwcHJvdG9jb2xvLA0KICAgICAgICAiY2hhdmVfbWRmZSI6IHBjaGF2ZQ0KICAgIH07DQogICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShmZHRfZXZlbnRvLCBwYXNzaWQsIHB1c3JpZCwgb2JqZXZlbnRvKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KDQogICAgbGV0IENURXNWaW5jdWxhZGFzSUQgPSAiNWRkNWY5MTAtOTg5YS00OTRiLWFmNGYtNGZiOTE3ZDBhNmIyIjsNCiAgICBsZXQgQ1RFc05hb0VtaXRpZG9zSUQgPSAiYmUzMDIxMjgtNDRkZS00MmU3LTg3NGQtNzdiMDg2N2ZiNTU3IjsNCg0KICAgIGxldCBmaWx0cm9DVEVzVmluY3VsYWRhcyA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkKTsNCiAgICBsZXQgQ1RFc1ZpbmN1bGFkYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKENURXNWaW5jdWxhZGFzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9DVEVzVmluY3VsYWRhcyk7DQogICAgZm9yIChsZXQgQ1RFIG9mIENURXNWaW5jdWxhZGFzKSB7DQogICAgICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eSgiUmVnaXN0cm9EZVJlZW1pc3NhbyIpIHx8IGRhdGEuUmVnaXN0cm9EZVJlZW1pc3NhbyAhPSAic2ltIikgew0KICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgIGZkdGlkOiBDVEVzTmFvRW1pdGlkb3NJRCwNCiAgICAgICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiQ1RFR2VyYWRhUGFyYU1ERkUiOiAibmFvIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgaWQ6IENURS5VcmxKc29uQ29udGV4dC5DVEVudW1lcm9fY3RlX21kZmVfaWQsDQogICAgICAgICAgICAgICAgaXNNdWx0aVVwZGF0ZTogZmFsc2UNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICB9DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgYXNzaWQsIHVzcmlkLCBkYXRhKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfTsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBzdHJSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGZpbHRlcjogZmlsdHJvDQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcCk7DQp9DQoNCmZ1bmN0aW9uIFNldE9iamVjdFJlc3BvbnNlKGNvbmQsIGpzb24sIFdhaXRpbmdXZWJIb29rKSB7DQogICAgbWVtb3J5LlJlbW92ZShJRCk7DQogICAgaWYgKFdhaXRpbmdXZWJIb29rID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCiAgICB9DQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIGlmIChqc29uKSB7DQogICAgICAgIG9iai5qc29uID0gSlNPTi5zdHJpbmdpZnkoanNvbik7DQogICAgfQ0KICAgIHJldHVybiBvYmo7DQp9DQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgInN0YXR1c19tZGZlIjogIm5hb2VtaXRpZG8iLA0KICAgICJzdGF0dXNfbWRmZV9kZXNjIjogIk7Do28gRW1pdGlkbyIsDQogICAgImVudmlhcl9tZGZlIjogInNpbSIsDQogICAgImVudmlhcl9tZGZlX2Rlc2MiOiAiU2ltIiwNCiAgICAic3RhdHVzX2Npb3RfbWRmZSI6ICJuYW9FbWl0aWRvIiwNCiAgICAic3RhdHVzX2Npb3RfbWRmZV9kZXNjIjogIk7Do28gRW1pdGlkbyIsDQogICAgIlVGX0NBUlJFR0FNRU5UT19DQUNIRSI6ICJHTyIsDQogICAgIlVGX0RFU0NBUlJFR0FNRU5UT19DQUNIRSI6ICJTUCIsDQogICAgIm1vZGFsaWRhZGVfZGVfdHJhbnNwb3J0ZV9tZGZlIjogInJvZG92aWFyaW8iLA0KICAgICJtb2RhbGlkYWRlX2RlX3RyYW5zcG9ydGVfbWRmZV9kZXNjIjogIlJvZG92acOhcmlvIiwNCiAgICAiY29kaWdvX2RhX2dlcmFjYW9fZG9fbWRmZSI6ICJNREZlMjAyMjA5MDAwMTMiLA0KICAgICJMRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX21kZmVfaWQiOiAiMjFjZGViNTAtZGNjYS00YjQ0LTllZDctMGUzMzc4MTM3N2FhIiwNCiAgICAiTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X191bmlkYWRlX2RlX2VtaXNzYW9fbWRmZSI6ICJQcmVzdGV4IENheGlhcyIsDQogICAgInJudHJjX21kZmUiOiAiNTQwOTMxMTExIiwNCiAgICAicmVzcG9uc2F2ZWxfcGVsb19zZWd1cm9fbWRmZSI6ICJFbWl0ZW50ZU1ERmUiLA0KICAgICJyZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlX2Rlc2MiOiAiMSAtIEVtaXRlbnRlIGRvIE1ERmUiLA0KICAgICJudW1lcm9fZG9fY25wal9kb19yZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlIjogIjA1NTU2MTU5MDAwMTAwIiwNCiAgICAiTUxPQ3BhaXNfbm9tZV9fbm92b19wYWlzX2RlX2NhcnJlZ2FtZW50byI6ICJCUkFTSUwiLA0KICAgICJNTE9Dbm92b19wYWlzX2RlX2NhcnJlZ2FtZW50b19pZCI6ICJkYTBkODRkMy03OTJhLTQ5NjctYTI0Mi01MDI2ZDJlMWU0ODIiLA0KICAgICJNTE9DZXN0YWRvX3VmX19ub3ZvX3VmX2RlX2NhcnJlZ2FtZW50byI6ICJHTyIsDQogICAgIk1MT0Nub3ZvX3VmX2RlX2NhcnJlZ2FtZW50b19pZCI6ICIwOGM4ZjBiZi00NzBmLTQyNzQtYmUxZS02ZjdhNzY5ZjAxNzYiLA0KICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX25vdm9fbXVuaWNpcGlvX2RlX2NhcnJlZ2FtZW50byI6ICJHT0nDgk5JQSIsDQogICAgIk1MT0Nub3ZvX211bmljaXBpb19kZV9jYXJyZWdhbWVudG9faWQiOiAiNDVlYmUzY2EtNjRlZC1iODE0LTYzZTMtOTJmY2UzNDI1MWJiIiwNCiAgICAiTUxPQ211bmljaXBpb19pYmdlX19ub3ZvX211bmljaXBpb19pYmdlX2NhcnJlZ2FtZW50byI6IDUyMDg3MDcsDQogICAgIk1MT0NwYWlzX25vbWVfX25vdm9fcGFpc19kZV9kZXNjYXJyZWdhbWVudG8iOiAiQlJBU0lMIiwNCiAgICAiTUxPQ25vdm9fcGFpc19kZV9kZXNjYXJyZWdhbWVudG9faWQiOiAiZGEwZDg0ZDMtNzkyYS00OTY3LWEyNDItNTAyNmQyZTFlNDgyIiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fbm92b191Zl9kZV9kZXNjYXJyZWdhbWVudG8iOiAiU1AiLA0KICAgICJNTE9Dbm92b191Zl9kZV9kZXNjYXJyZWdhbWVudG9faWQiOiAiYWE5NzQ1ODktNjQ4MC00YjcxLTkxNzctNjA0YzMwNTkyNWQ1IiwNCiAgICAiTUxPQ211bmljaXBpb19ub21lX19ub3ZvX211bmljaXBpb19kZV9kZXNjYXJyZWdhbWVudG8iOiAiSVRBVElCQSIsDQogICAgIk1MT0Nub3ZvX211bmljaXBpb19kZV9kZXNjYXJyZWdhbWVudG9faWQiOiAiODQ5MWNjNWEtN2VkZC00OTMxLWExMDctOWRhZjkzOTE2NzE5IiwNCiAgICAiTUxPQ211bmljaXBpb19pYmdlX19ub3ZvX211bmljaXBpb19pYmdlX2Rlc2NhcnJlZ2FtZW50byI6IDM1MjM0MDQsDQogICAgImRhdGFob3JhX3ByZXZpc3Rvc19kZV9pbmljaW9fZGFfdmlhZ2VtX21kZmVEYXRlIjogIjIwMjItMDktMDFUMDM6MDA6MDBaIiwNCiAgICAiZGF0YWhvcmFfcHJldmlzdG9zX2RlX2luaWNpb19kYV92aWFnZW1fbWRmZSI6ICIyMDIyLTA5LTAxIDAwOjAwOjAwIiwNCiAgICAiRU1QY25wal9lbXByZXNhX19udW1lcm9fZG9fY25wal9kYV9zZWd1cmFkb3JhX21kZmUiOiAiMzMwNjU2OTkwMDAxMjciLA0KICAgICJFTVBudW1lcm9fZG9fY25wal9kYV9zZWd1cmFkb3JhX21kZmVfaWQiOiAiNjRhMjk0OWUtYjIxMi00YThkLWFhY2UtNTE2OTI2ZTJkNTBmIiwNCiAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9lbXByZXNhX21kZmUiOiAiU0VHVVJPUyBTVVJBIFNBIiwNCiAgICAibnVtZXJvX2RhX2Fwb2xpY2VfbWRmZSI6ICIxMDAyMTAwMDAzMzIyIiwNCiAgICAibnVtZXJvX2RhX2F2ZXJiYWNhb19tZGZlIjogIjAwMDAwMDkyMjA1NTU2MTU5MDAwMTAwNTcwMDEwMDAxMDQ1NDMxOTQiLA0KICAgICJxdWFudGlkYWRlX3RvdGFsX2RlX2N0ZV9yZWxhY2lvbmFkb3Nfbm9fbWFuaWZlc3RvX21kZmUiOiAxLA0KICAgICJxdWFudGlkYWRlX3RvdGFsX2RlX25mZV9yZWxhY2lvbmFkYXNfbm9fbWFuaWZlc3RvX21kZmUiOiAwLA0KICAgICJ2YWxvcl90b3RhbF9kYV9jYXJnYV9fbWVyY2Fkb3JpYXNfdHJhbnNwb3J0YWRhc19tZGZlIjogMzU0NS45MSwNCiAgICAicGVzb19icnV0b190b3RhbF9kYV9jYXJnYV9fbWVyY2Fkb3JpYXNfdHJhbnNwb3J0YWRhc19tZGZlIjogNywNCiAgICAiY29kaWdvX2RhX3VuaWRhZGVfZGVfbWVkaWRhX2RvX3Blc29fYnJ1dG9fZGFfY2FyZ2FfX21lcmNhZG9yaWFzX3RyYW5zcG9ydGFkYXNfbWRmZSI6ICJrZyIsDQogICAgImNvZGlnb19kYV91bmlkYWRlX2RlX21lZGlkYV9kb19wZXNvX2JydXRvX2RhX2NhcmdhX19tZXJjYWRvcmlhc190cmFuc3BvcnRhZGFzX21kZmVfZGVzYyI6ICIwMSAtIEtHIiwNCiAgICAiQ0NHY2FyYWN0ZXJpc3RpY2FfZGFfY2FyZ2FfX3RpcG9fZGVfY2FyZ2FfbWRmZSI6ICJQcm9kdXRvcyBxdcOtbWljb3MoY2FyZ2EgZ2VyYWwpIiwNCiAgICAiQ0NHdGlwb19kZV9jYXJnYV9tZGZlX2lkIjogIjhiOWJhNDYwLTM5NGYtNGQ0Zi1lOGM2LTgxOTgyYWQ4MDM5MyIsDQogICAgIlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19ub21lX2RvX3Byb2R1dG9fbWRmZSI6ICJNQVRFUklBTCBRVUlNSUNPIiwNCiAgICAiUFBUbm9tZV9kb19wcm9kdXRvX21kZmVfaWQiOiAiNTIxZDkyMjYtYjc0YS01NGVmLTQyODMtMThmYTE1NTI5YzRhIiwNCiAgICAiUFBUY29kaWdvX25jbV9kb19wcm9kdXRvX19jb2RpZ29fbmNtX2RvX3Byb2R1dG9fbWRmZSI6IDI4LA0KICAgICJvbmVUZW1wbGF0ZVRpdGxlIjogIk1ERkUgTsOjbyBFbWl0aWRvcyIsDQogICAgIkxFU1RBU0Zjb250cmF0YW50ZV9lZnJldGVfaWQiOiAiNmM2NDQ3MjYtMzg5Zi02OGEyLWMwNmEtYTUxN2QyM2UwMjFmIiwNCiAgICAiTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X19jb250cmF0YW50ZV9lZnJldGUiOiAiS0VFUFRSVUUiLA0KICAgICJNTE9DWnBhaXNfZGFfc2lnbGFfZGFfdWZfZG9fY2FycmVnYW1lbnRvX21kZmVfaWQiOiAiICIsDQogICAgIk1MT0NacGFpc19kYV9zaWdsYV9kYV91Zl9kb19kZXNjYXJyZWdhbWVudG9fbWRmZV9pZCI6ICIgIiwNCiAgICAiTUxPQ1pwYWlzX25vbWVfX3BhaXNfZGFfc2lnbGFfZGFfdWZfZG9fY2FycmVnYW1lbnRvX21kZmUiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ1pwYWlzX25vbWVfX3BhaXNfZGFfc2lnbGFfZGFfdWZfZG9fZGVzY2FycmVnYW1lbnRvX21kZmUiOiAiQlJBU0lMIiwNCiAgICAiTUxPQ2VzdGFkb191Zl9fc2lnbGFfZGFfdWZfZG9fY2FycmVnYW1lbnRvX21kZmUiOiAiICIsDQogICAgIk1MT0Nlc3RhZG9fdWZfX3NpZ2xhX2RhX3VmX2RvX2Rlc2NhcnJlZ2FtZW50b19tZGZlIjogIiAiLA0KICAgICJNTE9Dc2lnbGFfZGFfdWZfZG9fY2FycmVnYW1lbnRvX21kZmVfaWQiOiAiICIsDQogICAgIk1MT0NzaWdsYV9kYV91Zl9kb19kZXNjYXJyZWdhbWVudG9fbWRmZV9pZCI6ICIgIiwNCiAgICAiUEVTY2VsdWxhcl8xX3Blc3NvYV9fY2VsdWxhcl9tb3RvcmlzdGEiOiAiKDExKSA5NTg4OC04NTQ5IiwNCiAgICAiUEVTY25oX3Blc3NvYV9fY25oX21vdG9yaXN0YSI6IDcwOTk2ODM0NzIwLA0KICAgICJQRVNjcGZfcGVzc29hX19jcGZfbW90b3Jpc3RhIjogIjM1OS4xNTUuMzA4LTUwIiwNCiAgICAiUEVTbW90b3Jpc3RhX2NhZGFzdHJhZG9fZWZyZXRlIjogInNpbSIsDQogICAgIlBFU25vbWVfZG9fY29uZHV0b3JfbWRmZV9pZCI6ICJjNmM3ODI4NC1iMmYxLTE1NzctNjM3Ni05MjYzNDIzYmFiMTEiLA0KICAgICJQRVNub21lX3Blc3NvYV9fbm9tZV9kb19jb25kdXRvcl9tZGZlIjogIkJydW5vIENyZXBhbGRpIiwNCiAgICAiVkVJX0VNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9wcm9wcmlldGFyaW9fUEpfX0VNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIk1TIiwNCiAgICAiVkVJX0VNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9wcm9wcmlldGFyaW9fUEpfX0VNUE1MT0NaZXN0YWRvX3VmX191Zl9lbXByZXNhX19NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYV9wcm9wcmlldGFyaW9fUEpfdmVpY3Vsb19yZWJvcXVlIjogIk1TIiwNCiAgICAiVkVJX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIjAyMzgwMDU3MDAwMTk5IiwNCiAgICAiVkVJX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfdmVpY3Vsb19yZWJvcXVlIjogIjAyMzgwMDU3MDAwMTk5IiwNCiAgICAiVkVJX0VNUGVtcHJlc2Ffc29mdGZpbl9pZF9fc29mdGZpbl9pZF9wcm9wcmlldGFyaW9fUEpfX0VNUGVtcHJlc2Ffc29mdGZpbl9pZF9fc29mdGZpbl9pZF9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIjI1NjM1NCIsDQogICAgIlZFSV9FTVBlbXByZXNhX3NvZnRmaW5faWRfX3NvZnRmaW5faWRfcHJvcHJpZXRhcmlvX1BKX19FTVBlbXByZXNhX3NvZnRmaW5faWRfX3NvZnRmaW5faWRfcHJvcHJpZXRhcmlvX1BKX3ZlaWN1bG9fcmVib3F1ZSI6ICIyNTYzNTQiLA0KICAgICJWRUlfRU1QaWVfZW1wcmVzYV9faWVfcHJvcHJpZXRhcmlvX1BKX19FTVBpZV9lbXByZXNhX19pZV9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIjE1MjgxNzk4IiwNCiAgICAiVkVJX0VNUGllX2VtcHJlc2FfX2llX3Byb3ByaWV0YXJpb19QSl9fRU1QaWVfZW1wcmVzYV9faWVfcHJvcHJpZXRhcmlvX1BKX3ZlaWN1bG9fcmVib3F1ZSI6ICI5MDE1MjgxNzk4IiwNCiAgICAiVkVJX0VNUHJhemFvX3NvY2lhbF9lbXByZXNhX19yYXphb19zb2NpYWxfcHJvcHJpZXRhcmlvX1BKX19FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX3Byb3ByaWV0YXJpb19QSl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8iOiAiQS5TLiBTT0FSRVMgJiBDSUEgTFREQSIsDQogICAgIlZFSV9FTVByYXphb19zb2NpYWxfZW1wcmVzYV9fcmF6YW9fc29jaWFsX3Byb3ByaWV0YXJpb19QSl9fRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9wcm9wcmlldGFyaW9fUEpfdmVpY3Vsb19yZWJvcXVlIjogIkEuUy4gU09BUkVTICYgQ0lBIExUREEiLA0KICAgICJWRUlfTUxPQ2VzdGFkb191Zl9fdWZfbGljZW5jaWFtZW50b192ZWljdWxvX19NTE9DZXN0YWRvX3VmX191Zl9saWNlbmNpYW1lbnRvX3ZlaWN1bG9fdHJhY2FvIjogIkFDIiwNCiAgICAiVkVJX01MT0Nlc3RhZG9fdWZfX3VmX2xpY2VuY2lhbWVudG9fdmVpY3Vsb19fTUxPQ2VzdGFkb191Zl9fdWZfbGljZW5jaWFtZW50b192ZWljdWxvX3ZlaWN1bG9fcmVib3F1ZSI6ICJBQyIsDQogICAgIlZFSV9QRVNNTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hX19NTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9fUEVTTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9fTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIiAiLA0KICAgICJWRUlfUEVTTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9fTUxPQ1plc3RhZG9fdWZfX3VmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfX1BFU01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfX01MT0NaZXN0YWRvX3VmX191Zl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX3ZlaWN1bG9fcmVib3F1ZSI6ICIgIiwNCiAgICAiVkVJX1BFU2NwZl9wZXNzb2FfX2NwZl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX19QRVNjcGZfcGVzc29hX19jcGZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9wcm9wcmlldGFyaW9fdmVpY3Vsb190cmFjYW8iOiAiICIsDQogICAgIlZFSV9QRVNjcGZfcGVzc29hX19jcGZfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9fUEVTY3BmX3Blc3NvYV9fY3BmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfdmVpY3Vsb19yZWJvcXVlIjogIiAiLA0KICAgICJWRUlfUEVTaWRfc29mdGZpbl9faWRfc29mdGZpbl9wcm9wcmlldGFyaW9fUEZfX1BFU2lkX3NvZnRmaW5fX2lkX3NvZnRmaW5fcHJvcHJpZXRhcmlvX1BGX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyI6IDAsDQogICAgIlZFSV9QRVNpZF9zb2Z0ZmluX19pZF9zb2Z0ZmluX3Byb3ByaWV0YXJpb19QRl9fUEVTaWRfc29mdGZpbl9faWRfc29mdGZpbl9wcm9wcmlldGFyaW9fUEZfdmVpY3Vsb19yZWJvcXVlIjogMCwNCiAgICAiVkVJX1BFU25vbWVfcGVzc29hX19ub21lX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfX1BFU25vbWVfcGVzc29hX19ub21lX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIiAiLA0KICAgICJWRUlfUEVTbm9tZV9wZXNzb2FfX25vbWVfcGVzc29hX3Byb3ByaWV0YXJpb19QRl9fUEVTbm9tZV9wZXNzb2FfX25vbWVfcGVzc29hX3Byb3ByaWV0YXJpb19QRl92ZWljdWxvX3JlYm9xdWUiOiAiICIsDQogICAgIlZFSV9jYXBhY2lkYWRlX2tnX3ZlaV9fY2FwYWNpZGFkZV9rZ192ZWlfdmVpY3Vsb19yZWJvcXVlIjogMTIzLA0KICAgICJWRUlfY2FwYWNpZGFkZV9rZ192ZWlfX2NhcGFjaWRhZGVfa2dfdmVpY3Vsb190cmFjYW8iOiAxMDAwLA0KICAgICJWRUlfY2FwYWNpZGFkZV9tM192ZWlfX2NhcGFjaWRhZGVfbTNfdmVpX3ZlaWN1bG9fcmVib3F1ZSI6IDEyMywNCiAgICAiVkVJX2NhcGFjaWRhZGVfbTNfdmVpX19jYXBhY2lkYWRlX20zX3ZlaWN1bG9fdHJhY2FvIjogMjAxLA0KICAgICJWRUlfZGVzY3JpY2FvX3ZlaWN1bG9fX3ZlaWN1bG9fZGVfcmVib3F1ZSI6ICJGT0lTT04gMS4zIDE2ViA4NWN2IDJwIiwNCiAgICAiVkVJX2Rlc2NyaWNhb192ZWljdWxvX192ZWljdWxvX3RyYWNhbyI6ICI1NTAgMS44IDE2ViBUdXJibyAxNzBjdiBBdXQuIiwNCiAgICAiVkVJX251bWVyb19laXhvc192ZWlfX251bWVyb19laXhvc192ZWlfdmVpY3Vsb19yZWJvcXVlIjogMywNCiAgICAiVkVJX251bWVyb19laXhvc192ZWlfX251bWVyb19laXhvc192ZWljdWxvX3RyYWNhbyI6IDMsDQogICAgIlZFSV9wbGFjYV92ZWlfX3BsYWNhX3ZlaV92ZWljdWxvX3JlYm9xdWUiOiAiSFFGODkwMSIsDQogICAgIlZFSV9wbGFjYV92ZWlfX3BsYWNhX3ZlaWN1bG9fdHJhY2FvIjogIkhRRjg5MDEiLA0KICAgICJWRUlfcHJvcHJpZXRhcmlvX2NhZGFzdHJhZG9fZWZyZXRlX19wcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGVfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogInNpbSIsDQogICAgIlZFSV9wcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGVfX3Byb3ByaWV0YXJpb19jYWRhc3RyYWRvX2VmcmV0ZV92ZWljdWxvX3JlYm9xdWUiOiAic2ltIiwNCiAgICAiVkVJX3JlbmF2YW1fdmVpX19yZW5hdmFtX3ZlaV92ZWljdWxvX3JlYm9xdWUiOiA2MDMwNTc4NzAsDQogICAgIlZFSV9yZW5hdmFtX3ZlaV9fcmVuYXZhbV92ZWljdWxvX3RyYWNhbyI6IDYwMzA1Nzg3MCwNCiAgICAiVkVJX3JudHJjX3Byb3ByaWV0YXJpb19fcm50cmNfcHJvcHJpZXRhcmlvX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyI6ICIwNzkyMjE2NCIsDQogICAgIlZFSV9ybnRyY19wcm9wcmlldGFyaW9fX3JudHJjX3Byb3ByaWV0YXJpb192ZWljdWxvX3JlYm9xdWUiOiAiMDc5MjIxNjQiLA0KICAgICJWRUlfdGFyYV92ZWlfX3RhcmFfdmVpX3ZlaWN1bG9fcmVib3F1ZSI6IDEyMiwNCiAgICAiVkVJX3RhcmFfdmVpX190YXJhX3ZlaWN1bG9fdHJhY2FvIjogMTIzNDU2LA0KICAgICJWRUlfdGlwb19kZV9jYXJyb2NlcmlhX3ZlaV9fdGlwb19kZV9jYXJyb2NlcmlhX3ZlaV92ZWljdWxvX3JlYm9xdWUiOiAiTmFvQXBsaWNhdmVsIiwNCiAgICAiVkVJX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWlfX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWljdWxvX3RyYWNhbyI6ICJHcmFuZWxlcmEiLA0KICAgICJWRUlfdGlwb19kZV9yb2RhZG9fdmVpX190aXBvX2RlX3JvZGFkb192ZWlfdmVpY3Vsb19yZWJvcXVlIjogIk91dHJvcyIsDQogICAgIlZFSV90aXBvX2RlX3JvZGFkb192ZWlfX3RpcG9fZGVfcm9kYWRvX3ZlaWN1bG9fdHJhY2FvIjogIlRvY28iLA0KICAgICJWRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIjEiLA0KICAgICJWRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfdmVpY3Vsb19yZWJvcXVlIjogIjAiLA0KICAgICJWRUlfdGlwb19wcm9wcmlldGFyaW9fdmVpX190aXBvX3Byb3ByaWV0YXJpb192ZWlfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvIjogIjIiLA0KICAgICJWRUlfdGlwb19wcm9wcmlldGFyaW9fdmVpX190aXBvX3Byb3ByaWV0YXJpb192ZWlfdmVpY3Vsb19yZWJvcXVlIjogIjIiLA0KICAgICJWRUlfdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV9fdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV92ZWljdWxvX3JlYm9xdWUiOiAic2ltIiwNCiAgICAiVkVJX3ZlaWN1bG9fY2FkYXN0cmFkb19lZnJldGVfX3ZlaWN1bG9fY2FkYXN0cmFkb19lZnJldGVfdmVpY3Vsb190cmFjYW8iOiAic2ltIiwNCiAgICAiVkVJX3ZlaWN1bG9fZGVfcmVib3F1ZV9pZCI6ICJjODQzNjA2NS1mZjFkLTI2YzItZGY2Ny1lMjQ4YTNlMDM5ODkiLA0KICAgICJWRUlfdmVpY3Vsb190cmFjYW9faWQiOiAiNTFlMzVkM2EtYTE1Ni00NTJhLTk5YTctMzg0ZjNkNmEwYTM1IiwNCiAgICAiY2FsY3Vsb19mcmV0ZV9taW5pbW8iOiAiIiwNCiAgICAiY2FuY2VsYXJDaW90IjogIiAiLA0KICAgICJjaGF2ZV9tZGZlIjogIiAiLA0KICAgICJjaW90X2NhY2hlX21kZmUiOiAiIiwNCiAgICAiY29kaWdvX2RlX2FnZW5kYW1lbnRvX25vX3BvcnRvX21kZmUiOiAiIiwNCiAgICAiY29kaWdvX2lkZW50aWZpY2Fkb3JfZGFfb3BlcmFjYW9fZGVfdHJhbnNwb3J0ZV9tZGZlIjogbnVsbCwNCiAgICAiY29uZHV0b3JlcyI6ICIgIiwNCiAgICAiY29uaGVjaW1lbnRvRGVUcmFucG9ydGUiOiAiIiwNCiAgICAiZGF0YV9kYV9lbWlzc2FvX21kZmUiOiBudWxsLA0KICAgICJkYXRhX2RlX2xpYmVyYWNhb19kb19wYWdhbWVudG9fY2lvdERhdGUiOiAiMjAyMi0wOS0xNVQwMzowMDowMFoiLA0KICAgICJkYXRhX2RlX2xpYmVyYWNhb19kb19wYWdhbWVudG9fY2lvdCI6ICIyMDIyLTA5LTE1IDAwOjAwOjAwIiwNCiAgICAiZGF0YWhvcmFfcHJldmlzdG9zX2RlX2ZpbV9kYV92aWFnZW1EYXRlIjogIjIwMjItMDktMDFUMDM6MDA6MDBaIiwNCiAgICAiZGF0YWhvcmFfcHJldmlzdG9zX2RlX2ZpbV9kYV92aWFnZW0iOiAiMjAyMi0wOS0wMSAwMDowMDowMCIsDQogICAgImRpc3RhbmNpYV9wZXJjb3JyaWRhX2Npb3QiOiA4NDksDQogICAgImZvcm1hX2RlX2VtaXNzYW9fZG9fbWFuaWZlc3RvX21kZmUiOiAibm9ybWFsIiwNCiAgICAiZm9ybWFfZGVfZW1pc3Nhb19kb19tYW5pZmVzdG9fbWRmZV9kZXNjIjogIjEgLSBOb3JtYWwiLA0KICAgICJmcmV0ZV9taW5pbW8iOiAzNDgzLjc1LA0KICAgICJnZXJhcl9jaW90IjogbnVsbCwNCiAgICAiZ3J1cG9faW5mb19jb250cmF0YW50ZV9zZXJ2aWNvIjogIiIsDQogICAgImluZm9fbXVuaV9jYXJyZWdhbWVudG8iOiAiICIsDQogICAgImluZm9ybWFjb2VzX2FkaWNpb25haXNfZGVfaW50ZXJlc3NlX2RvX2Zpc2NvX21kZmUiOiAiIiwNCiAgICAiaW5mb3JtYWNvZXNfY29tcGxlbWVudGFyZXNfZGVfaW50ZXJlc3NlX2RvX2NvbnRyaWJ1aW50ZV9tZGZlIjogIiIsDQogICAgImpzb25fcmV0b3Jub19hdXRvcml6YWRvX21kZmUiOiAiIiwNCiAgICAibGFjcmVzIjogIiIsDQogICAgImxvZ19tZGZlIjogIiIsDQogICAgIm51bWVyb19jaW90IjogIiIsDQogICAgIm51bWVyb19kb19jcGZfZG9fcmVzcG9uc2F2ZWxfcGVsb19zZWd1cm9fbWRmZSI6ICIiLA0KICAgICJudW1lcm9fZG9fbWFuaWZlc3RvX21mZGUiOiAwLA0KICAgICJudW1lcm9fcHJvdG9jb2xvX21kZmUiOiAiIiwNCiAgICAib2JzZXJ2YWNvZXNfYW9fY3JlZGVuY2lhZG9fbWRmZV9jaW90IjogIiIsDQogICAgInBlcmN1cnNvX21kZmUiOiAiIiwNCiAgICAicHJvdG9jb2xvX2RlX2NhbmNlbGFtZW50b19jaW90IjogbnVsbCwNCiAgICAicHJvdG9jb2xvX2RlX2VuY2VycmFtZW50b19jaW90IjogbnVsbCwNCiAgICAicHJvdG9jb2xvX2RlX3NlcnZpY29fY2lvdCI6IG51bGwsDQogICAgInNlcmllX2RvX21hbmlmZXN0b19tZGZlIjogIiIsDQogICAgInRvdGFsX2RlX2FkaWFudGFtZW50b19tZGZlX2Npb3QiOiAwLA0KICAgICJ0b3RhbF9kZV9xdWl0YWNhb19jaW90IjogMCwNCiAgICAidmVpY3Vsb19wb3NzdWlfcmVib3F1ZSI6ICJzaW0iLA0KICAgICJQRVNtb3RvcmlzdGFfY2FkYXN0cmFkb19lZnJldGVfZGVzYyI6ICJTaW0iLA0KICAgICJWRUlfcHJvcHJpZXRhcmlvX2NhZGFzdHJhZG9fZWZyZXRlX19wcm9wcmlldGFyaW9fY2FkYXN0cmFkb19lZnJldGVfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvX2Rlc2MiOiAiU2ltIiwNCiAgICAiVkVJX3Byb3ByaWV0YXJpb19jYWRhc3RyYWRvX2VmcmV0ZV9fcHJvcHJpZXRhcmlvX2NhZGFzdHJhZG9fZWZyZXRlX3ZlaWN1bG9fcmVib3F1ZV9kZXNjIjogIlNpbSIsDQogICAgIlZFSV90aXBvX2RlX2NhcnJvY2VyaWFfdmVpX190aXBvX2RlX2NhcnJvY2VyaWFfdmVpX3ZlaWN1bG9fcmVib3F1ZV9kZXNjIjogIjAwIC0gTsOjbyBBcGxpY8OhdmVsIiwNCiAgICAiVkVJX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWlfX3RpcG9fZGVfY2Fycm9jZXJpYV92ZWljdWxvX3RyYWNhb19kZXNjIjogIjAzIC0gR3JhbmVsZXJhIiwNCiAgICAiVkVJX3RpcG9fZGVfcm9kYWRvX3ZlaV9fdGlwb19kZV9yb2RhZG9fdmVpX3ZlaWN1bG9fcmVib3F1ZV9kZXNjIjogIjA2IC0gT3V0cm9zIiwNCiAgICAiVkVJX3RpcG9fZGVfcm9kYWRvX3ZlaV9fdGlwb19kZV9yb2RhZG9fdmVpY3Vsb190cmFjYW9fZGVzYyI6ICIwMiAtIFRvY28iLA0KICAgICJWRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvX2Rlc2MiOiAiVEFDIEVxdWlwYXJhZG8iLA0KICAgICJWRUlfdGlwb19kZV90cmFuc3BvcnRhZG9yX190aXBvX2RlX3RyYW5zcG9ydGFkb3JfdmVpY3Vsb19yZWJvcXVlX2Rlc2MiOiAiRVRDIiwNCiAgICAiVkVJX3RpcG9fcHJvcHJpZXRhcmlvX3ZlaV9fdGlwb19wcm9wcmlldGFyaW9fdmVpX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhb19kZXNjIjogIk91dHJvcyIsDQogICAgIlZFSV90aXBvX3Byb3ByaWV0YXJpb192ZWlfX3RpcG9fcHJvcHJpZXRhcmlvX3ZlaV92ZWljdWxvX3JlYm9xdWVfZGVzYyI6ICJPdXRyb3MiLA0KICAgICJWRUlfdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV9fdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV92ZWljdWxvX3JlYm9xdWVfZGVzYyI6ICJTaW0iLA0KICAgICJWRUlfdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV9fdmVpY3Vsb19jYWRhc3RyYWRvX2VmcmV0ZV92ZWljdWxvX3RyYWNhb19kZXNjIjogIlNpbSIsDQogICAgInZlaWN1bG9fcG9zc3VpX3JlYm9xdWVfZGVzYyI6ICJTaW0iLA0KICAgICJhc3NfaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAiYXNzaWQiOiAiMTZjMTdkMjgtZDA0NS00NTAxLTg2NWUtMzA5YTNmOTVlMjg5IiwNCiAgICAiZmVkaWQiOiAiOGFiZDg1MjUtM2NiZi00M2Y2LThkYjEtNjk5ZmVmOGEwNjdiIiwNCiAgICAiZmR0aWQiOiAiODM2ZWI2NmItODNmMi00Njg4LTk0Y2YtMjU2NTQxNWNiYTZjIiwNCiAgICAidXNyaWQiOiAiMzIzMDI2MmItZTE0OC00OTE1LWFhZjUtYWVmYWMzNTNkMWQ0IiwNCiAgICAiZW1haWwiOiAidmFuZXNzYS5hbWFyYWxAcHJlc3RleGhvbW9sLmNvbS5iciIsDQogICAgIm9uZXJneV9yb2xpZCI6ICJhMmE3YTBjMC03YzYwLTRiMjItODZmYS03YTIyMmY0N2JjZjUiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgIm9uZXJneV9qc19jdHgiOiB7DQogICAgICAgICJhc3NpZCI6ICIxNmMxN2QyOC1kMDQ1LTQ1MDEtODY1ZS0zMDlhM2Y5NWUyODkiLA0KICAgICAgICAiZmVkaWQiOiAiOGFiZDg1MjUtM2NiZi00M2Y2LThkYjEtNjk5ZmVmOGEwNjdiIiwNCiAgICAgICAgImZkdGlkIjogIjgzNmViNjZiLTgzZjItNDY4OC05NGNmLTI1NjU0MTVjYmE2YyIsDQogICAgICAgICJ1c3JpZCI6ICIzMjMwMjYyYi1lMTQ4LTQ5MTUtYWFmNS1hZWZhYzM1M2QxZDQiLA0KICAgICAgICAiaW5zZXJ0RHQiOiAiMjAyMi0wOS0wMVQxNDoyMzowNy40NThaIiwNCiAgICAgICAgInVwZGF0ZUR0IjogIjIwMjItMDktMDFUMTg6MjM6MDEuMzA2WiIsDQogICAgICAgICJjdXJfdXNlcmlkIjogIjMyMzAyNjJiLWUxNDgtNDkxNS1hYWY1LWFlZmFjMzUzZDFkNCIsDQogICAgICAgICJlbWFpbCI6ICJ2YW5lc3NhLmFtYXJhbEBwcmVzdGV4aG9tb2wuY29tLmJyIiwNCiAgICAgICAgInVzZXJfbmFtZSI6ICJWYW5lc3NhIGRvIEFtYXJhbCIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiYTJhN2EwYzAtN2M2MC00YjIyLTg2ZmEtN2EyMjJmNDdiY2Y1IiwNCiAgICAgICAgInByYWlkIjogIjk3NDRjMDEwLWFhMjQtNGJmOC1hMGMxLWQ0MjA3YmIyMTdhMiIsDQogICAgICAgICJwY3ZpZCI6ICJjMTU1MjZmOS03MmQ5LTQxNzctOGFmMC00NWI4MGQ0N2MzNDMiLA0KICAgICAgICAicHJjaWQiOiAiZTQ1NDViZDktZDYyYS05YjA2LTU5NGYtMjgxMTgwNjk3YzRkIiwNCiAgICAgICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAgICAgInRpbWV6b25lX3ZhbHVlIjogIi0wMzowMCIsDQogICAgICAgICJwdWJOdWJIb29rIjogbnVsbA0KICAgIH0NCn0NCg0KDQovLyBqc29uSW5wdXQub25lcmd5X2pzX2N0eCA9IHsNCi8vICAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQovLyAgICAgImZkdGlkIjogIjgzNmViNjZiLTgzZjItNDY4OC05NGNmLTI1NjU0MTVjYmE2YyIsDQovLyAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQovLyAgICAgImZlZGlkIjogIjU2NTdiYjViLTU5ODgtNDRkYy1iZDI5LWNmYTFkMzlkNjhmNyIsDQovLyB9DQoNCmluaXQoSlNPTi5zdHJpbmdpZnkoanNvbklucHV0KSk7" }, { "name": "(MDFE) - Encerramento.js", "isDirectory": false, "__KEY__": "5f64b2ee-c67e-9816-979e-13c346efc7a6", "size": 26240, "dateModified": "2022-06-17T15:43:17.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KDQp2YXIgTURGX0VtaXRpZG9JRCA9ICIxMDcxMTE4OC0xZTAyLTQxNWMtOTI3Zi00YWRkN2ExY2Q5ZTAiOw0KdmFyIE1ERkVfTmFvX0VtaXRpZG9JRCA9ICI4MzZlYjY2Yi04M2YyLTQ2ODgtOTRjZi0yNTY1NDE1Y2JhNmMiOw0KdmFyIHRlbXBsYXRlTGlzdGFFc3RhYmVsZWNpbWVudG9zID0gJzIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZic7DQp2YXIgdGVtcGxhdGVFbmRlcmVjb0VtaXRlbnRlID0gJzhkZTg4NjkyLTA4MGYtNDRmZS05ZjBjLTI5YzhlYTUzN2Y0Zic7DQp2YXIgdGVtcGxhdGVJZEhpc3RvcmljbyA9ICI5ZjU5MTg2OS0yNTJiLTQ4YzUtOGRhNy05MDMyNTU5OTExNGIiOw0KdmFyIGNvbnRhc1BhZ2FySUQgPSAiYzBlMjgxZmMtNjJkZi00MTIzLThiOGQtYTBkYzk1OWU4Nzc2IjsNCnZhciBiYW5jb3NJRCA9ICJiM2U5NTI1Yi02ODZjLTQwYWEtOWE2MS1kZWM0ZDE1Y2ZhOTIiOw0KdmFyIFBhcmNlbGFzSUQgPSAiZTVlOWZmN2QtNTkzNi00MWExLThhODAtNzIzNTZjMjYwMWYzIjsNCnZhciB1bmlkYWRlTmVnb2Npb0lEID0gImZiN2Q4NTc0LTU1NmUtNGU2My04NGRiLTg0MDQwZWI0YWY1NyI7DQoNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBsZXQgZmlsdHJvX2lkX21kZmUgPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5JRF9PTkVfUkVGKTsNCiAgICBsZXQgcmVnaXN0cm9NREZlID0gYXdhaXQgZ2V0T25lcmd5SXRlbShNREZfRW1pdGlkb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvX2lkX21kZmUpOw0KDQogICAgaWYgKHJlZ2lzdHJvTURGZS5sZW5ndGggPiAwKSB7DQogICAgICAgIGlmIChyZWdpc3Ryb01ERmVbMF0uVXJsSnNvbkNvbnRleHQuc3RhdHVzX21kZmUgPT0gImVtaXRpZG8iKSB7DQogICAgICAgICAgICBsZXQgT2JqRW5jZXJyYW1lbnRvTURGZSA9IGF3YWl0IENyaWFPYmpldG9FbmNlcnJhbWVudG9NREZlKGRhdGEsIHJlZ2lzdHJvTURGZSk7DQogICAgICAgICAgICAvL1RPRE8gZXJybyBnZXJhY2FvIGRvIG9iai4NCiAgICAgICAgICAgIGlmICghT2JqRW5jZXJyYW1lbnRvTURGZSkgew0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6ICJFcnJvIG5hIGNyaWHDp8OjbyBkbyBPYmpldG8gZGUgZW5jZXJyYW1lbnRvLiINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxldCB0b2tlbk9iaiA9IGF3YWl0IFBlZ2FUb2tlbihkYXRhKTsNCiAgICAgICAgICAgIC8vVE9ETyBFcnJvIG5hIGJ1c2NhIGRvIHRva2VuDQogICAgICAgICAgICBpZiAoIXRva2VuT2JqKSB7DQogICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogIlRva2VuIEludsOhbGlkbyBvdSBFbXByZXNhIG7Do28gQXV0b3JpemFkYSAhIg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBhd2FpdCBTZXRSZXR1cm4oZGF0YSwgcmVzdWx0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbGV0IHVybGVtaXNzYW8gPSAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvUHJvY01ERmUvRW5jZXJyYXJNREZlIjsNCiAgICAgICAgICAgIGxldCByZXNwb3N0YU1lbnNhZ2VyaWE7DQogICAgICAgICAgICBkZWJ1Z2dlcjsNCiAgICAgICAgICAgIHJlc3Bvc3RhTWVuc2FnZXJpYSA9IEpTT04ucGFyc2UocmVzcG9zdGFNZW5zYWdlcmlhKTsNCiAgICAgICAgICAgIC8vPSBhd2FpdCBFZmV0dWFNZW5zYWdlcmlhKGRhdGEsIE9iakVuY2VycmFtZW50b01ERmUsIHRva2VuT2JqLCB1cmxlbWlzc2FvKTsNCg0KICAgICAgICAgICAgLy9UT0RPIEVSUk8gTkEgQVBJDQogICAgICAgICAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLmhhc093blByb3BlcnR5KCJzdGF0dXMiKSAmJiByZXNwb3N0YU1lbnNhZ2VyaWEuc3RhdHVzID09IDQwMCkgew0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgICAgICJVcmxKc29uQ29udGV4dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGBFcnJvIG5hIGV4ZWN1w6fDo286JHtKU09OLnN0cmluZ2lmeShyZXNwb3N0YU1lbnNhZ2VyaWEuZXJyb3JzKX1gDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL1RPRE8gU0VNIFJFU1BPU1RBIE1FTlNBR0VSSUENCiAgICAgICAgICAgIGlmICghcmVzcG9zdGFNZW5zYWdlcmlhKSB7DQogICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogYFNlbSBSZXNwb3N0YSBkYSBNZW5zYWdlcmlhLmANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhd2FpdCBTZXRSZXR1cm4oZGF0YSwgcmVzdWx0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHJlc3Bvc3RhTWVuc2FnZXJpYS5zdGF0dXMgPT0gIk5PSyIpIHsNCiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiBgRXJybyBuYSBleGVjdcOnw6NvOiR7SlNPTi5zdHJpbmdpZnkocmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMpfWANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vVE9ETyBSZWplaWNhby4NCiAgICAgICAgICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEuaWQgIT0gIjEzNSIpIHsNCiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAibG9nX21kZmUiOiByZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5yZXRvcm5vU0VGQVoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGF3YWl0IEdyYXZhRXZlbnRvKGRhdGEuSURfT05FX1JFRiwgIkVuY2VycmFtZW50byIsIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnByb3RvY29sb0F1dG9yaXphY2FvLCAiIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQpOw0KICAgICAgICAgICAgLy92YXIgZmlsZXRlbXAgPSBmaWxldXRpbHMuQ3JlYXRlRmlsZShyZXNwb3N0YU1lbnNhZ2VyaWEub2Jqcy5qc29uQXV0b3JpemFkbywgIi54bWwiKTsNCiAgICAgICAgICAgIHZhciB1cmx4bWwgPSAiIjsNCiAgICAgICAgICAgIC8vPSBmaWxldXRpbHMuVXBsb2FkRmlsZShmaWxldGVtcCk7DQoNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAic3RhdHVzX21kZmUiOiAiZW5jZXJyYWRvIiwNCiAgICAgICAgICAgICAgICAgICAgInN0YXR1c19tZGZlX2Rlc2MiOiAiRW5jZXJyYWRvIiwNCiAgICAgICAgICAgICAgICAgICAgImxvZ19tZGZlIjogcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMucmV0b3Jub1NFRkFaLA0KICAgICAgICAgICAgICAgICAgICAiVXJsWE1MX0VuY2VycmFtZW50byI6IHVybHhtbA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGxldCByZXNwb3N0YUVuY2VycmFtZW50byA9IGF3YWl0IEVuY2VycmFyQ0lPVChkYXRhLCByZWdpc3Ryb01ERmUpOw0KICAgICAgICAgICAgaWYgKHJlc3Bvc3RhRW5jZXJyYW1lbnRvLnN0YXR1cyA9PSAiTk9LIikgew0KICAgICAgICAgICAgICAgIHJlc3VsdC5VcmxKc29uQ29udGV4dC5sb2dfbWRmZSArPSBgXG4gJHtyZXNwb3N0YUVuY2VycmFtZW50by5tc2d9YDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmVzdWx0LlVybEpzb25Db250ZXh0LnN0YXR1c19jaW90X21kZmUgPSAiRW5jZXJyYWRvIjsNCiAgICAgICAgICAgICAgICByZXN1bHQuVXJsSnNvbkNvbnRleHQuc3RhdHVzX2Npb3RfbWRmZV9kZXNjID0gIkVuY2VycmFkbyI7DQogICAgICAgICAgICAgICAgcmVzdWx0LlVybEpzb25Db250ZXh0LnByb3RvY29sb19kZV9lbmNlcnJhbWVudG9fY2lvdCA9IHJlc3Bvc3RhRW5jZXJyYW1lbnRvLlByb3RvY29sbzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBhd2FpdCBnZXJhckNvbnRhc1BhZ2FyKGRhdGEsIHJlZ2lzdHJvTURGZSk7DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvKSB7DQogICAgICAgICAgICAgICAgbGV0IE9yaWdlbSA9ICIoRVJSTyAtIEVuY2VycmFyIE1ERmUpIEdlcmHDp8OjbyBjb250YXMgYSBwYWdhci4iDQogICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSB7DQogICAgICAgICAgICAgICAgICAgICJtZW5zYWdlbSI6IGVycm8ubWVzc2FnZSwNCiAgICAgICAgICAgICAgICAgICAgInBpbGhhIjogZXJyby5zdGFjaw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBvbmVyZ3kubG9nKEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpLCBPcmlnZW0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCkgew0KICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgZmR0aWQ6IE1ERkVfTmFvX0VtaXRpZG9JRCwNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocmVzdWx0KSwNCiAgICAgICAgaWQ6IGRhdGEuSURfT05FX1JFRg0KICAgIH0pOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnanNvbic6IEpTT04uc3RyaW5naWZ5KGpzb24pLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIFBlZ2FUb2tlbihvYmopIHsNCg0KICAgIGxldCB1c3JMb2dpbiA9ICJwcjNzdDN4IjsNCiAgICBsZXQgcHdkID0gInByM3N0M3hjdDMyMDIxIjsNCiAgICBsZXQgc3RyUmVzcFRva2VuID0gIiI7DQogICAgYXdhaXQgYXhpb3Moew0KICAgICAgICB1cmw6ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Mb2dpbj9wVXNlck5hbWU9IiArIHVzckxvZ2luICsgIiZwUGFzcz0iICsgcHdkLA0KICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICBkYXRhOiAiIiwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSAnJw0KICAgIH0pOw0KICAgIHJldHVybiBzdHJSZXNwVG9rZW47DQogICAgLyoNCiAgICAgICAgbGV0IHVzckxvZ2luID0gb25lcmd5LkdldFN1YnNjcmlwdGlvbkNvbmZpZygidXN1YXJpb19kZmUiKTsNCiAgICAgICAgbGV0IHB3ZCA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInNlbmhhX2RmZSIpOw0KICAgICAgICBsZXQgc3RyUmVzcFRva2VuID0gIiI7DQogICAgICAgIEFqYXgoew0KICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvTG9naW4/cFVzZXJOYW1lPSIgKyB1c3JMb2dpbiArICImcFBhc3M9IiArIHB3ZCwNCiAgICAgICAgICAgIGFzc2lkOiBvYmouYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogb2JqLnVzcmlkLA0KICAgICAgICAgICAgZmVkaWQ6IG9iai5mZWRpZCwNCiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsDQogICAgICAgICAgICBkYXRhOiAiIiwNCiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BUb2tlbiA9IGRhdGE7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBleGNlcHRpb247DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwVG9rZW4pOw0KICAgICAgICAqLw0KfQ0KDQphc3luYyBmdW5jdGlvbiBDcmlhT2JqZXRvRW5jZXJyYW1lbnRvTURGZShkYXRhLCByZWdpc3Ryb01ERmUpIHsNCiAgICB0cnkgew0KICAgICAgICAvLyBEYWRvcyBkbyBFbWl0ZW50ZQ0KICAgICAgICBsZXQgRmlsdHJvTGlzdGFFc3RhYmVsZWNpbWVudG8gPSBnZXJhckZpbHRybygiX2lkIiwgcmVnaXN0cm9NREZlWzBdLlVybEpzb25Db250ZXh0LkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9fbWRmZV9pZCk7DQogICAgICAgIGxldCBvYmpFbWl0ZW50ZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVMaXN0YUVzdGFiZWxlY2ltZW50b3MsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBGaWx0cm9MaXN0YUVzdGFiZWxlY2ltZW50byk7DQogICAgICAgIGxldCBjdHhFbWl0ZW50ZSA9ICcnOw0KICAgICAgICBpZiAob2JqRW1pdGVudGUgIT0gbnVsbCAmJiBvYmpFbWl0ZW50ZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBjdHhFbWl0ZW50ZSA9IG9iakVtaXRlbnRlWzBdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRW5kZXJlw6dvIGRvIEVtaXRlbnRlDQogICAgICAgIGxldCBGaWx0cm9FbmRlcmVjb0VtaXRlbnRlID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBvYmpFbWl0ZW50ZVswXS5JRCk7DQogICAgICAgIGxldCBvYmpFbmRlcmVjb0VtaXRlbnRlID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZUVuZGVyZWNvRW1pdGVudGUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBGaWx0cm9FbmRlcmVjb0VtaXRlbnRlKTsNCiAgICAgICAgbGV0IGN0eEVuZGVyZWNvRW1pdGVudGUgPSAnJzsNCiAgICAgICAgaWYgKG9iakVuZGVyZWNvRW1pdGVudGUgIT0gbnVsbCAmJiBvYmpFbmRlcmVjb0VtaXRlbnRlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGN0eEVuZGVyZWNvRW1pdGVudGUgPSBvYmpFbmRlcmVjb0VtaXRlbnRlWzBdLlVybEpzb25Db250ZXh0Ow0KICAgICAgICB9DQoNCiAgICAgICAgbGV0IE9iakNhbmNNREZFVE1QID0gew0KICAgICAgICAgICAgImxpbmtDZXJ0aWZpY2FkbyI6IGN0eEVtaXRlbnRlLmNlcnRpZmljYWRvWzBdLlVybCwNCiAgICAgICAgICAgICJzZW5oYUNlcnQiOiBjdHhFbWl0ZW50ZS5zZW5oYV9jZXJ0aWZpY2FkbywNCiAgICAgICAgICAgICJ0aXBvQW1iaWVudGUiOiByZXRpcmFfYWNlbnRvcyhjdHhFbWl0ZW50ZS5hbWJpZW50ZV9kZXNjKSwNCiAgICAgICAgICAgICJ1ZkVtaXRlbnRlQ1RlIjogY3R4RW5kZXJlY29FbWl0ZW50ZS5NTE9DWmVzdGFkb191Zl9fdWZfZW1wcmVzYSwNCiAgICAgICAgICAgICJjbnBqRW1pdGVudGVDVGUiOiBjdHhFbWl0ZW50ZS5jbnBqLA0KICAgICAgICAgICAgInVmRW5jZXJyYW1lbnRvIjogZGF0YS5NTE9DZXN0YWRvX3VmX191Zl9kZV9lbmNlcnJhbWVudG9fbWRmZSwNCiAgICAgICAgICAgICJjb2RNdW5pY2lwaW9FbmNlcnJhbWVudG8iOiBkYXRhLk1MT0NtdW5pY2lwaW9faWJnZV9fbXVuaWNpcGlvX2liZ2VfZW5jZXJyYW1lbnRvX21kZmUsDQogICAgICAgICAgICAiY2hhdmVNREZlIjogcmV0b3JuYV9zb21lbnRlbnVtZXJvcyhyZWdpc3Ryb01ERmVbMF0uVXJsSnNvbkNvbnRleHQuY2hhdmVfbWRmZSksDQogICAgICAgICAgICAibnVtZXJvUHJvdG9jb2xvIjogcmVnaXN0cm9NREZlWzBdLlVybEpzb25Db250ZXh0Lm51bWVyb19wcm90b2NvbG9fbWRmZSwNCiAgICAgICAgICAgICJkdG9Db25kdXRvcmVzVmVpY3Vsb3MiOiBbew0KICAgICAgICAgICAgICAgICJub21lQ29uZHV0b3IiOiByZWdpc3Ryb01ERmVbMF0uVXJsSnNvbkNvbnRleHQuUEVTbm9tZV9wZXNzb2FfX25vbWVfZG9fY29uZHV0b3JfbWRmZSwNCiAgICAgICAgICAgICAgICAiY3BmQ29uZHV0b3IiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKHJlZ2lzdHJvTURGZVswXS5VcmxKc29uQ29udGV4dC5QRVNjcGZfcGVzc29hX19jcGZfbW90b3Jpc3RhKQ0KICAgICAgICAgICAgfV0NCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIE9iakNhbmNNREZFVE1QOw0KICAgIH0gY2F0Y2ggKGVycm8pIHsNCiAgICAgICAgbGV0IE9yaWdlbSA9ICIoRVJSTyAtIEVuY2VycmFyIE1ERmUgW0NyaWFPYmpldG9FbmNlcnJhbWVudG9NREZlXSkgR2VyYcOnw6NvIGNvbnRhcyBhIHBhZ2FyLiINCiAgICAgICAgbGV0IGNvbnRlbnQgPSB7DQogICAgICAgICAgICAibWVuc2FnZW0iOiBlcnJvLm1lc3NhZ2UsDQogICAgICAgICAgICAicGlsaGEiOiBlcnJvLnN0YWNrDQogICAgICAgIH0NCiAgICAgICAgb25lcmd5LmxvZyhKU09OLnN0cmluZ2lmeShjb250ZW50KSwgT3JpZ2VtKTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgaWYgKHN0cnJlYykgew0KICAgICAgICBsZXQgc3RycmV0ID0gc3RycmVjLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgICAgICByZXR1cm4gc3RycmV0Ow0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEVuY2VycmFyQ0lPVChkYXRhLCByZWdpc3Ryb01ERmUpIHsNCiAgICB0cnkgew0KICAgICAgICBpZiAoIXJlZ2lzdHJvTURGZVswXS5VcmxKc29uQ29udGV4dC5zdGF0dXNfY2lvdF9tZGZlIHx8IHJlZ2lzdHJvTURGZVswXS5VcmxKc29uQ29udGV4dC5zdGF0dXNfY2lvdF9tZGZlICE9ICJFbWl0aWRvIikgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIlByb3RvY29sbyI6ICIiLA0KICAgICAgICAgICAgICAgICJtc2ciOiAiTURGRSBuw6NvIHBvc3N1aSBDSU9UIGVtaXRpZG8uIg0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgRmlsdHJvRGFkb3NDaW90ID0gZ2VyYXJGaWx0cm8oIm51bWVyb19kb19jaW90X21kZmUiLCByZWdpc3Ryb01ERmVbMF0uVXJsSnNvbkNvbnRleHQuY29kaWdvX2lkZW50aWZpY2Fkb3JfZGFfb3BlcmFjYW9fZGVfdHJhbnNwb3J0ZV9tZGZlKTsNCiAgICAgICAgbGV0IG9iakNpb3QgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlSWRIaXN0b3JpY28sIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBGaWx0cm9EYWRvc0Npb3QpOw0KICAgICAgICBpZiAob2JqQ2lvdC5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAgICAgIlByb3RvY29sbyI6ICIiLA0KICAgICAgICAgICAgICAgICJtc2ciOiAiTsOjbyBmb2kgZW5jb250cmFkbyBDSU9UIGVtaXRpZG8gcGFyYSBvIHByb3ByaWV0w6FyaW8iDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGxldCBFbmNlcnJhbWVudG9DSU9UUG9zdCA9IHsNCiAgICAgICAgICAgICJhdXRoIjogew0KICAgICAgICAgICAgICAgICJrZXkiOiAiMjg5NzdjZDktMzJlZC00Zjk4LWI1ZTMtZWQwNGUyNWJiNDdlIiwNCiAgICAgICAgICAgICAgICAidXNlciI6ICJ1c3VhcmlvQGtlZXB0cnVlIiwNCiAgICAgICAgICAgICAgICAicGFzc3dvcmQiOiAidXN1YXJpbyNrZWVwdHJ1ZSINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicmVxIjogew0KICAgICAgICAgICAgICAgICJDb2RpZ29JZGVudGlmaWNhY2FvT3BlcmFjYW8iOiByZWdpc3Ryb01ERmVbMF0uVXJsSnNvbkNvbnRleHQuY29kaWdvX2lkZW50aWZpY2Fkb3JfZGFfb3BlcmFjYW9fZGVfdHJhbnNwb3J0ZV9tZGZlLA0KICAgICAgICAgICAgICAgICJQZXNvQ2FyZ2EiOiByZWdpc3Ryb01ERmVbMF0uVXJsSnNvbkNvbnRleHQucGVzb19icnV0b190b3RhbF9kYV9jYXJnYV9fbWVyY2Fkb3JpYXNfdHJhbnNwb3J0YWRhc19tZGZlLA0KICAgICAgICAgICAgICAgICJWZXJzYW8iOiAyDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbGV0IFJldHVybkVuY2VycmFtZW50b0Npb3QgPSBhd2FpdCBBcGlFbmNlcnJhbWVudG9DSU9UKGRhdGEsIEVuY2VycmFtZW50b0NJT1RQb3N0KTsNCiAgICAgICAgbGV0IGNvbnN1bHRhU3VjZXNzbyA9IFJldHVybkVuY2VycmFtZW50b0Npb3QuZW5jZXJyYXJPcGVyYWNhb1RyYW5zcG9ydGVSZXN1bHQuc3VjZXNzbzsNCiAgICAgICAgaWYgKCFjb25zdWx0YVN1Y2Vzc28pIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJQcm90b2NvbG8iOiAiIiwNCiAgICAgICAgICAgICAgICAibXNnIjogYFxuRXJybyBubyBlbmNlcnJhbWVudG8gQ0lPVDogXG4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEPDs2RpZ286JHtSZXR1cm5FbmNlcnJhbWVudG9DaW90LmVuY2VycmFyT3BlcmFjYW9UcmFuc3BvcnRlUmVzdWx0LmV4Y2VjYW8uY29kaWdvfVxuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lbnNhZ2VtOiR7UmV0dXJuRW5jZXJyYW1lbnRvQ2lvdC5lbmNlcnJhck9wZXJhY2FvVHJhbnNwb3J0ZVJlc3VsdC5leGNlY2FvLm1lbnNhZ2VtfVxuDQogICAgICAgICAgICAgICAgICAgICAgICBgDQogICAgICAgICAgICB9Ow0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbGV0IHBvc3RVcGRhdGUgPSB7DQogICAgICAgICAgICAgICAgInN0YXR1c19jaW90X21kZmUiOiAiRW5jZXJyYWRvIiwNCiAgICAgICAgICAgICAgICAic3RhdHVzX2Npb3RfbWRmZV9kZXNjIjogIkVuY2VycmFkbyIsDQogICAgICAgICAgICB9DQogICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlSWRIaXN0b3JpY28sIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBwb3N0VXBkYXRlLCBvYmpDaW90WzBdLklEKTsNCg0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgICAgICAgICAiUHJvdG9jb2xvIjogUmV0dXJuRW5jZXJyYW1lbnRvQ2lvdC5lbmNlcnJhck9wZXJhY2FvVHJhbnNwb3J0ZVJlc3VsdC5wcm90b2NvbG8sDQogICAgICAgICAgICAgICAgIm1zZyI6ICJDSU9UIEVuY2VycmFkby4iDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfSBjYXRjaCAoZXJybykgew0KICAgICAgICBsZXQgT3JpZ2VtID0gIihFUlJPIC0gRW5jZXJyYXIgTURGZSBbRW5jZXJyYXJDSU9UXSkgR2VyYcOnw6NvIGNvbnRhcyBhIHBhZ2FyLiINCiAgICAgICAgbGV0IGNvbnRlbnQgPSB7DQogICAgICAgICAgICAibWVuc2FnZW0iOiBlcnJvLm1lc3NhZ2UsDQogICAgICAgICAgICAicGlsaGEiOiBlcnJvLnN0YWNrDQogICAgICAgIH0NCiAgICAgICAgb25lcmd5LmxvZyhKU09OLnN0cmluZ2lmeShjb250ZW50KSwgT3JpZ2VtKTsNCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEFwaUVuY2VycmFtZW50b0NJT1QoZGF0YSwgZGF0YUNhbGwpIHsNCg0KICAgIGxldCBzdHJSZXNwVG9rZW4gPSAiIjsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogImh0dHBzOi8vZm5jaW90ZWZyZXRlcy5henVyZXdlYnNpdGVzLm5ldC9hcGkvZm5FbmNlcnJhck9wVHJhbnNwb3J0ZSIsDQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBkYXRhOiBkYXRhQ2FsbCwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICBzdHJSZXNwVG9rZW4gPSAnJw0KICAgIH0pOw0KICAgIHJldHVybiBzdHJSZXNwVG9rZW47DQogICAgLyoNCiAgICBsZXQgc3RyUmVzcG9uc2VDSU9UOw0KICAgIGNvbnN0IHVybENJT1QgPSAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkVuY2VycmFyT3BUcmFuc3BvcnRlIg0KDQogICAgYWpheCh7DQogICAgICAgIHVybDogdXJsQ0lPVCwNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgY29udGVudFR5cGVDaGFyU2V0OiAiIiwNCiAgICAgICAgZGF0YXR5cGU6ICJqc29uIiwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YUNhbGwpLA0KICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgIGZlZGlkOiBkYXRhLmZlZGlkLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgIHN0clJlc3BvbnNlQ0lPVCA9IGRhdGE7DQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSwganFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgc3RyUmVzcG9uc2VDSU9UID0gZXJyb3IucmVzcG9uc2UuZGF0YTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3BvbnNlQ0lPVCk7DQoqLw0KfQ0KDQpmdW5jdGlvbiByZXRpcmFfYWNlbnRvcyhzdHIpIHsNCiAgICBsZXQgY29tX2FjZW50byA9ICLDgMOBw4LDg8OEw4XDhsOHw4jDicOKw4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5jDmcOaw5vDnMOdxZTDnsOfw6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0w7XDtsO4w7nDusO7w7zDvcO+w7/FlSI7DQogICAgbGV0IHNlbV9hY2VudG8gPSAiQUFBQUFBQUNFRUVFSUlJSUROT09PT09PVVVVVVlSc0JhYWFhYWFhY2VlZWVpaWlpb25vb29vb291dXV1eWJ5ciI7DQogICAgbGV0IG5vdmFzdHIgPSAiIjsNCiAgICBpZiAoc3RyICE9PSAiIikgew0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB0cm9jYSA9IGZhbHNlOw0KICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IGNvbV9hY2VudG8ubGVuZ3RoOyBhKyspIHsNCiAgICAgICAgICAgICAgICBpZiAoc3RyLnN1YnN0cihpLCAxKSA9PSBjb21fYWNlbnRvLnN1YnN0cihhLCAxKSkgew0KICAgICAgICAgICAgICAgICAgICBub3Zhc3RyICs9IHNlbV9hY2VudG8uc3Vic3RyKGEsIDEpOw0KICAgICAgICAgICAgICAgICAgICB0cm9jYSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0cm9jYSA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICBub3Zhc3RyICs9IHN0ci5zdWJzdHIoaSwgMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG5vdmFzdHI7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIEVmZXR1YU1lbnNhZ2VyaWEob2JqLCBvYmplbnZpbywgdG9rZW5PYmosIGdudXJsKSB7DQoNCiAgICBsZXQgcmV0b3JubzsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogZ251cmwsDQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdiZWFyZXIgJyArIHRva2VuT2JqLnRva2VuDQogICAgICAgIH0sDQogICAgICAgIGRhdGE6IG9iamVudmlvLA0KICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICByZXRvcm5vID0gZXJyb3IucmVzcG9uc2UuZGF0YQ0KICAgIH0pOw0KICAgIHJldHVybiByZXRvcm5vDQogICAgLyoNCiAgICBsZXQgc3RyUmVzcEVuY2VycmFNREZlID0gIiI7DQogICAgYWpheCh7DQogICAgICAgIHVybDogZ251cmwsDQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBhc3luYzogZmFsc2UsDQogICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgIGFzc2lkOiBvYmouYXNzaWQsDQogICAgICAgIHVzcmlkOiBvYmoudXNyaWQsDQogICAgICAgIGZlZGlkOiBvYmouZmVkaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG9iamVudmlvKSwNCiAgICAgICAgYXV0aG9yaXphdGlvbjogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgdHlwZTogImJlYXJlciIsDQogICAgICAgICAgICB2YWx1ZTogdG9rZW5PYmoudG9rZW4NCiAgICAgICAgfSksDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgew0KICAgICAgICAgICAgc3RyUmVzcEVuY2VycmFNREZlID0gZGF0YTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICBzdHJSZXNwRW5jZXJyYU1ERmUgPSBleGNlcHRpb247DQogICAgICAgIH0NCiAgICB9KTsNCiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwRW5jZXJyYU1ERmUpOw0KICAgICovDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IHN0clJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgZmR0aWQ6IGZkdGlkLA0KICAgICAgICBhc3NpZDogYXNzaWQsDQogICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgZmlsdGVyOiBmaWx0cm8NCiAgICB9KTsNCiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gR3JhdmFFdmVudG8ocElEX09ORV9SRUYsIHRpcG9ldmVudG8sIHBwcm90b2NvbG8sIHBjaGF2ZSwgcGFzc2lkLCBwdXNyaWQpIHsNCiAgICBsZXQgZmR0X2V2ZW50byA9ICJmMjYyNmMyOS0zOTIzLTQ2YTctOGMzOS04Y2M0MTBjZWIyOTciOw0KICAgIGxldCBvYmpldmVudG8gPSB7DQogICAgICAgIElEX09ORV9SRUY6IHBJRF9PTkVfUkVGLA0KICAgICAgICBkYXRhaG9yYV9kb19ldmVudG9EYXRlOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgZGF0YWhvcmFfZG9fZXZlbnRvOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgdGlwb19kb19ldmVudG9fbWRmZTogdGlwb2V2ZW50bywNCiAgICAgICAgcHJvdG9jb2xvX21kZmU6IHBwcm90b2NvbG8sDQogICAgICAgIGNoYXZlX21kZmU6IHBjaGF2ZQ0KICAgIH07DQogICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShmZHRfZXZlbnRvLCBwYXNzaWQsIHB1c3JpZCwgb2JqZXZlbnRvKTsNCiAgICByZXR1cm47DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgYXNzaWQsIHVzcmlkLCBkYXRhLCBmZWRpZCwgdWtGaWVsZCkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH07DQoNCiAgICBpZiAoZmVkaWQgIT09IHVuZGVmaW5lZCAmJiBmZWRpZCAhPT0gJycpIHsNCiAgICAgICAgb25lcmd5U2F2ZURhdGEuaWQgPSBmZWRpZDsNCiAgICB9DQogICAgaWYgKHVrRmllbGQgIT09IHVuZGVmaW5lZCAmJiB1a0ZpZWxkICE9PSAnJykgew0KICAgICAgICBvbmVyZ3lTYXZlRGF0YS51a0ZpZWxkID0gdWtGaWVsZDsNCiAgICB9DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKTsNCn0NCg0KZnVuY3Rpb24gZ2VyYXJGaWx0cm8oZmllbE5hbWVQLCB2YWx1ZVApIHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6IGZpZWxOYW1lUCwgVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIEZpeGVkVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIFZhbHVlMTogdmFsdWVQIH1dKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2VyYXJDb250YXNQYWdhcihkYXRhLCByZWdpc3Ryb01ERmUpIHsNCiAgICBsZXQgcmVnaXN0cm9NREZlX2N0eCA9IHJlZ2lzdHJvTURGZVswXS5VcmxKc29uQ29udGV4dDsNCiAgICBsZXQgUmVnaXN0cm9IaXN0b3JpY29GcmV0ZTsNCiAgICBsZXQgdGlwb1Byb3ByaWV0YXJpbyA9IHJlZ2lzdHJvTURGZV9jdHguVkVJX3RpcG9fZGVfdHJhbnNwb3J0YWRvcl9fdGlwb19kZV90cmFuc3BvcnRhZG9yX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyA9PSAnMicgPyAiUEYiIDogIlBKIjsNCiAgICBpZiAocmVnaXN0cm9NREZlX2N0eC5zdGF0dXNfY2lvdF9tZGZlICYmIHJlZ2lzdHJvTURGZV9jdHguc3RhdHVzX2Npb3RfbWRmZSAhPSAiQ2FuY2VsYWRvIiAmJiByZWdpc3Ryb01ERmVfY3R4LnN0YXR1c19jaW90X21kZmUgIT0gIm5hb0VtaXRpZG8iKSB7DQogICAgICAgIGxldCBmaWx0cm9IaXN0b3JpY29GcmV0ZSA9IGdlcmFyRmlsdHJvKCJudW1lcm9fZG9fY2lvdF9tZGZlIiwgcmVnaXN0cm9NREZlX2N0eC5jb2RpZ29faWRlbnRpZmljYWRvcl9kYV9vcGVyYWNhb19kZV90cmFuc3BvcnRlX21kZmUpOw0KICAgICAgICBsZXQgaGlzdG9yaWNvRnJldGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlSWRIaXN0b3JpY28sIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9IaXN0b3JpY29GcmV0ZSk7DQogICAgICAgIGlmIChoaXN0b3JpY29GcmV0ZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBSZWdpc3Ryb0hpc3Rvcmljb0ZyZXRlID0gaGlzdG9yaWNvRnJldGVbMF07DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZmlsdHJvQmFuY28gPSBnZXJhckZpbHRybygiTEVTVEFpZCIsIHJlZ2lzdHJvTURGZV9jdHguTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19tZGZlX2lkKTsNCiAgICBsZXQgYmFuY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGJhbmNvc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQmFuY28pOw0KICAgIGlmIChiYW5jby5sZW5ndGggPT0gMCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6ICIoRXJybykgTsOjbyBmb2kgZW5jb250cmFkbyBvIGJhbmNvIGRhIHVuaWRhZGUgZGUgZW1pc3PDo28uIg0KICAgICAgICB9DQoNCiAgICB9DQogICAgbGV0IG9ialBvc3RfQ29udGFzUGFnYXIgPSB7DQogICAgICAgICJFWEVDVVRBUiI6IGZhbHNlLA0KICAgICAgICAiUEFHTyI6IGZhbHNlLA0KICAgICAgICAiVElQRE9DZGVzY3JpY2FvX190aXBvX2RvY3VtZW50byI6IHRpcG9Qcm9wcmlldGFyaW8gPT0gIlBGIiA/ICJSUEEiIDogIkJvbGV0byIsDQogICAgICAgICJUSVBET0N0aXBvX2RvY3VtZW50b19pZCI6IHRpcG9Qcm9wcmlldGFyaW8gPT0gIlBGIiA/ICJlMGFhY2RjYi1jZmFlLWVmMzItMTY2OS1jZTM1YmFiNzUzYTciIDogIjVjNGE2MmI5LTI1MDMtNzZmOS03YzVjLWU2NmQ4MzU3NDk3NSIsDQogICAgICAgICJMRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkIjogcmVnaXN0cm9NREZlX2N0eC5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX21kZmVfaWQsDQogICAgICAgICJMRVNUQVNGbm9tZV9lc3RhYmVsZWNpbWVub3RfX3VuaWRhZGVfZGVfZW1pc3NhbyI6IHJlZ2lzdHJvTURGZV9jdHguTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X191bmlkYWRlX2RlX2VtaXNzYW9fbWRmZSwNCiAgICAgICAgIkNBVERjYXRlZ29yaWFfX2NhdGVnb3JpYV9kZV9kZXNwZXNhIjogIlRyYW5zcG9ydGVzL0ZyZXRlcyIsDQogICAgICAgICJDQVREY2F0ZWdvcmlhX2RlX2Rlc3Blc2FfaWQiOiAiM2IyOTNmYzQtMjhhOC0yMjYwLTRiODctZTYxYTAwYzE4NjRjIiwNCiAgICAgICAgIkNBVERkZXNjcmljYW9fX2NhdGVnb3JpYV9kZV9kZXNwZXNhIjogIlRyYW5zcG9ydGVzL0ZyZXRlcyIsDQogICAgICAgICJjb2RpZ29fZGVfYmFycmFzIjogIiIsDQogICAgICAgICJmb3JuZWNlZG9yIjogdGlwb1Byb3ByaWV0YXJpbyA9PSAiUEYiID8gcmVnaXN0cm9NREZlX2N0eC5WRUlfUEVTY3BmX3Blc3NvYV9fY3BmX3Blc3NvYV9wcm9wcmlldGFyaW9fUEZfX1BFU2NwZl9wZXNzb2FfX2NwZl9wZXNzb2FfcHJvcHJpZXRhcmlvX1BGX3Byb3ByaWV0YXJpb192ZWljdWxvX3RyYWNhbyA6IHJlZ2lzdHJvTURGZV9jdHguVkVJX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfX0VNUGNucGpfZW1wcmVzYV9fY25wal9wcm9wcmlldGFyaW9fUEpfcHJvcHJpZXRhcmlvX3ZlaWN1bG9fdHJhY2FvLA0KICAgICAgICAiZGFkb3NfYmFuY28iOiAiIiwNCiAgICAgICAgIm51bWVyb19kb2N1bWVudG9fZmlzY2FsIjogYCR7cmVnaXN0cm9NREZlX2N0eC5zZXJpZV9kb19tYW5pZmVzdG9fbWRmZX0ke3JlZ2lzdHJvTURGZV9jdHgubnVtZXJvX2RvX21hbmlmZXN0b19tZmRlfWAsDQogICAgICAgICJkYXRhX2xhbmNhbWVudG8iOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgImRhdGFfbGFuY2FtZW50b0RhdGUiOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgImRhdGFfY29tcGV0ZW5jaWEiOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgImRpYV9maXhvX3BhcmFfdmVuY2ltZW50b3MiOiAiIiwNCiAgICAgICAgImRhdGFfZG9jdW1lbnRvIjogdXRpbHMuR2V0VXNlckR0Tm93KCJkZC9NTS95eXl5IEhIOm1tOnNzIiksDQogICAgICAgICJkaWFfZGFfc2VtYW5hX2ZpeG9fdmVuY2ltZW50b3MiOiAiIiwNCiAgICAgICAgImRpYV9kYV9zZW1hbmFfZml4b192ZW5jaW1lbnRvc19kZXNjIjogIiIsDQogICAgICAgICJwZWRpZG9fY29tcHJhIjogcmVnaXN0cm9NREZlX2N0eC5udW1lcm9fZG9fbWFuaWZlc3RvX21mZGUudG9TdHJpbmcoKSwNCiAgICAgICAgInRpcG9fbGFuY2FtZW50byI6ICIxIiwNCiAgICAgICAgInRpcG9fbGFuY2FtZW50b19kZXNjIjogIlJlYWwiLA0KICAgICAgICAicmVmZXJlbmNpYV9leHRlcm5hIjogYE1ERkU6JHtyZWdpc3Ryb01ERmVfY3R4Lm51bWVyb19kb19tYW5pZmVzdG9fbWZkZX0ke1JlZ2lzdHJvSGlzdG9yaWNvRnJldGUgPyAoYCAtIENJT1Q6JHtSZWdpc3Ryb0hpc3Rvcmljb0ZyZXRlLlVybEpzb25Db250ZXh0Lm51bWVyb19kb19jaW90X21kZmV9YCkgOiAiIn1gLA0KICAgICAgICAiQ0JBTkNiYW5jb2NvbnRhX2lkIjogYmFuY29bMF0uSUQsDQogICAgICAgICJDQkFOQ25vbWVfYmFuY29fX2JhbmNvY29udGEiOiBiYW5jb1swXS5VcmxKc29uQ29udGV4dC5ub21lX2JhbmNvLA0KICAgICAgICAiQ0JBTkMiOiAiIiwNCiAgICB9Ow0KICAgIGlmIChSZWdpc3Ryb0hpc3Rvcmljb0ZyZXRlKSB7DQogICAgICAgIG9ialBvc3RfQ29udGFzUGFnYXIudmFsb3JfYnJ1dG8gPSBSZWdpc3Ryb0hpc3Rvcmljb0ZyZXRlLlVybEpzb25Db250ZXh0LnZhbG9yX2JydXRvX2RvX2ZyZXRlX21kZmU7DQogICAgICAgIG9ialBvc3RfQ29udGFzUGFnYXIudmFsb3JfbGlxdWlkbyA9IFJlZ2lzdHJvSGlzdG9yaWNvRnJldGUuVXJsSnNvbkNvbnRleHQudmFsb3JfbGlxdWlkb19kb19mcmV0ZV9tZGZlOw0KICAgICAgICBvYmpQb3N0X0NvbnRhc1BhZ2FyLnZhbG9yX2luc3MgPSBSZWdpc3Ryb0hpc3Rvcmljb0ZyZXRlLlVybEpzb25Db250ZXh0Lmluc3NfbWRmZV9jaW90Ow0KICAgICAgICBvYmpQb3N0X0NvbnRhc1BhZ2FyLnZhbG9yX2lycmYgPSBSZWdpc3Ryb0hpc3Rvcmljb0ZyZXRlLlVybEpzb25Db250ZXh0LmlycmZfbWRmZV9jaW90Ow0KICAgIH0gZWxzZSB7DQogICAgICAgIG9ialBvc3RfQ29udGFzUGFnYXIudmFsb3JfYnJ1dG8gPSByZWdpc3Ryb01ERmVfY3R4LmZyZXRlX21pbmltbzsNCiAgICAgICAgb2JqUG9zdF9Db250YXNQYWdhci52YWxvcl9saXF1aWRvID0gcmVnaXN0cm9NREZlX2N0eC5mcmV0ZV9taW5pbW87DQogICAgICAgIG9ialBvc3RfQ29udGFzUGFnYXIudmFsb3JfaW5zcyA9IDA7DQogICAgICAgIG9ialBvc3RfQ29udGFzUGFnYXIudmFsb3JfaXJyZiA9IDA7DQogICAgfQ0KICAgIGxldCBpZENvbnRhc1BhZ2FyID0gSlNPTi5wYXJzZShhd2FpdCBzZW5kSXRlbVRvT25lcmd5KGNvbnRhc1BhZ2FySUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBvYmpQb3N0X0NvbnRhc1BhZ2FyKSk7DQoNCiAgICBsZXQgb2JqUG9zdF9Db250YXNQYWdhcl9QYXJjZWxhbWVudG8gPSB7DQogICAgICAgICJJRF9PTkVfUkVGIjogaWRDb250YXNQYWdhciwNCiAgICAgICAgInBhcmMiOiAxLA0KICAgICAgICAiZGF0YV92ZW5jaW1lbnRvX2dlIjogcmVnaXN0cm9NREZlX2N0eC5kYXRhX2RlX2xpYmVyYWNhb19kb19wYWdhbWVudG9fY2lvdCwNCiAgICAgICAgImRhdGFfcGFnX3ByZXZfZ2UiOiByZWdpc3Ryb01ERmVfY3R4LmRhdGFfZGVfbGliZXJhY2FvX2RvX3BhZ2FtZW50b19jaW90LA0KICAgICAgICAiaGlzdG9yaWNvX2dlIjogIlBhcmNlbGEgw7puaWNhIiwNCiAgICAgICAgInZhbG9yX2dlIjogb2JqUG9zdF9Db250YXNQYWdhci52YWxvcl9icnV0bywNCiAgICB9DQogICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShQYXJjZWxhc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgb2JqUG9zdF9Db250YXNQYWdhcl9QYXJjZWxhbWVudG8pOw0KDQogICAgbGV0IG9ialBvc3RfQ29udGFzUGFnYXJfVW5pZGFkZU5lZ29jaW8gPSB7DQogICAgICAgICJJRF9PTkVfUkVGIjogaWRDb250YXNQYWdhciwNCiAgICAgICAgIlVORUdPdW5pZGFkZV9kZV9uZWdvY2lvX2lkIjogIjgxMjdiNWU4LTA0NTMtNGViMi1lMDJhLWM3ZjRlY2FjNzdiNiIsDQogICAgICAgICJVTkVHT3VuaWRhZGVfX3VuaWRhZGVfZGVfbmVnb2NpbyI6ICJBZG1pbmlzdHJhdGl2byIsDQogICAgICAgICJVTkVHTyI6ICIiLA0KICAgICAgICAiaGlzdG9yaWNvX3VuaSI6ICJVbmlkYWRlIMO6bmljYSIsDQogICAgICAgICJ2YWxvciI6IG9ialBvc3RfQ29udGFzUGFnYXIudmFsb3JfYnJ1dG8sDQogICAgICAgICJwb3JjZW50YWdlbSI6IDEwMCwNCiAgICB9Ow0KICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3kodW5pZGFkZU5lZ29jaW9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIG9ialBvc3RfQ29udGFzUGFnYXJfVW5pZGFkZU5lZ29jaW8pOw0KICAgIC8vQXR1YWxpemFjYW8gZG8gcmVnaXN0cm8gcGFyYSBpbnRlZ3Jhci4NCiAgICBhd2FpdCBvbmVyZ3lfc2F2ZSh7DQogICAgICAgIGZkdGlkOiBjb250YXNQYWdhcklELA0KICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICBpZDogaWRDb250YXNQYWdhciwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgIkVYRUNVVEFSIjogdHJ1ZQ0KICAgICAgICB9KQ0KICAgIH0pOw0KfQ0KDQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgImRhdGFfZGVfZW5jZXJyYW1lbnRvX21kZmUiOiAiMjAyMi02LTE0IiwNCiAgICAiTUxPQ3BhaXNfbm9tZV9fcGFpc19kZV9lbmNlcnJhbWVudG9fbWRmZSI6ICJCUkFTSUwiLA0KICAgICJNTE9DcGFpc19kZV9lbmNlcnJhbWVudG9fbWRmZV9pZCI6ICJkYTBkODRkMy03OTJhLTQ5NjctYTI0Mi01MDI2ZDJlMWU0ODIiLA0KICAgICJNTE9DZXN0YWRvX3VmX191Zl9kZV9lbmNlcnJhbWVudG9fbWRmZSI6ICJNRyIsDQogICAgIk1MT0N1Zl9kZV9lbmNlcnJhbWVudG9fbWRmZV9pZCI6ICI0MWNiZmZkMy1jMWNiLWJlM2ItMzA3Yy1kNmQ4ODhmNTk5ZTQiLA0KICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19kZV9lbmNlcnJhbWVudG9fbWRmZSI6ICJBUkNPUyIsDQogICAgIk1MT0NtdW5pY2lwaW9fZGVfZW5jZXJyYW1lbnRvX21kZmVfaWQiOiAiYmFjZjg3ZjMtZDg1MS00NDE4LTk5MmQtNzVjMGFlZWExY2Y1IiwNCiAgICAiTUxPQ211bmljaXBpb19pYmdlX19tdW5pY2lwaW9faWJnZV9lbmNlcnJhbWVudG9fbWRmZSI6IDMxMDQyMDUsDQogICAgIklEX09ORV9SRUYiOiAiNTZjODQyNDEtOGI3Ni00MmE1LThiMGEtYmFkNTMyOGQzNzE3Ig0KfQ0KDQoNCmpzb25JbnB1dC5vbmVyZ3lfanNfY3R4ID0gew0KICAgICJhc3NfaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAiZmR0aWQiOiAiODM2ZWI2NmItODNmMi00Njg4LTk0Y2YtMjU2NTQxNWNiYTZjIiwNCiAgICAidXNyaWQiOiAiM2RiZGU2Y2UtOThiZC00YTQ5LWJjYjctNGY4Mzk4NjkwZjQxIiwNCiAgICAiZmVkaWQiOiAiMzA2ODlkZjQtNDUyNy00OWY1LTE5MjMtNzdlNzhmNmFhNmE5IiwNCn0NCg0KaW5pdChKU09OLnN0cmluZ2lmeShqc29uSW5wdXQpKTs=" }, { "name": "(MDFE) - Frete Mnimo.js", "isDirectory": false, "__KEY__": "194a56a9-5f72-ecd4-3a45-496db833f15c", "size": 9165, "dateModified": "2022-06-11T22:32:45.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KDQoNCg0KZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KdmFyIGZyZXRlTWluaW1vSUQgPSAiYWVlNTdiNmQtMGUzOS00OGVlLThjMGUtNGIyMGU3M2RmZGFiIjsNCnZhciBjYWxjdWxhckRpc3RhbmNpYUlEID0gIjE2MGY0Yzc2LTgwMWUtNGI0ZC04MGUxLWVmNDlkNzExMzI4ZCI7DQoNCmFzeW5jIGZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBsZXQgcmV0b3JubyA9IGF3YWl0IGNhbGN1bGFyRnJldGVNaW5pbW8oZGF0YSk7DQogICAgcmV0dXJuIHsgY29uZDogZmFsc2UsIG1zZ19yZXN1bHQ6IEpTT04uc3RyaW5naWZ5KHJldG9ybm8pIH07DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGNhbGN1bGFyRnJldGVNaW5pbW8oZGF0YSkgew0KDQogICAgLy9sZXQgZGlzdGFuY2lhID0gY2FsY3VsYXJEaXN0YW5jaWEoZGF0YSk7DQogICAgbGV0IGRpc3RhbmNpYSA9IEpTT04ucGFyc2UoSlNPTi5wYXJzZShKU09OLnBhcnNlKGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3koY2FsY3VsYXJEaXN0YW5jaWFJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEpKSkubXNnKTsNCiAgICBpZiAoZGlzdGFuY2lhLnN0YXR1cyA9PSAiTk9LIikgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGBOw6NvIGZvaSBwb3Nzw612ZWwgY2FsY3VsYXIgZGlzdGFuY2lhIGVudHJlICR7ZGF0YS5VRl9PUklHRU19LSR7ZGF0YS5NVU5JQ0lQSU9fT1JJR0VNfSBlICR7ZGF0YS5VRl9ERVNUSU5PfS0ke2RhdGEuTVVOSUNJUElPX0RFU1RJTk99LmANCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmaWx0cm9GYWl4YUZyZXRlTWluaW1vID0gZ2VyYXJGaWx0cm8oIm51bWVyb19kZV9laXhvcyIsIGRhdGEuUVVBTlRJREFERV9FSVhPLnRvU3RyaW5nKCkpOw0KICAgIGxldCBmYWl4YUZyZXRlTWluaW1vID0gYXdhaXQgZ2V0T25lcmd5SXRlbShmcmV0ZU1pbmltb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRmFpeGFGcmV0ZU1pbmltbyk7DQogICAgaWYgKGZhaXhhRnJldGVNaW5pbW8ubGVuZ3RoID09IDApIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiBgTsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhciBmYWl4YSBkZSBmcmV0ZSBtw61uaW1vIHBhcmEgdmXDrWN1bG8gY29tICR7ZGF0YS5RVUFOVElEQURFX0VJWE8udG9TdHJpbmcoKX0gZWl4b3MuYA0KICAgICAgICB9DQogICAgfQ0KDQogICAgbGV0IGRlc2xvY2FtZW50byA9IGZhaXhhRnJldGVNaW5pbW9bMF0uVXJsSnNvbkNvbnRleHQuX2Rlc2xvY2FtZW50b19jY2RfcmttXzsNCiAgICBsZXQgQ2FyZ2FEZXNjYXJnYSA9IGZhaXhhRnJldGVNaW5pbW9bMF0uVXJsSnNvbkNvbnRleHQuX2NhcmdhX2VfZGVzY2FyZ2FfY2Nfcl87DQoNCiAgICByZXR1cm4gew0KICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgImRpc3RhbmNpYSI6IGRpc3RhbmNpYVsiZGlzdGFuY2lhIl0sDQogICAgICAgICJ2YWxvciI6ICsoKGRpc3RhbmNpYVsiZGlzdGFuY2lhIl0gKiBkZXNsb2NhbWVudG8pICsgQ2FyZ2FEZXNjYXJnYSkudG9GaXhlZCgyKQ0KICAgIH07DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IGtlZXBTZWFyY2hpbmcgPSB0cnVlOw0KICAgIGxldCBza2lwID0gMDsNCiAgICB0YWtlID0gNTAwOw0KICAgIGxldCByZXN1bHQgPSBbXTsNCiAgICB3aGlsZSAoa2VlcFNlYXJjaGluZykgew0KICAgICAgICBsZXQgc3RyUGFnZVJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgICAgIGZpbHRlcjogZmlsdHJvLA0KICAgICAgICAgICAgc2tpcDogc2tpcCwNCiAgICAgICAgICAgIHRha2U6IHRha2UNCiAgICAgICAgfSk7DQogICAgICAgIHNraXAgKz0gdGFrZTsNCiAgICAgICAgbGV0IHBhZ2VSZXNwID0gSlNPTi5wYXJzZShzdHJQYWdlUmVzcCk7DQogICAgICAgIGlmIChwYWdlUmVzcCAhPSBudWxsICYmIHBhZ2VSZXNwLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBwYWdlUmVzcC5sZW5ndGggPT0gdGFrZTsNCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocGFnZVJlc3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIGNhbGN1bGFyRGlzdGFuY2lhKGRhdGEpIHsNCiAgICBsZXQgX3ZhbGlkID0gdmFsaWQoZGF0YSk7DQogICAgaWYgKCFfdmFsaWQuaXNWYWxpZCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGBWYWxvciBkZSAke192YWxpZC5jYW1wb30gbmFvIGZvaSBwYXNzYWRvLmAsDQogICAgICAgICAgICAiZGlzdGFuY2lhIjogMA0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGxldCBHZW9Mb2NhdGlvbl9PUklHRU0gPSBnZXRfZ2VvX2xvY2F0aW9uKHsNCiAgICAgICAgdWY6IGRhdGEuVUZfT1JJR0VNLA0KICAgICAgICBjaWRhZGU6IGRhdGEuTVVOSUNJUElPX09SSUdFTQ0KICAgIH0pOw0KDQoNCiAgICBpZiAoIUdlb0xvY2F0aW9uX09SSUdFTSkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGBOw6NvIGZvaSBwb3Nzw612ZWwgb2J0ZXIgYSBHZW9sb2NhbGl6YWRvciBkZSAke2RhdGEuVUZfT1JJR0VNfS0ke2RhdGEuTVVOSUNJUElPX09SSUdFTX1gLA0KICAgICAgICAgICAgImRpc3RhbmNpYSI6IDANCiAgICAgICAgfTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBHZW9Mb2NhdGlvbl9PUklHRU0gPSBKU09OLnBhcnNlKEdlb0xvY2F0aW9uX09SSUdFTSk7DQogICAgfQ0KDQogICAgbGV0IEdlb0xvY2F0aW9uX0RFU1RJTk8gPSBnZXRfZ2VvX2xvY2F0aW9uKHsNCiAgICAgICAgdWY6IGRhdGEuVUZfREVTVElOTywNCiAgICAgICAgY2lkYWRlOiBkYXRhLk1VTklDSVBJT19ERVNUSU5PDQogICAgfSk7DQoNCiAgICBpZiAoIUdlb0xvY2F0aW9uX0RFU1RJTk8pIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiBgTsOjbyBmb2kgcG9zc8OtdmVsIG9idGVyIGEgR2VvbG9jYWxpemFkb3IgZGUgJHtkYXRhLlVGX0RFU1RJTk99LSR7ZGF0YS5NVU5JQ0lQSU9fREVTVElOT31gLA0KICAgICAgICAgICAgImRpc3RhbmNpYSI6IDANCiAgICAgICAgfTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBHZW9Mb2NhdGlvbl9ERVNUSU5PID0gSlNPTi5wYXJzZShHZW9Mb2NhdGlvbl9ERVNUSU5PKTsNCiAgICB9DQoNCiAgICBsZXQgZGlzdGFuY2lhID0gZ2V0X2ttX2RpZmYoew0KICAgICAgICBvcmlnZW1MYXQ6IEdlb0xvY2F0aW9uX09SSUdFTS5sYXQsDQogICAgICAgIG9yaWdlbUxvbjogR2VvTG9jYXRpb25fT1JJR0VNLmxuZywNCiAgICAgICAgZW5kTGF0OiBHZW9Mb2NhdGlvbl9ERVNUSU5PLmxhdCwNCiAgICAgICAgZW5kTG9uOiBHZW9Mb2NhdGlvbl9ERVNUSU5PLmxuZw0KICAgIH0pOw0KDQogICAgcmV0dXJuIHsNCiAgICAgICAgInN0YXR1cyI6ICJPSyIsDQogICAgICAgICJtc2ciOiBgYCwNCiAgICAgICAgImRpc3RhbmNpYSI6ICsoZGlzdGFuY2lhIC8gMTAwMCkudG9GaXhlZCgwKQ0KICAgIH07DQp9DQoNCmZ1bmN0aW9uIHZhbGlkKGRhdGEpIHsNCiAgICBsZXQgX3ZhbGlkID0gew0KICAgICAgICAiaXNWYWxpZCI6IHRydWUsDQogICAgICAgICJjYW1wbyI6ICIiDQogICAgfTsNCg0KICAgIGlmICghZGF0YS5VRl9PUklHRU0pIHsNCiAgICAgICAgX3ZhbGlkLmlzVmFsaWQgPSBmYWxzZTsNCiAgICAgICAgX3ZhbGlkLmNhbXBvID0gIlVGX09SSUdFTSI7DQogICAgICAgIHJldHVybiBfdmFsaWQ7DQogICAgfQ0KDQogICAgaWYgKCFkYXRhLk1VTklDSVBJT19PUklHRU0pIHsNCiAgICAgICAgX3ZhbGlkLmlzVmFsaWQgPSBmYWxzZTsNCiAgICAgICAgX3ZhbGlkLmNhbXBvID0gIk1VTklDSVBJT19PUklHRU0iOw0KICAgICAgICByZXR1cm4gX3ZhbGlkOw0KICAgIH0NCg0KICAgIGlmICghZGF0YS5VRl9ERVNUSU5PKSB7DQogICAgICAgIF92YWxpZC5pc1ZhbGlkID0gZmFsc2U7DQogICAgICAgIF92YWxpZC5jYW1wbyA9ICJVRl9ERVNUSU5PIjsNCiAgICAgICAgcmV0dXJuIF92YWxpZDsNCiAgICB9DQoNCiAgICBpZiAoIWRhdGEuTVVOSUNJUElPX0RFU1RJTk8pIHsNCiAgICAgICAgX3ZhbGlkLmlzVmFsaWQgPSBmYWxzZTsNCiAgICAgICAgX3ZhbGlkLmNhbXBvID0gIk1VTklDSVBJT19ERVNUSU5PIjsNCiAgICAgICAgcmV0dXJuIF92YWxpZDsNCiAgICB9DQoNCiAgICByZXR1cm4gX3ZhbGlkOw0KfQ0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vVE9ETyBEQVRBDQp2YXIganNvbklucHV0ID0gew0KICAgICJVRl9PUklHRU0iOiAiQVAiLA0KICAgICJNVU5JQ0lQSU9fT1JJR0VNIjogIkNBTENPRU5FIiwNCiAgICAiVUZfREVTVElOTyI6ICJFUyIsDQogICAgIk1VTklDSVBJT19ERVNUSU5PIjogIlNBTyBET01JTkdPUyBETyBOT1JURSIsDQogICAgIlFVQU5USURBREVfRUlYTyI6IDMsDQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJmZWRpZCI6ICI1YTJhNzcxYy02NzQ2LTQ0MDUtOWMwOC02NDM5MGZjMzVjNDciLA0KICAgICJmZHRpZCI6ICIzNTUxMGZmMy02ZjAxLTRlNzQtODJhOS0xOGEyZTAwZjkzYmEiLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJvbmVyZ3lfanNfY3R4Ijogew0KICAgICAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAgICAgImZlZGlkIjogIjVhMmE3NzFjLTY3NDYtNDQwNS05YzA4LTY0MzkwZmMzNWM0NyIsDQogICAgICAgICJmZHRpZCI6ICIzNTUxMGZmMy02ZjAxLTRlNzQtODJhOS0xOGEyZTAwZjkzYmEiLA0KICAgICAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAgICAgImluc2VydER0IjogIjIwMjItMDYtMTBUMTk6MTU6MTMuNjc2MDY3NiIsDQogICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTA2LTEwVDE5OjE1OjEzLjY3NjA2NzYiLA0KICAgICAgICAiY3VyX3VzZXJpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAgICAgInVzZXJfbmFtZSI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAib25lcmd5X3JvbGlkIjogIiIsDQogICAgICAgICJwcmFpZCI6ICI1OTM0NjlmMS0wMDU2LTQyMjYtOTUzZS0wNTQ5YTAwNTQ1OWEiLA0KICAgICAgICAicGN2aWQiOiAiNzdiMzcxNjEtNjFmMi00YTA5LWI4ODctOTliMDNlNDJlNWFlIiwNCiAgICAgICAgInByY2lkIjogIjU2ODAwZGRkLWJiODctOWRjNy1jMWU2LTJlM2FmOGE0ZTY3OSIsDQogICAgICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgICAgICJ0aW1lem9uZV92YWx1ZSI6ICItMDM6MDAiLA0KICAgICAgICAicHViTnViSG9vayI6IG51bGwNCiAgICB9DQp9DQoNCg0KDQovLyBqc29uSW5wdXQub25lcmd5X2pzX2N0eCA9IHsNCi8vICAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQovLyAgICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQovLyAgICAgImZkdGlkIjogIjgzNmViNjZiLTgzZjItNDY4OC05NGNmLTI1NjU0MTVjYmE2YyIsDQovLyAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQovLyAgICAgImZlZGlkIjogIjA5MjRmNjBmLWI1YmEtYTBlNS1mNmI2LTQ0ZDdlMzlmYWFlNyIsDQovLyB9DQoNCmluaXRCZWZvcmUoSlNPTi5zdHJpbmdpZnkoanNvbklucHV0KSk7" }, { "name": "(MDFE) - Gerao.js", "isDirectory": false, "__KEY__": "1c61a111-1823-4002-1ba6-f9b48a746ef8", "size": 23451, "dateModified": "2022-06-14T20:07:36.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KDQoNCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KDQogICAgYXdhaXQgT2N1dGFyQ1RFc1NlbGVjaW9uYWRhcyhkYXRhKTsNCiAgICBhd2FpdCBDcmlhck9iamV0b0dyYXZhY2FvTURGZShkYXRhKTsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCg0KICAgIGxldCBDVEVzU2VsZWNpb25hZG9zVGVtcGxhdGVJRCA9ICI0NGMyODY2YS0yYjg4LTQ5MTctODkzMC01NmU4NDIzOWY2ZDMiOw0KICAgIGxldCBDVEVzTkVtaXRpZG9zVGVtcGxhdGVJRCA9ICJiZTMwMjEyOC00NGRlLTQyZTctODc0ZC03N2IwODY3ZmI1NTciOw0KICAgIGxldCBDVEVzRW1pdGlkb3NUZW1wbGF0ZUlEID0gImJiNTU1YWE0LTI1MzYtNGFjMC1hNDhiLTBiZmYyMzRhYTc5OSI7DQoNCiAgICBsZXQgZmlsdHJvQ1RFc1NlbGVjID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICB7IEZpZWxOYW1lOiAiSURfT05FX1JFRiIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCB9DQogICAgXSk7DQogICAgbGV0IENURXNTZWxlY2lvbmFkYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKENURXNTZWxlY2lvbmFkb3NUZW1wbGF0ZUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQ1RFc1NlbGVjKTsNCg0KICAgIGlmIChDVEVzU2VsZWNpb25hZGFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBDVEVzU2VsZWNpb25hZGFzKSB7DQoNCiAgICAgICAgICAgIGxldCBmaWx0cm9SZWZlcmVuY2lhID0gSlNPTi5zdHJpbmdpZnkoWw0KICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBDVEVzU2VsZWNpb25hZGFzW3NdLlVybEpzb25Db250ZXh0Lm9uZV9jb3BpZWRfZnJvbSB9DQogICAgICAgICAgICBdKTsNCiAgICAgICAgICAgIGxldCBDVEVSZWZlcmVuY2lhTkVtaXRpZG9zID0gYXdhaXQgZ2V0T25lcmd5SXRlbShDVEVzTkVtaXRpZG9zVGVtcGxhdGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1JlZmVyZW5jaWEpOw0KICAgICAgICAgICAgbGV0IENURVJlZmVyZW5jaWFFbWl0aWRvcyA9IGF3YWl0IGdldE9uZXJneUl0ZW0oQ1RFc0VtaXRpZG9zVGVtcGxhdGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1JlZmVyZW5jaWEpOw0KDQogICAgICAgICAgICBsZXQgcG9zdEluZm8gPSB7DQogICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAiQ1RFR2VyYWRhUGFyYU1ERkUiOiAibmFvIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIGlmIChDVEVSZWZlcmVuY2lhTkVtaXRpZG9zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICAgICAgICAgIGZkdGlkOiBDVEVzTkVtaXRpZG9zVGVtcGxhdGVJRCwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocG9zdEluZm8pLA0KICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBDVEVSZWZlcmVuY2lhTkVtaXRpZG9zWzBdLklEIH0NCiAgICAgICAgICAgICAgICAgICAgXSksDQogICAgICAgICAgICAgICAgICAgIGlzTXVsdGlVcGRhdGU6IGZhbHNlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKENURVJlZmVyZW5jaWFFbWl0aWRvcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICAgICAgICAgICAgICBmZHRpZDogQ1RFc0VtaXRpZG9zVGVtcGxhdGVJRCwNCiAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocG9zdEluZm8pLA0KICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgRmllbE5hbWU6ICJfaWQiLCBUeXBlOiAic3RyaW5nIiwgRml4ZWRUeXBlOiAic3RyaW5nIiwgVmFsdWUxOiBDVEVSZWZlcmVuY2lhRW1pdGlkb3NbMF0uSUQgfQ0KICAgICAgICAgICAgICAgICAgICBdKSwNCiAgICAgICAgICAgICAgICAgICAgaXNNdWx0aVVwZGF0ZTogZmFsc2UNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnanNvbic6IEpTT04uc3RyaW5naWZ5KGpzb24pLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IGtlZXBTZWFyY2hpbmcgPSB0cnVlOw0KICAgIGxldCBza2lwID0gMDsNCiAgICB0YWtlID0gNTAwOw0KICAgIGxldCByZXN1bHQgPSBbXTsNCiAgICB3aGlsZSAoa2VlcFNlYXJjaGluZykgew0KICAgICAgICBsZXQgc3RyUGFnZVJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgICAgIGZpbHRlcjogZmlsdHJvLA0KICAgICAgICAgICAgc2tpcDogc2tpcCwNCiAgICAgICAgICAgIHRha2U6IHRha2UNCiAgICAgICAgfSk7DQogICAgICAgIHNraXAgKz0gdGFrZTsNCiAgICAgICAgbGV0IHBhZ2VSZXNwID0gSlNPTi5wYXJzZShzdHJQYWdlUmVzcCk7DQogICAgICAgIGlmIChwYWdlUmVzcCAhPSBudWxsICYmIHBhZ2VSZXNwLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBwYWdlUmVzcC5sZW5ndGggPT0gdGFrZTsNCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocGFnZVJlc3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNlbmRJdGVtVG9PbmVyZ3kodGVtcGxhdGVpZCwgdXNyaWQsIGFzc2lkLCBkYXRhLCBmZWRpZCwgdWtGaWVsZCkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH07DQoNCiAgICBpZiAoZmVkaWQgIT09IHVuZGVmaW5lZCAmJiBmZWRpZCAhPT0gJycpIHsNCiAgICAgICAgb25lcmd5U2F2ZURhdGEuaWQgPSBmZWRpZDsNCiAgICB9DQogICAgaWYgKHVrRmllbGQgIT09IHVuZGVmaW5lZCAmJiB1a0ZpZWxkICE9PSAnJykgew0KICAgICAgICBvbmVyZ3lTYXZlRGF0YS51a0ZpZWxkID0gdWtGaWVsZDsNCiAgICB9DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneV9zYXZlKG9uZXJneVNhdmVEYXRhKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gQ3JpYXJPYmpldG9HcmF2YWNhb01ERmUoZGF0YSkgew0KDQogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PSBUZW1wbGF0ZSBJRCBDYXJkcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KICAgIHZhciBUZW1wbGF0ZUNURXNTZWxlY2lvbmFkb3MgPSAiNDRjMjg2NmEtMmI4OC00OTE3LTg5MzAtNTZlODQyMzlmNmQzIjsNCiAgICB2YXIgVGVtcGxhdGVJZFF0ZGVDYXJnYSA9ICIzM2Q5Y2M4OC05OTJhLTQ0ZDAtYjY0NC1lZTFiZjdlZmZiZmIiOw0KICAgIHZhciBUZW1wbGF0ZUlkTURGZU5hb0VtaXRpZG8gPSAiODM2ZWI2NmItODNmMi00Njg4LTk0Y2YtMjU2NTQxNWNiYTZjIjsNCiAgICB2YXIgVGVtcGxhdGVJZENUZVZpbmN1bGFkbyA9ICI1ZGQ1ZjkxMC05ODlhLTQ5NGItYWY0Zi00ZmI5MTdkMGE2YjIiOw0KICAgIHZhciB1bmlkYWRlRW1pc3Nhb0lEID0gIjIzOGFiZDhkLWNlMWItNGRjZS04MGNmLWJjN2RlZTkyZjhjZiI7DQogICAgdmFyIGNhbGN1bGFyRGlzdGFuY2lhSUQgPSAiMTYwZjRjNzYtODAxZS00YjRkLTgwZTEtZWY0OWQ3MTEzMjhkIjsNCiAgICB2YXIgY29udHJhdGFudGVTZXJ2aWNvSUQgPSAiY2M3NjQwMmQtMjU1ZC00OTU4LWE3YzUtMjA5NzFmMDk4MjQ3IjsNCiAgICB2YXIgcm90YXNJRCA9ICI5ZTJjYWE2My04OWMyLTQxMTEtOWIzMC0yNzFkZTgxNTBkYjQiOw0KICAgIHZhciBVRnNSb3RhSUQgPSAiYjI1NDY5NDItZDk2ZS00ODViLWExNjAtMjAzMWYzNjQzMWIwIjsNCiAgICB2YXIgcGVyY3Vyc29JRCA9ICIyNjI4YmZlZi0wMGFmLTQzNzgtOWE1NS1mMjY1NDk4MWY1NTUiOw0KICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXA0KDQoNCiAgICBsZXQgZmlsdHJvQ1RFc1NlbGVjaW9uYWRhcyA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZGF0YS5mZWRpZCk7DQogICAgbGV0IENURXNTZWxlY2lvbmFkb3MgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKFRlbXBsYXRlQ1RFc1NlbGVjaW9uYWRvcywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0NURXNTZWxlY2lvbmFkYXMpOw0KDQogICAgd2hpbGUgKENURXNTZWxlY2lvbmFkb3MubGVuZ3RoID4gMCkgew0KICAgICAgICAvL1RPRE8gQWdydXBhbWVudG8uIChDVEVzIGNvbSBtZXNtYSBPcmlnZW0sRGVzdGlubyBlIHVuaWRhZGUgZGUgZW1pc3NhbykuDQogICAgICAgIGxldCB1bmlkYWRlRW1pc3Nhb18wID0gQ1RFc1NlbGVjaW9uYWRvc1swXS5VcmxKc29uQ29udGV4dC5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkOw0KICAgICAgICBsZXQgVUZPcmlnZW1fMCA9IENURXNTZWxlY2lvbmFkb3NbMF0uVXJsSnNvbkNvbnRleHQuTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhOw0KICAgICAgICBsZXQgVUZEZXN0aW5vXzAgPSBDVEVzU2VsZWNpb25hZG9zWzBdLlVybEpzb25Db250ZXh0Lk1MT0Nlc3RhZG9fdWZfX3VmX2Rlc3Rpbm9fZGFfY2FyZ2E7DQoNCiAgICAgICAgbGV0IENURXNBZ3J1cGFkYXMgPSBDVEVzU2VsZWNpb25hZG9zLmZpbHRlcihDVEUgPT4gew0KICAgICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICAgICBDVEUuVXJsSnNvbkNvbnRleHQuTUxPQ2VzdGFkb191Zl9fdWZfb3JpZ2VtX2RhX2NhcmdhID09IFVGT3JpZ2VtXzAgJiYNCiAgICAgICAgICAgICAgICBDVEUuVXJsSnNvbkNvbnRleHQuTUxPQ2VzdGFkb191Zl9fdWZfZGVzdGlub19kYV9jYXJnYSA9PSBVRkRlc3Rpbm9fMCAmJg0KICAgICAgICAgICAgICAgIENURS5VcmxKc29uQ29udGV4dC5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkID09IHVuaWRhZGVFbWlzc2FvXzANCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIC8vVE9ETyBSZW1vw6fDo28gZGFzIENURXMgQWdydXBhZGFzLg0KICAgICAgICBmb3IgKGxldCBzIGluIENURXNBZ3J1cGFkYXMpIHsNCiAgICAgICAgICAgIGZvciAobGV0IGogaW4gQ1RFc1NlbGVjaW9uYWRvcykgew0KICAgICAgICAgICAgICAgIGlmIChDVEVzU2VsZWNpb25hZG9zW2pdLklEID09IENURXNBZ3J1cGFkYXNbc10uSUQpIHsNCiAgICAgICAgICAgICAgICAgICAgQ1RFc1NlbGVjaW9uYWRvcy5zcGxpY2UoaiwgMSk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vVE9ETyBEZWZpbmnDp8OjbyBkZSBDVEUgZGUgbWFpb3IgZGlzdMOibmNpYS4NCiAgICAgICAgbGV0IENURU1haW9yRGlzdGFuY2lhID0gew0KICAgICAgICAgICAgImRpc3RhbmNpYSI6IDAsDQogICAgICAgICAgICAiQ1RFIjogQ1RFc0FncnVwYWRhc1swXQ0KICAgICAgICB9Ow0KICAgICAgICBsZXQgY2FjaGVDb25zdWx0YSA9IFtdOw0KICAgICAgICBmb3IgKGxldCBzIGluIENURXNBZ3J1cGFkYXMpIHsNCiAgICAgICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICAgICAiVUZfT1JJR0VNIjogQ1RFc0FncnVwYWRhc1tzXS5VcmxKc29uQ29udGV4dC5NTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICAgICAgICAgIk1VTklDSVBJT19PUklHRU0iOiBDVEVzQWdydXBhZGFzW3NdLlVybEpzb25Db250ZXh0Lk1MT0NtdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgICAgICAgICAiVUZfREVTVElOTyI6IENURXNBZ3J1cGFkYXNbc10uVXJsSnNvbkNvbnRleHQuTUxPQ2VzdGFkb191Zl9fZGVzdGlub19lc3RhZG9fdWYsDQogICAgICAgICAgICAgICAgIk1VTklDSVBJT19ERVNUSU5PIjogQ1RFc0FncnVwYWRhc1tzXS5VcmxKc29uQ29udGV4dC5NTE9DbXVuaWNpcGlvX25vbWVfX2Rlc3Rpbm9fbXVuaWNpcGlvX25vbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghY2FjaGVDb25zdWx0YS5pbmNsdWRlcyhgJHtwb3N0SW5mby5VRl9PUklHRU19LSR7cG9zdEluZm8uTVVOSUNJUElPX09SSUdFTX0vJHtwb3N0SW5mby5VRl9ERVNUSU5PfS0ke3Bvc3RJbmZvLk1VTklDSVBJT19ERVNUSU5PfWApKSB7DQogICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNpYSA9IEpTT04ucGFyc2UoSlNPTi5wYXJzZShhd2FpdCBzZW5kSXRlbVRvT25lcmd5KGNhbGN1bGFyRGlzdGFuY2lhSUQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBwb3N0SW5mbykpKTsNCiAgICAgICAgICAgICAgICBkaXN0YW5jaWEgPSBKU09OLnBhcnNlKGRpc3RhbmNpYS5tc2cpOw0KICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jaWFbJ2Rpc3RhbmNpYSddID4gQ1RFTWFpb3JEaXN0YW5jaWEuZGlzdGFuY2lhKSB7DQogICAgICAgICAgICAgICAgICAgIENURU1haW9yRGlzdGFuY2lhLmRpc3RhbmNpYSA9IGRpc3RhbmNpYVsnZGlzdGFuY2lhJ107DQogICAgICAgICAgICAgICAgICAgIENURU1haW9yRGlzdGFuY2lhLkNURSA9IENURXNBZ3J1cGFkYXNbc107DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhY2hlQ29uc3VsdGEucHVzaChgJHtwb3N0SW5mby5VRl9PUklHRU19LSR7cG9zdEluZm8uTVVOSUNJUElPX09SSUdFTX0vJHtwb3N0SW5mby5VRl9ERVNUSU5PfS0ke3Bvc3RJbmZvLk1VTklDSVBJT19ERVNUSU5PfWApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy9UT0RPIERlZmluacOnw6NvIGRlIENURSBkZSBtYWlvciB2YWxvci4NCiAgICAgICAgbGV0IG1haW9yVmFsb3JGcmV0ZSA9IENURXNBZ3J1cGFkYXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50KSB7DQogICAgICAgICAgICByZXR1cm4gKHByZXYuVXJsSnNvbkNvbnRleHQudmFsb3JfZG9fZnJldGUgPiBjdXJyZW50LlVybEpzb25Db250ZXh0LnZhbG9yX2RvX2ZyZXRlKSA/IHByZXYgOiBjdXJyZW50Ow0KICAgICAgICB9KTsNCg0KICAgICAgICAvL1RPRE8gUHJvZHV0byBQcmVkb21pbmFudGUuDQogICAgICAgIGxldCBmaWx0cm9Qcm9kdXRvUHJlZG9taW5hbnRlID0gZ2VyYXJGaWx0cm8oImRlc2NyaWNhb19kb19wcm9kdXRvIiwgbWFpb3JWYWxvckZyZXRlLlVybEpzb25Db250ZXh0LlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19wcm9kdXRvX3ByZWRvbWluYW50ZV9jdGUpOw0KICAgICAgICBsZXQgc2VhcmNoUHJvZHVjdCA9IGF3YWl0IGdldE9uZXJneUl0ZW0oImE1ZThkYTRlLWI2MmQtNDljZi1hY2NhLWE3N2UzMzE4N2M3NSIsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9Qcm9kdXRvUHJlZG9taW5hbnRlKTsNCiAgICAgICAgbGV0IG5jbVByb2R1dG8gPSBzZWFyY2hQcm9kdWN0Lmxlbmd0aCA+IDAgJiYgc2VhcmNoUHJvZHVjdFswXS5VcmxKc29uQ29udGV4dC5jb2RpZ29fbmNtX2RvX3Byb2R1dG8gPyBzZWFyY2hQcm9kdWN0WzBdLlVybEpzb25Db250ZXh0LmNvZGlnb19uY21fZG9fcHJvZHV0byA6IDE7DQoNCiAgICAgICAgLy9UT0RPIFVuaWRhZGUgZGUgZW1pc3PDo28uDQogICAgICAgIGxldCBmaWx0cm9VbmlkYWRlRW1pc3NhbyA9IGdlcmFyRmlsdHJvKCJfaWQiLCBDVEVzQWdydXBhZGFzWzBdLlVybEpzb25Db250ZXh0LkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQpOw0KICAgICAgICBsZXQgdW5pZGFkZUVtaXNzYW8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHVuaWRhZGVFbWlzc2FvSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9VbmlkYWRlRW1pc3Nhbyk7DQoNCiAgICAgICAgLy9UT0RPIFZhbG9yIHRvdGFsIGRhIGNhcmdhLg0KICAgICAgICBsZXQgdmFsb3JUb3RhbCA9IDA7DQogICAgICAgIGZvciAobGV0IHMgaW4gQ1RFc0FncnVwYWRhcykgew0KICAgICAgICAgICAgdmFsb3JUb3RhbCArPSBDVEVzQWdydXBhZGFzW3NdLlVybEpzb25Db250ZXh0LnZhbG9yX3RvdGFsX2NhcmdhX2N0ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vVE9ETyBQZXNvIHRvdGFsDQogICAgICAgIGxldCBmaWx0cm9RdWFudGlkYWRlQ2FyZ2FWYWx1ZXMgPSBbXTsNCiAgICAgICAgZm9yIChsZXQgcyBpbiBDVEVzQWdydXBhZGFzKSB7DQogICAgICAgICAgICBmaWx0cm9RdWFudGlkYWRlQ2FyZ2FWYWx1ZXMucHVzaChDVEVzQWdydXBhZGFzW3NdLlVybEpzb25Db250ZXh0Lm9uZV9jb3BpZWRfZnJvbSk7DQogICAgICAgIH0NCiAgICAgICAgbGV0IGZpbHRyb1F1YW50aWRhZGVDYXJnYSA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZmlsdHJvUXVhbnRpZGFkZUNhcmdhVmFsdWVzKTsNCiAgICAgICAgbGV0IHF1YW50aWRhZGVDYXJnYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oVGVtcGxhdGVJZFF0ZGVDYXJnYSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1F1YW50aWRhZGVDYXJnYSk7DQogICAgICAgIGxldCBwZXNvVG90YWwgPSAwOw0KICAgICAgICBmb3IgKGxldCBzIGluIHF1YW50aWRhZGVDYXJnYSkgew0KICAgICAgICAgICAgaWYgKHF1YW50aWRhZGVDYXJnYVtzXS5VcmxKc29uQ29udGV4dC5UTUR0aXBvX2RlX21lZGlkYV9fdGlwb19tZWRpZGFfY3RlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigncGVzbycpID4gLTEpIHsNCiAgICAgICAgICAgICAgICBwZXNvVG90YWwgKz0gcXVhbnRpZGFkZUNhcmdhWzBdLlVybEpzb25Db250ZXh0LnF1YW50aWRhZGVfY2FyZ2FfY3RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy9UT0RPIE9iamV0byBwb3N0IE1ERkUuDQogICAgICAgIGxldCBvYmpQb3N0TURGRSA9IHsNCiAgICAgICAgICAgICJzdGF0dXNfbWRmZSI6ICJuYW9lbWl0aWRvIiwNCiAgICAgICAgICAgICJzdGF0dXNfbWRmZV9kZXNjIjogIk7Do28gRW1pdGlkbyIsDQogICAgICAgICAgICAiZW52aWFyX21kZmUiOiAibmFvIiwNCiAgICAgICAgICAgICJlbnZpYXJfbWRmZV9kZXNjIjogIk7Do28iLA0KICAgICAgICAgICAgIm1vZGFsaWRhZGVfZGVfdHJhbnNwb3J0ZV9tZGZlIjogInJvZG92aWFyaW8iLA0KICAgICAgICAgICAgIm1vZGFsaWRhZGVfZGVfdHJhbnNwb3J0ZV9tZGZlX2Rlc2MiOiAiUm9kb3Zpw6FyaW8iLA0KICAgICAgICAgICAgImJ1c2NhUm90YV9jYWNoZSI6IGAke0NURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5NTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2F9LyR7Q1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0Lk1MT0Nlc3RhZG9fdWZfX2Rlc3Rpbm9fZXN0YWRvX3VmfWAsDQogICAgICAgICAgICAiTEVTVEFTRnVuaWRhZGVfZGVfZW1pc3Nhb19tZGZlX2lkIjogdW5pZGFkZUVtaXNzYW9bMF0uSUQsDQogICAgICAgICAgICAiTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X191bmlkYWRlX2RlX2VtaXNzYW9fbWRmZSI6IHVuaWRhZGVFbWlzc2FvWzBdLlVybEpzb25Db250ZXh0Lm5vbWVfZXN0YWJlbGVjaW1lbm90LA0KICAgICAgICAgICAgInJudHJjX21kZmUiOiB1bmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5ybnRyYywNCiAgICAgICAgICAgICJyZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlIjogIkVtaXRlbnRlTURGZSIsDQogICAgICAgICAgICAicmVzcG9uc2F2ZWxfcGVsb19zZWd1cm9fbWRmZV9kZXNjIjogIjEgLSBFbWl0ZW50ZSBkbyBNREZlIiwNCiAgICAgICAgICAgICJudW1lcm9fZG9fY25wal9kb19yZXNwb25zYXZlbF9wZWxvX3NlZ3Vyb19tZGZlIjogdW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQuY25waiwNCg0KICAgICAgICAgICAgLy9DYXJyZWdhbWVudG8NCiAgICAgICAgICAgICJNTE9DcGFpc19ub21lX19ub3ZvX3BhaXNfZGVfY2FycmVnYW1lbnRvIjogQ1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0Lk1MT0NwYWlzX25vbWVfX29yaWdlbV9wYWlzX25vbWUsDQogICAgICAgICAgICAiTUxPQ25vdm9fcGFpc19kZV9jYXJyZWdhbWVudG9faWQiOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ3BhaXNfb3JpZ2VtX2NhcmdhX2lkLA0KICAgICAgICAgICAgIk1MT0Nlc3RhZG9fdWZfX25vdm9fdWZfZGVfY2FycmVnYW1lbnRvIjogQ1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0Lk1MT0Nlc3RhZG9fdWZfX3VmX29yaWdlbV9kYV9jYXJnYSwNCiAgICAgICAgICAgICJNTE9Dbm92b191Zl9kZV9jYXJyZWdhbWVudG9faWQiOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ3VmX29yaWdlbV9kYV9jYXJnYV9pZCwNCiAgICAgICAgICAgICJNTE9DbXVuaWNpcGlvX25vbWVfX25vdm9fbXVuaWNpcGlvX2RlX2NhcnJlZ2FtZW50byI6IENURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5NTE9DbXVuaWNpcGlvX25vbWVfX211bmljaXBpb19vcmlnZW1fZGFfY2FyZ2EsDQogICAgICAgICAgICAiTUxPQ25vdm9fbXVuaWNpcGlvX2RlX2NhcnJlZ2FtZW50b19pZCI6IENURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5NTE9DbXVuaWNpcGlvX29yaWdlbV9kYV9jYXJnYV9pZCwNCiAgICAgICAgICAgICJNTE9DbXVuaWNpcGlvX2liZ2VfX25vdm9fbXVuaWNpcGlvX2liZ2VfY2FycmVnYW1lbnRvIjogQ1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0Lk1MT0NtdW5pY2lwaW9faWJnZV9fb3JpZ2VtX211bmljaXBpb19pYmdlLA0KDQogICAgICAgICAgICAvL0Rlc2NhcnJlZ2FtZW50bw0KICAgICAgICAgICAgIk1MT0NwYWlzX25vbWVfX25vdm9fcGFpc19kZV9kZXNjYXJyZWdhbWVudG8iOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ3BhaXNfbm9tZV9fZGVzdGlub19wYWlzX25vbWUsDQogICAgICAgICAgICAiTUxPQ25vdm9fcGFpc19kZV9kZXNjYXJyZWdhbWVudG9faWQiOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ3BhaXNfZGVzdGlub19kYV9jYXJnYV9pZCwNCiAgICAgICAgICAgICJNTE9DZXN0YWRvX3VmX19ub3ZvX3VmX2RlX2Rlc2NhcnJlZ2FtZW50byI6IENURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5NTE9DZXN0YWRvX3VmX19kZXN0aW5vX2VzdGFkb191ZiwNCiAgICAgICAgICAgICJNTE9Dbm92b191Zl9kZV9kZXNjYXJyZWdhbWVudG9faWQiOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ3VmX2Rlc3Rpbm9fZGFfY2FyZ2FfaWQsDQogICAgICAgICAgICAiTUxPQ211bmljaXBpb19ub21lX19ub3ZvX211bmljaXBpb19kZV9kZXNjYXJyZWdhbWVudG8iOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ211bmljaXBpb19ub21lX19kZXN0aW5vX211bmljaXBpb19ub21lLA0KICAgICAgICAgICAgIk1MT0Nub3ZvX211bmljaXBpb19kZV9kZXNjYXJyZWdhbWVudG9faWQiOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ211bmljaXBpb19kZXN0aW5vX2RhX2NhcmdhX2lkLA0KICAgICAgICAgICAgIk1MT0NtdW5pY2lwaW9faWJnZV9fbm92b19tdW5pY2lwaW9faWJnZV9kZXNjYXJyZWdhbWVudG8iOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuTUxPQ211bmljaXBpb19pYmdlX19kZXN0aW5vX211bmljaXBpb19pYmdlLA0KDQogICAgICAgICAgICAiZGF0YWhvcmFfcHJldmlzdG9zX2RlX2luaWNpb19kYV92aWFnZW1fbWRmZURhdGUiOiB1dGlscy5HZXRVc2VyRHROb3coImRkL01NL3l5eXkgSEg6bW06c3MiKSwNCiAgICAgICAgICAgICJkYXRhaG9yYV9wcmV2aXN0b3NfZGVfaW5pY2lvX2RhX3ZpYWdlbV9tZGZlIjogdXRpbHMuR2V0VXNlckR0Tm93KCJkZC9NTS95eXl5IEhIOm1tOnNzIiksDQoNCiAgICAgICAgICAgICJFTVBjbnBqX2VtcHJlc2FfX251bWVyb19kb19jbnBqX2RhX3NlZ3VyYWRvcmFfbWRmZSI6IENURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX2NucGpfc2VndXJhZG9yYV9jdGUsDQogICAgICAgICAgICAiRU1QbnVtZXJvX2RvX2NucGpfZGFfc2VndXJhZG9yYV9tZGZlX2lkIjogQ1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0LkVNUGNucGpfc2VndXJhZG9yYV9jdGVfaWQsDQogICAgICAgICAgICAiRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3JhemFvX3NvY2lhbF9lbXByZXNhX21kZmUiOiBDVEVNYWlvckRpc3RhbmNpYS5DVEUuVXJsSnNvbkNvbnRleHQuRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX25vbWVfc2VndXJhZG9yYV9jdGUsDQogICAgICAgICAgICAibnVtZXJvX2RhX2Fwb2xpY2VfbWRmZSI6IENURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5udW1lcm9fYXBvbGljZV9jdGUsDQogICAgICAgICAgICAibnVtZXJvX2RhX2F2ZXJiYWNhb19tZGZlIjogQ1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0Lm51bWVyb19hdmVyYmFjYW9fY3RlLA0KDQogICAgICAgICAgICAicXVhbnRpZGFkZV90b3RhbF9kZV9jdGVfcmVsYWNpb25hZG9zX25vX21hbmlmZXN0b19tZGZlIjogQ1RFc0FncnVwYWRhcy5sZW5ndGgsDQogICAgICAgICAgICAicXVhbnRpZGFkZV90b3RhbF9kZV9uZmVfcmVsYWNpb25hZGFzX25vX21hbmlmZXN0b19tZGZlIjogMCwNCiAgICAgICAgICAgICJ2YWxvcl90b3RhbF9kYV9jYXJnYV9fbWVyY2Fkb3JpYXNfdHJhbnNwb3J0YWRhc19tZGZlIjogdmFsb3JUb3RhbCwNCiAgICAgICAgICAgICJwZXNvX2JydXRvX3RvdGFsX2RhX2NhcmdhX19tZXJjYWRvcmlhc190cmFuc3BvcnRhZGFzX21kZmUiOiBwZXNvVG90YWwsDQogICAgICAgICAgICAiY29kaWdvX2RhX3VuaWRhZGVfZGVfbWVkaWRhX2RvX3Blc29fYnJ1dG9fZGFfY2FyZ2FfX21lcmNhZG9yaWFzX3RyYW5zcG9ydGFkYXNfbWRmZSI6ICJrZyIsDQogICAgICAgICAgICAiY29kaWdvX2RhX3VuaWRhZGVfZGVfbWVkaWRhX2RvX3Blc29fYnJ1dG9fZGFfY2FyZ2FfX21lcmNhZG9yaWFzX3RyYW5zcG9ydGFkYXNfbWRmZV9kZXNjIjogIjAxIC0gS0ciLA0KDQogICAgICAgICAgICAiQ0NHY2FyYWN0ZXJpc3RpY2FfZGFfY2FyZ2FfX3RpcG9fZGVfY2FyZ2FfbWRmZSI6IG1haW9yVmFsb3JGcmV0ZS5VcmxKc29uQ29udGV4dC5DQ0djYXJhY3RlcmlzdGljYV9kYV9jYXJnYV9fb3V0cmFzX2NhcmFjdGVyaXN0Y2FzX2NhcmdhX2N0ZSwNCiAgICAgICAgICAgICJDQ0d0aXBvX2RlX2NhcmdhX21kZmVfaWQiOiBtYWlvclZhbG9yRnJldGUuVXJsSnNvbkNvbnRleHQuQ0NHb3V0cmFzX2NhcmFjdGVyaXN0Y2FzX2NhcmdhX2N0ZV9pZCwNCg0KICAgICAgICAgICAgIlBQVGRlc2NyaWNhb19kb19wcm9kdXRvX19ub21lX2RvX3Byb2R1dG9fbWRmZSI6IHNlYXJjaFByb2R1Y3RbMF0uVXJsSnNvbkNvbnRleHQuZGVzY3JpY2FvX2RvX3Byb2R1dG8sDQogICAgICAgICAgICAiUFBUbm9tZV9kb19wcm9kdXRvX21kZmVfaWQiOiBzZWFyY2hQcm9kdWN0WzBdLklELA0KICAgICAgICAgICAgIlBQVGNvZGlnb19uY21fZG9fcHJvZHV0b19fY29kaWdvX25jbV9kb19wcm9kdXRvX21kZmUiOiBuY21Qcm9kdXRvLA0KICAgICAgICB9Ow0KICAgICAgICBsZXQgSWRNREZlU2Fsdm8gPSBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KFRlbXBsYXRlSWRNREZlTmFvRW1pdGlkbywgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIG9ialBvc3RNREZFKTsNCiAgICAgICAgSWRNREZlU2Fsdm8gPSBKU09OLnBhcnNlKElkTURGZVNhbHZvKTsNCg0KICAgICAgICAvL1RPRE8gY29udHJhdGFudGUgZG8gU2Vydmljbw0KICAgICAgICAvLyBsZXQgY25wakluY2x1aWRvID0gW107DQogICAgICAgIC8vIGZvciAobGV0IHMgaW4gQ1RFc0FncnVwYWRhcykgew0KICAgICAgICAvLyAgICAgaWYgKCFjbnBqSW5jbHVpZG8uaW5jbHVkZXMoQ1RFc0FncnVwYWRhc1tzXS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUpKSB7DQogICAgICAgIC8vICAgICAgICAgY25wakluY2x1aWRvLnB1c2goQ1RFc0FncnVwYWRhc1tzXS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUpOw0KICAgICAgICAvLyAgICAgICAgIGxldCBvYmpQb3N0Q29udHJhdGFudGUgPSB7DQogICAgICAgIC8vICAgICAgICAgICAgICJyYXphb19zb2NpYWxfZG9fY29udHJhdGFudGVfZG9fc2VydmljbyI6IENURXNBZ3J1cGFkYXNbc10uVXJsSnNvbkNvbnRleHQuRU1QcmF6YW9fc29jaWFsX2VtcHJlc2FfX3RvbWFkb3JfcmF6YW9fc29jaWFsX25vbWVfY3RlLA0KICAgICAgICAvLyAgICAgICAgICAgICAibnVtZXJvX2RvX2NucGpfZG9fY29udHJhdGFudGVfZG9fc2Vydmljb19tZGZlIjogQ1RFc0FncnVwYWRhc1tzXS5VcmxKc29uQ29udGV4dC5FTVBjbnBqX2VtcHJlc2FfX3RvbWFkb3JfY25wal9jdGUsDQogICAgICAgIC8vICAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSWRNREZlU2Fsdm8NCiAgICAgICAgLy8gICAgICAgICB9Ow0KICAgICAgICAvLyAgICAgICAgIGF3YWl0IHNlbmRJdGVtVG9PbmVyZ3koY29udHJhdGFudGVTZXJ2aWNvSUQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBvYmpQb3N0Q29udHJhdGFudGUpOw0KICAgICAgICAvLyAgICAgfQ0KICAgICAgICAvLyB9DQogICAgICAgIGxldCBvYmpQb3N0Q29udHJhdGFudGUgPSB7DQogICAgICAgICAgICAicmF6YW9fc29jaWFsX2RvX2NvbnRyYXRhbnRlX2RvX3NlcnZpY28iOiB1bmlkYWRlRW1pc3Nhb1swXS5VcmxKc29uQ29udGV4dC5yYXphb19zb2NpYWwsDQogICAgICAgICAgICAibnVtZXJvX2RvX2NucGpfZG9fY29udHJhdGFudGVfZG9fc2Vydmljb19tZGZlIjogdW5pZGFkZUVtaXNzYW9bMF0uVXJsSnNvbkNvbnRleHQuY25waiwNCiAgICAgICAgICAgICJJRF9PTkVfUkVGIjogSWRNREZlU2Fsdm8NCiAgICAgICAgfTsNCiAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShjb250cmF0YW50ZVNlcnZpY29JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIG9ialBvc3RDb250cmF0YW50ZSk7DQoNCg0KICAgICAgICAvL1RPRE8gQ1RFcyB2aW5jdWxhZGFzDQogICAgICAgIGZvciAobGV0IHMgaW4gQ1RFc0FncnVwYWRhcykgew0KICAgICAgICAgICAgbGV0IG9ialBvc3RDVEVzVmluY3VsYWRhcyA9IHsNCiAgICAgICAgICAgICAgICAiQ1RFbnVtZXJvX2N0ZV9jdGVfX251bWVyb19jdGVfbWRmZSI6IENURXNBZ3J1cGFkYXNbc10uVXJsSnNvbkNvbnRleHQubnVtZXJvX2N0ZV9jdGUsDQogICAgICAgICAgICAgICAgIkNURW51bWVyb19jdGVfbWRmZV9pZCI6IENURXNBZ3J1cGFkYXNbc10uSUQsDQogICAgICAgICAgICAgICAgIkNURWNoYXZlX2N0ZV9jdGVfX2NvbmhlY2ltZW50b19lbGV0cm9uaWNvX19jaGF2ZV9kZV9hY2Vzc29fY3RlX21kZmUiOiBDVEVzQWdydXBhZGFzW3NdLlVybEpzb25Db250ZXh0LmNoYXZlX2N0ZV9jdGUsDQogICAgICAgICAgICAgICAgIklEX09ORV9SRUYiOiBJZE1ERmVTYWx2bywNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KFRlbXBsYXRlSWRDVGVWaW5jdWxhZG8sIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBvYmpQb3N0Q1RFc1ZpbmN1bGFkYXMpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy9UT0RPIEJ1c2NhIGRlIHJvdGFzLg0KICAgICAgICBsZXQgZmlsdHJvUm90YSA9IEpTT04uc3RyaW5naWZ5KFsNCiAgICAgICAgICAgIHsgRmllbE5hbWU6ICJNTE9DZXN0YWRvX3VmX191Zm9yaWdlbSIsIFR5cGU6ICJzdHJpbmciLCBGaXhlZFR5cGU6ICJzdHJpbmciLCBWYWx1ZTE6IENURU1haW9yRGlzdGFuY2lhLkNURS5VcmxKc29uQ29udGV4dC5NTE9DZXN0YWRvX3VmX191Zl9vcmlnZW1fZGFfY2FyZ2EgfSwNCiAgICAgICAgICAgIHsgRmllbE5hbWU6ICJNTE9DZXN0YWRvX3VmIiwgVHlwZTogInN0cmluZyIsIEZpeGVkVHlwZTogInN0cmluZyIsIFZhbHVlMTogQ1RFTWFpb3JEaXN0YW5jaWEuQ1RFLlVybEpzb25Db250ZXh0Lk1MT0Nlc3RhZG9fdWZfX2Rlc3Rpbm9fZXN0YWRvX3VmIH0NCiAgICAgICAgXSk7DQogICAgICAgIGxldCByb3RhID0gYXdhaXQgZ2V0T25lcmd5SXRlbShyb3Rhc0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvUm90YSk7DQogICAgICAgIGlmIChyb3RhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGxldCBmaWx0cm9VRnNSb3RhID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCByb3RhWzBdLklEKTsNCiAgICAgICAgICAgIGxldCBVRnNSb3RhID0gYXdhaXQgZ2V0T25lcmd5SXRlbShVRnNSb3RhSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9VRnNSb3RhKTsNCiAgICAgICAgICAgIGZvciAobGV0IHMgaW4gVUZzUm90YSkgew0KICAgICAgICAgICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICAgICAgICAgIklEX09ORV9SRUYiOiBJZE1ERmVTYWx2bywNCiAgICAgICAgICAgICAgICAgICAgIk1MT0Nac2lnbGFfZGFzX3VuaWRhZGVzX2RhX2ZlZGVyYWNhb19kb19wZXJjdXJzb19kb192ZWljdWxvX21kZmVfaWQiOiAiMGUzYzM5ZDgtNWRjNy00M2Y0LTkzOTUtMGE3OWQ3NzgxMTU2IiwNCiAgICAgICAgICAgICAgICAgICAgIk1MT0NacGFpc19ub21lX19wYWlzX2RhX3NpZ2xhX2Rhc191bmlkYWRlc19kYV9mZWRlcmFjYW9fZG9fcGVyY3Vyc29fZG9fdmVpY3VsbyI6ICJCUkFTSUwiLA0KICAgICAgICAgICAgICAgICAgICAiTUxPQ1plc3RhZG9fdWZfX3NpZ2xhX2Rhc191bmlkYWRlc19kYV9mZWRlcmFjYW9fZG9fcGVyY3Vyc29fZG9fdmVpY3Vsb19tZGZlIjogVUZzUm90YVtzXS5VcmxKc29uQ29udGV4dC5NTE9DZXN0YWRvX3VmX19tdW5pY2lwaW8sDQogICAgICAgICAgICAgICAgICAgICJNTE9DWnBhaXNfZGFfc2lnbGFfZGFzX3VuaWRhZGVzX2RhX2ZlZGVyYWNhb19kb19wZXJjdXJzb19kb192ZWljdWxvX2lkIjogVUZzUm90YVtzXS5VcmxKc29uQ29udGV4dC5NTE9DbXVuaWNpcGlvX2lkLA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgYXdhaXQgc2VuZEl0ZW1Ub09uZXJneShwZXJjdXJzb0lELCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgcG9zdEluZm8pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBPY3V0YXJDVEVzU2VsZWNpb25hZGFzKGRhdGEpIHsNCiAgICBsZXQgQ1RFc1NlbGVjaW9uYWRvc1RlbXBsYXRlSUQgPSAiNDRjMjg2NmEtMmI4OC00OTE3LTg5MzAtNTZlODQyMzlmNmQzIjsNCiAgICBsZXQgQ1RFc05FbWl0aWRvc1RlbXBsYXRlSUQgPSAiYmUzMDIxMjgtNDRkZS00MmU3LTg3NGQtNzdiMDg2N2ZiNTU3IjsNCg0KICAgIGxldCBmaWx0cm9DVEVzU2VsZWNpb25hZGFzID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQpOw0KICAgIGxldCBDVEVzU2VsZWNpb25hZGFzID0gYXdhaXQgZ2V0T25lcmd5SXRlbShDVEVzU2VsZWNpb25hZG9zVGVtcGxhdGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0NURXNTZWxlY2lvbmFkYXMpOw0KDQogICAgbGV0IGZpbHRyb1ZhbHVlcyA9IFtdOw0KICAgIGZvciAobGV0IHMgaW4gQ1RFc1NlbGVjaW9uYWRhcykgew0KICAgICAgICBmaWx0cm9WYWx1ZXMucHVzaChDVEVzU2VsZWNpb25hZGFzW3NdLlVybEpzb25Db250ZXh0Lm9uZV9jb3BpZWRfZnJvbSk7DQogICAgfQ0KICAgIGlmIChmaWx0cm9WYWx1ZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgICAgICBmZHRpZDogQ1RFc05FbWl0aWRvc1RlbXBsYXRlSUQsDQogICAgICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgICAgICJDVEVHZXJhZGFQYXJhTURGRSI6ICJzaW0iDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBmaWx0ZXI6IGdlcmFyRmlsdHJvKCJfaWQiLCBmaWx0cm9WYWx1ZXMpLA0KICAgICAgICAgICAgaXNNdWx0aVVwZGF0ZTogdHJ1ZQ0KICAgICAgICB9KTsNCiAgICB9DQp9DQoNCg0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQovL1RPRE8gREFUQQ0KdmFyIGpzb25JbnB1dCA9IHsNCiAgICAiY3Rlc19lbWl0aWRvcyI6ICIgIiwNCiAgICAiY3Rlc19zZWxlY2lvbmFkb3MiOiAiIiwNCiAgICAiZGF0YV9kYV9nZXJhY2FvX21kZmVEYXRlIjogIjIwMjItMDYtMTQgMDM6MDA6MDAiLA0KICAgICJkYXRhX2RhX2dlcmFjYW9fbWRmZSI6ICIyMDIyLTA2LTE0IDAwOjAwOjAwIiwNCiAgICAiY29kX21kZmVfZ2VyYWRvIjogIk1ERmUyMDIyMDYwMDUxNSIsDQogICAgIm9uZVRlbXBsYXRlVGl0bGUiOiAiIiwNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgImZkdGlkIjogIjk2OTkxZDVjLTVmN2QtNDljYy05MGI1LWNkODk2ZGQxMTU3YyIsDQogICAgImZlZGlkIjogIjJiNzZhYzk0LTgyZDAtOGIwMi1mMTJkLWYyMzhmMDZlZTU4ZSIsDQogICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyINCn0NCg0KDQpqc29uSW5wdXQub25lcmd5X2pzX2N0eCA9IHsNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgImZkdGlkIjogIjgzNmViNjZiLTgzZjItNDY4OC05NGNmLTI1NjU0MTVjYmE2YyIsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgImZlZGlkIjogIjA5MjRmNjBmLWI1YmEtYTBlNS1mNmI2LTQ0ZDdlMzlmYWFlNyIsDQp9DQoNCmluaXQoSlNPTi5zdHJpbmdpZnkoanNvbklucHV0KSk7" }, { "name": "(MDFE) - Incluir Condutor.js", "isDirectory": false, "__KEY__": "7bb97b06-9617-4984-2d09-80bdbb351a5b", "size": 16714, "dateModified": "2022-06-21T19:38:17.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQoNCmNsYXNzIFV0aWxzIHsNCiAgICBHZXRVc2VyRHROb3coZm9ybWF0KSB7DQogICAgICAgIGxldCBkYXRhQXR1YWwgPSBuZXcgRGF0ZSgpOw0KICAgICAgICBsZXQgYW5vID0gZGF0YUF0dWFsLmdldEZ1bGxZZWFyKCk7DQogICAgICAgIGxldCBtZXMgPSAoKGRhdGFBdHVhbC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgICAgIGxldCBkaWEgPSAoZGF0YUF0dWFsLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICAgICAgcmV0dXJuIGAke2Fub30tJHttZXN9LSR7ZGlhfSAwMDowMDowMGANCiAgICB9DQp9DQpsZXQgdXRpbHMgPSBuZXcgVXRpbHMoKTsNCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgU0NSSVBUICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQoqLw0KdmFyIFRlbXBsYXRlSWRNREZlID0gIjEwNzExMTg4LTFlMDItNDE1Yy05MjdmLTRhZGQ3YTFjZDllMCI7DQp2YXIgdGVtcGxhdGVMaXN0YUVzdGFiZWxlY2ltZW50b3MgPSAnMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmJzsNCmxldCB0ZW1wbGF0ZUVuZGVyZWNvRW1pdGVudGUgPSAnOGRlODg2OTItMDgwZi00NGZlLTlmMGMtMjljOGVhNTM3ZjRmJzsNCnZhciBNREZFTmFvRW1pdGlkb0lEID0gIjgzNmViNjZiLTgzZjItNDY4OC05NGNmLTI1NjU0MTVjYmE2YyINCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KDQogICAgbGV0IGZpbHRyb01ERkUgPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5JRF9PTkVfUkVGKTsNCiAgICBsZXQgb2JqbWRmZSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oVGVtcGxhdGVJZE1ERmUsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9NREZFKTsNCiAgICBpZiAob2JqbWRmZS5sZW5ndGggPT0gMCkgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6ICJOw6NvIGZvaSBwb3Nzw612ZWwgaW5jbHVpciBjb25kdXRvci4gTURGRSBzZWxlY2lvbmFkYSBuw6NvIGZvaSBlbmNvbnRyYWRhLiINCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KICAgIHZhciByZWdpc3Ryb01ERmUgPSBvYmptZGZlWzBdLlVybEpzb25Db250ZXh0Ow0KICAgIGxldCBmdW5jdGlvblJlc3VsdCA9IGF3YWl0IENyaWFPYmpldG9JbmNsdXNhb0NvbmR1dG9yKGRhdGEsIHJlZ2lzdHJvTURGZSk7DQogICAgaWYgKGZ1bmN0aW9uUmVzdWx0LnN0YXR1cyA9PSAiTk9LIikgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGZ1bmN0aW9uUmVzdWx0Lm1zZw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICBhd2FpdCBTZXRSZXR1cm4oZGF0YSwgcmVzdWx0KTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICAgIE9iakluY2x1aXJDb25kdXRvciA9IGZ1bmN0aW9uUmVzdWx0Lm9iajsNCg0KICAgIGxldCB0b2tlbk9iaiA9IGF3YWl0IFBlZ2FUb2tlbihkYXRhKTsNCiAgICBpZiAoIXRva2VuT2JqKSB7DQogICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgImxvZ19tZGZlIjogIihJbmNsdXPDo28gZGUgQ29uZHV0b3IpIFRva2VuIEludsOhbGlkbyBvdSBFbXByZXNhIG7Do28gQXV0b3JpemFkYSAhIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICBhd2FpdCBTZXRSZXR1cm4oZGF0YSwgcmVzdWx0KTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgbGV0IHVybGVtaXNzYW8gPSAiaHR0cHM6Ly9hcGlrZWVwdHJ1ZWRmZS5henVyZXdlYnNpdGVzLm5ldC9hcGkvUHJvY01ERmUvSW5jbHVpckNvbmR1dG9yTURGZSI7DQogICAgbGV0IHJlc3Bvc3RhTWVuc2FnZXJpYSA9IGF3YWl0IEVmZXR1YU1lbnNhZ2VyaWEoZGF0YSwgT2JqSW5jbHVpckNvbmR1dG9yLCB0b2tlbk9iaiwgdXJsZW1pc3Nhbyk7DQoNCiAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLmhhc093blByb3BlcnR5KCJzdGF0dXMiKSAmJiByZXNwb3N0YU1lbnNhZ2VyaWEuc3RhdHVzID09IDQwMCkgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGBFcnJvIG5hIGV4ZWN1w6fDo286JHtKU09OLnN0cmluZ2lmeShyZXNwb3N0YU1lbnNhZ2VyaWEuZXJyb3JzKX1gDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBpZiAoIXJlc3Bvc3RhTWVuc2FnZXJpYSkgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGBTZW0gUmVzcG9zdGEgZGEgTWVuc2FnZXJpYS5gDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLmhhc093blByb3BlcnR5KCJleGNlcHRpb25zIikgJiYgcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnMgIT0gbnVsbCAmJiByZXNwb3N0YU1lbnNhZ2VyaWEuZXhjZXB0aW9ucy5sZW5ndGggPiAwKSB7DQogICAgICAgIHZhciBubG9nID0gIiI7DQogICAgICAgIGZvciAodmFyIGNhIGluIHJlc3Bvc3RhTWVuc2FnZXJpYS5leGNlcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgcmVzcGNhID0gcmVzcG9zdGFNZW5zYWdlcmlhLmV4Y2VwdGlvbnNbY2FdOw0KICAgICAgICAgICAgaWYgKG5sb2cgPT09ICIiKSB7DQogICAgICAgICAgICAgICAgbmxvZyA9IHJlc3BjYS5kZXNjcmljYW87DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG5sb2cgPSBubG9nICsgIiAvICIgKyByZXNwY2EuZGVzY3JpY2FvOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAgICAgImxvZ19tZGZlIjogYChJbmNsdXPDo28gZGUgbW90b3Jpc3RhKSAtICR7bmxvZ31gDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCg0KICAgIGlmIChyZXNwb3N0YU1lbnNhZ2VyaWEuaWQgPT0gIjEzNSIpIHsNCiAgICAgICAgYXdhaXQgR3JhdmFFdmVudG8ocmVnaXN0cm9NREZlLmZlZGlkLCAiSW5jbHVzw6NvIGRlIE1vdG9yaXN0YSIsIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnByb3RvY29sb0F1dG9yaXphY2FvLCAiIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQpOw0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGAoSW5jbHVzw6NvIGRlIG1vdG9yaXN0YSkgLSAke3Jlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnJldG9ybm9TRUZBWn1gDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBpZiAocmVzcG9zdGFNZW5zYWdlcmlhLmhhc093blByb3BlcnR5KCJvYmpzIikgJiYNCiAgICAgICAgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMgJiYNCiAgICAgICAgcmVzcG9zdGFNZW5zYWdlcmlhLm9ianMuaGFzT3duUHJvcGVydHkoInJldG9ybm9TRUZBWiIpICYmDQogICAgICAgIHJlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnJldG9ybm9TRUZBWikgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICJsb2dfbWRmZSI6IGAoSW5jbHVzw6NvIGRlIG1vdG9yaXN0YSkgLSAke3Jlc3Bvc3RhTWVuc2FnZXJpYS5vYmpzLnJldG9ybm9TRUZBWn1gDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGF3YWl0IFNldFJldHVybihkYXRhLCByZXN1bHQpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAiVXJsSnNvbkNvbnRleHQiOiB7DQogICAgICAgICAgICAibG9nX21kZmUiOiBgKEluY2x1c8OjbyBkZSBtb3RvcmlzdGEpIC0gTsOjbyBmb2kgcG9zc8OtdmVsIGFkaWNpb25hciBjb25kdXRvciBlIG7Do28gZm9pIGlkZW50aWZpY2FkbyBlcnJvLmANCiAgICAgICAgfQ0KICAgIH07DQogICAgYXdhaXQgU2V0UmV0dXJuKGRhdGEsIHJlc3VsdCk7DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIGluaXREZWxldGUoanNvbikgew0KICAgIC8vcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIHJldG9ybmFfc29tZW50ZW51bWVyb3Moc3RycmVjKSB7DQogICAgaWYgKHN0cnJlYykgew0KICAgICAgICBsZXQgc3RycmV0ID0gc3RycmVjLnJlcGxhY2UoL1teXGRdKy9nLCAnJywgJycpOw0KICAgICAgICByZXR1cm4gc3RycmV0Ow0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIENyaWFPYmpldG9JbmNsdXNhb0NvbmR1dG9yKGRhdGEsIE9iak1ERmUpIHsNCg0KICAgIGxldCBGaWx0cm9MaXN0YUVzdGFiZWxlY2ltZW50byA9IGdlcmFyRmlsdHJvKCJfaWQiLCBPYmpNREZlLkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9fbWRmZV9pZCk7DQogICAgbGV0IG9iakVtaXRlbnRlID0gYXdhaXQgZ2V0T25lcmd5SXRlbSh0ZW1wbGF0ZUxpc3RhRXN0YWJlbGVjaW1lbnRvcywgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb0xpc3RhRXN0YWJlbGVjaW1lbnRvKTsNCiAgICBpZiAob2JqRW1pdGVudGUubGVuZ3RoID09IDApIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiAiTsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhciB1bmlkYWRlIGRlIGVtaXNzw6NvLiIsDQogICAgICAgICAgICAib2JqIjogbnVsbA0KICAgICAgICB9DQogICAgfQ0KICAgIGxldCBjdHhFbWl0ZW50ZSA9IG9iakVtaXRlbnRlWzBdLlVybEpzb25Db250ZXh0Ow0KDQoNCiAgICAvLyBFbmRlcmXDp28gZG8gRW1pdGVudGUNCg0KICAgIGxldCBGaWx0cm9FbmRlcmVjb0VtaXRlbnRlID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBvYmpFbWl0ZW50ZVswXS5JRCk7DQogICAgbGV0IG9iakVuZGVyZWNvRW1pdGVudGUgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRlbXBsYXRlRW5kZXJlY29FbWl0ZW50ZSwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIEZpbHRyb0VuZGVyZWNvRW1pdGVudGUpOw0KICAgIGlmIChvYmpFbmRlcmVjb0VtaXRlbnRlLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk5PSyIsDQogICAgICAgICAgICAibXNnIjogIk7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgZW5kZXJlw6dvIGRhIHVuaWRhZGUgZGUgZW1pc3PDo28iLA0KICAgICAgICAgICAgIm9iaiI6IG51bGwNCiAgICAgICAgfQ0KICAgIH0NCiAgICBsZXQgY3R4RW5kZXJlY29FbWl0ZW50ZSA9IG9iakVuZGVyZWNvRW1pdGVudGVbMF0uVXJsSnNvbkNvbnRleHQ7DQoNCiAgICBsZXQgT2JqSW5jQ29uZHV0b3IgPSB7DQogICAgICAgICJsaW5rQ2VydGlmaWNhZG8iOiBjdHhFbWl0ZW50ZS5jZXJ0aWZpY2Fkb1swXS5VcmwsDQogICAgICAgICJzZW5oYUNlcnQiOiBjdHhFbWl0ZW50ZS5zZW5oYV9jZXJ0aWZpY2FkbywNCiAgICAgICAgInRpcG9BbWJpZW50ZSI6IHJldGlyYV9hY2VudG9zKGN0eEVtaXRlbnRlLmFtYmllbnRlX2Rlc2MpLA0KICAgICAgICAidWZFbWl0ZW50ZUNUZSI6IGN0eEVuZGVyZWNvRW1pdGVudGUuTUxPQ1plc3RhZG9fdWZfX3VmX2VtcHJlc2EsDQogICAgICAgICJjbnBqRW1pdGVudGVDVGUiOiBjdHhFbWl0ZW50ZS5jbnBqLA0KICAgICAgICAiY29kTXVuaWNpcGlvRW1pdGVudGVDVGUiOiBjdHhFbmRlcmVjb0VtaXRlbnRlLk1MT0NabXVuaWNpcGlvX2liZ2UsDQogICAgICAgICJjaGF2ZU1ERmUiOiBPYmpNREZlLmNoYXZlX21kZmUuc3Vic3RyaW5nKDQsIDQ4KSwNCiAgICAgICAgIm51bWVyb1Byb3RvY29sbyI6IE9iak1ERmUubnVtZXJvX3Byb3RvY29sb19tZGZlLA0KICAgICAgICAianVzdGlmaWNhdGl2YSI6IGRhdGEubW90aXZvX2RhX2luY2x1c2FvX2RvX2NvbmR1dG9yX21kZmUsDQogICAgICAgIC8vInByb3RvY29sb0F1dG9yaXphY2FvIjogInN0cmluZyIsDQogICAgICAgICJkdG9Db25kdXRvcmVzVmVpY3Vsb3MiOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIm5vbWVDb25kdXRvciI6IGRhdGEuUEVTbm9tZV9wZXNzb2FfX25vbWVfZG9fY29uZHV0b3JfbWRmZSwNCiAgICAgICAgICAgICAgICAiY3BmQ29uZHV0b3IiOiByZXRvcm5hX3NvbWVudGVudW1lcm9zKGRhdGEuUEVTY3BmX3Blc3NvYV9fY3BmX21vdG9yaXN0YSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgIH07DQoNCiAgICByZXR1cm4gew0KICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgIm1zZyI6ICIiLA0KICAgICAgICAib2JqIjogT2JqSW5jQ29uZHV0b3INCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIFBlZ2FUb2tlbihvYmopIHsNCg0KICAgIGxldCB1c3JMb2dpbiA9ICJwcjNzdDN4IjsNCiAgICBsZXQgcHdkID0gInByM3N0M3hjdDMyMDIxIjsNCiAgICBsZXQgc3RyUmVzcFRva2VuID0gIiI7DQogICAgYXdhaXQgYXhpb3Moew0KICAgICAgICB1cmw6ICJodHRwczovL2FwaWtlZXB0cnVlZGZlLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Mb2dpbj9wVXNlck5hbWU9IiArIHVzckxvZ2luICsgIiZwUGFzcz0iICsgcHdkLA0KICAgICAgICAvL3VybDogImh0dHBzOi8vbG9jYWxob3N0OjQ0MzUyL2FwaS9Mb2dpbj9wVXNlck5hbWU9cHIzc3QzeCZwUGFzcz1wcjNzdDN4Y3QzMjAyMSIsDQogICAgICAgIG1ldGhvZDogJ0dFVCcsDQogICAgICAgIGRhdGE6ICIiLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHN0clJlc3BUb2tlbiA9IHJlc3BvbnNlLmRhdGE7DQogICAgfSwgKGVycm9yKSA9PiB7DQogICAgICAgIHN0clJlc3BUb2tlbiA9ICcnDQogICAgfSk7DQogICAgcmV0dXJuIHN0clJlc3BUb2tlbjsNCg0KICAgIC8qDQogICAgICAgIGxldCB1c3JMb2dpbiA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVzdWFyaW9fZGZlIik7DQogICAgICAgIGxldCBwd2QgPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJzZW5oYV9kZmUiKTsNCiAgICAgICAgbGV0IHN0clJlc3BUb2tlbiA9ICIiOw0KICAgICAgICBBamF4KHsNCiAgICAgICAgICAgIHVybDogImh0dHBzOi8vYXBpa2VlcHRydWVkZmUuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL0xvZ2luP3BVc2VyTmFtZT0iICsgdXNyTG9naW4gKyAiJnBQYXNzPSIgKyBwd2QsDQogICAgICAgICAgICBhc3NpZDogb2JqLmFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IG9iai51c3JpZCwNCiAgICAgICAgICAgIGZlZGlkOiBvYmouZmVkaWQsDQogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICAgICAgZGF0YTogIiIsDQogICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBkYXRhOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICAgICAgc3RyUmVzcFRva2VuID0gZXhjZXB0aW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcFRva2VuKTsNCiAgICAqLw0KfQ0KDQpmdW5jdGlvbiByZXRpcmFfYWNlbnRvcyhzdHIpIHsNCiAgICBsZXQgY29tX2FjZW50byA9ICLDgMOBw4LDg8OEw4XDhsOHw4jDicOKw4vDjMONw47Dj8OQw5HDksOTw5TDlcOWw5jDmcOaw5vDnMOdxZTDnsOfw6DDocOiw6PDpMOlw6bDp8Oow6nDqsOrw6zDrcOuw6/DsMOxw7LDs8O0w7XDtsO4w7nDusO7w7zDvcO+w7/FlSI7DQogICAgbGV0IHNlbV9hY2VudG8gPSAiQUFBQUFBQUNFRUVFSUlJSUROT09PT09PVVVVVVlSc0JhYWFhYWFhY2VlZWVpaWlpb25vb29vb291dXV1eWJ5ciI7DQogICAgbGV0IG5vdmFzdHIgPSAiIjsNCiAgICBpZiAoc3RyKSB7DQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHRyb2NhID0gZmFsc2U7DQogICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgY29tX2FjZW50by5sZW5ndGg7IGErKykgew0KICAgICAgICAgICAgICAgIGlmIChzdHIuc3Vic3RyKGksIDEpID09IGNvbV9hY2VudG8uc3Vic3RyKGEsIDEpKSB7DQogICAgICAgICAgICAgICAgICAgIG5vdmFzdHIgKz0gc2VtX2FjZW50by5zdWJzdHIoYSwgMSk7DQogICAgICAgICAgICAgICAgICAgIHRyb2NhID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHRyb2NhID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgIG5vdmFzdHIgKz0gc3RyLnN1YnN0cihpLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbm92YXN0cjsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gRWZldHVhTWVuc2FnZXJpYShvYmosIG9iamVudmlvLCB0b2tlbk9iaiwgZ251cmwpIHsNCg0KICAgIGxldCByZXRvcm5vOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiBnbnVybCwNCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgdG9rZW5PYmoudG9rZW4NCiAgICAgICAgfSwNCiAgICAgICAgZGF0YTogb2JqZW52aW8sDQogICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgcmV0b3JubyA9IHJlc3BvbnNlLmRhdGE7DQogICAgfSwgKGVycm9yKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSBlcnJvci5yZXNwb25zZS5kYXRhDQogICAgfSk7DQogICAgcmV0dXJuIHJldG9ybm8NCg0KICAgIC8qDQogICAgICAgIGxldCBzdHJSZXNwQ1RlID0gIiI7DQogICAgICAgIGFqYXgoew0KICAgICAgICAgICAgdXJsOiBnbnVybCwNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwNCiAgICAgICAgICAgIGFzc2lkOiBvYmouYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogb2JqLnVzcmlkLA0KICAgICAgICAgICAgZmVkaWQ6IG9iai5mZWRpZCwNCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG9iamVudmlvKSwNCiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmVhcmVyIiwNCiAgICAgICAgICAgICAgICB2YWx1ZTogdG9rZW5PYmoudG9rZW4NCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwQ1RlID0gZGF0YTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BDVGUgPSBleGNlcHRpb247DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwQ1RlKTsNCiAgICAgICAgKi8NCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2V0T25lcmd5SXRlbShmZHRpZCwgYXNzaWQsIHVzcmlkLCBmaWx0cm8pIHsNCiAgICBsZXQgc3RyUmVzcCA9IGF3YWl0IG9uZXJneV9nZXQoew0KICAgICAgICBmZHRpZDogZmR0aWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBmaWx0ZXI6IGZpbHRybw0KICAgIH0pOw0KICAgIHJldHVybiBKU09OLnBhcnNlKHN0clJlc3ApOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBHcmF2YUV2ZW50byhwSURfT05FX1JFRiwgdGlwb2V2ZW50bywgcHByb3RvY29sbywgcGNoYXZlLCBwYXNzaWQsIHB1c3JpZCkgew0KICAgIGxldCBmZHRfZXZlbnRvID0gImYyNjI2YzI5LTM5MjMtNDZhNy04YzM5LThjYzQxMGNlYjI5NyI7DQogICAgbGV0IG9iamV2ZW50byA9IHsNCiAgICAgICAgSURfT05FX1JFRjogcElEX09ORV9SRUYsDQogICAgICAgIGRhdGFob3JhX2RvX2V2ZW50b0RhdGU6IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpLA0KICAgICAgICBkYXRhaG9yYV9kb19ldmVudG86IHV0aWxzLkdldFVzZXJEdE5vdygieXl5eS1NTS1kZCBISDptbTpzcyIpLA0KICAgICAgICB0aXBvX2RvX2V2ZW50b19tZGZlOiB0aXBvZXZlbnRvLA0KICAgICAgICBwcm90b2NvbG9fbWRmZTogcHByb3RvY29sbywNCiAgICAgICAgY2hhdmVfbWRmZTogcGNoYXZlDQogICAgfTsNCiAgICBhd2FpdCBzZW5kSXRlbVRvT25lcmd5KGZkdF9ldmVudG8sIHBhc3NpZCwgcHVzcmlkLCBvYmpldmVudG8pOw0KICAgIHJldHVybjsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZEl0ZW1Ub09uZXJneSh0ZW1wbGF0ZWlkLCBhc3NpZCwgdXNyaWQsIGRhdGEsIGZlZGlkLCB1a0ZpZWxkKSB7DQogICAgbGV0IG9uZXJneVNhdmVEYXRhID0gew0KICAgICAgICBmZHRpZDogdGVtcGxhdGVpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpDQogICAgfTsNCg0KICAgIGlmIChmZWRpZCAhPT0gdW5kZWZpbmVkICYmIGZlZGlkICE9PSAnJykgew0KICAgICAgICBvbmVyZ3lTYXZlRGF0YS5pZCA9IGZlZGlkOw0KICAgIH0NCiAgICBpZiAodWtGaWVsZCAhPT0gdW5kZWZpbmVkICYmIHVrRmllbGQgIT09ICcnKSB7DQogICAgICAgIG9uZXJneVNhdmVEYXRhLnVrRmllbGQgPSB1a0ZpZWxkOw0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICBXYWl0aW5nV2ViSG9vayA9IGZhbHNlOw0KDQogICAgdmFyIG9iaiA9IHsNCiAgICAgICAgJ2NvbmQnOiBjb25kLA0KICAgICAgICAnanNvbic6IEpTT04uc3RyaW5naWZ5KGpzb24pLA0KICAgICAgICAnV2FpdGluZ1dlYkhvb2snOiBXYWl0aW5nV2ViSG9vaywNCiAgICB9Ow0KICAgIHJldHVybiBvYmo7DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIFNldFJldHVybihkYXRhLCByZXN1bHQpIHsNCiAgICBhd2FpdCBvbmVyZ3lfdXBkYXRlbWFueSh7DQogICAgICAgIGZkdGlkOiBNREZFTmFvRW1pdGlkb0lELA0KICAgICAgICBhc3NpZDogZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLA0KICAgICAgICB1c3JpZDogZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyZXN1bHQpLA0KICAgICAgICBpZDogZGF0YS5JRF9PTkVfUkVGDQogICAgfSk7DQp9DQoNCg0KDQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8vVE9ETyBEQVRBDQp2YXIganNvbklucHV0ID0gew0KICAgICJQRVNub21lX3Blc3NvYV9fbm9tZV9kb19jb25kdXRvcl9tZGZlIjogIkJydW5vIENyZXBhbGRpIiwNCiAgICAiUEVTbm9tZV9kb19jb25kdXRvcl9tZGZlX2lkIjogImM2Yzc4Mjg0LWIyZjEtMTU3Ny02Mzc2LTkyNjM0MjNiYWIxMSIsDQogICAgIlBFU21vdG9yaXN0YV9jYWRhc3RyYWRvX2VmcmV0ZSI6ICJzaW0iLA0KICAgICJQRVNjcGZfcGVzc29hX19jcGZfbW90b3Jpc3RhIjogIjM1OS4xNTUuMzA4LTUwIiwNCiAgICAiUEVTY25oX3Blc3NvYV9fY25oX21vdG9yaXN0YSI6IDcwOTk2ODM0NzIwLA0KICAgICJQRVNjZWx1bGFyXzFfcGVzc29hX19jZWx1bGFyX21vdG9yaXN0YSI6ICIoMTEpIDk1ODg4LTg1NDkiLA0KICAgICJtb3Rpdm9fZGFfaW5jbHVzYW9fZG9fY29uZHV0b3JfbWRmZSI6ICJzYWRhc2RkIiwNCiAgICAiUEVTbW90b3Jpc3RhX2NhZGFzdHJhZG9fZWZyZXRlX2Rlc2MiOiAiU2ltIiwNCiAgICAiSURfT05FX1JFRiI6ICI4ZGE1NGMyYy0xZDM1LTQ3ZDUtODdjMy0xNTZjZTM5MWQzZmYiLA0KICAgICJvbmVUZW1wbGF0ZVRpdGxlIjogIiIsDQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJmZWRpZCI6ICI4Y2QzYTI5NS0yZjcyLWU0ODgtNDYxZC0wYmM5NzM0ZTFlZjkiLA0KICAgICJmZHRpZCI6ICJlZDNmN2Q3NS1jM2QwLTRmNTgtOTYwNC02MzlmZGZmMDFmOTUiLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJvbmVyZ3lfanNfY3R4Ijogew0KICAgICAgICAiYXNzaWQiOiAiMGFhYzAxNDgtMGU3ZC00YWJjLWEwNzctNmEzMGE5ZTBmM2U1IiwNCiAgICAgICAgImZlZGlkIjogIjhjZDNhMjk1LTJmNzItZTQ4OC00NjFkLTBiYzk3MzRlMWVmOSIsDQogICAgICAgICJmZHRpZCI6ICJlZDNmN2Q3NS1jM2QwLTRmNTgtOTYwNC02MzlmZGZmMDFmOTUiLA0KICAgICAgICAidXNyaWQiOiAiODczN2JlYmUtMDFhNC00NDkzLWE4ZGItNDMzNmViNTViNWIzIiwNCiAgICAgICAgImluc2VydER0IjogIjIwMjItMDYtMjFUMTg6NTU6MjkuMTIyWiIsDQogICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTA2LTIxVDE4OjU1OjI5LjEyMloiLA0KICAgICAgICAiY3VyX3VzZXJpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICAgICAiZW1haWwiOiAiZGVzZW52QHByZXN0ZXguY29tLmJyIiwNCiAgICAgICAgInVzZXJfbmFtZSI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAib25lcmd5X3JvbGlkIjogIiIsDQogICAgICAgICJwcmFpZCI6ICIwNTU4MTliMC01YmFkLTRjNDUtOTRjNS1hNzhjMTdhM2RiODIiLA0KICAgICAgICAicGN2aWQiOiAiMGIyMGIxYmMtYWJlMC00YTY5LWJiNjYtOWJlNjI1MDg2YmRjIiwNCiAgICAgICAgInByY2lkIjogImVhMjZlMmY4LWNhMGYtOTI2NS0xOWE0LTUzZGVmZjliYTJhZCIsDQogICAgICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgICAgICJ0aW1lem9uZV92YWx1ZSI6ICItMDM6MDAiLA0KICAgICAgICAicHViTnViSG9vayI6IG51bGwNCiAgICB9DQp9DQoNCg0KLy8ganNvbklucHV0Lm9uZXJneV9qc19jdHggPSB7DQovLyAgICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KLy8gICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KLy8gICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KLy8gICAgICJmZHRpZCI6ICI4MzZlYjY2Yi04M2YyLTQ2ODgtOTRjZi0yNTY1NDE1Y2JhNmMiLA0KLy8gICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KLy8gICAgICJmZWRpZCI6ICI1NjU3YmI1Yi01OTg4LTQ0ZGMtYmQyOS1jZmExZDM5ZDY4ZjciLA0KLy8gfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "(PESSOA) Integrao SF.js", "isDirectory": false, "__KEY__": "909d6fc9-94aa-3672-5a78-a6304cacc35e", "size": 17899, "dateModified": "2022-12-21T20:25:07.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQoNCmFzeW5jIGZ1bmN0aW9uIGluaXQoanNvbikgew0KICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShqc29uKTsNCiAgICBsZXQgcmVzdWx0ID0ge307DQoNCg0KDQogICAgLy9Tb2Z0RmluDQogICAgbGV0IHJldG9ybm9TRiA9IGF3YWl0IGNhZGFzdHJvQXR1YWxpemFjYW9Tb2Z0RmluKGRhdGEpOw0KICAgIGlmIChyZXRvcm5vU0Yuc3RhdHVzID09ICJPSyIpIHsNCiAgICAgICAgcmVzdWx0LmlkX3NvZnRmaW4gPSByZXRvcm5vU0YuSURfU29mdEZpbjsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXN1bHQubG9nX2ludGVncmFjYW8gPSByZXRvcm5vU0YubXNnOw0KICAgIH0NCg0KICAgIC8vRWZyZXRlDQogICAgaWYgKGRhdGEubW90b3Jpc3RhX3Blc3NvYSA9PSAnc2ltJykgew0KICAgICAgICBsZXQgUmV0b3Jub0VmcmV0ZSA9IGF3YWl0IGdyYXZhck1vdG9yaXN0YShkYXRhKTsNCiAgICAgICAgaWYgKFJldG9ybm9FZnJldGUuc3RhdHVzID09ICJPSyIpIHsNCiAgICAgICAgICAgIHJlc3VsdC5wcm90b2NvbG9fZWZyZXRlID0gUmV0b3Jub0VmcmV0ZS5wcm90b2NvbG87DQogICAgICAgICAgICByZXN1bHQubW90b3Jpc3RhX2NhZGFzdHJhZG9fZWZyZXRlID0gJ3NpbSc7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXN1bHQubG9nX2ludGVncmFjYW8gKz0gYFxuJHtSZXRvcm5vRWZyZXRlLm1zZ31gOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvL0F0dWFsaXphciBFbmRlcmVjb3MuDQogICAgYXR1YWxpemFyRW5kZXJlY29zKGRhdGEpOw0KDQogICAgcmV0dXJuIFNldE9iamVjdFJlc3BvbnNlKGZhbHNlLCByZXN1bHQsIGZhbHNlKTsNCn0NCg0KZnVuY3Rpb24gaW5pdEJlZm9yZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gaW5pdERlbGV0ZShqc29uKSB7DQogICAgLy9yZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0T2JqZWN0UmVzcG9uc2UoY29uZCwganNvbiwgV2FpdGluZ1dlYkhvb2spIHsNCiAgICBpZiAoV2FpdGluZ1dlYkhvb2sgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCg0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCiAgICBpZiAoanNvbikgew0KICAgICAgICBvYmouanNvbiA9IEpTT04uc3RyaW5naWZ5KGpzb24pOw0KICAgIH0NCiAgICByZXR1cm4gb2JqOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRPbmVyZ3lJdGVtKGZkdGlkLCBhc3NpZCwgdXNyaWQsIGZpbHRybykgew0KICAgIGxldCBzdHJSZXNwID0gYXdhaXQgb25lcmd5X2dldCh7DQogICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgYXNzaWQ6IGFzc2lkLA0KICAgICAgICB1c3JpZDogdXNyaWQsDQogICAgICAgIGZpbHRlcjogZmlsdHJvDQogICAgfSk7DQogICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcCk7DQp9DQoNCi8vVE9ETyBFZnJldGUuDQphc3luYyBmdW5jdGlvbiBncmF2YXJNb3RvcmlzdGEoZGF0YSkgew0KDQogICAgbGV0IHRlbXBsYXRlSWRFbmRlcmVjbyA9ICI3ODc1YzlmYi1lZTg3LTQ5NGUtYTYwNi05NDI2MzAzODQzNjYiOw0KDQogICAgLy9GaWx0cm8gcGFyYSBCdXNjYXIgbyBFbmRlcmXDp28NCiAgICBsZXQgZmlsdHJvRW5kZXJlY28gPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCk7DQoNCiAgICBsZXQgZW5kZXJlY29CdXNjYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0odGVtcGxhdGVJZEVuZGVyZWNvLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvRW5kZXJlY28pOw0KICAgIGxldCBlbmRlcmVjb0N0eCA9IGVuZGVyZWNvQnVzY2FbMF0uVXJsSnNvbkNvbnRleHQ7DQoNCiAgICBsZXQgZ3JhdmFyTW90b3Jpc3RhUG9zdCA9IHsNCiAgICAgICAgImF1dGgiOiB7DQogICAgICAgICAgICAia2V5IjogIjI4OTc3Y2Q5LTMyZWQtNGY5OC1iNWUzLWVkMDRlMjViYjQ3ZSIsDQogICAgICAgICAgICAidXNlciI6ICJ1c3VhcmlvQGtlZXB0cnVlIiwNCiAgICAgICAgICAgICJwYXNzd29yZCI6ICJ1c3VhcmlvI2tlZXB0cnVlIg0KICAgICAgICB9LA0KICAgICAgICAicmVxIjogew0KICAgICAgICAgICAgIkNQRiI6IHNvbWVudGVOdW1lcm8oZGF0YS5jcGZfcGVzc29hKSwNCiAgICAgICAgICAgICJOb21lIjogZGF0YS5ub21lX3Blc3NvYSwNCiAgICAgICAgICAgICJDTkgiOiBkYXRhLmNuaF9wZXNzb2EsDQogICAgICAgICAgICAiRGF0YU5hc2NpbWVudG8iOiBkYXRhLm5hc2NpbWVudG8sDQogICAgICAgICAgICAiTm9tZURlU29sdGVpcmFEYU1hZSI6ICIiLA0KICAgICAgICAgICAgIkVuZGVyZWNvIjogew0KICAgICAgICAgICAgICAgICJCYWlycm8iOiBlbmRlcmVjb0N0eC5iYWlycm9fcGVzc29hLA0KICAgICAgICAgICAgICAgICJSdWEiOiBlbmRlcmVjb0N0eC5sb2dyYWRvdXJvX3Blc3NvYSwNCiAgICAgICAgICAgICAgICAiTnVtZXJvIjogZW5kZXJlY29DdHgubnVtZXJvX3Blc3NvYSA/IGVuZGVyZWNvQ3R4Lm51bWVyb19wZXNzb2EgOiAiU04iLA0KICAgICAgICAgICAgICAgICJDb21wbGVtZW50byI6IGVuZGVyZWNvQ3R4LmNvbXBsZW1lbnRvX3Blc3NvYSwNCiAgICAgICAgICAgICAgICAiQ0VQIjogc29tZW50ZU51bWVybyhlbmRlcmVjb0N0eC5jZXBfcGVzc29hKSwNCiAgICAgICAgICAgICAgICAiQ29kaWdvTXVuaWNpcGlvIjogZW5kZXJlY29DdHguTUxPQ1ptdW5pY2lwaW9faWJnZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJUZWxlZm9uZXMiOiB7fSwNCiAgICAgICAgICAgICJWZXJzYW8iOiAyDQogICAgICAgIH0NCiAgICB9Ow0KICAgIGxldCB0ZWxlZm9uZUZpeG8gPSBkYXRhLmhhc093blByb3BlcnR5KCJ0ZWxlZm9uZV9maXhvIikgPyBzb21lbnRlTnVtZXJvKGRhdGEudGVsZWZvbmVfZml4bykgOiAiIjsNCiAgICBsZXQgdGVsZWZvbmVDZWx1bGFyID0gZGF0YS5oYXNPd25Qcm9wZXJ0eSgiY2VsdWxhcl8xX3Blc3NvYSIpID8gc29tZW50ZU51bWVybyhkYXRhLmNlbHVsYXJfMV9wZXNzb2EpIDogIiI7DQoNCiAgICBncmF2YXJNb3RvcmlzdGFQb3N0LnJlcS5UZWxlZm9uZXMuQ2VsdWxhciA9IHsNCiAgICAgICAgIkRERCI6ICt0ZWxlZm9uZUNlbHVsYXIuc3Vic3RyaW5nKDAsIDIpLA0KICAgICAgICAiTnVtZXJvIjogdGVsZWZvbmVDZWx1bGFyLnN1YnN0cmluZygyLCB0ZWxlZm9uZUNlbHVsYXIubGVuZ3RoKQ0KICAgIH07DQogICAgaWYgKHRlbGVmb25lRml4bykgew0KICAgICAgICBncmF2YXJNb3RvcmlzdGFQb3N0LnJlcS5UZWxlZm9uZXMuRml4byA9IHsNCiAgICAgICAgICAgICJEREQiOiArdGVsZWZvbmVGaXhvLnN1YnN0cmluZygwLCAyKSwNCiAgICAgICAgICAgICJOdW1lcm8iOiB0ZWxlZm9uZUZpeG8uc3Vic3RyaW5nKDIsIHRlbGVmb25lRml4by5sZW5ndGgpDQogICAgICAgIH07DQogICAgfQ0KDQoNCiAgICBsZXQgcmV0dXJuUG9zdENsaWVudGUgPSBhd2FpdCBhamF4Q2FsbChkYXRhLCAiaHR0cHM6Ly9mbmNpb3RlZnJldGVzLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9mbkdyYXZhTW90b3Jpc3RhIiwgIlBPU1QiLCBncmF2YXJNb3RvcmlzdGFQb3N0KTsNCg0KICAgIGlmICghcmV0dXJuUG9zdENsaWVudGUpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJtc2ciOiAiKEVycm8pIFNlbSByZXNwb3N0YSBkbyBFLUZyZXRlLiIsDQogICAgICAgICAgICAicHJvdG9jb2xvIjogMA0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy9UT0RPIFJlc3Bvc3RhIGRlIG7Do28gc3VjZXNzby4NCiAgICBpZiAoIXJldHVyblBvc3RDbGllbnRlLnN1Y2Vzc28pIHsNCiAgICAgICAgaWYgKCFyZXR1cm5Qb3N0Q2xpZW50ZS5leGNlY2FvKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICAgICAibXNnIjogIihFcnJvKSBTZW0gcmVzcG9zdGEgZG8gRS1GcmV0ZS4gKFNlbSBleGNlw6fDo28pIiwNCiAgICAgICAgICAgICAgICAicHJvdG9jb2xvIjogMA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoIXJldHVyblBvc3RDbGllbnRlLmV4Y2VjYW8ubWVuc2FnZW0pIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgICAgICJtc2ciOiAiKEVycm8pIFNlbSByZXNwb3N0YSBkbyBFLUZyZXRlLiAoU2VtIE1lbnNhZ2VtIGRlIGVycm8pIiwNCiAgICAgICAgICAgICAgICAicHJvdG9jb2xvIjogMA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIm1zZyI6IGAoRXJybyBFLUZyZXRlKVxuICR7cmV0dXJuUG9zdENsaWVudGUuZXhjZWNhby5tZW5zYWdlbX1gLA0KICAgICAgICAgICAgInByb3RvY29sbyI6IDANCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICAvL1RPRE8gUmVzcG9zdGEgZGUgU3VjZXNzby4NCiAgICBpZiAocmV0dXJuUG9zdENsaWVudGUuc3VjZXNzbykgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJPSyIsDQogICAgICAgICAgICAibXNnIjogIiIsDQogICAgICAgICAgICAicHJvdG9jb2xvIjogcmV0dXJuUG9zdENsaWVudGUucHJvdG9jb2xvU2Vydmljbw0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIHJldHVybiB7DQogICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgIm1zZyI6IGBOw6NvIGZvaSBwb3Nzw612ZWwgaW50ZXJwcmV0YXIgcmV0b3JubzpcbiR7SlNPTi5wYXJzZShyZXR1cm5Qb3N0Q2xpZW50ZSl9YCwNCiAgICAgICAgInByb3RvY29sbyI6IDANCiAgICB9Ow0KfQ0KDQphc3luYyBmdW5jdGlvbiBhamF4Q2FsbChkYXRhLCBVUkwsIG1ldGhvZCwgZGF0YUNhbGwpIHsNCiAgICBsZXQgcmVzcDsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogVVJMLA0KICAgICAgICBtZXRob2Q6IG1ldGhvZCwNCiAgICAgICAgZGF0YTogZGF0YUNhbGwsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgfSkudGhlbigNCiAgICAgICAgKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICByZXNwID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgfSwNCiAgICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgICAgICByZXNwID0gJyc7DQogICAgICAgIH0NCiAgICApOw0KICAgIHJldHVybiByZXNwOw0KICAgIC8qDQogICAgICAgIGxldCByZXNwb25zZTsNCiAgICAgICAgYWpheCh7DQogICAgICAgICAgICB1cmw6IFVSTCwNCiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgIGNvbnRlbnRUeXBlQ2hhclNldDogIiIsDQogICAgICAgICAgICBkYXRhdHlwZTogImpzb24iLA0KICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YUNhbGwpLA0KICAgICAgICAgICAgYXNzaWQ6IGRhdGEuYXNzaWQsDQogICAgICAgICAgICB1c3JpZDogZGF0YS51c3JpZCwNCiAgICAgICAgICAgIGZlZGlkOiBkYXRhLmZlZGlkLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGRhdGE7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBKU09OLnBhcnNlKHJlc3BvbnNlKTsNCiAgICAqLw0KfQ0KDQovL1RPRE8gU29mdEZpbi4NCmFzeW5jIGZ1bmN0aW9uIGNhZGFzdHJvQXR1YWxpemFjYW9Tb2Z0RmluKGRhdGEpIHsNCiAgICBsZXQgZW5kZXJlY29UZW1wbGF0ZUlEID0gJzc4NzVjOWZiLWVlODctNDk0ZS1hNjA2LTk0MjYzMDM4NDM2Nic7DQogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gRW5kZXJlY28gPT09PT09PT09PT09PT09PT09PT0gXFwNCiAgICAvKiBCdXNjYSBlbmRlcmXDp29zICovDQogICAgbGV0IGVuZGVyZWNvc0ZpbHRybyA9IGdlcmFyRmlsdHJvKCdJRF9PTkVfUkVGJywgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkKTsNCiAgICBsZXQgb2JqUGVzc29hRW5kZXJlY28gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKGVuZGVyZWNvVGVtcGxhdGVJRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGVuZGVyZWNvc0ZpbHRybyk7DQogICAgLyogdmFsaWRhY2FvIGRvIGVuZGVyZWNvICovDQogICAgaWYgKG9ialBlc3NvYUVuZGVyZWNvLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIGRhdGEubG9nX2ludGVncmFjYW8gPSAnUGVzc29hIHNlbSBlbmRlcmXDp28hJzsNCiAgICAgICAgcmV0dXJuIGRhdGE7DQogICAgfQ0KICAgIC8qIHBlZ2Egc29tZW50ZSBvIHByaW1laXJvIGVuZGVyZWNvICovDQogICAgb2JqUGVzc29hRW5kZXJlY28gPSBvYmpQZXNzb2FFbmRlcmVjb1tvYmpQZXNzb2FFbmRlcmVjby5sZW5ndGggLSAxXS5VcmxKc29uQ29udGV4dDsNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcXA0KDQogICAgLy8gPT09PT09PT09PT09IFBvc3QgUGVzc29hID09PT09PT09PT09PSBcXA0KICAgIGxldCBwYXJjZWlyb0RhdGFQb3N0ID0gew0KICAgICAgICAibm9tZSI6IGRhdGEubm9tZV9wZXNzb2EsDQogICAgICAgICJyYXphbyI6IGRhdGEubm9tZV9wZXNzb2EsDQogICAgICAgICJ0aXBvUGVzc29hIjogNjIsDQogICAgICAgICJ1bmlkYWRlTmVnb2NpbyI6ICIiLA0KICAgICAgICAiY29kaWdvIjogZGF0YS5yZ19wZXNzb2EgPyBkYXRhLnJnX3Blc3NvYSA6IChkYXRhLmNwZl9wZXNzb2EgPyBkYXRhLmNwZl9wZXNzb2EgOiAiIiksDQogICAgICAgICJjYXRlZ29yaWFQZXNzb2EiOiAnMScsDQogICAgICAgICJpbnNjcmljYW8iOiAiIiwNCiAgICAgICAgImNjbSI6ICIiLA0KICAgICAgICAiY25wamNwZiI6IGRhdGEuY3BmX3Blc3NvYSwNCiAgICAgICAgInRlbGVmb25lRml4byI6IGRhdGEudGVsZWZvbmVfZml4byA/IHNvbWVudGVOdW1lcm8oZGF0YS50ZWxlZm9uZV9maXhvKSA6ICcnLA0KICAgICAgICAiY2VsdWxhciI6IGRhdGEuY2VsdWxhcl8xX3Blc3NvYSA/IHNvbWVudGVOdW1lcm8oZGF0YS5jZWx1bGFyXzFfcGVzc29hKSA6IChkYXRhLmNlbHVsYXJfMl9wZXNzb2EgPyBzb21lbnRlTnVtZXJvKGRhdGEuY2VsdWxhcl8yX3Blc3NvYSkgOiAiIiksDQogICAgICAgICJlbWFpbCI6IGRhdGEuZW1haWxfcGVzc29hID8gZGF0YS5lbWFpbF9wZXNzb2EgOiAnJywNCiAgICAgICAgInRpcG9FbmRlcmVjbyI6IDEsDQogICAgICAgICJjZXAiOiBvYmpQZXNzb2FFbmRlcmVjby5jZXBfcGVzc29hLA0KICAgICAgICAibnVtZXJvIjogb2JqUGVzc29hRW5kZXJlY28ubnVtZXJvX3Blc3NvYSA/IG9ialBlc3NvYUVuZGVyZWNvLm51bWVyb19wZXNzb2EudG9TdHJpbmcoKSA6ICJTTiIsDQogICAgICAgICJiYWlycm8iOiBvYmpQZXNzb2FFbmRlcmVjby5iYWlycm9fcGVzc29hLA0KICAgICAgICAidWYiOiBvYmpQZXNzb2FFbmRlcmVjby5NTE9DWmVzdGFkb191Zl9fdWZfcGVzc29hLA0KICAgICAgICAiY2lkYWRlIjogb2JqUGVzc29hRW5kZXJlY28uTUxPQ1ptdW5pY2lwaW9fbm9tZV9fbXVuaWNpcGlvX3Blc3NvYSwNCiAgICAgICAgImNvbXBsZW1lbnRvIjogb2JqUGVzc29hRW5kZXJlY28uY29tcGxlbWVudG9fcGVzc29hLA0KICAgICAgICAibG9ncmFkb3VybyI6IG9ialBlc3NvYUVuZGVyZWNvLmxvZ3JhZG91cm9fcGVzc29hLA0KICAgICAgICAiaWRQZXNzb2EiOiBkYXRhLmlkX3NvZnRmaW4gPyArZGF0YS5pZF9zb2Z0ZmluIDogMCwNCiAgICAgICAgImlkR3J1cG9FbXByZXNhcmlhbCI6IDAsDQogICAgICAgICJkaWFEYVNlbWFuYUZpeG9WZW5jaW1lbnRvcyI6IDAsDQogICAgICAgICJhdXRvcml6YWNhb0ZhdHVyYW1lbnRvIjogZmFsc2UsDQogICAgICAgICJwZWRpZG9Db21wcmFzIjogZmFsc2UsDQogICAgICAgICJkaWFGYXR1cmFtZW50byI6ICIiLA0KICAgICAgICAiZnJlcXVlbmNpYVBhZyI6ICIiLA0KICAgICAgICAicHJhem9QYWciOiAiIiwNCiAgICAgICAgImZvcm1hUGFnIjogIiIsDQogICAgICAgICJkaWFGaXhvVmVuY2ltZW50b3MiOiAiIiwNCiAgICB9Ow0KICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFxcDQogICAgLy8gPT09PT09PT09PSBNZW5zYWdlcmlhID09PT09PT09PT0gXFwNCiAgICBsZXQgYXBpVG9rZW4gPSBhd2FpdCBQZWdhVG9rZW4oZGF0YSk7DQogICAgbGV0IHJldG9ybm9BUElTb2Z0RmluID0gYXdhaXQgRWZldHVhTWVuc2FnZXJpYShkYXRhLCBwYXJjZWlyb0RhdGFQb3N0LCBhcGlUb2tlbiwgJ2h0dHBzOi8vc29mdGZpbmFwaWhvbW9sb2dhY2FvLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9QZXNzb2FzL0luY2x1aXJBbHRlcmFyJywgJ1BPU1QnKTsNCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcXA0KDQogICAgaWYgKCFyZXRvcm5vQVBJU29mdEZpbikgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgInN0YXR1cyI6ICJOT0siLA0KICAgICAgICAgICAgIklEX1NvZnRGaW4iOiAwLA0KICAgICAgICAgICAgIm1zZyI6ICIoRXJybykgU2VtIHJlc3Bvc3RhIGRhIG1lbnNhZ2VyaWEgY29tIFNvZnRGaW4uIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIC8qIFNlIG8gcmV0b3JubyBmb3IgT0ssIGZhw6dvIGFzIGFsdGVyYcOnw7VlcyBubyBkYXRhICovDQogICAgaWYgKHJldG9ybm9BUElTb2Z0RmluLnN0YXR1cyA9PSAnT0snKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAic3RhdHVzIjogIk9LIiwNCiAgICAgICAgICAgICJJRF9Tb2Z0RmluIjogcmV0b3Jub0FQSVNvZnRGaW4ub2Jqcy5pZFBlc3NvYSwNCiAgICAgICAgICAgICJtc2ciOiAiIg0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGlmIChyZXRvcm5vQVBJU29mdEZpbi5zdGF0dXMgPT0gJ05PSycpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgICAgICJJRF9Tb2Z0RmluIjogMCwNCiAgICAgICAgICAgICJtc2ciOiByZXRvcm5vQVBJU29mdEZpbi5leGNlcHRpb25zWzBdLmRlc2NyaWNhbw0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIHJldHVybiB7DQogICAgICAgICJzdGF0dXMiOiAiTk9LIiwNCiAgICAgICAgIklEX1NvZnRGaW4iOiAwLA0KICAgICAgICAibXNnIjogYChFUlJPKSBOw6NvIGZvaSBwb3Nzw612ZWwgdHJhdGFyIHJldG9ybm9gDQogICAgfTsNCn0NCg0KZnVuY3Rpb24gZ2VyYXJGaWx0cm8oZmllbE5hbWVQLCB2YWx1ZVApIHsNCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3sgRmllbE5hbWU6IGZpZWxOYW1lUCwgVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIEZpeGVkVHlwZTogYCR7dHlwZW9mIHZhbHVlUCA9PSAibnVtYmVyIiA/ICJOdW1lcmljIiA6ICJzdHJpbmcifWAsIFZhbHVlMTogdmFsdWVQIH1dKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gUGVnYVRva2VuKGpzb25EYXRhKSB7DQogICAgbGV0IHVzckxvZ2luID0gInN1cG9ydGVAcHJlc3RleC5jb20uYnIiOw0KICAgIGxldCBwd2QgPSAiVGVzdEAxMjNhZG0iOw0KDQogICAgbGV0IHJlc3A7DQogICAgYXdhaXQgYXhpb3Moew0KICAgICAgICB1cmw6IGBodHRwczovL3NvZnRmaW5hcGlob21vbG9nYWNhby5henVyZXdlYnNpdGVzLm5ldC9hcGkvTG9naW4/TG9naW5Vc3VhcmlvPSR7dXNyTG9naW59JlNlbmhhPSR7cHdkfWAsDQogICAgICAgIG1ldGhvZDogJ0dFVCcsDQogICAgICAgIGRhdGE6ICcnLA0KICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgIH0pLnRoZW4oDQogICAgICAgIChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgIH0sDQogICAgICAgIChlcnJvcikgPT4gew0KICAgICAgICAgICAgcmVzcCA9ICcnOw0KICAgICAgICB9DQogICAgKTsNCiAgICByZXR1cm4gcmVzcDsNCg0KICAgIC8qDQogICAgICAgIGxldCB1c3JMb2dpbiA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInVzdWFyaW9fYXBpX3NvZnRmaW4iKTsNCiAgICAgICAgbGV0IHB3ZCA9IG9uZXJneS5HZXRTdWJzY3JpcHRpb25Db25maWcoInNlbmhhX2FwaV9zb2Z0ZmluIik7DQogICAgICAgIGxldCBzdHJSZXNwVG9rZW4gPSAiIjsNCiAgICAgICAgYWpheCh7DQogICAgICAgICAgICB1cmw6IGBodHRwczovL3NvZnRmaW5hcGlob21vbG9nYWNhby5henVyZXdlYnNpdGVzLm5ldC9hcGkvTG9naW4/TG9naW5Vc3VhcmlvPSR7dXNyTG9naW59JlNlbmhhPSR7cHdkfWAsDQogICAgICAgICAgICBhc3NpZDoganNvbkRhdGEuYXNzaWQsDQogICAgICAgICAgICB1c3JpZDoganNvbkRhdGEudXNyaWQsDQogICAgICAgICAgICBmZWRpZDoganNvbkRhdGEuZmVkaWQsDQogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICAgICAgZGF0YTogIiIsDQogICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBkYXRhOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICAgICAgc3RyUmVzcFRva2VuID0gZXhjZXB0aW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcFRva2VuKTsNCiAgICAqLw0KfQ0KDQphc3luYyBmdW5jdGlvbiBFZmV0dWFNZW5zYWdlcmlhKGRhdGEsIGRhdGFDYWxsLCB0b2tlbk9iaiwgVVJMLCBtZXRob2QpIHsNCg0KICAgIGxldCByZXNwOw0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiBVUkwsDQogICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgYmVhcmVyICR7dG9rZW5PYmoudG9rZW59YCwNCiAgICAgICAgfSwNCiAgICAgICAgZGF0YTogZGF0YUNhbGwsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgfSkudGhlbigNCiAgICAgICAgKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICByZXNwID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgfSwNCiAgICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgICAgICByZXNwID0gJyc7DQogICAgICAgIH0NCiAgICApOw0KICAgIHJldHVybiByZXNwOw0KDQogICAgLyoNCiAgICAgICAgbGV0IHN0clJlc3BDVGUgPSAiIjsNCiAgICAgICAgYWpheCh7DQogICAgICAgICAgICB1cmw6IFVSTCwNCiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwNCiAgICAgICAgICAgIGFzc2lkOiBkYXRhLmFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IGRhdGEudXNyaWQsDQogICAgICAgICAgICBmZWRpZDogZGF0YS5mZWRpZCwNCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGFDYWxsKSwNCiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmVhcmVyIiwNCiAgICAgICAgICAgICAgICB2YWx1ZTogdG9rZW5PYmoudG9rZW4NCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwQ1RlID0gZGF0YTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgICAgIHN0clJlc3BDVGUgPSBleGNlcHRpb247DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJSZXNwQ1RlKTsNCiAgICAqLw0KfQ0KDQpmdW5jdGlvbiBzb21lbnRlTnVtZXJvKHN0cnJlYykgew0KICAgIGxldCBzdHJyZXQgPSBzdHJyZWMucmVwbGFjZSgvW15cZF0rL2csICcnLCAnJyk7DQogICAgcmV0dXJuIHN0cnJldDsNCn0NCg0KZnVuY3Rpb24gYXR1YWxpemFyRW5kZXJlY29zKGRhdGEpIHsNCiAgICBsZXQgZW5kZXJlY29JRCA9ICI3ODc1YzlmYi1lZTg3LTQ5NGUtYTYwNi05NDI2MzAzODQzNjYiOw0KDQogICAgbGV0IGRhdGFDYWNoZSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOw0KICAgIGRhdGFDYWNoZSA9IEpTT04ucGFyc2UoZGF0YUNhY2hlKTsNCg0KICAgIGRhdGFDYWNoZS5oYXNPd25Qcm9wZXJ0eSgib25lVGVtcGxhdGVUaXRsZSIpID8gZGVsZXRlIGRhdGFDYWNoZS5vbmVUZW1wbGF0ZVRpdGxlIDogIiI7DQogICAgZGF0YUNhY2hlLmhhc093blByb3BlcnR5KCJhc3NfaWQiKSA/IGRlbGV0ZSBkYXRhQ2FjaGUuYXNzX2lkIDogIiI7DQogICAgZGF0YUNhY2hlLmhhc093blByb3BlcnR5KCJhc3NpZCIpID8gZGVsZXRlIGRhdGFDYWNoZS5vbmVUZW1wbGF0ZVRpdGxlIDogIiI7DQogICAgZGF0YUNhY2hlLmhhc093blByb3BlcnR5KCJmZWRpZCIpID8gZGVsZXRlIGRhdGFDYWNoZS5mZWRpZCA6ICIiOw0KICAgIGRhdGFDYWNoZS5oYXNPd25Qcm9wZXJ0eSgidXNyaWQiKSA/IGRlbGV0ZSBkYXRhQ2FjaGUudXNyaWQgOiAiIjsNCiAgICBkYXRhQ2FjaGUuaGFzT3duUHJvcGVydHkoImZkdGlkIikgPyBkZWxldGUgZGF0YUNhY2hlLmZkdGlkIDogIiI7DQogICAgZGF0YUNhY2hlLmhhc093blByb3BlcnR5KCJlbWFpbCIpID8gZGVsZXRlIGRhdGFDYWNoZS5lbWFpbCA6ICIiOw0KICAgIGRhdGFDYWNoZS5oYXNPd25Qcm9wZXJ0eSgib25lcmd5X3JvbGlkIikgPyBkZWxldGUgZGF0YUNhY2hlLm9uZXJneV9yb2xpZCA6ICIiOw0KICAgIGRhdGFDYWNoZS5oYXNPd25Qcm9wZXJ0eSgidGltZXpvbmUiKSA/IGRlbGV0ZSBkYXRhQ2FjaGUudGltZXpvbmUgOiAiIjsNCiAgICBkYXRhQ2FjaGUuaGFzT3duUHJvcGVydHkoIm9uZXJneV9qc19jdHgiKSA/IGRlbGV0ZSBkYXRhQ2FjaGUub25lcmd5X2pzX2N0eCA6ICIiOw0KDQogICAgb25lcmd5X3VwZGF0ZW1hbnkoew0KICAgICAgICBmZHRpZDogZW5kZXJlY29JRCwNCiAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgdXNyaWQ6IGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwNCiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgIlVybEpzb25Db250ZXh0IjogZGF0YUNhY2hlDQogICAgICAgIH0pLA0KICAgICAgICBmaWx0ZXI6IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkKSwNCiAgICAgICAgaXNNdWx0aVVwZGF0ZTogdHJ1ZQ0KICAgIH0pOw0KfQ0KDQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgInRlbGVmb25lX2ZpeG8iOiAiKDg5KSAzNzY3LTc4MTEiLA0KICAgICJjZWx1bGFyXzFfcGVzc29hIjogIig4OSkgOTk3MjQtMjUyNiIsDQogICAgImNlbHVsYXJfMl9wZXNzb2EiOiAiIiwNCiAgICAiZW1haWxfcGVzc29hIjogImx1emlhLWJhcmJvc2E5OUB0Y2UuYW0uZ292LmJyIiwNCiAgICAiY29tZXJjaWFsX3Blc3NvYSI6ICJuYW8iLA0KICAgICJsb2dpc3RpY2FfcGVzc29hIjogIm5hbyIsDQogICAgImZpbmFuY2Vpcm9fcGVzc29hIjogIm5hbyIsDQogICAgIm1vdG9yaXN0YV9wZXNzb2EiOiAic2ltIiwNCiAgICAiY2F0ZWdvcmlhX2NuaF9wZXNzb2EiOiAiYSIsDQogICAgImNuaF9wZXNzb2EiOiAxNzk4MDE5MjEzMywNCiAgICAidmFsaWRhZGVfY25oX3Blc3NvYSI6ICIyMDMwLTYtMTMiLA0KICAgICJudW1lcm9fcmVuYWNoX3Blc3NvYSI6IDIzMjM0MzI0MiwNCiAgICAiZW5kZXJlY29zIjogIiIsDQogICAgImVtcHJlc2FzIjogIiIsDQogICAgImhpc3Rvcmljb19mcmV0ZSI6ICIiLA0KICAgICJwcm90b2NvbG9fZWZyZXRlIjogMCwNCiAgICAibW90b3Jpc3RhX2NhZGFzdHJhZG9fZWZyZXRlIjogIiIsDQogICAgImlkX3NvZnRmaW4iOiAyNTYzNTAsDQogICAgImxvZ19pbnRlZ3JhY2FvIjogInVuZGVmaW5lZFxuKEVycm8pIFNlbSByZXNwb3N0YSBkbyBFLUZyZXRlLiIsDQogICAgInNpdHVhY2FvX3Blc3NvYSI6ICJhdGl2byIsDQogICAgIm5vbWVfcGVzc29hIjogIkx1emlhIEVsaXNhIFZhbGVudGluYSBCYXJib3NhIiwNCiAgICAiY3BmX3Blc3NvYSI6ICI0NjUuODkxLjYwMy03NiIsDQogICAgInJnX3Blc3NvYSI6ICI0MS4zNzguNjk0LTgiLA0KICAgICJuYXNjaW1lbnRvIjogIjE5OTUtNS01IiwNCiAgICAic2V4b19wZXNzb2EiOiAiZmVtaW5pbm8iLA0KICAgICJlc3RhZG9fY2l2aWxfcGVzc29hIjogInNvbHRlaXJvIiwNCiAgICAibnVtZXJvX2RvX3BpcyI6IDAsDQogICAgInNpdHVhY2FvX3Blc3NvYV9kZXNjIjogIkF0aXZvIiwNCiAgICAic2V4b19wZXNzb2FfZGVzYyI6ICJGZW1pbmlubyIsDQogICAgImVzdGFkb19jaXZpbF9wZXNzb2FfZGVzYyI6ICJTb2x0ZWlybyIsDQogICAgImNvbWVyY2lhbF9wZXNzb2FfZGVzYyI6ICJOw6NvIiwNCiAgICAibG9naXN0aWNhX3Blc3NvYV9kZXNjIjogIk7Do28iLA0KICAgICJmaW5hbmNlaXJvX3Blc3NvYV9kZXNjIjogIk7Do28iLA0KICAgICJtb3RvcmlzdGFfcGVzc29hX2Rlc2MiOiAiU2ltIiwNCiAgICAiY2F0ZWdvcmlhX2NuaF9wZXNzb2FfZGVzYyI6ICJBIiwNCiAgICAib25lVGVtcGxhdGVUaXRsZSI6ICJQZXNzb2FzIiwNCiAgICAiYXNzX2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgImVtYWlsIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgImZkdGlkIjogImNkNWFiMTg3LWZiOGQtNDNjMi05Y2FhLTJiMmJlNTlkODcxMCIsDQogICAgImZlZGlkIjogIjNhOGNhZjJhLTM2NDAtMTk2NS04NWQxLTAwZDZiOGI4NDM4MSIsDQogICAgIm9uZXJneV9yb2xpZCI6ICIiLA0KICAgICJ0aW1lem9uZSI6IG51bGwsDQogICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyINCn0NCg0KanNvbklucHV0Lm9uZXJneV9qc19jdHggPSB7DQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICJjZDVhYjE4Ny1mYjhkLTQzYzItOWNhYS0yYjJiZTU5ZDg3MTAiLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJmZWRpZCI6ICIzYThjYWYyYS0zNjQwLTE5NjUtODVkMS0wMGQ2YjhiODQzODEiLA0KfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }, { "name": "BuscarToken.js", "isDirectory": false, "__KEY__": "c5803231-1562-0dab-85c6-e48e755b9052", "size": 0, "dateModified": "2022-12-12T12:29:13.000Z", "content": "" }, { "name": "fds.js", "isDirectory": false, "__KEY__": "34513581-4355-794e-c7a7-c83808f24e4d", "size": 3349, "dateModified": "2023-03-29T14:15:47.000Z", "content": "ZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICJkYXRhX2RlX3JldG9ybm9fbXVsZXNvZnQiOiBgJHt1dGlscy5HZXRVc2VyRHROb3coInl5eXktTU0tZGQiKX0gMDA6MDA6MDBgLA0KICAgICAgICAiaG9yYV9kb19yZXRvcm5vX211bGVzb2Z0IjogKCgpID0+IHsNCiAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUodXRpbHMuR2V0VXNlckR0Tm93KCJ5eXl5LU1NLWRkIEhIOm1tOnNzIikpOw0KICAgICAgICAgICAgbGV0IGhvcmFzID0gKGRhdGUuZ2V0SG91cnMoKSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSAtIDI7IC8vSG9yYSBkYSBjb2zDtG1iaWEgDQogICAgICAgICAgICBsZXQgbWludXRvcyA9IChkYXRlLmdldE1pbnV0ZXMoKSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKTsNCiAgICAgICAgICAgIHJldHVybiBgJHtob3Jhc306JHttaW51dG9zfWA7DQogICAgICAgIH0pKCksDQogICAgICAgICJhcnF1aXZvX2RlX3JldG9ybm9fbXVsZXNvZnQiOiAoKCkgPT4gew0KICAgICAgICAgICAgbGV0IGZpbGVCYXNlNjQgPSBnZXRTdHJGcm9tQjY0KHsgInRleHQiOiBkYXRhLmRvY3VtZW50LkJhc2U2NEVuY29kZWRGaWxlIH0pOw0KDQogICAgICAgICAgICBsZXQgZmlsZVBhdGggPSBmaWxldXRpbHMuQ3JlYXRlRmlsZShmaWxlQmFzZTY0LCAiLmNzdiIsIGRhdGEuZG9jdW1lbnQuZmlsZU5hbWUuc3BsaXQoIi4iKVswXSk7DQogICAgICAgICAgICBsZXQgZmlsZVVSTCA9IGZpbGV1dGlscy5VcGxvYWRGaWxlKGZpbGVQYXRoKTsNCg0KICAgICAgICAgICAgcmV0dXJuIFt7DQogICAgICAgICAgICAgICAgIlVybCI6IGZpbGVVUkwsDQogICAgICAgICAgICAgICAgIlVybEF6dXJlIjogZmlsZVVSTCwNCiAgICAgICAgICAgICAgICAiTmFtZSI6IGRhdGEuZG9jdW1lbnQuZmlsZU5hbWUNCiAgICAgICAgICAgIH1dOw0KICAgICAgICB9KSgpLA0KICAgICAgICAiYXJxdWl2b190eHRfcmV0b3Jub19tdWxlc29mdCI6IGdldFN0ckZyb21CNjQoeyAidGV4dCI6IGRhdGEuZG9jdW1lbnQuQmFzZTY0RW5jb2RlZEZpbGUgfSkNCiAgICB9Ow0KDQogICAgb25lcmd5LmxvZyhKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICJ0eXBlIjogIkFQSSAtIFJldG9ybm8gTXVsZVNvZnQiLA0KICAgICAgICAib3JpZ2VtIjogIkxvdGUgZGUgSW50ZWdyYcOnw6NvIE9yYWNsZTpBUEkgUmV0b3JubyBNdWxlU29mdDppbml0IiwNCiAgICAgICAgImRhdGEiOiBkYXRhDQogICAgfSkpOw0KDQogICAgLyphd2FpdCovIGVudmlhclBhcmFQcm9jZXNzbyh7IC4uLmRhdGEsIC4uLnJlc3VsdCB9KTsNCg0KICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZShmYWxzZSwgcmVzdWx0LCBmYWxzZSk7DQp9DQoNCmZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIHJldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICAvL3JldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRPYmplY3RSZXNwb25zZShjb25kLCBqc29uLCBXYWl0aW5nV2ViSG9vaykgew0KICAgIGlmIChXYWl0aW5nV2ViSG9vayA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIFdhaXRpbmdXZWJIb29rID0gZmFsc2U7DQogICAgfQ0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCiAgICBpZiAoanNvbiAmJiBPYmplY3Qua2V5cyhqc29uKS5sZW5ndGggPiAwKSB7DQogICAgICAgIG9iai5qc29uID0gSlNPTi5zdHJpbmdpZnkoanNvbik7DQogICAgfQ0KDQogICAgcmV0dXJuIG9iajsNCn0NCg0KY29uc3QgZW52aWFyUGFyYVByb2Nlc3NvID0gLyphc3luYyovIChkYXRhKSA9PiB7DQogICAgbGV0IHByb2Nlc3NvSUQgPSAiMGJiZDMzYjUtYWQ1MC00MDQ3LTgzYzEtMGU4ZGIwZGNmNjMyIjsgLyogTG90ZSBkZSBJbnRlZ3Jhw6fDo28gT3JhY2xlOkluw61jaW8gKi8NCiAgICBsZXQgUG9zdEluZm8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsNCiAgICBQb3N0SW5mby5oYXNPd25Qcm9wZXJ0eSgib25lVGVtcGxhdGVUaXRsZSIpID8gZGVsZXRlIFBvc3RJbmZvLm9uZVRlbXBsYXRlVGl0bGUgOiAiIjsNCiAgICBQb3N0SW5mby5oYXNPd25Qcm9wZXJ0eSgiYXNzX2lkIikgPyBkZWxldGUgUG9zdEluZm8uYXNzX2lkIDogIiI7DQogICAgUG9zdEluZm8uaGFzT3duUHJvcGVydHkoImFzc2lkIikgPyBkZWxldGUgUG9zdEluZm8uYXNzaWQgOiAiIjsNCiAgICBQb3N0SW5mby5oYXNPd25Qcm9wZXJ0eSgiZmVkaWQiKSA/IGRlbGV0ZSBQb3N0SW5mby5mZWRpZCA6ICIiOw0KICAgIFBvc3RJbmZvLmhhc093blByb3BlcnR5KCJ1c3JpZCIpID8gZGVsZXRlIFBvc3RJbmZvLnVzcmlkIDogIiI7DQogICAgUG9zdEluZm8uaGFzT3duUHJvcGVydHkoImZkdGlkIikgPyBkZWxldGUgUG9zdEluZm8uZmR0aWQgOiAiIjsNCiAgICBQb3N0SW5mby5oYXNPd25Qcm9wZXJ0eSgiZW1haWwiKSA/IGRlbGV0ZSBQb3N0SW5mby5lbWFpbCA6ICIiOw0KICAgIFBvc3RJbmZvLmhhc093blByb3BlcnR5KCJvbmVyZ3lfcm9saWQiKSA/IGRlbGV0ZSBQb3N0SW5mby5vbmVyZ3lfcm9saWQgOiAiIjsNCiAgICBQb3N0SW5mby5oYXNPd25Qcm9wZXJ0eSgidGltZXpvbmUiKSA/IGRlbGV0ZSBQb3N0SW5mby50aW1lem9uZSA6ICIiOw0KICAgIFBvc3RJbmZvLmhhc093blByb3BlcnR5KCJvbmVyZ3lfanNfY3R4IikgPyBkZWxldGUgUG9zdEluZm8ub25lcmd5X2pzX2N0eCA6ICIiOw0KICAgIFBvc3RJbmZvID0gew0KICAgICAgICAibXVsZXNvZnQiOiB7DQogICAgICAgICAgICAuLi5Qb3N0SW5mbw0KICAgICAgICB9DQogICAgfTsNCiAgICBQb3N0SW5mby5vbmVyZ3lfanNfY3R4X09SSUdJTkFMID0gZGF0YS5vbmVyZ3lfanNfY3R4Ow0KDQogICAgLyphd2FpdCovIHNlbmRJdGVtVG9PbmVyZ3kocHJvY2Vzc29JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIFBvc3RJbmZvKTsNCn07DQoNCmNvbnN0IHNlbmRJdGVtVG9PbmVyZ3kgPSAvKmFzeW5jKi8gKHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgPT4gew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH07DQogICAgcmV0dXJuIC8qYXdhaXQqLyBvbmVyZ3lfc2F2ZShvbmVyZ3lTYXZlRGF0YSk7DQp9Ow==" }, { "name": "Integrao contasAPagar.js", "isDirectory": false, "__KEY__": "3ccfcc34-9bd7-520d-c787-2912019533c5", "size": 20968, "dateModified": "2022-06-17T15:49:06.000Z", "content": "Y29uc3QgeyBKU0RPTSB9ID0gcmVxdWlyZSgianNkb20iKTsNCmNvbnN0IHsgd2luZG93IH0gPSBuZXcgSlNET00oIiIpOw0KY29uc3QgJCA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7DQoNCmNvbnN0IHsgZGF0ZSB9ID0gcmVxdWlyZSgnYXNzZXJ0LXBsdXMnKTsNCmNvbnN0IHsgdHlwZSB9ID0gcmVxdWlyZSgnb3MnKTsNCmNvbnN0IHsgZm9ybWF0RGF0ZSB9ID0gcmVxdWlyZSgndG91Z2gtY29va2llJyk7DQp2YXIgb25lcmd5ID0gcmVxdWlyZSgnQzovVXNlcnMvVGFsbGVzQW5kcmFkZS9Eb2N1bWVudHMvT25lcmd5IExvY2FsL29uZXJneS9vbmVyZ3ktY2xpZW50LmpzJyk7DQpjb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTsNCg0KcmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChjb250ZW50LCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7DQogICAgcmV0dXJuIGNvbnRlbnQuc3BsaXQobmVlZGxlKS5qb2luKHJlcGxhY2VtZW50KTsNCn07DQoNCmFzeW5jIGZ1bmN0aW9uIFJlYWRFeGNlbFRvSnNvbihhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5SZWFkRXhjZWxUb0pzb24oYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9nZXQoYXJncykgew0KICAgIHZhciByID0gYXdhaXQgb25lcmd5Lm9uZXJneV9nZXQoYXJncyk7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYXNoTWQ1KGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lmhhc2hNZDUoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG9uZXJneV9zYXZlKGFyZ3MpIHsNCiAgICByZXR1cm4gYXdhaXQgb25lcmd5Lm9uZXJneV9zYXZlKGFyZ3MpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBzZW5kSXRlbVRvT25lcmd5KHRlbXBsYXRlaWQsIHVzcmlkLCBhc3NpZCwgZGF0YSkgew0KICAgIGxldCBvbmVyZ3lTYXZlRGF0YSA9IHsNCiAgICAgICAgZmR0aWQ6IHRlbXBsYXRlaWQsDQogICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgdXNyaWQ6IHVzcmlkLA0KICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgIH0NCiAgICByZXR1cm4gYXdhaXQgb25lcmd5X3NhdmUob25lcmd5U2F2ZURhdGEpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvbmVyZ3lfdXBkYXRlbWFueShhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5vbmVyZ3lfc2F2ZShhcmdzKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZG1haWwoYXJncykgew0KICAgIHJldHVybiBhd2FpdCBvbmVyZ3kuc2VuZG1haWwoYXJncyk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudChhcmdzKSB7DQogICAgcmV0dXJuIGF3YWl0IG9uZXJneS5pbmNyZW1lbnQoYXJncyk7DQp9DQoNCmNsYXNzIE1lbW9yeSB7DQogICAgdmFsTWVtb3J5ID0gW107DQogICAgVHJ5QWRkKGtleSwgdmFsdWUsIHRpbWUpIHsNCiAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IHMgaW4gdGhpcy52YWxNZW1vcnkpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnZhbE1lbW9yeVtzXS5rZXkgPT0ga2V5KSB7DQogICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChleGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWxNZW1vcnkucHVzaCh7ICdrZXknOiBrZXksICd2YWx1ZSc6IHZhbHVlLCAndGltZSc6IHRpbWUgfSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIFJlbW92ZShrZXkpIHsNCg0KICAgIH0NCn0NCmxldCBtZW1vcnkgPSBuZXcgTWVtb3J5KCk7DQovKg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBTQ1JJUFQgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQp2YXIgZXN0YWJlbGVjaW1lbnRvSUQgPSAiMjM4YWJkOGQtY2UxYi00ZGNlLTgwY2YtYmM3ZGVlOTJmOGNmIjsNCnZhciB0aXBvRG9jdW1lbnRvSUQgPSAiN2Y3MDBhY2YtZjZiOS00ZGY5LTg4NDAtNzY0OTU2NTVhZDVhIjsNCnZhciBiYW5jb0lEID0gImIzZTk1MjViLTY4NmMtNDBhYS05YTYxLWRlYzRkMTVjZmE5MiI7DQp2YXIgcGFyY2VsYXNJRCA9ICJlNWU5ZmY3ZC01OTM2LTQxYTEtOGE4MC03MjM1NmMyNjAxZjMiOw0KdmFyIHVuaWRhZGVOZWdvY2lvSUQgPSAiZmI3ZDg1NzQtNTU2ZS00ZTYzLTg0ZGItODQwNDBlYjRhZjU3IjsNCnZhciB1bmlkYWRlTmVnb2Npb1JlZ2lzdHJvSUQgPSAiMTk4MzA5OGMtMjY2My00NGIxLTk0OWMtOGQxY2Q5NDlmMzNiIjsNCnZhciBjYXRlZ29yaWFFbXByZXNhSUQgPSAiZTZhNDA0ZTgtZjgyMS00ZGFlLWFjYjctYjVhYjkyMTBkYzRjIjsNCg0KYXN5bmMgZnVuY3Rpb24gaW5pdChqc29uKSB7DQogICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pOw0KICAgIGlmIChkYXRhLkVYRUNVVEFSID09IHRydWUpIHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGVudmlhckNvbnRhc1BhZ2FyKGRhdGEpOw0KICAgICAgICBpZiAocmVzdWx0LkVSUk8pIHsNCiAgICAgICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZShmYWxzZSwgcmVzdWx0LCBmYWxzZSk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGRhdGEuUEFHTykgew0KICAgICAgICAgICAgYXdhaXQgcGFnYXJQYXJjZWxhcyhkYXRhKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gU2V0T2JqZWN0UmVzcG9uc2UoZmFsc2UsIHJlc3VsdCwgZmFsc2UpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBTZXRPYmplY3RSZXNwb25zZSh0cnVlLCBudWxsLCB0cnVlKTsNCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGluaXRCZWZvcmUoanNvbikgew0KICAgIHJldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBpbml0RGVsZXRlKGpzb24pIHsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0T2JqZWN0UmVzcG9uc2UoY29uZCwganNvbiwgV2FpdGluZ1dlYkhvb2spIHsNCiAgICBpZiAoV2FpdGluZ1dlYkhvb2sgPT09IHVuZGVmaW5lZCkNCiAgICAgICAgV2FpdGluZ1dlYkhvb2sgPSBmYWxzZTsNCg0KICAgIHZhciBvYmogPSB7DQogICAgICAgICdjb25kJzogY29uZCwNCiAgICAgICAgJ1dhaXRpbmdXZWJIb29rJzogV2FpdGluZ1dlYkhvb2ssDQogICAgfTsNCg0KICAgIGlmIChqc29uKSB7DQogICAgICAgIG9iai5qc29uID0gSlNPTi5zdHJpbmdpZnkoanNvbik7DQogICAgfQ0KICAgIHJldHVybiBvYmo7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE9uZXJneUl0ZW0oZmR0aWQsIGFzc2lkLCB1c3JpZCwgZmlsdHJvKSB7DQogICAgbGV0IGtlZXBTZWFyY2hpbmcgPSB0cnVlOw0KICAgIGxldCBza2lwID0gMDsNCiAgICB0YWtlID0gNTAwOw0KICAgIGxldCByZXN1bHQgPSBbXTsNCiAgICB3aGlsZSAoa2VlcFNlYXJjaGluZykgew0KICAgICAgICBsZXQgc3RyUGFnZVJlc3AgPSBhd2FpdCBvbmVyZ3lfZ2V0KHsNCiAgICAgICAgICAgIGZkdGlkOiBmZHRpZCwNCiAgICAgICAgICAgIGFzc2lkOiBhc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiB1c3JpZCwNCiAgICAgICAgICAgIGZpbHRlcjogZmlsdHJvLA0KICAgICAgICAgICAgc2tpcDogc2tpcCwNCiAgICAgICAgICAgIHRha2U6IHRha2UNCiAgICAgICAgfSk7DQogICAgICAgIHNraXAgKz0gdGFrZTsNCiAgICAgICAgbGV0IHBhZ2VSZXNwID0gSlNPTi5wYXJzZShzdHJQYWdlUmVzcCk7DQogICAgICAgIGlmIChwYWdlUmVzcCAhPSBudWxsICYmIHBhZ2VSZXNwLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGtlZXBTZWFyY2hpbmcgPSBwYWdlUmVzcC5sZW5ndGggPT0gdGFrZTsNCiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocGFnZVJlc3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAga2VlcFNlYXJjaGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCmZ1bmN0aW9uIGdlcmFyRmlsdHJvKGZpZWxOYW1lUCwgdmFsdWVQKSB7DQogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7IEZpZWxOYW1lOiBmaWVsTmFtZVAsIFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBGaXhlZFR5cGU6IGAke3R5cGVvZiB2YWx1ZVAgPT0gIm51bWJlciIgPyAiTnVtZXJpYyIgOiAic3RyaW5nIn1gLCBWYWx1ZTE6IHZhbHVlUCB9XSk7DQp9DQoNCmxldCBlc3RhYmVsZWNpbWVudG87DQpsZXQgdGlwb0RvY3VtZW50bzsNCmxldCBiYW5jbzsNCmxldCBwYXJjZWxhczsNCmxldCB1bmlkYWRlTmVnb2NpbzsNCmxldCBjYXRlZ29yaWFEZXNwZXNhOw0KYXN5bmMgZnVuY3Rpb24gZW52aWFyQ29udGFzUGFnYXIoZGF0YSkgew0KICAgIHRyeSB7DQogICAgICAgIGxldCBmaWx0cm9Fc3RhYmVsZWNpbWVudG8gPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5MRVNUQVNGdW5pZGFkZV9kZV9lbWlzc2FvX2lkKTsNCiAgICAgICAgZXN0YWJlbGVjaW1lbnRvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShlc3RhYmVsZWNpbWVudG9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb0VzdGFiZWxlY2ltZW50byk7DQoNCiAgICAgICAgbGV0IGZpbHRyb1RpcG9Eb2N1bWVudG8gPSBnZXJhckZpbHRybygiX2lkIiwgZGF0YS5USVBET0N0aXBvX2RvY3VtZW50b19pZCk7DQogICAgICAgIHRpcG9Eb2N1bWVudG8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHRpcG9Eb2N1bWVudG9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1RpcG9Eb2N1bWVudG8pOw0KDQogICAgICAgIGxldCBmaWx0cm9CYW5jbyA9IGdlcmFyRmlsdHJvKCJfaWQiLCBkYXRhLkNCQU5DYmFuY29jb250YV9pZCk7DQogICAgICAgIGJhbmNvID0gYXdhaXQgZ2V0T25lcmd5SXRlbShiYW5jb0lELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQmFuY28pOw0KDQogICAgICAgIGxldCBmaWx0cm9QYXJjZWxhcyA9IGdlcmFyRmlsdHJvKCJJRF9PTkVfUkVGIiwgZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkKTsNCiAgICAgICAgcGFyY2VsYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHBhcmNlbGFzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9QYXJjZWxhcyk7DQoNCiAgICAgICAgbGV0IGZpbHRyb1VuaWRhZGVOZWdvY2lvID0gZ2VyYXJGaWx0cm8oIklEX09ORV9SRUYiLCBkYXRhLm9uZXJneV9qc19jdHguZmVkaWQpOw0KICAgICAgICB1bmlkYWRlTmVnb2NpbyA9IGF3YWl0IGdldE9uZXJneUl0ZW0odW5pZGFkZU5lZ29jaW9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1VuaWRhZGVOZWdvY2lvKTsNCg0KICAgICAgICBsZXQgZmlsdHJvQ2F0ZWdvcmlhID0gZ2VyYXJGaWx0cm8oIl9pZCIsIGRhdGEuQ0FURGNhdGVnb3JpYV9kZV9kZXNwZXNhX2lkKTsNCiAgICAgICAgY2F0ZWdvcmlhRGVzcGVzYSA9IGF3YWl0IGdldE9uZXJneUl0ZW0oY2F0ZWdvcmlhRW1wcmVzYUlELCBkYXRhLm9uZXJneV9qc19jdHguYXNzaWQsIGRhdGEub25lcmd5X2pzX2N0eC51c3JpZCwgZmlsdHJvQ2F0ZWdvcmlhKTsNCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICJFUlJPIjogdHJ1ZSwNCiAgICAgICAgICAgICJMT0ciOiBgT2NvcnJldSB1bSBlcnJvIGFvIGJ1c2NhciBbZXN0YWJlbGVjaW1lbnRvIHx8IHRpcG9Eb2N1bWVudG8gfHwgYmFuY28gfHwgcGFyY2VsYXMgfHwgdW5pZGFkZU5lZ29jaW8gfHwgY2F0ZWdvcmlhRGVzcGVzYV0uXG4gRXJybzoke2Vycn0uYA0KICAgICAgICB9Ow0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIGxldCBwb3N0SW5mbzsNCiAgICB0cnkgew0KICAgICAgICBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICJpZEVzdGFiZWxlY2ltZW50byI6IGVzdGFiZWxlY2ltZW50b1swXS5VcmxKc29uQ29udGV4dC5pZF9lc3RhYmVsZWNpbWVudG9fc2YsDQogICAgICAgICAgICAiY29kaWdvRm9ybmVjZWRvciI6IGRhdGEuZm9ybmVjZWRvci50b1N0cmluZygpLA0KICAgICAgICAgICAgImRhdGFMYW5jYW1lbnRvIjogZGF0ZVRvU3RyaW5nKGRhdGEuZGF0YV9sYW5jYW1lbnRvKS5zdWJzdHJpbmcoMCwgMTApLA0KICAgICAgICAgICAgImRhdGFDb21wZXRlbmNpYSI6IGAkeyhuZXcgRGF0ZShkYXRhLmRhdGFfY29tcGV0ZW5jaWEpLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApfS8ke25ldyBEYXRlKGRhdGEuZGF0YV9jb21wZXRlbmNpYSkuZ2V0RnVsbFllYXIoKX1gLA0KICAgICAgICAgICAgInZhbG9yQnJ1dG8iOiBkYXRhLnZhbG9yX2JydXRvLA0KICAgICAgICAgICAgImlkVGlwb0RvY3VtZW50byI6ICt0aXBvRG9jdW1lbnRvWzBdLlVybEpzb25Db250ZXh0LmlkLA0KICAgICAgICAgICAgInRpcG9MYW5jYW1lbnRvIjogZGF0YS50aXBvX2xhbmNhbWVudG8gPT0gJzEnID8gJ1InIDogJ1AnLA0KICAgICAgICAgICAgIm51bWVyb0RvY3VtZW50byI6ICsoZGF0YS5udW1lcm9fZG9jdW1lbnRvX2Zpc2NhbC50b1N0cmluZygpLnN1YnN0cmluZyhkYXRhLm51bWVyb19kb2N1bWVudG9fZmlzY2FsLmxlbmd0aCAtIDksIGRhdGEubnVtZXJvX2RvY3VtZW50b19maXNjYWwubGVuZ3RoKSksDQogICAgICAgICAgICAiZGF0YURvY3VtZW50byI6IGRhdGVUb1N0cmluZyhkYXRhLmRhdGFfZG9jdW1lbnRvKS5zdWJzdHJpbmcoMCwgMTApLA0KICAgICAgICAgICAgImlkQmFuY28iOiBiYW5jb1swXS5VcmxKc29uQ29udGV4dC5pZF9zb2Z0X2ZpbiwNCiAgICAgICAgICAgICJsaW5oYURpZ2l0YXZlbCI6IGRhdGEuY29kaWdvX2RlX2JhcnJhcywNCiAgICAgICAgICAgICJzdGF0dXNQYWdhbWVudG8iOiAzLA0KICAgICAgICAgICAgInJlZmVyZW5jaWFFeHRlcm5hIjogYCR7ZGF0YS5vbmVyZ3lfanNfY3R4LmZlZGlkfWAsDQogICAgICAgICAgICAicGVkaWRvQ29tcHJhIjogZGF0YS5wZWRpZG9fY29tcHJhLA0KICAgICAgICAgICAgInF0ZFBhcmNlbGFzIjogcGFyY2VsYXMubGVuZ3RoLA0KICAgICAgICAgICAgImlkUGxhbm9EZUNvbnRhcyI6IGNhdGVnb3JpYURlc3Blc2FbMF0uVXJsSnNvbkNvbnRleHQuaWRfc29mdGZpbiwNCiAgICAgICAgICAgICJjb2RpZ29WZXJpZmljYWNhbyI6ICIiLA0KICAgICAgICAgICAgInJlZmVyZW5jaWFQcm9qZXRvIjogIiIsDQogICAgICAgICAgICAiZGlhRml4b1ZlbmNpbWVudG9zIjogIiIsDQogICAgICAgICAgICAiZGlhRGFTZW1hbmFGaXhvVmVuY2ltZW50b3MiOiAwLA0KICAgICAgICAgICAgImFsaXF1b3RhUElTIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgiX3BpcyIpICYmIGRhdGEuX3BpcyA/IGRhdGEuX3BpcyA6IDAsDQogICAgICAgICAgICAidmFsb3JQSVMiOiBkYXRhLmhhc093blByb3BlcnR5KCJ2YWxvcl9waXMiKSAmJiBkYXRhLnZhbG9yX3BpcyA/IGRhdGEudmFsb3JfcGlzIDogMCwNCiAgICAgICAgICAgICJhbGlxdW90YUNPRklOUyI6IGRhdGEuaGFzT3duUHJvcGVydHkoIl9jb2ZpbnMiKSAmJiBkYXRhLl9jb2ZpbnMgPyBkYXRhLl9jb2ZpbnMgOiAwLA0KICAgICAgICAgICAgInZhbG9yQ09GSU5TIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgidmFsb3JfY29maW5zIikgJiYgZGF0YS52YWxvcl9jb2ZpbnMgPyBkYXRhLnZhbG9yX2NvZmlucyA6IDAsDQogICAgICAgICAgICAiYWxpcXVvdGFDU0xMIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgiX2NzbGwiKSAmJiBkYXRhLl9jc2xsID8gZGF0YS5fY3NsbCA6IDAsDQogICAgICAgICAgICAidmFsb3JDU0xMIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgidmFsb3JfY3NsbCIpICYmIGRhdGEudmFsb3JfY3NsbCA/IGRhdGEudmFsb3JfY3NsbCA6IDAsDQogICAgICAgICAgICAiYWxpcXVvdGFJUlJGIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgiX2lycmYiKSAmJiBkYXRhLl9pcnJmID8gZGF0YS5faXJyZiA6IDAsDQogICAgICAgICAgICAidmFsb3JJUlJGIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgidmFsb3JfaXJyZiIpICYmIGRhdGEudmFsb3JfaXJyZiA/IGRhdGEudmFsb3JfaXJyZiA6IDAsDQogICAgICAgICAgICAiYWxpcXVvdGFQQ0MiOiBkYXRhLmhhc093blByb3BlcnR5KCJfcGNjIikgJiYgZGF0YS5fcGNjID8gZGF0YS5fcGNjIDogMCwNCiAgICAgICAgICAgICJ2YWxvclBDQyI6IGRhdGEuaGFzT3duUHJvcGVydHkoInZhbG9yX3BjYyIpICYmIGRhdGEudmFsb3JfcGNjID8gZGF0YS52YWxvcl9wY2MgOiAwLA0KICAgICAgICAgICAgImFsaXF1b3RhSU5TUyI6IGRhdGEuaGFzT3duUHJvcGVydHkoIl9pbnNzIikgJiYgZGF0YS5faW5zcyA/IGRhdGEuX2luc3MgOiAwLA0KICAgICAgICAgICAgInZhbG9ySU5TUyI6IGRhdGEuaGFzT3duUHJvcGVydHkoInZhbG9yX2luc3MiKSAmJiBkYXRhLnZhbG9yX2luc3MgPyBkYXRhLnZhbG9yX2luc3MgOiAwLA0KICAgICAgICAgICAgImFsaXF1b3RhSVNTIjogZGF0YS5oYXNPd25Qcm9wZXJ0eSgiX2lzcyIpICYmIGRhdGEuX2lzcyA/IGRhdGEuX2lzcyA6IDAsDQogICAgICAgICAgICAidmFsb3JJU1MiOiBkYXRhLmhhc093blByb3BlcnR5KCJ2YWxvcl9pc3MiKSAmJiBkYXRhLnZhbG9yX2lzcyA/IGRhdGEudmFsb3JfaXNzIDogMCwNCiAgICAgICAgICAgICJkdG9QYXJjZWxhc0NvbnRhc1BhZ2FyIjogW10sDQogICAgICAgICAgICAiZHRvUmF0ZWlvVW5pZGFkZXNOZWdvY2lvIjogW10NCiAgICAgICAgfTsNCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgbGV0IHJlc3VsdCA9IHsNCiAgICAgICAgICAgICJFUlJPIjogdHJ1ZSwNCiAgICAgICAgICAgICJMT0ciOiBgT2NvcnJldSB1bSBlcnJvIG5hIGZvcm1hw6fDo28gZG8gT2JqZXRvIHByaW5jaXBhbCBcbiBFcnJvOiR7ZXJyfS5gDQogICAgICAgIH07DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgdHJ5IHsNCiAgICAgICAgaWYgKHBhcmNlbGFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGZvciAobGV0IHMgaW4gcGFyY2VsYXMpIHsNCiAgICAgICAgICAgICAgICBwb3N0SW5mby5kdG9QYXJjZWxhc0NvbnRhc1BhZ2FyLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAicGFyY2VsYSI6IHBhcmNlbGFzW3NdLlVybEpzb25Db250ZXh0LnBhcmMsDQogICAgICAgICAgICAgICAgICAgICJ2ZW5jaW1lbnRvIjogZGF0ZVRvU3RyaW5nKHBhcmNlbGFzW3NdLlVybEpzb25Db250ZXh0LmRhdGFfdmVuY2ltZW50b19nZSkuc3Vic3RyaW5nKDAsIDEwKSwNCiAgICAgICAgICAgICAgICAgICAgInZlbmNpbWVudG9QcmV2aXN0byI6IGRhdGVUb1N0cmluZyhwYXJjZWxhc1tzXS5VcmxKc29uQ29udGV4dC5kYXRhX3ZlbmNpbWVudG9fZ2UpLnN1YnN0cmluZygwLCAxMCksDQogICAgICAgICAgICAgICAgICAgICJ2YWxvciI6IHBhcmNlbGFzW3NdLlVybEpzb25Db250ZXh0LnZhbG9yX2dlLA0KICAgICAgICAgICAgICAgICAgICAiaGlzdG9yaWNvIjogcGFyY2VsYXNbc10uVXJsSnNvbkNvbnRleHQuaGlzdG9yaWNvX2dlLA0KICAgICAgICAgICAgICAgICAgICAibG90ZVBhZ2FtZW50b0JhbmNvIjogIiINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIkVSUk8iOiB0cnVlLA0KICAgICAgICAgICAgIkxPRyI6IGBPY29ycmV1IHVtIGVycm8gbmEgZm9ybWHDp8OjbyBhcyBwYXJjZWxhcyBcbiBFcnJvOiR7ZXJyfS5gDQogICAgICAgIH07DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgdHJ5IHsNCiAgICAgICAgaWYgKHVuaWRhZGVOZWdvY2lvLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIGZvciAobGV0IHMgaW4gdW5pZGFkZU5lZ29jaW8pIHsNCiAgICAgICAgICAgICAgICBsZXQgZmlsdHJvVW5pZGFkZU5lZ29jaW9WYWxvciA9IGdlcmFyRmlsdHJvKCJfaWQiLCB1bmlkYWRlTmVnb2Npb1tzXS5VcmxKc29uQ29udGV4dC5VTkVHT3VuaWRhZGVfZGVfbmVnb2Npb19pZCk7DQogICAgICAgICAgICAgICAgbGV0IHVuaWRhZGVOZWdvY2lvUmVnaXN0cm8gPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHVuaWRhZGVOZWdvY2lvUmVnaXN0cm9JRCwgZGF0YS5vbmVyZ3lfanNfY3R4LmFzc2lkLCBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsIGZpbHRyb1VuaWRhZGVOZWdvY2lvVmFsb3IpOw0KICAgICAgICAgICAgICAgIHBvc3RJbmZvLmR0b1JhdGVpb1VuaWRhZGVzTmVnb2Npby5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgImlkVW5pZGFkZU5lZ29jaW8iOiB1bmlkYWRlTmVnb2Npb1JlZ2lzdHJvWzBdLlVybEpzb25Db250ZXh0LmlkX3NvZnRfZmluLA0KICAgICAgICAgICAgICAgICAgICAidmFsb3IiOiB1bmlkYWRlTmVnb2Npb1tzXS5VcmxKc29uQ29udGV4dC52YWxvciwNCiAgICAgICAgICAgICAgICAgICAgImhpc3RvcmljbyI6IHVuaWRhZGVOZWdvY2lvW3NdLlVybEpzb25Db250ZXh0Lmhpc3Rvcmljb191bmksDQogICAgICAgICAgICAgICAgICAgICJwZXJjZW50dWFsIjogdW5pZGFkZU5lZ29jaW9bc10uVXJsSnNvbkNvbnRleHQucG9yY2VudGFnZW0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBsZXQgcmVzdWx0ID0gew0KICAgICAgICAgICAgIkVSUk8iOiB0cnVlLA0KICAgICAgICAgICAgIkxPRyI6IGBPY29ycmV1IHVtIGVycm8gbmEgZm9ybWHDp8OjbyBhcyBwYXJjZWxhcyBcbiBFcnJvOiR7ZXJyfS5gDQogICAgICAgIH07DQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQoNCiAgICAvL1RPRE8gQ0hBTUFEQSBBSkFYDQogICAgbGV0IHRva2VuID0gYXdhaXQgUGVnYVRva2VuKGRhdGEpOw0KICAgIGxldCBhamF4UmVzdWx0ID0gYXdhaXQgRWZldHVhTWVuc2FnZXJpYShkYXRhLCBwb3N0SW5mbywgdG9rZW4sICJodHRwczovL3NvZnRmaW5hcGlob21vbG9nYWNhby5henVyZXdlYnNpdGVzLm5ldC9hcGkvQ29udGFzQVBhZ2FyL0luY2x1aXIiLCAiUE9TVCIpOw0KDQogICAgLy9UT0RPIFRSQVRBTUVOVE8gUkVUT1JOTw0KICAgIGxldCByZXN1bHQgPSB7DQogICAgICAgICJFUlJPIjogZmFsc2UsDQogICAgICAgICJMT0ciOiAiIiwNCiAgICB9Ow0KICAgIGlmIChhamF4UmVzdWx0KSB7DQogICAgICAgIC8vVE9ETyBSRVRPTk8gT0sNCiAgICAgICAgaWYgKGFqYXhSZXN1bHQuc3RhdHVzID09ICdPSycpIHsNCiAgICAgICAgICAgIHJlc3VsdC5pZF9zb2Z0ZmluID0gYWpheFJlc3VsdC5vYmpzLmlkOw0KICAgICAgICAgICAgaWYgKGFqYXhSZXN1bHQub2Jqcy5kdG9QYXJjZWxhc0NvbnRhc1BhZ2FyLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBzIGluIGFqYXhSZXN1bHQub2Jqcy5kdG9QYXJjZWxhc0NvbnRhc1BhZ2FyKSB7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZkdGlkOiBwYXJjZWxhc1tzXS50ZW1wbGF0ZWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaWRfc29mdGZpbl9wYXJjZWxhIjogYWpheFJlc3VsdC5vYmpzLmR0b1BhcmNlbGFzQ29udGFzUGFnYXJbc10uaWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXJjZWxhc1tzXS5JRA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYWpheFJlc3VsdC5vYmpzLmR0b1JhdGVpb1VuaWRhZGVzTmVnb2Npby5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBhamF4UmVzdWx0Lm9ianMuZHRvUmF0ZWlvVW5pZGFkZXNOZWdvY2lvKSB7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uZXJneV91cGRhdGVtYW55KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZkdGlkOiB1bmlkYWRlTmVnb2Npb1tzXS50ZW1wbGF0ZWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWQ6IGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzcmlkOiBkYXRhLm9uZXJneV9qc19jdHgudXNyaWQsDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVybEpzb25Db250ZXh0Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaWRfc29mdGZpbl9wYXJjZWxhIjogYWpheFJlc3VsdC5vYmpzLmR0b1JhdGVpb1VuaWRhZGVzTmVnb2Npb1tzXS5pZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHVuaWRhZGVOZWdvY2lvW3NdLklEDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmIChhamF4UmVzdWx0LnN0YXR1cyA9PSAnTk9LJykgew0KICAgICAgICAgICAgcmVzdWx0LkVSUk8gPSB0cnVlOw0KICAgICAgICAgICAgbGV0IG1zZyA9IFtdOw0KICAgICAgICAgICAgZm9yIChsZXQgcyBpbiBhamF4UmVzdWx0LmV4Y2VwdGlvbnMpIHsNCiAgICAgICAgICAgICAgICBtc2cucHVzaChgQ8OzZGlnbzogJHthamF4UmVzdWx0LmV4Y2VwdGlvbnNbc10uY29kaWdvfVxuYCk7DQogICAgICAgICAgICAgICAgbXNnLnB1c2goYERlc2NyacOnw6NvOiAke2FqYXhSZXN1bHQuZXhjZXB0aW9uc1tzXS5kZXNjcmljYW99YCk7DQogICAgICAgICAgICAgICAgbXNnLnB1c2goIis9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0rIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAobXNnLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICByZXN1bHQuTE9HID0gbXNnLmpvaW4oIiIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXN1bHQuTE9HID0gIkVycm8gc2VtIE1lbnNhZ2VtIGRlIFJldG9ybm8uIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlc3VsdC5FUlJPID0gdHJ1ZTsNCiAgICAgICAgICAgIHJlc3VsdC5MT0cgPSAiRXJybyBuw6NvIGlkZW50aWZpY2Fkby4iDQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICByZXN1bHQuRVJSTyA9IHRydWU7DQogICAgICAgIHJlc3VsdC5MT0cgPSAiU2VtIHJldG9ybm8uIg0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQphc3luYyBmdW5jdGlvbiBQZWdhVG9rZW4ob2JqKSB7DQogICAgbGV0IHVzckxvZ2luID0gInN1cG9ydGVAcHJlc3RleC5jb20uYnIiOw0KICAgIGxldCBwd2QgPSAiVGVzdEAxMjNhZG0iOw0KICAgIGxldCBzdHJSZXNwVG9rZW4gPSAiIjsNCg0KICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgdXJsOiBgaHR0cHM6Ly9hcGlpbnRlZ3JhY2Fvc29mdGZpbmhvbW9sb2dhY2FvLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9Mb2dpbj9Mb2dpblVzdWFyaW89JHt1c3JMb2dpbn0mU2VuaGE9JHtwd2R9YCwNCiAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgZGF0YTogIiIsDQogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgc3RyUmVzcFRva2VuID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LCAoZXJyb3IpID0+IHsNCiAgICAgICAgc3RyUmVzcFRva2VuID0gJycNCiAgICB9KTsNCiAgICByZXR1cm4gc3RyUmVzcFRva2VuOw0KICAgIC8qKg0KICAgICAgICBsZXQgdXNyTG9naW4gPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJ1c3VhcmlvX2FwaV9zb2Z0ZmluIik7DQogICAgICAgIGxldCBwd2QgPSBvbmVyZ3kuR2V0U3Vic2NyaXB0aW9uQ29uZmlnKCJzZW5oYV9hcGlfc29mdGZpbiIpOw0KICAgICAgICBsZXQgc3RyUmVzcFRva2VuID0gIiI7DQoNCiAgICAgICAgQWpheCh7DQogICAgICAgICAgICB1cmw6ICJodHRwczovL2FwaWludGVncmFjYW9zb2Z0ZmluaG9tb2xvZ2FjYW8uYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL0xvZ2luP0xvZ2luVXN1YXJpbz0iICsgdXNyTG9naW4gKyAiJlNlbmhhPSIgKyBwd2QsDQogICAgICAgICAgICBhc3NpZDogb2JqLmFzc2lkLA0KICAgICAgICAgICAgdXNyaWQ6IG9iai51c3JpZCwNCiAgICAgICAgICAgIGZlZGlkOiBvYmouZmVkaWQsDQogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICAgICAgYXN5bmM6IGZhbHNlLA0KICAgICAgICAgICAgZGF0YTogIiIsDQogICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwVG9rZW4gPSBkYXRhOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgZXhjZXB0aW9uKSB7DQogICAgICAgICAgICAgICAgc3RyUmVzcFRva2VuID0gZXhjZXB0aW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcFRva2VuKTsNCiAgICAqLw0KfQ0KDQphc3luYyBmdW5jdGlvbiBFZmV0dWFNZW5zYWdlcmlhKGRhdGEsIGRhdGFDYWxsLCB0b2tlbk9iaiwgVVJMLCBtZXRob2QpIHsNCiAgICBsZXQgcmV0b3JubzsNCiAgICBhd2FpdCBheGlvcyh7DQogICAgICAgIHVybDogVVJMLA0KICAgICAgICBtZXRob2Q6IG1ldGhvZCwNCiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRva2VuT2JqLnRva2VuIH0sDQogICAgICAgIGRhdGE6IGRhdGFDYWxsLA0KICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHJldG9ybm8gPSByZXNwb25zZS5kYXRhOw0KICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICByZXRvcm5vID0gJycNCiAgICB9KTsNCiAgICByZXR1cm4gcmV0b3JubzsNCg0KICAgIC8qDQogICAgICAgIGxldCBzdHJSZXNwQ1RlID0gIiI7DQogICAgICAgIGFqYXgoew0KICAgICAgICAgICAgdXJsOiBVUkwsDQogICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCwNCiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSwNCiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgICBhc3NpZDogZGF0YS5hc3NpZCwNCiAgICAgICAgICAgIHVzcmlkOiBkYXRhLnVzcmlkLA0KICAgICAgICAgICAgZmVkaWQ6IGRhdGEuZmVkaWQsDQogICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhQ2FsbCksDQogICAgICAgICAgICBhdXRob3JpemF0aW9uOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgdHlwZTogImJlYXJlciIsDQogICAgICAgICAgICAgICAgdmFsdWU6IHRva2VuT2JqLnRva2VuDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7DQogICAgICAgICAgICAgICAgc3RyUmVzcENUZSA9IGRhdGE7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCBleGNlcHRpb24pIHsNCiAgICAgICAgICAgICAgICBzdHJSZXNwQ1RlID0gZXhjZXB0aW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyUmVzcENUZSk7DQogICAgKi8NCn0NCg0KZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGEpIHsNCiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGEpOw0KICAgIGxldCBhbm8gPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgbGV0IG1lcyA9ICgoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAwKSk7DQogICAgbGV0IGRpYSA9IChkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIDApKTsNCiAgICByZXR1cm4gYCR7YW5vfS0ke21lc30tJHtkaWF9IDAwOjAwOjAwYDsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gcGFnYXJQYXJjZWxhcyhkYXRhKSB7DQoNCiAgICBsZXQgZmlsdHJvUGFyY2VsYXMgPSBnZXJhckZpbHRybygiSURfT05FX1JFRiIsIGRhdGEub25lcmd5X2pzX2N0eC5mZWRpZCk7DQogICAgcGFyY2VsYXMgPSBhd2FpdCBnZXRPbmVyZ3lJdGVtKHBhcmNlbGFzSUQsIGRhdGEub25lcmd5X2pzX2N0eC5hc3NpZCwgZGF0YS5vbmVyZ3lfanNfY3R4LnVzcmlkLCBmaWx0cm9QYXJjZWxhcyk7DQoNCiAgICBmb3IgKGxldCBzIGluIHBhcmNlbGFzKSB7DQogICAgICAgIGlmIChwYXJjZWxhc1tzXS5VcmxKc29uQ29udGV4dC5pZF9zb2Z0ZmluX3BhcmNlbGEpIHsNCiAgICAgICAgICAgIGxldCBwb3N0SW5mbyA9IHsNCiAgICAgICAgICAgICAgICAiaWRFc3RhYmVsZWNpbWVudG8iOiBlc3RhYmVsZWNpbWVudG9bMF0uVXJsSnNvbkNvbnRleHQuaWRfZXN0YWJlbGVjaW1lbnRvX3NmLA0KICAgICAgICAgICAgICAgICJpZFBhcmNlbGEiOiBwYXJjZWxhc1swXS5VcmxKc29uQ29udGV4dC5pZF9zb2Z0ZmluX3BhcmNlbGEsDQogICAgICAgICAgICAgICAgImRhdGFQYWdhbWVudG8iOiBkYXRlVG9TdHJpbmcocGFyY2VsYXNbMF0uVXJsSnNvbkNvbnRleHQuZGF0YV9wYWdfcHJldl9nZSkuc3Vic3RyaW5nKDAsIDEwKSwNCiAgICAgICAgICAgICAgICAidmFsb3JQYWdhbWVudG8iOiBwYXJjZWxhc1swXS5VcmxKc29uQ29udGV4dC52YWxvcl9nZSwNCiAgICAgICAgICAgICAgICAidmFsb3JBZGlhbnRhbWVudG8iOiAwLA0KICAgICAgICAgICAgICAgICJ2YWxvck11bHRhIjogMCwNCiAgICAgICAgICAgICAgICAidmFsb3JKdXJvcyI6IDAsDQogICAgICAgICAgICAgICAgInZhbG9yRGVzY29udG8iOiAwLA0KICAgICAgICAgICAgICAgICJoaXN0b3JpY28iOiAiUGFnYW1lbnRvIFBhcmNlbGEgw5puaWNhLiIsDQogICAgICAgICAgICAgICAgImlkQmFuY28iOiBiYW5jb1swXS5VcmxKc29uQ29udGV4dC5pZF9zb2Z0X2Zpbg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsZXQgdG9rZW4gPSBhd2FpdCBQZWdhVG9rZW4oZGF0YSk7DQogICAgICAgICAgICBsZXQgYWpheFJlc3VsdCA9IGF3YWl0IEVmZXR1YU1lbnNhZ2VyaWEoZGF0YSwgcG9zdEluZm8sIHRva2VuLCAiaHR0cHM6Ly9zb2Z0ZmluYXBpaG9tb2xvZ2FjYW8uYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL1BhZ2FtZW50b3MvSW5jbHVpclBhZ2FtZW50byIsICJQT1NUIik7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLy9UT0RPIERBVEENCnZhciBqc29uSW5wdXQgPSB7DQogICAgIkVYRUNVVEFSIjogdHJ1ZSwNCiAgICAiUEFHTyI6IGZhbHNlLA0KICAgICJUSVBET0NkZXNjcmljYW9fX3RpcG9fZG9jdW1lbnRvIjogIkJvbGV0byIsDQogICAgIlRJUERPQ3RpcG9fZG9jdW1lbnRvX2lkIjogIjVjNGE2MmI5LTI1MDMtNzZmOS03YzVjLWU2NmQ4MzU3NDk3NSIsDQogICAgIkxFU1RBU0Z1bmlkYWRlX2RlX2VtaXNzYW9faWQiOiAiMjFjZGViNTAtZGNjYS00YjQ0LTllZDctMGUzMzc4MTM3N2FhIiwNCiAgICAiTEVTVEFTRm5vbWVfZXN0YWJlbGVjaW1lbm90X191bmlkYWRlX2RlX2VtaXNzYW8iOiAiUHJlc3RleCBDYXhpYXMiLA0KICAgICJDQVREY2F0ZWdvcmlhX19jYXRlZ29yaWFfZGVfZGVzcGVzYSI6ICJUcmFuc3BvcnRlcy9GcmV0ZXMiLA0KICAgICJDQVREY2F0ZWdvcmlhX2RlX2Rlc3Blc2FfaWQiOiAiM2IyOTNmYzQtMjhhOC0yMjYwLTRiODctZTYxYTAwYzE4NjRjIiwNCiAgICAiQ0FURGRlc2NyaWNhb19fY2F0ZWdvcmlhX2RlX2Rlc3Blc2EiOiAiVHJhbnNwb3J0ZXMvRnJldGVzIiwNCiAgICAiY29kaWdvX2RlX2JhcnJhcyI6ICIiLA0KICAgICJmb3JuZWNlZG9yIjogIjA0MDY3NzUzMDAwMTc1IiwNCiAgICAiZGFkb3NfYmFuY28iOiAiIiwNCiAgICAibnVtZXJvX2RvY3VtZW50b19maXNjYWwiOiAiMjI1NDciLA0KICAgICJkYXRhX2xhbmNhbWVudG8iOiAiMTcvMDYvMjAyMiAxMjo0NTozNCIsDQogICAgImRhdGFfbGFuY2FtZW50b0RhdGUiOiAiMTcvMDYvMjAyMiAxMjo0NTozNCIsDQogICAgImRhdGFfY29tcGV0ZW5jaWEiOiAiMTcvMDYvMjAyMiAxMjo0NTozNCIsDQogICAgImRpYV9maXhvX3BhcmFfdmVuY2ltZW50b3MiOiAiIiwNCiAgICAiZGF0YV9kb2N1bWVudG8iOiAiMTcvMDYvMjAyMiAxMjo0NTozNCIsDQogICAgImRpYV9kYV9zZW1hbmFfZml4b192ZW5jaW1lbnRvcyI6ICIiLA0KICAgICJkaWFfZGFfc2VtYW5hX2ZpeG9fdmVuY2ltZW50b3NfZGVzYyI6ICIiLA0KICAgICJwZWRpZG9fY29tcHJhIjogIjI1NDciLA0KICAgICJ0aXBvX2xhbmNhbWVudG8iOiAiMSIsDQogICAgInRpcG9fbGFuY2FtZW50b19kZXNjIjogIlJlYWwiLA0KICAgICJyZWZlcmVuY2lhX2V4dGVybmEiOiAiTURGRToyNTQ3IC0gQ0lPVDoxNjQwMDAwNDA1MzMvNDY5MyIsDQogICAgIkNCQU5DYmFuY29jb250YV9pZCI6ICIxYjBlODA0Yy00Yzc2LTIyNDItMDIwZC0xZDBmZWRhMzg0OGUiLA0KICAgICJDQkFOQ25vbWVfYmFuY29fX2JhbmNvY29udGEiOiAiSXRhw7oiLA0KICAgICJDQkFOQyI6ICIiLA0KICAgICJ2YWxvcl9icnV0byI6IDEwNDYuNjksDQogICAgInZhbG9yX2xpcXVpZG8iOiAxMDQ2LjY5LA0KICAgICJ2YWxvcl9pbnNzIjogMCwNCiAgICAidmFsb3JfaXJyZiI6IDAsDQogICAgIm9uZVRlbXBsYXRlVGl0bGUiOiAiRXJybyBDb250YXMgYSBQYWdhciIsDQogICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICJmZHRpZCI6ICIxZTVlYmNkNC04YTgzLTRmZjItOGNiMi1lNjhmYmNkMTRhOTAiLA0KICAgICJmZWRpZCI6ICI0OTRlY2EyYi04NTMzLTQzYzQtYWY0ZC01ZGQyYzVmZjViZmEiLA0KICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAidGltZXpvbmUiOiBudWxsLA0KICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KICAgICJFUlJPIjogdHJ1ZSwNCiAgICAiTE9HIjogIkVycm8gbsOjbyBpZGVudGlmaWNhZG8uIiwNCiAgICAib25lcmd5X2pzX2N0eCI6IHsNCiAgICAgICAgImFzc2lkIjogIjBhYWMwMTQ4LTBlN2QtNGFiYy1hMDc3LTZhMzBhOWUwZjNlNSIsDQogICAgICAgICJmZWRpZCI6ICI0OTRlY2EyYi04NTMzLTQzYzQtYWY0ZC01ZGQyYzVmZjViZmEiLA0KICAgICAgICAiZmR0aWQiOiAiMWU1ZWJjZDQtOGE4My00ZmYyLThjYjItZTY4ZmJjZDE0YTkwIiwNCiAgICAgICAgInVzcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJpbnNlcnREdCI6ICIyMDIyLTA2LTE3IDE1OjQ1OjM0LjcxNSIsDQogICAgICAgICJ1cGRhdGVEdCI6ICIyMDIyLTA2LTE3IDE1OjQ1OjQyLjQ2NiIsDQogICAgICAgICJjdXJfdXNlcmlkIjogIjg3MzdiZWJlLTAxYTQtNDQ5My1hOGRiLTQzMzZlYjU1YjViMyIsDQogICAgICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KICAgICAgICAidXNlcl9uYW1lIjogImRlc2VudkBwcmVzdGV4LmNvbS5iciIsDQogICAgICAgICJvbmVyZ3lfcm9saWQiOiAiIiwNCiAgICAgICAgInByYWlkIjogIjM0YzM5YWY1LTA1YzgtNDhlNC04Yjg1LTM0MTUwM2EzNWJlMCIsDQogICAgICAgICJwY3ZpZCI6ICJmMzgxMDEyMS04ZDczLTQ4ZTUtOWY5Zi02ZjlkZjBmMGFmNGEiLA0KICAgICAgICAicHJjaWQiOiAiMjMyZmZmMTctYmYzMC04NzEwLTA2YzItYmM2YzRjYzJlZDcxIiwNCiAgICAgICAgInRpbWV6b25lIjogbnVsbCwNCiAgICAgICAgInRpbWV6b25lX3ZhbHVlIjogIi0wMzowMCIsDQogICAgICAgICJwdWJOdWJIb29rIjogbnVsbA0KICAgIH0NCn0NCg0KLy8ganNvbklucHV0Lm9uZXJneV9qc19jdHggPSB7DQovLyAgICAgImFzc19pZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KLy8gICAgICJhc3NpZCI6ICIwYWFjMDE0OC0wZTdkLTRhYmMtYTA3Ny02YTMwYTllMGYzZTUiLA0KLy8gICAgICJlbWFpbCI6ICJkZXNlbnZAcHJlc3RleC5jb20uYnIiLA0KLy8gICAgICJmZHRpZCI6ICJjMGUyODFmYy02MmRmLTQxMjMtOGI4ZC1hMGRjOTU5ZTg3NzYiLA0KLy8gICAgICJ1c3JpZCI6ICI4NzM3YmViZS0wMWE0LTQ0OTMtYThkYi00MzM2ZWI1NWI1YjMiLA0KLy8gICAgICJmZWRpZCI6ICI3NWZlODIxYS04ZTgwLTRjYTYtOGVmNi04YWY3N2NhMTY3MGYiLA0KLy8gfQ0KDQppbml0KEpTT04uc3RyaW5naWZ5KGpzb25JbnB1dCkpOw==" }]

export { ListdxComponentValue, IdxComponentValue, TESTE_AAA }

